{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap da4d472224d1d00b1bb3","webpack:///../intl/redux/action-types.js","webpack:///../intl/redux/reducers.js","webpack:///./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js","webpack:///./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js?58f7","webpack:///../node_modules/rangy/lib/rangy-core.js","webpack:///../node_modules/react-transition-group/TransitionGroup.js","webpack:///../node_modules/react-transition-group/utils/ChildMapping.js","webpack:///../server/config.js","webpack:///./account/redux/action-creators/async-add-user.js","webpack:///./account/redux/action-creators/async-retrieve-password.js","webpack:///./account/redux/action-creators/async-update-user.js","webpack:///./account/redux/action-creators/create-action.js","webpack:///./account/redux/action-creators/index.js","webpack:///./account/redux/action-creators/load.js","webpack:///./account/redux/action-creators/login.js","webpack:///./account/redux/action-creators/logout.js","webpack:///./account/redux/action-types.js","webpack:///./account/redux/reducers.js","webpack:///./account/redux/selectors.js","webpack:///./community/action-types.js","webpack:///./community/paths.js","webpack:///./community/reducers/communities.js","webpack:///./community/reducers/dns-hosted-zones.js","webpack:///./community/reducers/dns-records.js","webpack:///./community/reducers/index.js","webpack:///./components/await/index.js","webpack:///./components/await/loading.js","webpack:///./components/await/progress.js","webpack:///./components/await/redux/action-types.js","webpack:///./components/await/redux/reducers.js","webpack:///./components/color-picker/actions.js","webpack:///./components/color-picker/index.js","webpack:///./components/color-picker/reducers.js","webpack:///./components/color-picker/themes.js","webpack:///./components/dev-tools/index.js","webpack:///./components/dropdown-menu/dropdown-menu-item.js","webpack:///./components/dropdown-menu/dropdown-menu.js","webpack:///./components/dropdown-menu/index.js","webpack:///./components/editor-draft-js/Toolbar/AlignmentControls/getBlockAlignment.js","webpack:///./components/editor-draft-js/Toolbar/AlignmentControls/index.js","webpack:///./components/editor-draft-js/Toolbar/AlignmentControls/styleWholeSelectedBlocksModifier.js","webpack:///./components/editor-draft-js/Toolbar/ColorControls/ColorPickerButton.js","webpack:///./components/editor-draft-js/Toolbar/ColorControls/index.js","webpack:///./components/editor-draft-js/Toolbar/EditorUtils.js","webpack:///./components/editor-draft-js/Toolbar/FontControls/SelectFontFamily.js","webpack:///./components/editor-draft-js/Toolbar/FontControls/index.js","webpack:///./components/editor-draft-js/Toolbar/FontControls/styles.scss","webpack:///./components/editor-draft-js/Toolbar/HistoryControls/index.js","webpack:///./components/editor-draft-js/Toolbar/LinkControls/Link.js","webpack:///./components/editor-draft-js/Toolbar/LinkControls/index.js","webpack:///./components/editor-draft-js/Toolbar/LinkControls/linkStrategy.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/InsertImageButton.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/InsertScriptButton.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/Media.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/index.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/styles.scss","webpack:///./components/editor-draft-js/Toolbar/getSelectionEntities.js","webpack:///./components/editor-draft-js/Toolbar/index.js","webpack:///./components/editor-draft-js/Toolbar/styles.scss","webpack:///./components/editor-draft-js/Toolbar/themes.js","webpack:///./components/editor-draft-js/create-editor-content.js","webpack:///./components/editor-draft-js/index.js","webpack:///./components/editor-draft-js/styles.scss","webpack:///./components/editor-wysihtml/index.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar-color-picker.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar-color-picker.scss","webpack:///./components/editor-wysihtml/wysihtml-toolbar-create-link.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar-insert-html.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar-insert-image.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar.js","webpack:///./components/external-services/index.js","webpack:///./components/external-services/pagarme.js","webpack:///./components/external-services/zendesk-widget.js","webpack:///./components/filterable-search-bar/actions.js","webpack:///./components/filterable-search-bar/reducers.js","webpack:///./components/form-util/error.js","webpack:///./components/form-util/index.js","webpack:///./components/form-util/input-counter.js","webpack:///./components/form-util/input.js","webpack:///./components/forms/button.js","webpack:///./components/forms/clone-element.js","webpack:///./components/forms/color-picker.js","webpack:///./components/forms/control-buttons.js","webpack:///./components/forms/control-label.js","webpack:///./components/forms/form-control.js","webpack:///./components/forms/form-dropdown.js","webpack:///./components/forms/form-error.js","webpack:///./components/forms/form-group.js","webpack:///./components/forms/form-redux/index.js","webpack:///./components/forms/form-redux/index.scss","webpack:///./components/forms/form.js","webpack:///./components/forms/help-block.js","webpack:///./components/forms/index.js","webpack:///./components/forms/input.js","webpack:///./components/forms/radio-group.js","webpack:///./components/forms/radio.js","webpack:///./components/forms/raise.js","webpack:///./components/forms/success-message.js","webpack:///./components/forms/upload-image-field.js","webpack:///./components/layout/background/index.js","webpack:///./components/layout/background/index.scss","webpack:///./components/layout/index.js","webpack:///./components/layout/page-centralized-layout/index.js","webpack:///./components/layout/page-centralized-layout/page.js","webpack:///./components/layout/page-centralized-layout/page.scss","webpack:///./components/layout/page-centralized-layout/title.js","webpack:///./components/layout/settings-page-content-layout.js","webpack:///./components/layout/settings-page-layout.js","webpack:///./components/layout/settings-page-menu-layout.js","webpack:///./components/navigation/navbar/index.js","webpack:///./components/navigation/navbar/navbar-button.js","webpack:///./components/navigation/navbar/navbar-edition-wrapper.js","webpack:///./components/navigation/navbar/navbar-form.js","webpack:///./components/navigation/sidenav/logo-icon-no-border.js","webpack:///./components/navigation/tabs/index.js","webpack:///./components/navigation/tabs/tab-border.js","webpack:///./components/navigation/tabs/tab-border.scss","webpack:///./components/navigation/tabs/tab.js","webpack:///./components/navigation/tabs/tab.scss","webpack:///./components/navigation/tabs/tabs.js","webpack:///./components/navigation/tabs/tabs.scss","webpack:///./components/selectable-list/actions.js","webpack:///./components/selectable-list/reducers.js","webpack:///./components/share/check-mark-image.png","webpack:///./components/share/facebook-share-button.js","webpack:///./components/share/index.js","webpack:///./components/share/tell-a-friend.connected.js","webpack:///./components/share/tell-a-friend.js","webpack:///./components/share/twitter-share-button.js","webpack:///./components/share/whatsapp-share-button.js","webpack:///./createReducer.js","webpack:///./graphql/mutations/add-twilio-call.js","webpack:///./graphql/mutations/add-twilio-configuration.js","webpack:///./graphql/mutations/index.js","webpack:///./graphql/mutations/update-twilio-configuration.js","webpack:///./graphql/queries/count-twilio-calls-by-widget.js","webpack:///./graphql/queries/fetch-donation-goal-stats.js","webpack:///./graphql/queries/fetch-facebook-bot-activists-strategy.js","webpack:///./graphql/queries/fetch-facebook-bot-campaigns-by-community-id.js","webpack:///./graphql/queries/fetch-twilio-configuration.js","webpack:///./graphql/queries/index.js","webpack:///./graphql/queries/watch-twilio-call-transitions.js","webpack:///./images/bg-login.png","webpack:///./mobilizations/blocks/paths.js","webpack:///./mobilizations/paths.js","webpack:///./mobilizations/templates/action-types.js","webpack:///./mobilizations/templates/paths.js","webpack:///./mobilizations/templates/reducers/index.js","webpack:///./mobilizations/templates/reducers/list.js","webpack:///./mobilizations/widgets/__plugins__/content/action-creators/create-action.js","webpack:///./mobilizations/widgets/__plugins__/content/action-creators/index.js","webpack:///./mobilizations/widgets/__plugins__/content/action-creators/set-editor-link-target-type.js","webpack:///./mobilizations/widgets/__plugins__/content/action-types.js","webpack:///./mobilizations/widgets/__plugins__/content/components/__content__.js","webpack:///./mobilizations/widgets/__plugins__/content/components/action-button.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-new.connected.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-new/index.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-new/index.scss","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-old.connected.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-old.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-slate/index.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-slate/index.scss","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-slate/styles.js","webpack:///./mobilizations/widgets/__plugins__/content/components/footer-editor.js","webpack:///./mobilizations/widgets/__plugins__/content/components/index.js","webpack:///./mobilizations/widgets/__plugins__/content/components/layer.js","webpack:///./mobilizations/widgets/__plugins__/content/reducers.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-creators/async-donation-transaction-create.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-creators/create-action.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-creators/index.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-creators/set-donation-customer-data.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-types.js","webpack:///./mobilizations/widgets/__plugins__/donation/components/__donation__.connected.js","webpack:///./mobilizations/widgets/__plugins__/donation/components/donation-tell-a-friend.js","webpack:///./mobilizations/widgets/__plugins__/donation/components/index.js","webpack:///./mobilizations/widgets/__plugins__/donation/components/settings-menu.js","webpack:///./mobilizations/widgets/__plugins__/donation/paths.js","webpack:///./mobilizations/widgets/__plugins__/donation/reducers.js","webpack:///./mobilizations/widgets/__plugins__/form/components/__form__.connected.js","webpack:///./mobilizations/widgets/__plugins__/form/components/__form__.js","webpack:///./mobilizations/widgets/__plugins__/form/components/button.js","webpack:///./mobilizations/widgets/__plugins__/form/components/form-tell-a-friend.js","webpack:///./mobilizations/widgets/__plugins__/form/components/index.js","webpack:///./mobilizations/widgets/__plugins__/form/components/input-form.js","webpack:///./mobilizations/widgets/__plugins__/form/components/input.js","webpack:///./mobilizations/widgets/__plugins__/form/components/settings-menu.js","webpack:///./mobilizations/widgets/__plugins__/form/paths.js","webpack:///./mobilizations/widgets/__plugins__/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/action-creators/async-fill-widget.js","webpack:///./mobilizations/widgets/__plugins__/pressure/action-creators/create-action.js","webpack:///./mobilizations/widgets/__plugins__/pressure/action-creators/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/action-types.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/__pressure__.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-count.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.scss","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-form/phone-calls.scss","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-tell-a-friend.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/settings-base.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/settings-menu.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/target-list/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/target-list/index.scss","webpack:///./mobilizations/widgets/__plugins__/pressure/paths.js","webpack:///./mobilizations/widgets/__plugins__/pressure/reducers.js","webpack:///./mobilizations/widgets/__plugins__/reducers.js","webpack:///./mobilizations/widgets/components/block-tag.js","webpack:///./mobilizations/widgets/components/block-tag.scss","webpack:///./mobilizations/widgets/components/data-export.js","webpack:///./mobilizations/widgets/components/finish-message-custom.js","webpack:///./mobilizations/widgets/components/form-autofire.js","webpack:///./mobilizations/widgets/components/form-finish-message/index-scss.js","webpack:///./mobilizations/widgets/components/form-finish-message/index.js","webpack:///./mobilizations/widgets/components/index.js","webpack:///./mobilizations/widgets/components/input-tag.js","webpack:///./mobilizations/widgets/components/input-tag.scss","webpack:///./mobilizations/widgets/components/tag.js","webpack:///./mobilizations/widgets/components/tag.scss","webpack:///./mobilizations/widgets/components/widget-overlay/index.js","webpack:///./mobilizations/widgets/components/widget-overlay/index.scss","webpack:///./mobilizations/widgets/paths.js","webpack:///./mobilizations/widgets/utils/analytics-events.js","webpack:///./mobilizations/widgets/utils/pressure-helper.js","webpack:///./mobrender-v2/widgets/donation/donation.scss","webpack:///./mobrender-v2/widgets/donation/factory-donation.js","webpack:///./mobrender-v2/widgets/donation/index.js","webpack:///./mobrender-v2/widgets/donation/progress.js","webpack:///./mobrender-v2/widgets/donation/progress.scss","webpack:///./mobrender/components/add-new-block.scss","webpack:///./mobrender/components/block-change-background.connected.js","webpack:///./mobrender/components/block-change-background.js","webpack:///./mobrender/components/block-config-menu.connected.js","webpack:///./mobrender/components/block-config-menu.js","webpack:///./mobrender/components/block.connected.js","webpack:///./mobrender/components/block.js","webpack:///./mobrender/components/file-uploader.js","webpack:///./mobrender/components/index.js","webpack:///./mobrender/components/mobilization.connected.js","webpack:///./mobrender/components/mobilization.js","webpack:///./mobrender/components/navbar/index.js","webpack:///./mobrender/components/navbar/menu-items.js","webpack:///./mobrender/components/navbar/navbar.js","webpack:///./mobrender/components/widget-overlay.connected.js","webpack:///./mobrender/components/widget-overlay.js","webpack:///./mobrender/components/widget.connected.js","webpack:///./mobrender/components/widget.js","webpack:///./mobrender/redux/action-creators/async-add-block.js","webpack:///./mobrender/redux/action-creators/async-add-mobilization.js","webpack:///./mobrender/redux/action-creators/async-destroy-block.js","webpack:///./mobrender/redux/action-creators/async-fetch-blocks.js","webpack:///./mobrender/redux/action-creators/async-fetch-mobilizations.js","webpack:///./mobrender/redux/action-creators/async-fetch-widgets.js","webpack:///./mobrender/redux/action-creators/async-filter-block.js","webpack:///./mobrender/redux/action-creators/async-filter-mobilization.js","webpack:///./mobrender/redux/action-creators/async-filter-widget.js","webpack:///./mobrender/redux/action-creators/async-form-entry-create.js","webpack:///./mobrender/redux/action-creators/async-move-down.js","webpack:///./mobrender/redux/action-creators/async-move-up.js","webpack:///./mobrender/redux/action-creators/async-update-block.js","webpack:///./mobrender/redux/action-creators/async-update-mobilization.js","webpack:///./mobrender/redux/action-creators/async-update-widget.js","webpack:///./mobrender/redux/action-creators/async-widget-data-export.js","webpack:///./mobrender/redux/action-creators/create-action.js","webpack:///./mobrender/redux/action-creators/data-export-mount.js","webpack:///./mobrender/redux/action-creators/handle-cancel-edit.js","webpack:///./mobrender/redux/action-creators/handle-change-background.js","webpack:///./mobrender/redux/action-creators/handle-edit.js","webpack:///./mobrender/redux/action-creators/handle-mouse-out.js","webpack:///./mobrender/redux/action-creators/handle-mouse-over.js","webpack:///./mobrender/redux/action-creators/handle-upload-file.js","webpack:///./mobrender/redux/action-creators/index.js","webpack:///./mobrender/redux/action-creators/select-mobilization.js","webpack:///./mobrender/redux/action-creators/select-widget.js","webpack:///./mobrender/redux/action-creators/set-widget-list.js","webpack:///./mobrender/redux/action-creators/toggle-mobilization-menu.js","webpack:///./mobrender/redux/action-types.js","webpack:///./mobrender/redux/index.js","webpack:///./mobrender/redux/reducers/blocks.js","webpack:///./mobrender/redux/reducers/data-export.js","webpack:///./mobrender/redux/reducers/edition.js","webpack:///./mobrender/redux/reducers/hover.js","webpack:///./mobrender/redux/reducers/index.js","webpack:///./mobrender/redux/reducers/mobilizations.js","webpack:///./mobrender/redux/reducers/uploader.js","webpack:///./mobrender/redux/reducers/widgets.js","webpack:///./mobrender/redux/selectors.js","webpack:///./mobrender/widgets/config.js","webpack:///./mobrender/widgets/draft/components/draft-button.js","webpack:///./mobrender/widgets/draft/components/draft-button.scss","webpack:///./mobrender/widgets/draft/components/draft.js","webpack:///./mobrender/widgets/draft/components/draft.scss","webpack:///./mobrender/widgets/draft/components/index.js","webpack:///./mobrender/widgets/icons/index.js","webpack:///./mobrender/widgets/icons/pressure-email.js","webpack:///./mobrender/widgets/icons/pressure-phone.js","webpack:///./paths.js","webpack:///./store.js","webpack:///./styles/main.scss","webpack:///./subscriptions/forms/credit-card-form.js","webpack:///./subscriptions/forms/recurring-form.js","webpack:///./subscriptions/redux/action-types.js","webpack:///./subscriptions/redux/reducers/edit.js","webpack:///./subscriptions/redux/reducers/index.js","webpack:///./utils/array.js","webpack:///./utils/browser/os.js","webpack:///./utils/format-number-helper.js","webpack:///./utils/notifications.js","webpack:///./utils/redux-form/normalizers/creditcard.js","webpack:///./utils/redux-form/normalizers/date/ddmmyyyy.js","webpack:///./utils/redux-form/normalizers/date/index.js","webpack:///./utils/redux-form/normalizers/date/mmyy.js","webpack:///./utils/redux-form/normalizers/documents.js","webpack:///./utils/redux-form/normalizers/index.js","webpack:///./utils/redux-form/normalizers/number.js","webpack:///./utils/redux-form/normalizers/string.js","webpack:///./utils/redux-form/validators/abstract-validate.js","webpack:///./utils/redux-form/validators/index.js","webpack:///./utils/redux/create-action.js","webpack:///./utils/redux/index.js","webpack:///./utils/validation-helper.js","webpack:///./ux/components/button/index.js","webpack:///./ux/components/button/styles.scss","webpack:///./ux/components/dialog/index.js","webpack:///./ux/components/dialog/styles.scss","webpack:///./ux/components/div-float/index.js","webpack:///./ux/components/div-float/styles.scss","webpack:///./ux/components/flat-form/button.scss","webpack:///./ux/components/flat-form/flat-form.scss","webpack:///./ux/components/flat-form/index.js","webpack:///./ux/components/index.js","webpack:///./ux/components/settings-form/index.js","webpack:///external \"axios\"","webpack:///external \"classnames\"","webpack:///external \"downloadjs\"","webpack:///external \"draft-js\"","webpack:///external \"exenv\"","webpack:///external \"format-number\"","webpack:///external \"immutable\"","webpack:///external \"jquery\"","webpack:///external \"keycode\"","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///external \"react-apollo\"","webpack:///external \"react-color\"","webpack:///external \"react-cookie\"","webpack:///external \"react-countup\"","webpack:///external \"react-dom\"","webpack:///external \"react-ga\"","webpack:///external \"react-intl\"","webpack:///external \"react-lifecycles-compat\"","webpack:///external \"react-redux\"","webpack:///external \"react-router\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-s3-uploader\"","webpack:///external \"reapop\"","webpack:///external \"redux\"","webpack:///external \"redux-devtools\"","webpack:///external \"redux-devtools-dock-monitor\"","webpack:///external \"redux-devtools-log-monitor\"","webpack:///external \"redux-form\"","webpack:///external \"redux-promise\"","webpack:///external \"redux-thunk\"","webpack:///external \"slate-editor\"","webpack:///external \"slate-plain-serializer\"","webpack:///external \"tinycolor2\""],"names":["t","type","SET_CURRENT_LOCALE","initialState","currentLocale","defaultLocale","locales","messages","reducer","state","action","payload","dispatch","getState","api","ADD_USER_REQUEST","post","user","then","res","status","data","errors","Promise","reject","ADD_USER_SUCCESS","resolve","catch","ADD_USER_FAILURE","ex","intl","endpoint","body","ASYNC_RETRIEVE_PASSWORD_REQUEST","ASYNC_RETRIEVE_PASSWORD_SUCCESS","ASYNC_RETRIEVE_PASSWORD_FAILURE","id","headers","getCredentials","UPDATE_USER_REQUEST","put","UPDATE_USER_SUCCESS","firstName","first_name","lastName","last_name","email","avatar","avatar_url","UPDATE_USER_FAILURE","createAction","default","LOAD_SUCCESS","password","auth","LOGIN_REQUEST","credentials","LOGIN_SUCCESS","errorMessage","formatMessage","defaultMessage","LOGIN_FAILURE","Error","failure","window","localStorage","removeItem","LOGOUT_SUCCESS","LOGOUT_REQUEST","LOGOUT_FAILURE","isLoaded","isLoading","saving","undefined","error","save","getUser","getError","FETCH","FETCH_SUCCESS","FETCH_FAIL","ADD","EDIT","SELECT","UNSET","FETCH_DNS_HOSTED_ZONES_REQUEST","FETCH_DNS_HOSTED_ZONES_SUCCESS","FETCH_DNS_HOSTED_ZONES_FAILURE","ADD_DNS_HOSTED_ZONE_REQUEST","ADD_DNS_HOSTED_ZONE_SUCCESS","ADD_DNS_HOSTED_ZONE_FAILURE","FETCH_DNS_RECORDS_REQUEST","FETCH_DNS_RECORDS_SUCCESS","FETCH_DNS_RECORDS_FAILURE","DELETE_DNS_HOSTED_ZONE_REQUEST","DELETE_DNS_HOSTED_ZONE_SUCCESS","DELETE_DNS_HOSTED_ZONE_FAILURE","ADD_DNS_RECORD_REQUEST","ADD_DNS_RECORD_SUCCESS","ADD_DNS_RECORD_FAILURE","DELETE_DNS_RECORD_REQUEST","DELETE_DNS_RECORD_SUCCESS","DELETE_DNS_RECORD_FAILURE","CHECK_DNS_HOSTED_ZONE_REQUEST","CHECK_DNS_HOSTED_ZONE_SUCCESS","CHECK_DNS_HOSTED_ZONE_FAILURE","ASYNC_INVITE_REQUEST","ASYNC_INVITE_SUCCESS","ASYNC_INVITE_FAILURE","SET_FORCED_SUBMIT","namespace","communityAdd","communityDomain","communityDomainCreate","next","communityDomainEdit","domain","communityInfo","communityInvite","communityList","communityMailchimp","communityRecipient","communityReport","communityTwilio","authT","loading","currentId","forcedSubmit","community","hydrateState","list","setItem","JSON","stringify","map","c","fetching","d","filter","dnsHostedZones","dnsRecords","Loading","localized","backgroundColor","loaderColor","className","absolute","fixed","color","defaultProps","Progress","style","percent","width","SET_LOADING","SET_SELECTED_COLOR","setSelectedColor","ColorPickerActions","ColorPicker","theme","showColorPicker","onChangeColor","selectedColor","hasTheme","colorStrategy","mapStateToProps","colorPicker","loaded","ColorPickerReducer","meurio","meurecife","minhablumenau","minhacampinas","minhacuritiba","minhagaropaba","minhaouropreto","minhaportoalegre","minhasampa","nossascidades","nuestrasciudades","ourcities","DevTools","DropdownMenuItem","handleClick","props","onClick","disabled","event","preventDefault","onItemClick","href","children","DropdownMenu","context","open","setState","icon","handleOverlayClick","child","index","cloneElement","key","wrapperClassName","buttonClassName","menuClassName","menuStyle","text","marginTop","renderIcon","length","renderChildren","renderOverlay","Component","block","findStyleRanges","e","hasStyle","alignments","AlignmentControls","alignment","editorState","setEditorState","editorStateWithAlignment","align","focusEditor","selectionState","getSelection","getCurrentContent","getBlockForKey","getStartKey","alignmentStyle","hasAlignmentStyle","handleToggleAlign","removeStyles","currentContent","selection","focusBlock","getFocusKey","anchorBlock","getAnchorKey","selectionIsBackward","getIsBackward","changes","anchorOffset","focusOffset","getLength","selectWholeBlocks","merge","modifiedContent","applyInlineStyle","finalContent","reduce","content","removeInlineStyle","push","ColorPickerButton","nextProps","rgb","presetColors","colorPickerProps","onChangeComplete","handleChange","bind","toggleColorPicker","handleChangeColor","ColorControls","currentStyle","getCurrentInlineStyle","value","startsWith","last","replace","trim","targetSelection","isCollapsed","editorStateWithColor","toggleInlineStyle","r","g","b","a","size","hasColorStyle","customStyleFn","output","getEntitySelectionState","entityType","endOffset","getEndOffset","entitySelectionState","findEntityRanges","entityKey","character","getEntity","get","getType","start","end","isSelected","getSelectedBlocks","contentState","anchorKey","focusKey","getEndKey","isSameBlock","startingBlock","selectedBlocks","blockKey","nextBlock","getBlockAfter","getKey","getBlockSelectionState","contentBlock","startOffset","getStartOffset","getText","createEmpty","inlineStyle","indexOf","contentWithoutStyle","prefix","split","styles","forEach","toggleLink","editorStateMutable","arrayBlocks","entity","getEntityAt","mergeData","blockSelectionState","create","selectionEntity","getEntityInstance","fonts","SelectFontFamily","font","require","canUseDOM","FontControls","initialValue","hasChangeInlineStyle","fontSize","fontFamily","target","editorStateWithFontSize","editorStateWithFontFamily","handleChangeSize","handleMouseOut","handleChangeFont","HistoryControls","getUndoStack","isEmpty","undo","getRedoStack","redo","handleUndoClick","handleRedoClick","Link","getData","getSelectionLink","LinkControls","showInput","entityLink","nextEntityLink","entityInstance","hasLink","checked","popoverClassName","handleToggleInput","confirmLink","handleChangeTarget","cursor","lineHeight","removeLink","decorator","strategy","component","callback","InsertImageButton","showInsertDialog","image","handleUploadFinish","imgUrl","signedUrl","substring","findDOMNode","inputFile","click","handleOpenDialog","process","env","API_URL","handleUploadProgress","handleUploadError","input","position","visibility","InsertScriptButton","showInputDialog","script","handleInsertScript","getTagName","Media","mediaProps","toLowerCase","media","__html","src","MediaControls","mediaType","source","editorStateWithMedia","insertAtomicBlock","handleInsertMedia","blockRendererFn","getSelectionEntities","selectionEntitySet","add","Toolbar","blockType","toggleBlockType","controlsProps","hasInlineStyle","hasBlockType","toolbarEditorProps","createFromText","rawContentState","RebooEditor","createFromBlockArray","createWithContent","hasFocus","setTimeout","refs","editor","focus","command","currentBlock","contentBlockMap","currentBlockMap","getBlockMap","skipCurrent","beforeBlocks","toSeq","takeUntil","afterBlocks","skipUntil","rest","blockMap","getAnchorOffset","getFocusOffset","concat","toOrderedMap","editorStateWithLineBreak","onChangeEditorState","forceSelection","isBackward","previousBlock","getBlockBefore","chars","handleKeyCommand","handleSave","containerStyle","toolbarStyle","toolbarContainerStyle","editorStyle","focusStyle","readOnly","hasFocusStyle","outline","display","blockStyleFn","handleBeforeInput","right","handleDelete","WYSIHTMLToolbarColorPicker","hex","top","ContentActions","WYSIHTMLToolbarCreateLink","editorLinkTargetType","setEditorLinkTargetType","mobilizations","plugins","WYSIHTMLToolbarInsertHTML","insertHTMLContent","cancelButton","handleInsertHTMLChange","handleInsertHTMLClick","WYSIHTMLToolbarInsertImage","renderFontsizeDropdownMenuItem","elementId","WYSIHTMLToolbar","Pagarme","document","createElement","async","appendChild","ZendeskWidget","FILTERABLE_SEARCH_BAR_SET_LIST","setFilterableSearchBarList","FilterableSearchBarReducer","message","classes","borderWidth","InputCounter","maxLength","diff","red","Input","uid","label","placeholder","onChange","required","show","fontWeight","marginBottom","Button","pristine","submitting","regex","rgba","match","formGroup","$formGroup","getRGBA","contextTypes","object","ControlButtons","$formRedux","floatButton","successMessage","onCancel","submitted","dirty","formInline","valid","ControlLabel","controlId","touched","htmlFor","hideError","tagsShouldCleanup","FormControl","componentClass","containerClassName","addonText","field","fieldProps","Object","assign","layout","showCancel","shape","bool","string","FormDropdown","FormError","FormGroup","onBlur","styleGroup","paddingRight","childContextTypes","isRequired","FormRedux","onFinishSubmit","forceFinishSubmit","naturalSubmitTransition","submitFailed","forcedSubmitTransition","inline","onSubmit","submit","handleSubmit","nosubmit","Form","HelpBlock","meta","warning","RadioGroup","Radio","current","horizontal","vertical","Raise","SuccessMessage","UploadImageField","signingUrl","onProgress","onError","onFinish","left","bottom","marginLeft","any","func","Background","contentSize","flexAlignments","center","justifyContent","x","alignItems","y","bgStyle","backgroundImage","overflow","BondeBackground","PageCentralizedLayout","PageCentralizedLayoutTitle","SettingsPageContentLayout","wrapClassName","SettingsPageLayout","SettingsPageMenuLayout","title","NavbarButton","targetId","scrollableId","scrollable","yPosition","scrollTop","stop","animate","location","hash","hidden","opacity","NavbarEditionWrapper","isEditing","isMouseOver","hideButton","blur","blockUpdate","menu_hidden","buttonsWrapperClassName","hide","editingButtonsStyle","height","padding","editingButtonsClassName","hideButtonClassName","handleEditButtonClick","handleHideButtonClick","name","handleMouseOver","blockName","editable","renderEditingButtons","handleCloseForm","renderNavbarForm","renderNavbarButton","NavbarForm","defaultValue","nameInput","select","addEventListener","handleKeyUp","removeEventListener","keyCode","handleChangeName","LogoIconNoBorder","oneOfType","number","TabBorder","path","isActive","optionalProps","to","Tab","Tabs","SELECTABLE_LIST_SET_SELECTED_INDEX","setSelectedIndex","SelectableListReducer","selectedIndex","FacebookShareButton","sourceRequest","protocol","host","getMobilization","customDomain","custom_domain","TellAFriend","preview","twitterShareText","mobilization","twitter_share_text","imageUrl","imageWidth","widget","settings","whatsapp_text","TwitterShareButton","encodeURIComponent","WhatsAppShareButton","whatsappText","createReducer","asyncReducers","form","normalize","creditCardForm","recurringForm","apollo","notifications","wait","subscriptions","extraFields","join","createBlock","appDomain","slug","mobilizationLaunch","mobilizationLaunchEnd","newMobilization","editMobilization","cityMobilization","cityNewMobilization","sharingMobilization","basicsMobilization","analyticsMobilization","metricsMobilization","customDomainMobilization","REQUEST_TEMPLATE_CREATE","SUCCESS_TEMPLATE_CREATE","FAILURE_TEMPLATE_CREATE","REQUEST_TEMPLATE_FETCH","SUCCESS_TEMPLATE_FETCH","FAILURE_TEMPLATE_FETCH","REQUEST_TEMPLATE_DESTROY","SUCCESS_TEMPLATE_DESTROY","FAILURE_TEMPLATE_DESTROY","SELECT_TEMPLATE","mobilizationTemplatesCreate","mobilizationTemplatesList","mobilizationTemplatesUpdate","templateId","mobilizationTemplatesDestroy","mobilizationTemplatesChoose","mobilizationTemplatesChooseCustomList","mobilizationTemplatesChooseGlobalList","filterable","selectable","global","custom","MobilizationTemplatesReducer","templates","template","findIndex","slice","SET_EDITOR_LINK_TARGET_TYPE","Content","forceRenderNewEditor","confirm","update","kind","parse","entityMap","deleteWidget","raw","toJSON","handleForceRender","ActionButton","editing","changeState","mapActionsToProps","onEdit","onCancelEdit","EditorNew","rawContent","bodyFont","body_font","color_scheme","selectors","wysihtml5","wysihtml5ParserRules","rangy","EditorOld","toolbarId","Editor","toolbar","parserRules","on","handleEditorFocus","setClick","handleEscapePress","enableEditor","links","querySelectorAll","link","closest","prop","offset","hasChanged","getValue","disableEditor","headerFont","header_font","handleRenderNewEditor","renderLoading","fontSizePluginOptions","initialFontSize","colorPluginOptions","gen","classNames","button","dropdown","lastButton","EditorSlate","initialRaw","serialize","toolbarStyles","contentStyles","apiUrl","zIndex","minHeight","isMod","handleCancelEditionMode","createEditorContent","deserialize","borderRight","paddingLeft","border","margin","WebkitAppearance","borderRadius","overlay","Layer","initialAction","asyncDonationTransactionCreate","params","mobilization_id","donation","genRequestPayload","ASYNC_DONATION_TRANSACTION_CREATE_REQUEST","ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS","customerData","donationFinishRequest","ASYNC_DONATION_TRANSACTION_CREATE_FAILURE","genericRequestError","config","failureData","customer","console","_error","widget_id","card_hash","payment_method","amount","subscription","period","recurring_period","setDonationCustomerData","SET_DONATION_CUSTOMER_DATA","graphqlQueries","Donation","finishMessageCustom","tellAFriend","donationCustomerData","mapDispatchToProps","handleDonationTransactionCreate","selectedValue","selectedPaymentType","onSucess","storedDonationCustomerData","paymentType","payment_type","recurringPeriod","mainColor","main_color","checkout","PagarMeCheckout","Checkout","encryption_key","PAGARME_KEY","success","err","customerName","customerDocumentNumber","document_number","customerEmail","customerPhoneDdd","phone","ddd","customerPhoneNumber","customerAddressZipcode","address","zipcode","customerAddressStreet","street","customerAddressStreetNumber","street_number","customerAddressComplementary","complementary","customerAddressNeighborhood","neighborhood","customerAddressCity","city","customerAddressState","createToken","paymentMethods","payment_methods","uiColor","paymentButtonText","button_text","donationSetValue","fetchDonationGoalStats","options","variables","widgetId","paths","DonationTellAFriend","SettingsMenu","donationPath","donationAdjustmentsPath","donationAutofirePath","donationAutofire","donationFinishPath","donationFinish","pathname","mobilizationId","mid","wid","donationExport","MobActions","asyncFormEntryCreate","hasMouseOver","fields","fieldsMobilizationWidget","fieldsWithValue","val","validate","formEntry","configurable","callToAction","call_to_action","Number","formIsFilled","hasNewField","count_text","startCounting","scrollTopReached","count","form_entries_count","isNaN","finishMessageType","finish_message_type","renderCallToAction","renderFields","renderErrors","renderButton","renderShareButtons","renderForm","renderCount","buttonText","FormTellAFriend","InputForm","slideDown","slideUp","onClose","newFields","asyncUpdateWidget","stopPropagation","updateSettings","handleCancel","canMoveUp","canMoveDown","handleLabelChange","handlePlaceholderChange","handleKindChange","handleRequiredChange","handleMoveUp","handleMoveDown","handleRemove","initializeEditing","v","renderInstructions","renderFieldKind","renderInput","fieldsPath","formPath","formMobilizationWidget","formAutofirePath","formAutofire","formExportPath","formExport","finishPath","widgetFormSettingsFinish","MobActionTypes","asyncFillWidget","fill","WIDGET_PRESSURE_FILL_REQUEST","WIDGET_PRESSURE_FILL_SUCCESS","UPDATE_WIDGET_SUCCESS","updateWidget","pressureSavedData","WIDGET_PRESSURE_FILL_FAILURE","getWidget","graphqlMutations","pressureHelper","array","PressureActions","Pressure","filled","selectedTargets","selectedTargetsError","callTransition","observableQuery","addTwilioCallMutation","selectableTargetList","phonePressureCount","showFinishMessage","isPressurePhone","getTargetList","PRESSURE_TYPE_PHONE","hasCounter","query","CountTwilioCallsByWidget","allTwilioCalls","totalCount","targets","targetSplit","pressureType","PRESSURE_TYPE_EMAIL","activist","firstname","lastname","mail","cc","getEmailTarget","subject","test","mutate","mutation","addTwilioCall","communityId","community_id","from","shuffle","ssrMode","watchQuery","pollInterval","watchTwilioCallTransitions","subscribe","pressure","filledPressureWidgets","title_text","disable_edit_field","titleText","countText","pressureSubject","pressure_subject","pressureBody","pressure_body","disableEditField","handleOverlayOnClick","includes","changeSelectedTargets","getPlugin","PressureCount","pressureCount","boxShadow","controlClassname","inputReset","parseTarget","RealtimeCallDuration","duration","interval","setInterval","timer","clearInterval","PressureForm","targetList","callManagement","attempts","isCallToCurrentTarget","twilioCallTo","transition","twilioCallTransitionStatus","isFailStatus","showCity","show_city","requiredMsg","some","phoneE164","keys","buttonColor","pressureIsFilled","twilioCallTransitionCallDuration","ListItem","changeParentState","PressureTellAFriend","SettingsBase","pressurePath","pressureEmailPath","pressureEmail","pressureAutofirePath","pressureAutofire","pressureFinishPath","pressureFinish","TargetList","onSelect","targetsCount","String","clean","obj","nameMatching","PressureReducers","BlockTag","tags","blockTag","tag","DataExport","dataExportMount","exportedAt","exported_at","Date","pad","date","getDate","getMonth","getFullYear","time","getHours","getMinutes","formatedExportAt","formatExportAt","asyncWidgetDataExport","filename","renderLoadingMessage","renderExportedMessage","renderErrorMessage","FinishMessageCustom","finishMessage","finish_message","finishMessageBackground","finish_message_background","valueParse","validator","FormAutofire","senderName","sender_name","senderEmail","sender_email","emailSubject","email_subject","emailText","email_text","asyncWidgetUpdate","values","isValidEmail","editorFocus","editorToolbarContainer","editorToolbar","editorContainer","whatsappControlLabel","verticalAlign","FormFinishMessage","formProps","colorScheme","parsedFinishMessage","constructor","initialValues","os","InputTag","mac","isMac","nativeEvent","metaKey","windows","isWindows","ctrlKey","linux","isLinux","isUnix","onInsertTag","onRemoveTag","isPressureByPhone","onRemoveAll","helperText","defaultPlaceholder","textarea","handleKeyPress","handleEdit","buttons","buttonDanger","Tag","onRemove","clickable","removable","WidgetOverlay","handleMouseEnter","handleMouseLeave","AnalyticsEvents","FORM_FILLED","category","FORM_SAVED","DONATION_STARTED","DONATION_FINISHED","PRESSURE_FILLED","PRESSURE_SAVED","SOCIAL_SHARED","sendEvent","evt","isValidTargetEmail","isValidTargetPhone","formatNumberHelper","selected_value","selected_payment_type","defaultDonationValue","default_donation_value","goalDateRemaining","donationGoalStats","goal","goalStats","goal_date_limit","now","day","month","year","goalDate","Math","ceil","valueTopLeft","valueTopRight","valueBottomLeft","valueBottomRight","pledged","valueTopCenter","currencyInt","textTransform","progress","total_donations","totalDonations","valueBottomCenter","donationValue1","donation_value1","donationValue2","donation_value2","donationValue3","donation_value3","donationValue4","donation_value4","donationValue5","donation_value5","isUniquePayment","periodLabelOptions","periodLabelCurrent","periodLabel","handleClickSetTypeDonation","handleClickSetValueDonation","convertHex","handleClickDonate","renderProgressBar","parseInt","result","textAlign","renderReattemptMessage","renderThankyouText","renderContentStrategy","isDark","max","fillColor","getUploadProgress","onChangeBackground","onUploadFile","BLOCK_UPLOAD_KEY","bg_class","BlockChangeBackground","bg_image","file","heigth","moveUp","moveDown","destroy","EDIT_KEY","BlockConfigMenu","getEditing","getBlockSaving","onMouseOver","onMouseOut","HOVER_MOUSE_KEY","getBackgroundStyle","background","backgroundSize","Block","widgets","history","FileUploader","maxHeight","url","getMobilizations","blocks","getBlocks","blocksIsLoaded","getWidgets","blockEditionMode","Mobilization","blocksTotalHeight","blocksWithOffsetTop","querySelector","offsetTop","offsetHeight","onscroll","scrollPassed","updateBlock","viewportBottom","isBottom","lastBlock","newProps","themeClassName","layoutClassName","layoutStyle","overflowY","w","block_id","MenuItems","mobile","menuProps","items","Navbar","onlyVisibleBlocks","overlayStyle","onDelete","widgetsIsLoading","Widget","smSize","sm_size","mdSize","md_size","lgSize","lg_size","widgetFilter","widgetConfig","redirect","widgetComponent","lastPosition","getBlockLastPosition","ADD_BLOCK_REQUEST","widgets_attributes","ADD_BLOCK_SUCCESS","ADD_WIDGETS_SUCCESS","sort","ADD_BLOCK_FAILURE","ADD_MOBILIZATION_REQUEST","ADD_MOBILIZATION_SUCCESS","response","ADD_MOBILIZATION_FAILURE","DESTROY_BLOCK_REQUEST","delete","DESTROY_BLOCK_SUCCESS","DESTROY_BLOCK_FAILURE","FETCH_BLOCKS_REQUEST","FETCH_BLOCKS_SUCCESS","FETCH_BLOCKS_FAILURE","FETCH_MOBILIZATIONS_REQUEST","relationshipId","FETCH_MOBILIZATIONS_SUCCESS","FETCH_MOBILIZATIONS_FAILURE","FETCH_WIDGETS_REQUEST","FETCH_WIDGETS_SUCCESS","FETCH_WIDGETS_FAILURE","where","FILTER_BLOCKS_REQUEST","FILTER_BLOCKS_SUCCESS","FILTER_BLOCKS_FAILURE","FILTER_MOBILIZATIONS_REQUEST","FILTER_MOBILIZATIONS_SUCCESS","FILTER_MOBILIZATIONS_FAILURE","FILTER_WIDGETS_REQUEST","FILTER_WIDGETS_SUCCESS","FILTER_WIDGETS_FAILURE","form_entry","WIDGET_FORM_ENTRY_CREATE_REQUEST","WIDGET_FORM_ENTRY_CREATE_SUCCESS","formSavedData","WIDGET_FORM_ENTRY_CREATE_FAILURE","UPDATE_BLOCK_REQUEST","UPDATE_BLOCK_BATCH","UPDATE_BLOCK_FAILURE","UPDATE_BLOCK_SUCCESS","fieldName","UPDATE_MOBILIZATION_REQUEST","UPDATE_MOBILIZATION_SUCCESS","template_mobilization_id","UPDATE_MOBILIZATION_FAILURE","UPDATE_WIDGET_REQUEST","UPDATE_WIDGET_FAILURE","INFO","EXPORT_DATACLIP_REQUEST","alert","EXPORT_DATACLIP_NO_DATA_FOUND","Blob","EXPORT_DATACLIP_SUCCESS","EXPORT_DATACLIP_FAILURE","EXPORT_DATACLIP_MOUNT","TURN_OFF_EDITION","CHANGE_BLOCK_BACKGROUND","TURN_ON_EDITION","mode","MOUSE_OUT","MOUSE_OVER","LOADING_FILE","FINISH_LOADING_FILE","SELECT_MOBILIZATION","SELECT_WIDGET","setWidgetList","SET_WIDGET_LIST","TOGGLE_MOBILIZATION_MENU","MOVE_BLOCK_UP","MOVE_BLOCK_DOWN","actions","actionTypes","FILTER_BLOCK_REQUEST","find","u","dataExport","edition","hover","uploader","tc","menuActiveIndex","m","reload","mob","mobilizationsIsLoading","mobilizationsIsLoaded","mobilizationIsSaving","getMobilizationMenuActive","f","hasCurrentMobilization","pkey","mobilizationIsNeedReload","widgetsIsLoaded","renderIsLoading","blocksIsLoading","isntLoading","plugin","getTemplate","ownProps","Paths","svgIcon","DraftButton","SVGIcon","updateKind","Draft","extraProps","widgetsConfig","wc","login","logout","editAccount","createAccount","accountRetrieve","configureStore","injectAsyncReducer","baseURL","middlewares","networkInterface","uri","graphqlUrl","connectToDevTools","use","applyMiddleware","req","requiredAuth","request","operationName","localStorageAuth","getItem","authorization","useAfter","applyAfterware","client","thunkExtraArgument","withExtraArgument","axios","middleware","store","instrument","interceptors","module","hot","accept","replaceReducer","asyncReducer","validators","normalizers","CreditCardForm","FormComponent","token","creditcard","expiration","cvv","card","brand","first_digits","last_digits","holder_name","expiration_date","abstractValidate","normalizer","mmyy","onlyWords","validationHelper","RecurringForm","processAt","process_at","ddmmyyyy","SET_MODIFICATION_TYPE","APPEND_ANIMATION_STACK","REMOVE_ANIMATION_STACK","ASYNC_RECHARGE_REQUEST","ASYNC_RECHARGE_SUCCESS","ASYNC_RECHARGE_FAILURE","ASYNC_FETCH_SUCCESS","ASYNC_FETCH_FAILURE","modificationType","animationStack","edit","distinct","self","n","currentIndex","temporaryValue","randomIndex","floor","random","appVersion","navigator","numberOptions","integerSeparator","decimal","currencyOptions","padRight","truncate","currencyIntOptions","floatOptions","integerOptions","currency","float","integer","dismissAfter","dismissible","closeButton","genericSaveSuccess","slugUpdatedMessage","messagePressureTargetsRemoveAll","accountPasswordRetrieveSuccess","communityInviteSuccess","subscriptionCancelSuccess","reportDownloadInProgressWarning","notificationId","reportDownloadSuccess","reportDownloadError","applyIntl","notify","dismissable","previousValue","nums","sep","cpfCnpj","dateNormalizers","regexEmail","regexDomain","isValidDomain","regexCodeGA","isValidCodeGA","codeGA","regexDDMMYYYY","isValidFromEmail","regexTargetEmail","regexPhone","isValidPhone","regexPhoneE164","isValidPhoneE164","regexTargetPhone","regexTargetPhoneE164","isValidTargetPhoneE164","isValidDate","toString","basscss","btnStyles","isSubmit","Dialog","onConfirm","DivFloat","FlatForm","formClassNames","titleSmallMargin","titleMediumMargin","titleBigMargin","SettingsForm"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,oBAAoB;AACpB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B;AAC/B,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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A;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,oBAAoB;AACpB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B;AAC/B,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,CAAC;;AAED;AACA;;;;AAIA;AACA,sC;;;;;;;ACxsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,6CAA6C,SAAS;AACtD;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,uDAAuD,SAAS;AAChE;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yFAAyF,SAAS;AAClG;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,GAAG;AAC9B;AACA;;AAEA,2BAA2B,GAAG;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+CAA+C;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,qCAAqC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yGAAyG,wBAAwB;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C;AAC9C,4CAA4C,6BAA6B;AACzE;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,yGAAyG,wBAAwB;;AAEjI;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE,SAAS;AACT;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C;AAC1C;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;;AAEjB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4CAA4C;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,uBAAuB,KAAK,EAAE;AAC5E;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iCAAiC;AACpE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B,iCAAiC;AAChE;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAsD,SAAS;AAC/D;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,6CAA6C,2BAA2B;AACxE;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,wDAAwD,SAAS;AACjE;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,6DAA6D,SAAS;AACtE;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8DAA8D,SAAS;AACvE;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAAkD,SAAS;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,wDAAwD,SAAS;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sDAAsD,SAAS;AAC/D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,8CAA8C;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,6BAA6B;AAC/D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD,SAAS;AAC9D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;;AAGL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC,Q;;;;;;;;ACpwHD;;AAEA;;AAEA,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,8CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC,KAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAyF,cAAc,UAAU,oBAAoB,iBAAiB;AACtJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC;;AAEhC;AACA,cAAc;AACd,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,oC;;;;;;;;ACxMA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,wBAAwB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,uDAAuD,YAAY;AACnE,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,C;;;;;;;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;kQCbA;;;AACA;;IAAYR,C;;AACZ;;;;kBAEe;A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","file":"webviewer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"webviewer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webviewer\"] = factory();\n\telse\n\t\troot[\"webviewer\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./mobrender/components/index.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap da4d472224d1d00b1bb3","const t = type => `intl/${type}`\n\nexport const SET_CURRENT_LOCALE = t('SET_CURRENT_LOCALE')\n\n\n\n// WEBPACK FOOTER //\n// ../intl/redux/action-types.js","import * as t from './action-types'\n\nconst initialState = {\n  currentLocale: null,\n  defaultLocale: null,\n  locales: [],\n  messages: {}\n}\n\nconst reducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.SET_CURRENT_LOCALE:\n      return { ...state, currentLocale: action.payload }\n\n    default:\n      return state\n  }\n}\n\nexport default reducer\n\n\n\n// WEBPACK FOOTER //\n// ../intl/redux/reducers.js","/*! wysihtml - v0.5.2 (2015-11-10) */\nvar newStyle;\nvar wysihtml5={version:\"0.5.2\",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:\"\\ufeff\",INVISIBLE_SPACE_REG_EXP:/\\uFEFF/g,EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46};wysihtml5.polyfills=function(a,b){String.prototype.trim||!function(){var a=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,\"\")}}(),function(){var c=\"addEventListener\",d=\"removeEventListener\";b[c]||(a.Element.prototype[c]=a[c]=b[c]=function(b,c,d){return(d=this).attachEvent(\"on\"+b,function(b){var b=b||a.event;b.target=b.target||b.srcElement,b.preventDefault=b.preventDefault||function(){b.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0},b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode,c.call(d,b)})},a.Element.prototype[d]=a[d]=b[d]=function(a,b){return this.detachEvent(\"on\"+a,b)})}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,\"textContent\")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,\"textContent\").get&&!function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,\"innerText\");Object.defineProperty(a.Element.prototype,\"textContent\",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,a)}})}(),Array.isArray||(Array.isArray=function(a){return\"[object Array]\"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=this.length,d=-1,e=b>>>0;~(c-e);d=this[--c]===a?c:d);return d}),Function.prototype.bind||(Function.prototype.bind=function(a){if(\"function\"!=typeof this)throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.document||b.ownerDocument).querySelectorAll(a),d=0;c[d]&&c[d]!==b;)++d;return c[d]?!0:!1},a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}}(Element.prototype),\"document\"in a&&(\"classList\"in b.createElement(\"_\")?\"DOMTokenList\"in a&&!function(){\"use strict\";var c=b.createElement(\"_\");if(c.classList.add(\"c1\",\"c2\"),!c.classList.contains(\"c2\")){var d=function(b){var c=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,d=arguments.length;for(b=0;d>b;b++)a=arguments[b],c.call(this,a)}};d(\"add\"),d(\"remove\")}if(c.classList.toggle(\"c3\",!1),c.classList.contains(\"c3\")){var e=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:e.call(this,a)}}c=null}():!function(a){\"use strict\";if(\"Element\"in a){var b=\"classList\",c=\"prototype\",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\\s+|\\s+$/g,\"\")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(\"\"===b)throw new h(\"SYNTAX_ERR\",\"An invalid or illegal string was specified\");if(/\\s/.test(b))throw new h(\"INVALID_CHARACTER_ERR\",\"String contains an invalid character\");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute(\"class\")||\"\"),c=b?b.split(/\\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute(\"class\",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+=\"\",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+\"\",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do for(a=c[d]+\"\",b=i(this,a);-1!==b;)this.splice(b,1),f=!0,b=i(this,a);while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+=\"\";var c=this.contains(a),d=c?b!==!0&&\"remove\":b!==!1&&\"add\";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(\" \")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(a));var c=function(){if(\"createRange\"in document&&\"getSelection\"in window){var a,b,c=document.createElement(\"div\"),d=document.createTextNode(\"a\"),e=document.createTextNode(\"a\"),f=document.createTextNode(\"a\"),g=document.createRange();return c.setAttribute(\"contenteditable\",\"true\"),c.appendChild(d),c.appendChild(e),c.appendChild(f),document.body.appendChild(c),g.setStart(e,1),g.setEnd(e,1),a=window.getSelection(),a.removeAllRanges(),a.addRange(g),c.normalize(),a=window.getSelection(),b=1!==c.childNodes.length||a.anchorNode!==c.firstChild||2!==a.anchorOffset,c.parentNode.removeChild(c),a.removeAllRanges(),b}},d=function(a){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b.push(a):b=b.concat(d(a));return b},e=function(){var a=(Node.prototype.normalize,function(){var a=d(this),b=this.ownerDocument.defaultView.getSelection(),c=b.anchorNode,e=b.anchorOffset,f=c&&1===c.nodeType&&c.childNodes.length>0?c.childNodes[e]:void 0,g=b.focusNode,h=b.focusOffset,i=g&&1===g.nodeType&&h>0?g.childNodes[h-1]:void 0,j=this.ownerDocument.createRange(),k=a.shift(),l=k?a.shift():null;for(i&&3===i.nodeType&&(g=i,h=i.nodeValue.length,i=void 0),f&&3===f.nodeType&&(c=f,e=0,f=void 0),(c===g&&e>h||c!==g&&c.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_PRECEDING&&!(c.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINS))&&(g=[c,c=g][0],h=[e,e=h][0]);k&&l;)l.previousSibling&&l.previousSibling===k?(c===l&&(c=k,e=k.nodeValue.length+e),g===l&&(g=k,h=k.nodeValue.length+h),k.nodeValue=k.nodeValue+l.nodeValue,l.parentNode.removeChild(l),l=a.shift()):(k=l,l=a.shift());i&&(h=Array.prototype.indexOf.call(i.parentNode.childNodes,i)+1),f&&(e=Array.prototype.indexOf.call(f.parentNode.childNodes,f)),c&&c.parentNode&&g&&g.parentNode&&(j.setStart(c,e),j.setEnd(g,h),b.removeAllRanges(),b.addRange(j))});Node.prototype.normalize=a},f=function(){window.removeEventListener(\"load\",f),\"Node\"in window&&\"normalize\"in Node.prototype&&c()&&e()};\"complete\"!==b.readyState?window.addEventListener(\"load\",f):f()},wysihtml5.polyfills(window,document),function(a,b){\"function\"==typeof define&&define.amd?define(a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a():b.rangy=a()}(function(){function a(a,b){var c=typeof a[b];return c==u||!(c!=t||!a[b])||\"unknown\"==c}function b(a,b){return!(typeof a[b]!=t||!a[b])}function c(a,b){return typeof a[b]!=v}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&A(a,z)&&C(a,y)}function f(a){return b(a,\"body\")?a.body:a.getElementsByTagName(\"body\")[0]}function g(b){typeof console!=v&&a(console,\"log\")&&console.log(b)}function h(a,b){F&&b?alert(a):g(a)}function i(a){H.initialized=!0,H.supported=!1,h(\"Rangy is not supported in this environment. Reason: \"+a,H.config.alertOnFail)}function j(a){h(\"Rangy warning: \"+a,H.config.alertOnWarn)}function k(a){return a.message||a.description||String(a)}function l(){if(F&&!H.initialized){var b,c=!1,d=!1;a(document,\"createRange\")&&(b=document.createRange(),A(b,x)&&C(b,w)&&(c=!0));var h=f(document);if(!h||\"body\"!=h.nodeName.toLowerCase())return void i(\"No body element found\");if(h&&a(h,\"createTextRange\")&&(b=h.createTextRange(),e(b)&&(d=!0)),!c&&!d)return void i(\"Neither Range nor TextRange are available\");H.initialized=!0,H.features={implementsDomRange:c,implementsTextRange:d};var j,l;for(var m in E)(j=E[m])instanceof p&&j.init(j,H);for(var n=0,o=K.length;o>n;++n)try{K[n](H)}catch(q){l=\"Rangy init listener threw an exception. Continuing. Detail: \"+k(q),g(l)}}}function m(a,b,c){c&&(a+=\" in module \"+c.name),H.warn(\"DEPRECATED: \"+a+\" is deprecated. Please use \"+b+\" instead.\")}function n(a,b,c,d){a[b]=function(){return m(b,c,d),a[c].apply(a,G.toArray(arguments))}}function o(a){a=a||window,l();for(var b=0,c=L.length;c>b;++b)L[b](a)}function p(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function q(a,b,c){var d=new p(a,b,function(b){if(!b.initialized){b.initialized=!0;try{c(H,b),b.supported=!0}catch(d){var e=\"Module '\"+a+\"' failed to load: \"+k(d);g(e),d.stack&&g(d.stack)}}});return E[a]=d,d}function r(){}function s(){}var t=\"object\",u=\"function\",v=\"undefined\",w=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],x=[\"setStart\",\"setStartBefore\",\"setStartAfter\",\"setEnd\",\"setEndBefore\",\"setEndAfter\",\"collapse\",\"selectNode\",\"selectNodeContents\",\"compareBoundaryPoints\",\"deleteContents\",\"extractContents\",\"cloneContents\",\"insertNode\",\"surroundContents\",\"cloneRange\",\"toString\",\"detach\"],y=[\"boundingHeight\",\"boundingLeft\",\"boundingTop\",\"boundingWidth\",\"htmlText\",\"text\"],z=[\"collapse\",\"compareEndPoints\",\"duplicate\",\"moveToElementText\",\"parentElement\",\"select\",\"setEndPoint\",\"getBoundingClientRect\"],A=d(a),B=d(b),C=d(c),D=[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)b(a[c],c)},E={},F=typeof window!=v&&typeof document!=v,G={isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:A,areHostObjects:B,areHostProperties:C,isTextRange:e,getBody:f,forEach:D},H={version:\"1.3.0\",initialized:!1,isBrowser:F,supported:!0,util:G,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v?!0:rangyAutoInitialize}};H.fail=i,H.warn=j;var I;({}).hasOwnProperty?(G.extend=I=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&null!==d&&\"object\"==typeof d&&null!==e&&\"object\"==typeof e&&I(d,e,!0),a[f]=e);return b.hasOwnProperty(\"toString\")&&(a.toString=b.toString),a},G.createOptions=function(a,b){var c={};return I(c,b),a&&I(c,a),c}):i(\"hasOwnProperty not supported\"),F||i(\"Rangy can only run in a browser\"),function(){var a;if(F){var b=document.createElement(\"div\");b.appendChild(document.createElement(\"span\"));var c=[].slice;try{1==c.call(b.childNodes,0)[0].nodeType&&(a=function(a){return c.call(a,0)})}catch(d){}}a||(a=function(a){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=a[c];return b}),G.toArray=a}();var J;F&&(a(document,\"addEventListener\")?J=function(a,b,c){a.addEventListener(b,c,!1)}:a(document,\"attachEvent\")?J=function(a,b,c){a.attachEvent(\"on\"+b,c)}:i(\"Document does not have required addEventListener or attachEvent method\"),G.addListener=J);var K=[];G.deprecationNotice=m,G.createAliasForDeprecatedMethod=n,H.init=l,H.addInitListener=function(a){H.initialized?a(H):K.push(a)};var L=[];H.addShimListener=function(a){L.push(a)},F&&(H.shim=H.createMissingNativeApi=o,n(H,\"createMissingNativeApi\",\"shim\")),p.prototype={init:function(){for(var a,b,c=this.dependencies||[],d=0,e=c.length;e>d;++d){if(b=c[d],a=E[b],!(a&&a instanceof p))throw new Error(\"required module '\"+b+\"' not found\");if(a.init(),!a.supported)throw new Error(\"required module '\"+b+\"' not supported\")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error(a)},warn:function(a){H.warn(\"Module \"+this.name+\": \"+a)},deprecationNotice:function(a,b){H.warn(\"DEPRECATED: \"+a+\" in module \"+this.name+\" is deprecated. Please use \"+b+\" instead\")},createError:function(a){return new Error(\"Error in Rangy \"+this.name+\" module: \"+a)}},H.createModule=function(a){var b,c;2==arguments.length?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]);var d=q(a,c,b);H.initialized&&H.supported&&d.init()},H.createCoreModule=function(a,b,c){q(a,b,c)},H.RangePrototype=r,H.rangePrototype=new r,H.selectionPrototype=new s,H.createCoreModule(\"DomUtil\",[],function(a,b){function c(a){var b;return typeof a.namespaceURI==F||null===(b=a.namespaceURI)||\"http://www.w3.org/1999/xhtml\"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(K(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b){return h(a,b,!0)}function j(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function k(a){var b=a.nodeType;return 3==b||4==b||8==b}function l(a){if(!a)return!1;var b=a.nodeType;return 3==b||8==b}function m(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function n(a,b,c){var d=a.cloneNode(!1);if(d.deleteData(0,b),a.deleteData(b,a.length-b),m(d,a),c)for(var f,g=0;f=c[g++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>e(a)&&++f.offset;return d}function o(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=F)return a.ownerDocument;if(typeof a.document!=F)return a.document;if(a.parentNode)return o(a.parentNode);throw b.createError(\"getDocument: no document found for node\")}function p(a){var c=o(a);if(typeof c.defaultView!=F)return c.defaultView;if(typeof c.parentWindow!=F)return c.parentWindow;throw b.createError(\"Cannot get a window object for node\")}function q(a){if(typeof a.contentDocument!=F)return a.contentDocument;if(typeof a.contentWindow!=F)return a.contentWindow.document;throw b.createError(\"getIframeDocument: No Document object found for iframe element\")}function r(a){if(typeof a.contentWindow!=F)return a.contentWindow;if(typeof a.contentDocument!=F)return a.contentDocument.defaultView;throw b.createError(\"getIframeWindow: No Window object found for iframe element\")}function s(a){return a&&G.isHostMethod(a,\"setTimeout\")&&G.isHostObject(a,\"document\")}function t(a,b,c){var d;if(a?G.isHostProperty(a,\"nodeType\")?d=1==a.nodeType&&\"iframe\"==a.tagName.toLowerCase()?q(a):o(a):s(a)&&(d=a.document):d=document,!d)throw b.createError(c+\"(): Parameter must be a Window object or DOM node\");return d}function u(a){for(var b;b=a.parentNode;)a=b;return a}function v(a,c,d,f){var h,i,k,l,m;if(a==d)return c===f?0:f>c?-1:1;if(h=j(d,a,!0))return c<=e(h)?-1:1;if(h=j(a,d,!0))return e(h)<f?-1:1;if(i=g(a,d),!i)throw new Error(\"comparePoints error: nodes have no common ancestor\");if(k=a===i?i:j(a,i,!0),l=d===i?i:j(d,i,!0),k===l)throw b.createError(\"comparePoints got to case 4 and childA and childB are the same!\");for(m=i.firstChild;m;){if(m===k)return-1;if(m===l)return 1;m=m.nextSibling}}function w(a){var b;try{return b=a.parentNode,!1}catch(c){return!0}}function x(a){if(!a)return\"[No node]\";if(L&&w(a))return\"[Broken node]\";if(k(a))return'\"'+a.data+'\"';if(1==a.nodeType){var b=a.id?' id=\"'+a.id+'\"':\"\";return\"<\"+a.nodeName+b+\">[index:\"+e(a)+\",length:\"+a.childNodes.length+\"][\"+(a.innerHTML||\"[innerHTML not supported]\").slice(0,25)+\"]\"}return a.nodeName}function y(a){for(var b,c=o(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function z(a,b,c){var d=H(a),e=a.createElement(\"div\");e.contentEditable=\"\"+!!c,b&&(e.innerHTML=b);var f=d.firstChild;return f?d.insertBefore(e,f):d.appendChild(e),e}function A(a){return a.parentNode.removeChild(a)}function B(a){this.root=a,this._next=a}function C(a){return new B(a)}function D(a,b){this.node=a,this.offset=b}function E(a){this.code=this[a],this.codeName=a,this.message=\"DOMException: \"+this.codeName}var F=\"undefined\",G=a.util,H=G.getBody;G.areHostMethods(document,[\"createDocumentFragment\",\"createElement\",\"createTextNode\"])||b.fail(\"document missing a Node creation method\"),G.isHostMethod(document,\"getElementsByTagName\")||b.fail(\"document missing getElementsByTagName method\");var I=document.createElement(\"div\");G.areHostMethods(I,[\"insertBefore\",\"appendChild\",\"cloneNode\"]||!G.areHostObjects(I,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"]))||b.fail(\"Incomplete Element implementation\"),G.isHostProperty(I,\"innerHTML\")||b.fail(\"Element is missing innerHTML property\");var J=document.createTextNode(\"test\");G.areHostMethods(J,[\"splitText\",\"deleteData\",\"insertData\",\"appendData\",\"cloneNode\"]||!G.areHostObjects(I,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"])||!G.areHostProperties(J,[\"data\"]))||b.fail(\"Incomplete Text Node implementation\");var K=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},L=!1;!function(){var b=document.createElement(\"b\");b.innerHTML=\"1\";var c=b.firstChild;b.innerHTML=\"<br />\",L=w(c),a.features.crashyTextNodes=L}();var M;typeof window.getComputedStyle!=F?M=function(a,b){return p(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=F?M=function(a,b){return a.currentStyle?a.currentStyle[b]:\"\"}:b.fail(\"No means of obtaining computed style properties found\"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return\"[DomPosition(\"+x(this.node)+\":\"+this.offset+\")]\"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},a.dom={arrayContains:K,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,isOrIsAncestorOf:i,getClosestAncestorIn:j,isCharacterDataNode:k,isTextOrCommentNode:l,insertAfter:m,splitDataNode:n,getDocument:o,getWindow:p,getIframeWindow:r,getIframeDocument:q,getBody:H,isWindow:s,getContentDocument:t,getRootContainer:u,comparePoints:v,isBrokenNode:w,inspectNode:x,getComputedStyleProperty:M,createTestElement:z,removeNode:A,fragmentFromNodeChildren:y,createIterator:C,DomPosition:D},a.DOMException=E}),H.createCoreModule(\"DomRange\",[\"DomUtil\"],function(a,b){function c(a,b){return 3!=a.nodeType&&(P(a,b.startContainer)||P(a,b.endContainer))}function d(a){return a.document||Q(a.startContainer)}function e(a){return W(a.startContainer)}function f(a){return new L(a.parentNode,O(a))}function g(a){return new L(a.parentNode,O(a)+1)}function h(a,b,c){var d=11==a.nodeType?a.firstChild:a;return N(b)?c==b.length?J.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:S(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function i(a,b,c){if(z(a),z(b),d(b)!=d(a))throw new M(\"WRONG_DOCUMENT_ERR\");var e=R(a.startContainer,a.startOffset,b.endContainer,b.endOffset),f=R(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?0>=e&&f>=0:0>e&&f>0}function j(a){for(var b,c,e,f=d(a.range).createDocumentFragment();c=a.next();){if(b=a.isPartiallySelectedSubtree(),c=c.cloneNode(!b),b&&(e=a.getSubtreeIterator(),c.appendChild(j(e)),e.detach()),10==c.nodeType)throw new M(\"HIERARCHY_REQUEST_ERR\");f.appendChild(c)}return f}function k(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),k(g,b,c),g.detach(),c.stop)return}else for(d=J.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function l(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),l(b),b.detach()):a.remove()}function m(a){for(var b,c,e=d(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),c=a.getSubtreeIterator(),b.appendChild(m(c)),c.detach()):a.remove(),10==b.nodeType)throw new M(\"HIERARCHY_REQUEST_ERR\");e.appendChild(b)}return e}function n(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp(\"^(\"+b.join(\"|\")+\")$\"));var g=[];return k(new p(a,!1),function(b){if((!e||d.test(b.nodeType))&&(!f||c(b))){var h=a.startContainer;if(b!=h||!N(h)||a.startOffset!=h.length){var i=a.endContainer;b==i&&N(i)&&0==a.endOffset||g.push(b)}}}),g}function o(a){var b=\"undefined\"==typeof a.getName?\"Range\":a.getName();return\"[\"+b+\"(\"+J.inspectNode(a.startContainer)+\":\"+a.startOffset+\", \"+J.inspectNode(a.endContainer)+\":\"+a.endOffset+\")]\"}function p(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&N(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||N(this.sc)?T(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||N(this.ec)?T(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,V(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(ea(a,b))throw new M(\"INVALID_NODE_TYPE_ERR\")}function s(a,b){if(!V(b,a.nodeType))throw new M(\"INVALID_NODE_TYPE_ERR\")}function t(a,b){if(0>b||b>(N(a)?a.length:a.childNodes.length))throw new M(\"INDEX_SIZE_ERR\")}function u(a,b){if(ca(a,!0)!==ca(b,!0))throw new M(\"WRONG_DOCUMENT_ERR\")}function v(a){if(da(a,!0))throw new M(\"NO_MODIFICATION_ALLOWED_ERR\")}function w(a,b){if(!a)throw new M(b)}function x(a,b){return b<=(N(a)?a.length:a.childNodes.length)}function y(a){return!!a.startContainer&&!!a.endContainer&&!(X&&(J.isBrokenNode(a.startContainer)||J.isBrokenNode(a.endContainer)))&&W(a.startContainer)==W(a.endContainer)&&x(a.startContainer,a.startOffset)&&x(a.endContainer,a.endOffset)}function z(a){if(!y(a))throw new Error(\"Range error: Range is not valid. This usually happens after DOM mutation. Range: (\"+a.inspect()+\")\")}function A(a,b){z(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,g=c===e;N(e)&&f>0&&f<e.length&&S(e,f,b),N(c)&&d>0&&d<c.length&&(c=S(c,d,b),g?(f-=d,e=c):e==c.parentNode&&f>=O(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function B(a){z(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function C(a){a.START_TO_START=ka,a.START_TO_END=la,a.END_TO_END=ma,a.END_TO_START=na,a.NODE_BEFORE=oa,a.NODE_AFTER=pa,a.NODE_BEFORE_AND_AFTER=qa,a.NODE_INSIDE=ra}function D(a){C(a),C(a.prototype)}function E(a,b){return function(){z(this);var c,d,e=this.startContainer,f=this.startOffset,h=this.commonAncestorContainer,i=new p(this,!0);e!==h&&(c=T(e,h,!0),d=g(c),e=d.node,f=d.offset),k(i,v),i.reset();var j=a(i);return i.detach(),b(this,e,f,e,f),j}}function F(b,d){function e(a,b){return function(c){s(c,Z),s(W(c),$);var d=(a?f:g)(c);(b?h:i)(this,d.node,d.offset)}}function h(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((W(b)!=W(e)||1==R(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function i(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((W(b)!=W(e)||-1==R(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}var j=function(){};j.prototype=a.rangePrototype,b.prototype=new j,K.extend(b.prototype,{setStart:function(a,b){r(a,!0),t(a,b),h(this,a,b)},setEnd:function(a,b){r(a,!0),t(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],c=a[1],e=b,f=c;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}d(this,b,c,e,f)},setBoundary:function(a,b,c){this[\"set\"+(c?\"Start\":\"End\")](a,b)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(a){z(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){r(a,!0),d(this,a,0,a,U(a))},selectNode:function(a){r(a,!1),s(a,Z);var b=f(a),c=g(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:E(m,d),deleteContents:E(l,d),canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},splitBoundaries:function(){A(this)},splitBoundariesPreservingPositions:function(a){A(this,a)},normalizeBoundaries:function(){z(this);var a,b=this.startContainer,c=this.startOffset,e=this.endContainer,f=this.endOffset,g=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,f=a.length,a.appendData(b.data),Y(b))},h=function(a){var d=a.previousSibling;if(d&&d.nodeType==a.nodeType){b=a;var g=a.length;if(c=d.length,a.insertData(0,d.data),Y(d),b==e)f+=c,e=b;else if(e==a.parentNode){var h=O(a);f==h?(e=a,f=g):f>h&&f--}}},i=!0;if(N(e))f==e.length?g(e):0==f&&(a=e.previousSibling,a&&a.nodeType==e.nodeType&&(f=a.length,b==e&&(i=!1),a.appendData(e.data),Y(e),e=a));else{if(f>0){var j=e.childNodes[f-1];j&&N(j)&&g(j)}i=!this.collapsed}if(i){if(N(b))0==c?h(b):c==b.length&&(a=b.nextSibling,a&&a.nodeType==b.nodeType&&(e==a&&(e=b,f+=b.length),b.appendData(a.data),Y(a)));else if(c<b.childNodes.length){var k=b.childNodes[c];k&&N(k)&&h(k)}}else b=e,c=f;d(this,b,c,e,f)},collapseToPoint:function(a,b){r(a,!0),t(a,b),this.setStartAndEnd(a,b)}}),D(b)}function G(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:J.getCommonAncestor(a.startContainer,a.endContainer)}function H(a,b,c,d,e){a.startContainer=b,a.startOffset=c,a.endContainer=d,a.endOffset=e,a.document=J.getDocument(b),G(a)}function I(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,G(this)}var J=a.dom,K=a.util,L=J.DomPosition,M=a.DOMException,N=J.isCharacterDataNode,O=J.getNodeIndex,P=J.isOrIsAncestorOf,Q=J.getDocument,R=J.comparePoints,S=J.splitDataNode,T=J.getClosestAncestorIn,U=J.getNodeLength,V=J.arrayContains,W=J.getRootContainer,X=a.features.crashyTextNodes,Y=J.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,N(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!N(c)||c!==this.sc&&c!==this.ec?c.parentNode&&Y(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return c(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new I(d(this.range));var b=this._current,c=b,e=0,f=b,g=U(b);P(b,this.sc)&&(c=this.sc,e=this.so),P(b,this.ec)&&(f=this.ec,g=this.eo),H(a,c,e,f,g)}return new p(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],$=[2,9,11],_=[5,6,10,12],aa=[1,3,4,5,7,8,10,11],ba=[1,3,4,5,7,8],ca=q([9,11]),da=q(_),ea=q([6,10,12]),fa=document.createElement(\"style\"),ga=!1;try{fa.innerHTML=\"<b>x</b>\",ga=3==fa.firstChild.nodeType}catch(ha){}a.features.htmlParsingConforms=ga;var ia=ga?function(a){var b=this.startContainer,c=Q(b);if(!b)throw new M(\"INVALID_STATE_ERR\");var d=null;return 1==b.nodeType?d=b:N(b)&&(d=J.parentElement(b)),d=null===d||\"HTML\"==d.nodeName&&J.isHtmlNamespace(Q(d).documentElement)&&J.isHtmlNamespace(d)?c.createElement(\"body\"):d.cloneNode(!1),d.innerHTML=a,J.fragmentFromNodeChildren(d)}:function(a){var b=d(this),c=b.createElement(\"body\");return c.innerHTML=a,J.fragmentFromNodeChildren(c)},ja=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],ka=0,la=1,ma=2,na=3,oa=0,pa=1,qa=2,ra=3;K.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){z(this),u(this.startContainer,b.startContainer);var c,d,e,f,g=a==na||a==ka?\"start\":\"end\",h=a==la||a==ka?\"start\":\"end\";return c=this[g+\"Container\"],d=this[g+\"Offset\"],e=b[h+\"Container\"],f=b[h+\"Offset\"],R(c,d,e,f)},insertNode:function(a){if(z(this),s(a,aa),v(this.startContainer),P(a,this.startContainer))throw new M(\"HIERARCHY_REQUEST_ERR\");var b=h(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){z(this);var a,b;if(this.collapsed)return d(this).createDocumentFragment();if(this.startContainer===this.endContainer&&N(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=d(this).createDocumentFragment(),b.appendChild(a),b;var c=new p(this,!0);return a=j(c),c.detach(),a},canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},surroundContents:function(a){if(s(a,ba),!this.canSurroundContents())throw new M(\"INVALID_STATE_ERR\");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);h(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){z(this);for(var a,b=new I(d(this)),c=ja.length;c--;)a=ja[c],b[a]=this[a];return b},toString:function(){z(this);var a=this.startContainer;if(a===this.endContainer&&N(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):\"\";var b=[],c=new p(this,!0);return k(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join(\"\")},compareNode:function(a){z(this);var b=a.parentNode,c=O(a);if(!b)throw new M(\"NOT_FOUND_ERR\");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?qa:oa:e>0?pa:ra},comparePoint:function(a,b){return z(this),w(a,\"HIERARCHY_REQUEST_ERR\"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)<0?-1:R(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ia,toHtml:function(){return B(this)},intersectsNode:function(a,b){if(z(this),W(a)!=e(this))return!1;var c=a.parentNode,d=O(a);if(!c)return!0;var f=R(c,d,this.endContainer,this.endOffset),g=R(c,d+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return z(this),w(a,\"HIERARCHY_REQUEST_ERR\"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)>=0&&R(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return i(this,a,!1)},intersectsOrTouchesRange:function(a){return i(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=R(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=R(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return-1==R(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==R(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new M(\"Ranges do not intersect\")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==ra},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,U(a))<=0},containsRange:function(a){var b=this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();return b.setEnd(d,d.length),this.containsRange(b)}return this.containsNodeContents(a);\n},getNodes:function(a,b){return z(this),n(this,a,b)},getDocument:function(){return d(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var c=d(this),e=a.createRange(c);b=b||J.getBody(c),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);for(var d,e,f,g,h=[b],i=!1,j=!1;!j&&(d=h.pop());)if(3==d.nodeType)e=c+d.length,!i&&a.start>=c&&a.start<=e&&(this.setStart(d,a.start-c),i=!0),i&&a.end>=c&&a.end<=e&&(this.setEnd(d,a.end-c),j=!0),c=e;else for(g=d.childNodes,f=g.length;f--;)h.push(g[f])},getName:function(){return\"DomRange\"},equals:function(a){return I.rangesEqual(this,a)},isValid:function(){return y(this)},inspect:function(){return o(this)},detach:function(){}}),F(I,H),K.extend(I,{rangeProperties:ja,RangeIterator:p,copyComparisonConstants:D,createPrototypeRange:F,inspect:o,toHtml:B,getRangeDocument:d,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=I}),H.createCoreModule(\"WrappedRange\",[\"DomRange\"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;if(a.features.implementsDomRange&&!function(){function d(a){for(var b,c=m.length;c--;)b=m[c],a[b]=a.nativeRange[b];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function g(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);(f||g||h)&&(a.setEnd(d,e),a.setStart(b,c))}var k,l,m=h.rangeProperties;c=function(a){if(!a)throw b.createError(\"WrappedRange: Range must be specified\");this.nativeRange=a,d(this)},h.createPrototypeRange(c,g),k=c.prototype,k.selectNode=function(a){this.nativeRange.selectNode(a),d(this)},k.cloneContents=function(){return this.nativeRange.cloneContents()},k.surroundContents=function(a){this.nativeRange.surroundContents(a),d(this)},k.collapse=function(a){this.nativeRange.collapse(a),d(this)},k.cloneRange=function(){return new c(this.nativeRange.cloneRange())},k.refresh=function(){d(this)},k.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode(\"test\");i(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b),d(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b),d(this)},l=function(a){return function(b){this.nativeRange[a](b),d(this)}}}catch(p){k.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}d(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}d(this)},l=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(e){this.nativeRange[b](c),this.nativeRange[a](c)}d(this)}}}k.setStartBefore=l(\"setStartBefore\",\"setEndBefore\"),k.setStartAfter=l(\"setStartAfter\",\"setEndAfter\"),k.setEndBefore=l(\"setEndBefore\",\"setStartBefore\"),k.setEndAfter=l(\"setEndAfter\",\"setStartAfter\"),k.selectNodeContents=function(a){this.setStartAndEnd(a,0,e.getNodeLength(a))},o.selectNodeContents(n),o.setEnd(n,3);var q=document.createRange();q.selectNodeContents(n),q.setEnd(n,4),q.setStart(n,2),-1==o.compareBoundaryPoints(o.START_TO_END,q)&&1==o.compareBoundaryPoints(o.END_TO_START,q)?k.compareBoundaryPoints=function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var r=document.createElement(\"div\");r.innerHTML=\"123\";var s=r.firstChild,t=i(document);t.appendChild(r),o.setStart(s,1),o.setEnd(s,2),o.deleteContents(),\"13\"==s.data&&(k.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();return d(this),a}),t.removeChild(r),t=null,f.isHostMethod(o,\"createContextualFragment\")&&(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(n),k.getName=function(){return\"WrappedRange\"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,\"createNativeRange\"),a.createRange()}}(),a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return 0==a.compareEndPoints(\"StartToEnd\",a)},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();if(e.isOrIsAncestorOf(b,i)||(i=b),!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement(\"span\");l.parentNode&&e.removeNode(l);for(var m,n,o,p,q,r=c?\"StartToStart\":\"StartToEnd\",s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;;){if(v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),m=h.compareEndPoints(r,a),0==m||s==u)break;if(-1==m){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}if(q=l.nextSibling,-1==m&&q&&k(q)){h.setEndPoint(c?\"EndToStart\":\"EndToEnd\",a);var w;if(/[\\r\\n]/.test(q.data)){var x=h.duplicate(),y=x.text.replace(/\\r\\n/g,\"\\r\").length;for(w=x.moveStart(\"character\",y);-1==(m=x.compareEndPoints(\"StartToEnd\",x));)w++,x.moveStart(\"character\",1)}else w=h.text.length;p=new g(q,w)}else n=(d||!c)&&l.previousSibling,o=(d||c)&&l.nextSibling,p=o&&k(o)?new g(o,0):n&&k(n)?new g(n,n.data.length):new g(i,e.getNodeIndex(l));return e.removeNode(l),{boundaryPosition:p,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f,g,h=a.offset,j=e.getDocument(a.node),l=i(j).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(g=a.node.childNodes,c=h<g.length?g[h]:null,d=a.node),f=j.createElement(\"span\"),f.innerHTML=\"&#feff;\",c?d.insertBefore(f,c):d.appendChild(f),l.moveToElementText(f),l.collapse(!b),d.removeChild(f),m&&l[b?\"moveStart\":\"moveEnd\"](\"character\",h),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return\"WrappedTextRange\"},h.copyComparisonConstants(d);var p=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint(\"StartToStart\",b),d.setEndPoint(\"EndToEnd\",c),d};if(d.rangeToTextRange=p,d.prototype.toTextRange=function(){return p(this)},a.WrappedTextRange=d,!a.features.implementsDomRange||a.config.preferTextRange){var q=function(a){return a(\"return this;\")()}(Function);\"undefined\"==typeof q.Range&&(q.Range=d),a.createNativeRange=function(a){return a=j(a,b,\"createNativeRange\"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,\"createRange\"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,\"createRangyRange\"),new h(a)},f.createAliasForDeprecatedMethod(a,\"createIframeRange\",\"createRange\"),f.createAliasForDeprecatedMethod(a,\"createIframeRangyRange\",\"createRangyRange\"),a.addShimListener(function(b){var c=b.document;\"undefined\"==typeof c.createRange&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),H.createCoreModule(\"WrappedSelection\",[\"DomRange\",\"WrappedRange\"],function(a,b){function c(a){return\"string\"==typeof a?/^backward(s)?$/i.test(a):!!a}function d(a,c){if(a){if(C.isWindow(a))return a;if(a instanceof r)return a.win;var d=C.getContentDocument(a,b,c);return C.getWindow(d)}return window}function e(a){return d(a,\"getWinSelection\").getSelection()}function f(a){return d(a,\"getDocSelection\").document.selection}function g(a){var b=!1;return a.anchorNode&&(b=1==C.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b}function h(a,b,c){var d=c?\"end\":\"start\",e=c?\"start\":\"end\";a.anchorNode=b[d+\"Container\"],a.anchorOffset=b[d+\"Offset\"],a.focusNode=b[e+\"Container\"],a.focusOffset=b[e+\"Offset\"]}function i(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function j(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function k(b){var c;return b instanceof F?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof G?c=b.nativeRange:J.implementsDomRange&&b instanceof C.getWindow(b.startContainer).Range&&(c=b),c}function l(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c>b;++b)if(!C.isAncestorOf(a[0],a[b]))return!1;return!0}function m(a){var c=a.getNodes();if(!l(c))throw b.createError(\"getSingleElementFromRange: range \"+a.inspect()+\" did not consist of a single element\");return c[0]}function n(a){return!!a&&\"undefined\"!=typeof a.text}function o(a,b){var c=new G(b);a._ranges=[c],h(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function p(b){if(b._ranges.length=0,\"None\"==b.docSelection.type)j(b);else{var c=b.docSelection.createRange();if(n(c))o(b,c);else{b.rangeCount=c.length;for(var d,e=L(c.item(0)),f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,h(b,b._ranges[b.rangeCount-1],!1)}}}function q(a,c){for(var d=a.docSelection.createRange(),e=m(c),f=L(d.item(0)),g=M(f).createControlRange(),h=0,i=d.length;i>h;++h)g.add(d.item(h));try{g.add(e)}catch(j){throw b.createError(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\")}g.select(),p(a)}function r(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function s(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function t(a,b){for(var c,d,e=ba.length;e--;)if(c=ba[e],d=c.selection,\"deleteAll\"==b)s(d);else if(c.win==a)return\"delete\"==b?(ba.splice(e,1),!0):d;return\"deleteAll\"==b&&(ba.length=0),null}function u(a,c){for(var d,e=L(c[0].startContainer),f=M(e).createControlRange(),g=0,h=c.length;h>g;++g){d=m(c[g]);try{f.add(d)}catch(i){throw b.createError(\"setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)\")}}f.select(),p(a)}function v(a,b){if(a.win.document!=L(b))throw new H(\"WRONG_DOCUMENT_ERR\")}function w(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e[\"set\"+(b?\"Start\":\"End\")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function x(a){var b=[],c=new I(a.anchorNode,a.anchorOffset),d=new I(a.focusNode,a.focusOffset),e=\"function\"==typeof a.getName?a.getName():\"Selection\";if(\"undefined\"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=F.inspect(a.getRangeAt(f));return\"[\"+e+\"(Ranges: \"+b.join(\", \")+\")(anchor: \"+c.inspect()+\", focus: \"+d.inspect()+\"]\"}a.config.checkSelectionRanges=!0;var y,z,A=\"boolean\",B=\"number\",C=a.dom,D=a.util,E=D.isHostMethod,F=a.DomRange,G=a.WrappedRange,H=a.DOMException,I=C.DomPosition,J=a.features,K=\"Control\",L=C.getDocument,M=C.getBody,N=F.rangesEqual,O=E(window,\"getSelection\"),P=D.isHostObject(document,\"selection\");J.implementsWinGetSelection=O,J.implementsDocSelection=P;var Q=P&&(!O||a.config.preferTextRange);if(Q)y=f,a.isSelectionValid=function(a){var b=d(a,\"isSelectionValid\").document,c=b.selection;return\"None\"!=c.type||L(c.createRange().parentElement())==b};else{if(!O)return b.fail(\"Neither document.selection or window.getSelection() detected.\"),!1;y=e,a.isSelectionValid=function(){return!0}}a.getNativeSelection=y;var R=y();if(!R)return b.fail(\"Native selection was null (possibly issue 138?)\"),!1;var S=a.createNativeRange(document),T=M(document),U=D.areHostProperties(R,[\"anchorNode\",\"focusNode\",\"anchorOffset\",\"focusOffset\"]);J.selectionHasAnchorAndFocus=U;var V=E(R,\"extend\");J.selectionHasExtend=V;var W=typeof R.rangeCount==B;J.selectionHasRangeCount=W;var X=!1,Y=!0,Z=V?function(b,c){var d=F.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(k(e)),b.extend(c.startContainer,c.startOffset)}:null;D.areHostMethods(R,[\"addRange\",\"getRangeAt\",\"removeAllRanges\"])&&typeof R.rangeCount==B&&J.implementsDomRange&&!function(){var b=window.getSelection();if(b){for(var c=b.rangeCount,d=c>1,e=[],f=g(b),h=0;c>h;++h)e[h]=b.getRangeAt(h);var i=C.createTestElement(document,\"\",!1),j=i.appendChild(document.createTextNode(\"   \")),k=document.createRange();if(k.setStart(j,1),k.collapse(!0),b.removeAllRanges(),b.addRange(k),Y=1==b.rangeCount,b.removeAllRanges(),!d){var l=window.navigator.appVersion.match(/Chrome\\/(.*?) /);if(l&&parseInt(l[1])>=36)X=!1;else{var m=k.cloneRange();k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),b.addRange(k),b.addRange(m),X=2==b.rangeCount}}for(C.removeNode(i),b.removeAllRanges(),h=0;c>h;++h)0==h&&f?Z?Z(b,e[h]):(a.warn(\"Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend\"),b.addRange(e[h])):b.addRange(e[h])}}(),J.selectionSupportsMultipleRanges=X,J.collapsedNonEditableSelectionsSupported=Y;var $,_=!1;T&&E(T,\"createControlRange\")&&($=T.createControlRange(),D.areHostProperties($,[\"item\",\"add\"])&&(_=!0)),J.implementsControlRange=_,z=U?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var aa;E(R,\"getRangeAt\")?aa=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:U&&(aa=function(b){var c=L(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),r.prototype=a.selectionPrototype;var ba=[],ca=function(a){if(a&&a instanceof r)return a.refresh(),a;a=d(a,\"getNativeSelection\");var b=t(a),c=y(a),e=P?f(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh()):(b=new r(c,e,a),ba.push({win:a,selection:b})),b};a.getSelection=ca,D.createAliasForDeprecatedMethod(a,\"getIframeSelection\",\"getSelection\");var da=r.prototype;if(!Q&&U&&D.areHostMethods(R,[\"removeAllRanges\",\"addRange\"])){da.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),j(this)};var ea=function(a,b){Z(a.nativeSelection,b),a.refresh()};W?da.addRange=function(b,d){if(_&&P&&this.docSelection.type==K)q(this,b);else if(c(d)&&V)ea(this,b);else{var e;X?e=this.rangeCount:(this.removeAllRanges(),e=0);var f=k(b).cloneRange();try{this.nativeSelection.addRange(f)}catch(g){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==e+1){if(a.config.checkSelectionRanges){var i=aa(this.nativeSelection,this.rangeCount-1);i&&!N(i,b)&&(b=new G(i))}this._ranges[this.rangeCount-1]=b,h(this,b,ha(this.nativeSelection)),this.isCollapsed=z(this)}else this.refresh()}}:da.addRange=function(a,b){c(b)&&V?ea(this,a):(this.nativeSelection.addRange(k(a)),this.refresh())},da.setRanges=function(a){if(_&&P&&a.length>1)u(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(E(R,\"empty\")&&E(S,\"select\")&&_&&Q))return b.fail(\"No means of selecting a Range or TextRange was found\"),!1;da.removeAllRanges=function(){try{if(this.docSelection.empty(),\"None\"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if(this.docSelection.type==K){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}if(a){var c=M(a).createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}j(this)},da.addRange=function(b){this.docSelection.type==K?q(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,h(this,b,!1))},da.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?u(this,a):b&&this.addRange(a[0])}}da.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new H(\"INDEX_SIZE_ERR\");return this._ranges[a].cloneRange()};var fa;if(Q)fa=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=M(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==K?p(b):n(c)?o(b,c):j(b)};else if(E(R,\"getRangeAt\")&&typeof R.rangeCount==B)fa=function(b){if(_&&P&&b.docSelection.type==K)p(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));h(b,b._ranges[b.rangeCount-1],ha(b.nativeSelection)),b.isCollapsed=z(b)}else j(b)};else{if(!U||typeof R.isCollapsed!=A||typeof S.collapsed!=A||!J.implementsDomRange)return b.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\"),!1;fa=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=aa(c,0),a._ranges=[b],a.rangeCount=1,i(a),a.isCollapsed=z(a)):j(a)}}da.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;if(fa(this),a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;for(;e--;)if(!N(b[e],this._ranges[e]))return!0;return!1}};var ga=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;e>d;++d)N(b,c[d])||a.addRange(c[d]);a.rangeCount||j(a)};_&&P?da.removeRange=function(a){if(this.docSelection.type==K){for(var b,c=this.docSelection.createRange(),d=m(a),e=L(c.item(0)),f=M(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),p(this)}else ga(this,a)}:da.removeRange=function(a){ga(this,a)};var ha;!Q&&U&&J.implementsDomRange?(ha=g,da.isBackward=function(){return ha(this)}):ha=da.isBackward=function(){return!1},da.isBackwards=da.isBackward,da.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=\"\"+this._ranges[b];return a.join(\"\")},da.collapse=function(b,c){v(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},da.collapseToStart=function(){if(!this.rangeCount)throw new H(\"INVALID_STATE_ERR\");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},da.collapseToEnd=function(){if(!this.rangeCount)throw new H(\"INVALID_STATE_ERR\");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},da.selectAllChildren=function(b){v(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},da.deleteFromDocument=function(){if(_&&P&&this.docSelection.type==K){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),C.removeNode(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}}},da.eachRange=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(a(this.getRangeAt(c)))return b},da.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},da.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},da.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b||[]))}),c},da.setStart=w(!0),da.setEnd=w(!1),a.rangePrototype.select=function(a){ca(this.getDocument()).setSingleRange(this,a)},da.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&1==b.length?this.addRange(b[0],\"backward\"):this.setRanges(b)},da.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},da.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange(\"getBookmark\",[a])}},da.moveToBookmark=function(b){for(var c,d,e=[],f=0;c=b.rangeBookmarks[f++];)d=a.createRange(this.win),d.moveToBookmark(c),e.push(d);b.backward?this.setSingleRange(e[0],\"backward\"):this.setRanges(e)},da.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange(\"cloneRange\")}},da.restoreRanges=function(a){this.removeAllRanges();for(var b,c=0;b=a.ranges[c];++c)this.addRange(b,a.backward&&0==c)},da.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(F.toHtml(b))}),a.join(\"\")},J.implementsTextRange&&(da.getNativeTextRange=function(){var c;if(c=this.docSelection){var d=c.createRange();if(n(d))return d;throw b.createError(\"getNativeTextRange: selection is a control selection\")}if(this.rangeCount>0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError(\"getNativeTextRange: selection contains no range\")}),da.getName=function(){return\"WrappedSelection\"},da.inspect=function(){return x(this)},da.detach=function(){t(this.win,\"delete\"),s(this)},r.detachAll=function(){t(null,\"deleteAll\")},r.inspect=x,r.isDirectionBackward=c,a.Selection=r,a.selectionPrototype=da,a.addShimListener(function(a){\"undefined\"==typeof a.getSelection&&(a.getSelection=function(){return ca(a)}),a=null})});var M=!1,N=function(a){M||(M=!0,!H.initialized&&H.config.autoInitialize&&l())};return F&&(\"complete\"==document.readyState?N():(a(document,\"addEventListener\")&&document.addEventListener(\"DOMContentLoaded\",N,!1),J(window,\"load\",N))),H},this),function(a,b){\"function\"==typeof define&&define.amd?define([\"./rangy-core\"],a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a(require(\"rangy\")):a(b.rangy)}(function(a){return a.createModule(\"TextRange\",[\"WrappedSelection\"],function(a,b){function c(a,b){function c(a,b,c){h.push({start:a,end:b,isWord:c})}for(var d,e,f,g=a.join(\"\"),h=[],i=0;d=b.wordRegex.exec(g);){if(e=d.index,f=e+d[0].length,e>i&&c(i,e,!1),b.includeTrailingSpace)for(;$.test(a[f]);)++f;c(e,f,!0),i=f}return i<a.length&&c(i,a.length,!1),h}function d(a,b){for(var c=a.slice(b.start,b.end),d={isWord:b.isWord,chars:c,toString:function(){return c.join(\"\")}},e=0,f=c.length;f>e;++e)c[e].token=d;return d}function e(a,b,c){for(var e,f=c(a,b),g=[],h=0;e=f[h++];)g.push(d(a,e));return g}function f(a){var b=a||\"\",c=\"string\"==typeof b?b.split(\"\"):b;return c.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)}),c.join(\"\").replace(/(.)\\1+/g,\"$1\")}function g(a){var b,c;return a?(b=a.language||_,c={},U(c,ia[b]||ia[_]),U(c,a),c):ia[_]}function h(a,b){var c=V(a,b);return b.hasOwnProperty(\"wordOptions\")&&(c.wordOptions=g(c.wordOptions)),b.hasOwnProperty(\"characterOptions\")&&(c.characterOptions=V(c.characterOptions,ga)),c}function i(a,b){var c=na(a,\"display\",b),d=a.tagName.toLowerCase();return\"block\"==c&&fa&&oa.hasOwnProperty(d)?oa[d]:c}function j(a){for(var b=o(a),c=0,d=b.length;d>c;++c)if(1==b[c].nodeType&&\"none\"==i(b[c]))return!0;return!1}function k(a){var b;return 3==a.nodeType&&(b=a.parentNode)&&\"hidden\"==na(b,\"visibility\")}function l(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(i(a))||9==a.nodeType||11==a.nodeType)}function m(a){return S.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)}function n(a){for(var b=[];a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;return b}function o(a){return n(a).concat([a])}function p(a){for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null}function q(a,b){return!b&&a.hasChildNodes()?a.firstChild:p(a)}function r(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}var c=a.parentNode;return c&&1==c.nodeType?c:null}function s(a){if(!a||3!=a.nodeType)return!1;var b=a.data;if(\"\"===b)return!0;var c=a.parentNode;if(!c||1!=c.nodeType)return!1;var d=na(a.parentNode,\"whiteSpace\");return/^[\\t\\n\\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(d)||/^[\\t\\r ]+$/.test(b)&&\"pre-line\"==d}function t(a){if(\"\"===a.data)return!0;if(!s(a))return!1;var b=a.parentNode;return b?j(a)?!0:!1:!0}function u(a){var b=a.nodeType;return 7==b||8==b||j(a)||/^(script|style)$/i.test(a.nodeName)||k(a)||t(a)}function v(a,b){var c=a.nodeType;return 7==c||8==c||1==c&&\"none\"==i(a,b)}function w(){this.store={}}function x(a,b,c){return function(d){var e=this.cache;if(e.hasOwnProperty(a))return pa++,e[a];qa++;var f=b.call(this,c?this[c]:this,d);return e[a]=f,f}}function y(a,b){this.node=a,this.session=b,this.cache=new w,this.positions=new w}function z(a,b){this.offset=b,this.nodeWrapper=a,this.node=a.node,this.session=a.session,this.cache=new w}function A(){return\"[Position(\"+S.inspectNode(this.node)+\":\"+this.offset+\")]\"}function B(){return D(),Da=new Ea}function C(){return Da||B()}function D(){Da&&Da.detach(),Da=null}function E(a,c,d,e){function f(){var a=null;return c?(a=h,i||(h=h.previousVisible(),i=!h||d&&h.equals(d))):i||(a=h=h.nextVisible(),i=!h||d&&h.equals(d)),i&&(h=null),a}d&&(c?u(d.node)&&(d=a.previousVisible()):u(d.node)&&(d=d.nextVisible()));var g,h=a,i=!1,j=!1;return{next:function(){if(j)return j=!1,g;for(var a,b;a=f();)if(b=a.getCharacter(e))return g=a,a;return null},rewind:function(){if(!g)throw b.createError(\"createCharacterIterator: cannot rewind. Only one position can be rewound.\");j=!0},dispose:function(){a=d=null}}}function F(a,b,c){function d(a){for(var b,c,d=[],e=a?f:g,h=!1,i=!1;b=e.next();){if(c=b.character,Z.test(c))i&&(i=!1,h=!0);else{if(h){e.rewind();break}i=!0}d.push(b)}return d}var f=E(a,!1,null,b),g=E(a,!0,null,b),h=c.tokenizer,i=d(!0),j=d(!1).reverse(),k=e(j.concat(i),c,h),l=i.length?k.slice(Fa(k,i[0].token)):[],m=j.length?k.slice(0,Fa(k,j.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==l.length&&!(a=l[0]).isWord&&(b=d(!0)).length>0;)l=e(a.chars.concat(b),c,h);return l.shift()},previousStartToken:function(){for(var a,b;1==m.length&&!(a=m[0]).isWord&&(b=d(!1)).length>0;)m=e(b.reverse().concat(a.chars),c,h);return m.pop()},dispose:function(){f.dispose(),g.dispose(),l=m=null}}}function G(a,b,c,d,e){var f,g,h,i,j=0,k=a,l=Math.abs(c);if(0!==c){var m=0>c;switch(b){case Q:for(g=E(a,m,null,d);(f=g.next())&&l>j;)++j,k=f;h=f,g.dispose();break;case R:for(var n=F(a,d,e),o=m?n.previousStartToken:n.nextEndToken;(i=o())&&l>j;)i.isWord&&(++j,k=m?i.chars[0]:i.chars[i.chars.length-1]);break;default:throw new Error(\"movePositionBy: unit '\"+b+\"' not implemented\")}m?(k=k.previousVisible(),j=-j):k&&k.isLeadingSpace&&!k.isTrailingSpace&&(b==R&&(g=E(a,!1,null,d),h=g.next(),g.dispose()),h&&(k=h.previousVisible()))}return{position:k,unitsMoved:j}}function H(a,b,c,d){var e=a.getRangeBoundaryPosition(b,!0),f=a.getRangeBoundaryPosition(b,!1),g=d?f:e,h=d?e:f;return E(g,!!d,h,c)}function I(a,b,c){for(var d,e=[],f=H(a,b,c);d=f.next();)e.push(d);return f.dispose(),e}function J(b,c,d){var e=a.createRange(b.node);return e.setStartAndEnd(b.node,b.offset,c.node,c.offset),!e.expand(\"word\",{wordOptions:d})}function K(a,b,c,d,e){function f(a,b){var c=p[a].previousVisible(),d=p[b-1],f=!e.wholeWordsOnly||J(c,d,e.wordOptions);return{startPos:c,endPos:d,valid:f}}for(var g,h,i,j,k,l,m=aa(e.direction),n=E(a,m,a.session.getRangeBoundaryPosition(d,m),e.characterOptions),o=\"\",p=[],q=null;g=n.next();)if(h=g.character,c||e.caseSensitive||(h=h.toLowerCase()),m?(p.unshift(g),o=h+o):(p.push(g),o+=h),c){if(k=b.exec(o))if(i=k.index,j=i+k[0].length,l){if(!m&&j<o.length||m&&i>0){q=f(i,j);break}}else l=!0}else if(-1!=(i=o.indexOf(b))){q=f(i,i+b.length);break}return l&&(q=f(i,j)),n.dispose(),q}function L(a){return function(){var b=!!Da,c=C(),d=[c].concat(T.toArray(arguments)),e=a.apply(this,d);return b||D(),e}}function M(a,b){return L(function(c,d,e,f){typeof e==P&&(e=d,d=Q),f=h(f,ka);var g=a;b&&(g=e>=0,this.collapse(!g));var i=G(c.getRangeBoundaryPosition(this,g),d,e,f.characterOptions,f.wordOptions),j=i.position;return this[g?\"setStart\":\"setEnd\"](j.node,j.offset),i.unitsMoved})}function N(a){return L(function(b,c){c=V(c,ga);for(var d,e=H(b,this,c,!a),f=0;(d=e.next())&&Z.test(d.character);)++f;e.dispose();var g=f>0;return g&&this[a?\"moveStart\":\"moveEnd\"](\"character\",a?f:-f,{characterOptions:c}),g})}function O(a){return L(function(b,c){var d=!1;return this.changeEachRange(function(b){d=b[a](c)||d}),d})}var P=\"undefined\",Q=\"character\",R=\"word\",S=a.dom,T=a.util,U=T.extend,V=T.createOptions,W=S.getBody,X=/^[ \\t\\f\\r\\n]+$/,Y=/^[ \\t\\f\\r]+$/,Z=/^[\\t-\\r \\u0085\\u00A0\\u1680\\u180E\\u2000-\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000]+$/,$=/^[\\t \\u00A0\\u1680\\u180E\\u2000-\\u200B\\u202F\\u205F\\u3000]+$/,_=\"en\",aa=a.Selection.isDirectionBackward,ba=!1,ca=!1,da=!1,ea=!0;!function(){var b=S.createTestElement(document,\"<p>1 </p><p></p>\",!0),c=b.firstChild,d=a.getSelection();d.collapse(c.lastChild,2),d.setStart(c.firstChild,0),ba=1==(\"\"+d).length,b.innerHTML=\"1 <br />\",d.collapse(b,2),d.setStart(b.firstChild,0),ca=1==(\"\"+d).length,b.innerHTML=\"1 <p>1</p>\",d.collapse(b,2),d.setStart(b.firstChild,0),da=1==(\"\"+d).length,S.removeNode(b),d.removeAllRanges()}();var fa,ga={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:\"\"},ha={includeBlockContentTrailingSpace:!ea,includeSpaceBeforeBr:!ca,includeSpaceBeforeBlock:!da,includePreLineTrailingSpace:!0},ia={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:c}},ja={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:\"forward\",wordOptions:null,characterOptions:null},ka={wordOptions:null,characterOptions:null},la={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},ma={wordOptions:null,characterOptions:null,direction:\"forward\"},na=S.getComputedStyleProperty;!function(){var a=document.createElement(\"table\"),b=W(document);b.appendChild(a),fa=\"block\"==na(a,\"display\"),b.removeChild(a)}();var oa={table:\"table\",caption:\"table-caption\",colgroup:\"table-column-group\",col:\"table-column\",thead:\"table-header-group\",tbody:\"table-row-group\",tfoot:\"table-footer-group\",tr:\"table-row\",td:\"table-cell\",th:\"table-cell\"};w.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var pa=0,qa=0,ra={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new z(this,a))},toString:function(){return\"[NodeWrapper(\"+S.inspectNode(this.node)+\")]\"}};y.prototype=ra;var sa=\"EMPTY\",ta=\"NON_SPACE\",ua=\"UNCOLLAPSIBLE_SPACE\",va=\"COLLAPSIBLE_SPACE\",wa=\"TRAILING_SPACE_BEFORE_BLOCK\",xa=\"TRAILING_SPACE_IN_BLOCK\",ya=\"TRAILING_SPACE_BEFORE_BR\",za=\"PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK\",Aa=\"TRAILING_LINE_BREAK_AFTER_BR\",Ba=\"INCLUDED_TRAILING_LINE_BREAK_AFTER_BR\";U(ra,{isCharacterDataNode:x(\"isCharacterDataNode\",S.isCharacterDataNode,\"node\"),getNodeIndex:x(\"nodeIndex\",S.getNodeIndex,\"node\"),getLength:x(\"nodeLength\",S.getNodeLength,\"node\"),containsPositions:x(\"containsPositions\",m,\"node\"),isWhitespace:x(\"isWhitespace\",s,\"node\"),isCollapsedWhitespace:x(\"isCollapsedWhitespace\",t,\"node\"),getComputedDisplay:x(\"computedDisplay\",i,\"node\"),isCollapsed:x(\"collapsed\",u,\"node\"),isIgnored:x(\"ignored\",v,\"node\"),next:x(\"nextPos\",q,\"node\"),previous:x(\"previous\",r,\"node\"),getTextNodeInfo:x(\"textNodeInfo\",function(a){var b=null,c=!1,d=na(a.parentNode,\"whiteSpace\"),e=\"pre-line\"==d;return e?(b=Y,c=!0):(\"normal\"==d||\"nowrap\"==d)&&(b=X,c=!0),{node:a,text:a.data,spaceRegex:b,collapseSpaces:c,preLine:e}},\"node\"),hasInnerText:x(\"hasInnerText\",function(a,b){for(var c=this.session,d=c.getPosition(a.parentNode,this.getNodeIndex()+1),e=c.getPosition(a,0),f=b?d:e,g=b?e:d;f!==g;){\nif(f.prepopulateChar(),f.isDefinitelyNonEmpty())return!0;f=b?f.previousVisible():f.nextVisible()}return!1},\"node\"),isRenderedBlock:x(\"isRenderedBlock\",function(a){for(var b=a.getElementsByTagName(\"br\"),c=0,d=b.length;d>c;++c)if(!u(b[c]))return!0;return this.hasInnerText()},\"node\"),getTrailingSpace:x(\"trailingSpace\",function(a){if(\"br\"==a.tagName.toLowerCase())return\"\";switch(this.getComputedDisplay()){case\"inline\":for(var b=a.lastChild;b;){if(!v(b))return 1==b.nodeType?this.session.getNodeWrapper(b).getTrailingSpace():\"\";b=b.previousSibling}break;case\"inline-block\":case\"inline-table\":case\"none\":case\"table-column\":case\"table-column-group\":break;case\"table-cell\":return\"\t\";default:return this.isRenderedBlock(!0)?\"\\n\":\"\"}return\"\"},\"node\"),getLeadingSpace:x(\"leadingSpace\",function(a){switch(this.getComputedDisplay()){case\"inline\":case\"inline-block\":case\"inline-table\":case\"none\":case\"table-column\":case\"table-column-group\":case\"table-cell\":break;default:return this.isRenderedBlock(!1)?\"\\n\":\"\"}return\"\"},\"node\")});var Ca={character:\"\",characterType:sa,isBr:!1,prepopulateChar:function(){var a=this;if(!a.prepopulatedChar){var b=a.node,c=a.offset,d=\"\",e=sa,f=!1;if(c>0)if(3==b.nodeType){var g=b.data,h=g.charAt(c-1),i=a.nodeWrapper.getTextNodeInfo(),j=i.spaceRegex;i.collapseSpaces?j.test(h)?c>1&&j.test(g.charAt(c-2))||(i.preLine&&\"\\n\"===g.charAt(c)?(d=\" \",e=za):(d=\" \",e=va)):(d=h,e=ta,f=!0):(d=h,e=ua,f=!0)}else{var k=b.childNodes[c-1];if(k&&1==k.nodeType&&!u(k)&&(\"br\"==k.tagName.toLowerCase()?(d=\"\\n\",a.isBr=!0,e=va,f=!1):a.checkForTrailingSpace=!0),!d){var l=b.childNodes[c];l&&1==l.nodeType&&!u(l)&&(a.checkForLeadingSpace=!0)}}a.prepopulatedChar=!0,a.character=d,a.characterType=e,a.isCharInvariant=f}},isDefinitelyNonEmpty:function(){var a=this.characterType;return a==ta||a==ua},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=!0,this.character=a,this.characterType=va),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var b=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();b&&(this.isLeadingSpace=!0,this.character=b,this.characterType=va),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b,c=this;c=c.previousVisible();)if(b=c.getCharacter(a),\"\"!==b)return c;return null},getCharacter:function(a){function b(){return n||(k=o.getPrecedingUncollapsedPosition(a),n=!0),k}this.resolveLeadingAndTrailingSpaces();var c,d=this.character,e=f(a.ignoreCharacters),g=\"\"!==d&&e.indexOf(d)>-1;if(this.isCharInvariant)return c=g?\"\":d;var h=[\"character\",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,e].join(\"_\"),i=this.cache.get(h);if(null!==i)return i;var j,k,l=\"\",m=this.characterType==va,n=!1,o=this;return m&&(this.type==Ba?l=\"\\n\":\" \"==d&&(!b()||k.isTrailingSpace||\"\\n\"==k.character||\" \"==k.character&&k.characterType==va)||(\"\\n\"==d&&this.isLeadingSpace?b()&&\"\\n\"!=k.character&&(l=\"\\n\"):(j=this.nextUncollapsed(),j&&(j.isBr?this.type=ya:j.isTrailingSpace&&\"\\n\"==j.character?this.type=xa:j.isLeadingSpace&&\"\\n\"==j.character&&(this.type=wa),\"\\n\"==j.character?(this.type!=ya||a.includeSpaceBeforeBr)&&(this.type!=wa||a.includeSpaceBeforeBlock)&&(this.type==xa&&j.isTrailingSpace&&!a.includeBlockContentTrailingSpace||(this.type!=za||j.type!=ta||a.includePreLineTrailingSpace)&&(\"\\n\"==d?j.isTrailingSpace?this.isTrailingSpace||this.isBr&&(j.type=Aa,b()&&k.isLeadingSpace&&!k.isTrailingSpace&&\"\\n\"==k.character?j.character=\"\":j.type=Ba):l=\"\\n\":\" \"==d&&(l=\" \"))):l=d)))),e.indexOf(l)>-1&&(l=\"\"),this.cache.set(h,l),l},equals:function(a){return!!a&&this.node===a.node&&this.offset===a.offset},inspect:A,toString:function(){return this.character}};z.prototype=Ca,U(Ca,{next:x(\"nextPos\",function(a){var b=a.nodeWrapper,c=a.node,d=a.offset,e=b.session;if(!c)return null;var f,g,h;return d==b.getLength()?(f=c.parentNode,g=f?b.getNodeIndex()+1:0):b.isCharacterDataNode()?(f=c,g=d+1):(h=c.childNodes[d],e.getNodeWrapper(h).containsPositions()?(f=h,g=0):(f=c,g=d+1)),f?e.getPosition(f,g):null}),previous:x(\"previous\",function(a){var b,c,d,e=a.nodeWrapper,f=a.node,g=a.offset,h=e.session;return 0==g?(b=f.parentNode,c=b?e.getNodeIndex():0):e.isCharacterDataNode()?(b=f,c=g-1):(d=f.childNodes[g-1],h.getNodeWrapper(d).containsPositions()?(b=d,c=S.getNodeLength(d)):(b=f,c=g-1)),b?h.getPosition(b,c):null}),nextVisible:x(\"nextVisible\",function(a){var b=a.next();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex()+1)),e}),nextUncollapsed:x(\"nextUncollapsed\",function(a){for(var b=a;b=b.nextVisible();)if(b.resolveLeadingAndTrailingSpaces(),\"\"!==b.character)return b;return null}),previousVisible:x(\"previousVisible\",function(a){var b=a.previous();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex())),e})});var Da=null,Ea=function(){function a(a){var b=new w;return{get:function(c){var d=b.get(c[a]);if(d)for(var e,f=0;e=d[f++];)if(e.node===c)return e;return null},set:function(c){var d=c.node[a],e=b.get(d)||b.set(d,[]);e.push(c)}}}function b(){this.initCaches()}var c=T.isHostProperty(document.documentElement,\"uniqueID\");return b.prototype={initCaches:function(){this.elementCache=c?function(){var a=new w;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a(\"tagName\"),this.textNodeCache=a(\"data\"),this.otherNodeCache=a(\"nodeName\")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var c=b.get(a);return c||(c=new y(a,this),b.set(c)),c},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var c=b?\"start\":\"end\";return this.getPosition(a[c+\"Container\"],a[c+\"Offset\"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},b}();U(S,{nextNode:q,previousNode:r});var Fa=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)if(a[c]===b)return c;return-1};U(a.rangePrototype,{moveStart:M(!0,!1),moveEnd:M(!1,!1),move:M(!0,!0),trimStart:N(!0),trimEnd:N(!1),trim:L(function(a,b){var c=this.trimStart(b),d=this.trimEnd(b);return c||d}),expand:L(function(a,b,c){var d=!1;c=h(c,la);var e=c.characterOptions;if(b||(b=Q),b==R){var f,g,i=c.wordOptions,j=a.getRangeBoundaryPosition(this,!0),k=a.getRangeBoundaryPosition(this,!1),l=F(j,e,i),m=l.nextEndToken(),n=m.chars[0].previousVisible();if(this.collapsed)f=m;else{var o=F(k,e,i);f=o.previousStartToken()}return g=f.chars[f.chars.length-1],n.equals(j)||(this.setStart(n.node,n.offset),d=!0),g&&!g.equals(k)&&(this.setEnd(g.node,g.offset),d=!0),c.trim&&(c.trimStart&&(d=this.trimStart(e)||d),c.trimEnd&&(d=this.trimEnd(e)||d)),d}return this.moveEnd(Q,1,c)}),text:L(function(a,b){return this.collapsed?\"\":I(a,this,V(b,ga)).join(\"\")}),selectCharacters:L(function(a,b,c,d,e){var f={characterOptions:e};b||(b=W(this.getDocument())),this.selectNodeContents(b),this.collapse(!0),this.moveStart(\"character\",c,f),this.collapse(!0),this.moveEnd(\"character\",d-c,f)}),toCharacterRange:L(function(a,b,c){b||(b=W(this.getDocument()));var d,e,f=b.parentNode,g=S.getNodeIndex(b),h=-1==S.comparePoints(this.startContainer,this.endContainer,f,g),i=this.cloneRange();return h?(i.setStartAndEnd(this.startContainer,this.startOffset,f,g),d=-i.text(c).length):(i.setStartAndEnd(f,g,this.startContainer,this.startOffset),d=i.text(c).length),e=d+this.text(c).length,{start:d,end:e}}),findText:L(function(b,c,d){d=h(d,ja),d.wholeWordsOnly&&(d.wordOptions.includeTrailingSpace=!1);var e=aa(d.direction),f=d.withinRange;f||(f=a.createRange(),f.selectNodeContents(this.getDocument()));var g=c,i=!1;\"string\"==typeof g?d.caseSensitive||(g=g.toLowerCase()):i=!0;var j=b.getRangeBoundaryPosition(this,!e),k=f.comparePoint(j.node,j.offset);-1===k?j=b.getRangeBoundaryPosition(f,!0):1===k&&(j=b.getRangeBoundaryPosition(f,!1));for(var l,m=j,n=!1;;)if(l=K(m,g,i,f,d)){if(l.valid)return this.setStartAndEnd(l.startPos.node,l.startPos.offset,l.endPos.node,l.endPos.offset),!0;m=e?l.startPos:l.endPos}else{if(!d.wrap||n)return!1;f=f.cloneRange(),m=b.getRangeBoundaryPosition(f,!e),f.setBoundary(j.node,j.offset,e),n=!0}}),pasteHtml:function(a){if(this.deleteContents(),a){var b=this.createContextualFragment(a),c=b.lastChild;this.insertNode(b),this.collapseAfter(c)}}}),U(a.selectionPrototype,{expand:L(function(a,b,c){this.changeEachRange(function(a){a.expand(b,c)})}),move:L(function(a,b,c,d){var e=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var f=this.getRangeAt(0);d||(d={}),d.characterOptions=V(d.characterOptions,ha),e=f.move(b,c,d),this.setSingleRange(f)}return e}),trimStart:O(\"trimStart\"),trimEnd:O(\"trimEnd\"),trim:O(\"trim\"),selectCharacters:L(function(b,c,d,e,f,g){var h=a.createRange(c);h.selectCharacters(c,d,e,g),this.setSingleRange(h,f)}),saveCharacterRanges:L(function(a,b,c){for(var d=this.getAllRanges(),e=d.length,f=[],g=1==e&&this.isBackward(),h=0,i=d.length;i>h;++h)f[h]={characterRange:d[h].toCharacterRange(b,c),backward:g,characterOptions:c};return f}),restoreCharacterRanges:L(function(b,c,d){this.removeAllRanges();for(var e,f,g,h=0,i=d.length;i>h;++h)f=d[h],g=f.characterRange,e=a.createRange(c),e.selectCharacters(c,g.start,g.end,f.characterOptions),this.addRange(e,f.backward)}),text:L(function(a,b){for(var c=[],d=0,e=this.rangeCount;e>d;++d)c[d]=this.getRangeAt(d).text(b);return c.join(\"\")})}),a.innerText=function(b,c){var d=a.createRange(b);d.selectNodeContents(b);var e=d.text(c);return e},a.createWordIterator=function(a,b,c){var d=C();c=h(c,ma);var e=d.getPosition(a,b),f=F(e,c.characterOptions,c.wordOptions),g=aa(c.direction);return{next:function(){return g?f.previousStartToken():f.nextEndToken()},dispose:function(){f.dispose(),this.next=function(){}}}},a.noMutation=function(a){var b=C();a(b),D()},a.noMutation.createEntryPointFunction=L,a.textRange={isBlockNode:l,isCollapsedWhitespaceNode:t,createPosition:L(function(a,b,c){return a.getPosition(b,c)})}}),a},this),function(a,b){\"function\"==typeof define&&define.amd?define([\"./rangy-core\"],a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a(require(\"rangy\")):a(b.rangy)}(function(a){return a.createModule(\"SaveRestore\",[\"WrappedRange\"],function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d=\"selectionBoundary_\"+ +new Date+\"_\"+(\"\"+Math.random()).slice(2),e=o.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement(\"span\"),c.id=d,c.style.lineHeight=\"0\",c.style.display=\"none\",c.className=\"rangySelectionBoundary\",c.appendChild(e.createTextNode(r)),f.insertNode(c),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?\"setStartBefore\":\"setEndBefore\"](g),p(g)):b.warn(\"Marker element has been removed. Cannot restore selection.\")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(b,c){var e,f,g=a.DomRange.getRangeDocument(b),h=b.toString(),i=q(c);return b.collapsed?(f=d(b,!1),{document:g,markerId:f.id,collapsed:!0}):(f=d(b,!1),e=d(b,!0),{document:g,startMarkerId:e.id,endMarkerId:f.id,collapsed:!1,backward:i,toString:function(){return\"original text: '\"+h+\"', new text: '\"+b.toString()+\"'\"}})}function h(d,f){var g=d.document;\"undefined\"==typeof f&&(f=!0);var h=a.createRange(g);if(d.collapsed){var i=c(d.markerId,g);if(i){i.style.display=\"inline\";var j=i.previousSibling;j&&3==j.nodeType?(p(i),h.collapseToPoint(j,j.length)):(h.collapseBefore(i),p(i))}else b.warn(\"Marker element has been removed. Cannot restore selection.\")}else e(g,h,d.startMarkerId,!0),e(g,h,d.endMarkerId,!1);return f&&h.normalizeBoundaries(),h}function i(b,d){var e,h,i=[],j=q(d);b=b.slice(0),b.sort(f);for(var k=0,l=b.length;l>k;++k)i[k]=g(b[k],j);for(k=l-1;k>=0;--k)e=b[k],h=a.DomRange.getRangeDocument(e),e.collapsed?e.collapseAfter(c(i[k].markerId,h)):(e.setEndBefore(c(i[k].endMarkerId,h)),e.setStartAfter(c(i[k].startMarkerId,h)));return i}function j(c){if(!a.isSelectionValid(c))return b.warn(\"Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.\"),null;var d=a.getSelection(c),e=d.getAllRanges(),f=1==e.length&&d.isBackward(),g=i(e,f);return f?d.setSingleRange(e[0],f):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}}function k(a){for(var b=[],c=a.length,d=c-1;d>=0;d--)b[d]=h(a[d],!0);return b}function l(b,c){if(!b.restored){var d=b.rangeInfos,e=a.getSelection(b.win),f=k(d),g=d.length;1==g&&c&&a.features.selectionHasExtend&&d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0}}function m(a,b){var d=c(b,a);d&&p(d)}function n(a){for(var b,c=a.rangeInfos,d=0,e=c.length;e>d;++d)b=c[d],b.collapsed?m(a.doc,b.markerId):(m(a.doc,b.startMarkerId),m(a.doc,b.endMarkerId))}var o=a.dom,p=o.removeNode,q=a.Selection.isDirectionBackward,r=\"\\ufeff\";a.util.extend(a,{saveRange:g,restoreRange:h,saveRanges:i,restoreRanges:k,saveSelection:j,restoreSelection:l,removeMarkerElement:m,removeMarkers:n})}),a},this);var Base=function(){};Base.extend=function(a,b){var c=Base.prototype.extend;Base._prototyping=!0;var d=new this;c.call(d,a),d.base=function(){},delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||c).call(arguments[0],d)};return f.ancestor=this,f.extend=this.extend,f.forEach=this.forEach,f.implement=this.implement,f.prototype=d,f.toString=this.toString,f.valueOf=function(a){return\"object\"==a?f:e.valueOf()},c.call(f,b),\"function\"==typeof f.init&&f.init(),f},Base.prototype={extend:function(a,b){if(arguments.length>1){var c=this[a];if(c&&\"function\"==typeof b&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\\bbase\\b/.test(b)){var d=b.valueOf();b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=d.apply(this,arguments);return this.base=a,b},b.valueOf=function(a){return\"object\"==a?b:d},b.toString=Base.toString}this[a]=b}else if(a){var e=Base.prototype.extend;Base._prototyping||\"function\"==typeof this||(e=this.extend||e);for(var f={toSource:null},g=[\"constructor\",\"toString\",\"valueOf\"],h=Base._prototyping?0:1;i=g[h++];)a[i]!=f[i]&&e.call(this,i,a[i]);for(var i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:\"1.1\",forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)\"function\"==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function a(a){return+(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\\d+).+? like mac os x/)||[void 0,0])[1]}function b(a){return+(a.match(/android (\\d+)/)||[void 0,0])[1]}function c(a,b){var c,d=-1;return\"Microsoft Internet Explorer\"==navigator.appName?c=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\"):\"Netscape\"==navigator.appName&&(navigator.userAgent.indexOf(\"Trident\")>-1?c=new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\"):/Edge\\/(\\d+)./i.test(navigator.userAgent)&&(c=/Edge\\/(\\d+)./i)),c&&null!=c.exec(navigator.userAgent)&&(d=parseFloat(RegExp.$1)),-1===d?!1:a?b?\"<\"===b?d>a:\">\"===b?a>d:\"<=\"===b?d>=a:\">=\"===b?a>=d:void 0:a===d:!0}var d=navigator.userAgent,e=document.createElement(\"div\"),f=-1!==d.indexOf(\"Gecko\")&&-1===d.indexOf(\"KHTML\"),g=-1!==d.indexOf(\"AppleWebKit/\"),h=-1!==d.indexOf(\"Chrome/\"),i=-1!==d.indexOf(\"Opera/\");return{USER_AGENT:d,supported:function(){var c=this.USER_AGENT.toLowerCase(),d=\"contentEditable\"in e,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h=this.isIos()&&a(c)<5||this.isAndroid()&&b(c)<4||-1!==c.indexOf(\"opera mobi\")||-1!==c.indexOf(\"hpwos/\");return d&&f&&g&&!h},isTouchDevice:function(){return this.supportsEvent(\"touchmove\")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf(\"Android\")},supportsSandboxedIframes:function(){return c()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!(\"querySelector\"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return c(12,\">\")},hasCurrentStyleProperty:function(){return\"currentStyle\"in e},insertsLineBreaksOnReturn:function(){return f},supportsPlaceholderAttributeOn:function(a){return\"placeholder\"in a},supportsEvent:function(a){return\"on\"+a in e||function(){return e.setAttribute(\"on\"+a,\"return;\"),\"function\"==typeof e[\"on\"+a]}()},supportsEventsInIframeCorrectly:function(){return!i},supportsHTML5Tags:function(a){var b=a.createElement(\"div\"),c=\"<article>foo</article>\";return b.innerHTML=c,b.innerHTML.toLowerCase()===c},supportsCommand:function(){var a={formatBlock:c(10,\"<=\"),insertUnorderedList:c(9,\">=\")||c(12,\"<=\"),insertOrderedList:c(9,\">=\")||c(12,\"<=\")},b={insertHTML:f};return function(c,d){var e=a[d];if(!e){try{return c.queryCommandSupported(d)}catch(f){}try{return c.queryCommandEnabled(d)}catch(g){return!!b[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return c()},canDisableAutoLinking:function(){return this.supportsCommand(document,\"AutoUrlDetect\")},clearsContentEditableCorrectly:function(){return f||i||g},supportsGetAttributeCorrectly:function(){var a=document.createElement(\"td\");return\"1\"!=a.getAttribute(\"rowspan\")},canSelectImagesInContentEditable:function(){return f||c()||i},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a,b,c=e.cloneNode(!1);return c.innerHTML=\"<p><div></div>\",b=c.innerHTML.toLowerCase(),a=\"<p></p><div></div>\"===b||\"<p><div></div></p>\"===b,this.autoClosesUnclosedTags=function(){return a},a},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf(\"[native code]\")},supportsSelectionModify:function(){return\"getSelection\"in window&&\"modify\"in window.getSelection()},needsSpaceAfterLineBreak:function(){return i},supportsSpeechApiOn:function(a){var b=d.match(/Chrome\\/(\\d+)/)||[void 0,0];return b[1]>=11&&(\"onwebkitspeechchange\"in a||\"speech\"in a)},crashesWhenDefineProperty:function(a){return c(9)&&(\"XMLHttpRequest\"===a||\"XDomainRequest\"===a)},doesAsyncFocus:function(){return c(12,\">\")},hasProblemsSettingCaretAfterImg:function(){return c()},hasUndoInContextMenu:function(){return f||h||i},hasInsertNodeIssue:function(){return i},hasIframeFocusIssue:function(){return c()},createsNestedInvalidMarkupAfterPaste:function(){return g},supportsMutationEvents:function(){return\"MutationEvent\"in window},supportsModernPaste:function(){return!c()},fixStyleKey:function(a){return\"cssFloat\"===a?\"styleFloat\"in document.createElement(\"div\").style?\"styleFloat\":\"cssFloat\":a}}}(),wysihtml5.lang.array=function(a){return{contains:function(b){if(Array.isArray(b)){for(var c=b.length;c--;)if(-1!==wysihtml5.lang.array(a).indexOf(b[c]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(b)},indexOf:function(b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},without:function(b){b=wysihtml5.lang.array(b);for(var c=[],d=0,e=a.length;e>d;d++)b.contains(a[d])||c.push(a[d]);return c},get:function(){for(var b=0,c=a.length,d=[];c>b;b++)d.push(a[b]);return d},map:function(b,c){if(Array.prototype.map)return a.map(b,c);for(var d=a.length>>>0,e=new Array(d),f=0;d>f;f++)e[f]=b.call(c,a[f],f,a);return e},unique:function(){for(var b=[],c=a.length,d=0;c>d;)wysihtml5.lang.array(b).contains(a[d])||b.push(a[d]),d++;return b}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(a,b){return this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b),this},off:function(a,b){this.events=this.events||{};var c,d,e=0;if(a){for(c=this.events[a]||[],d=[];e<c.length;e++)c[e]!==b&&b&&d.push(c[e]);this.events[a]=d}else this.events={};return this},fire:function(a,b){this.events=this.events||{};for(var c=this.events[a]||[],d=0;d<c.length;d++)c[d].call(this,b);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(a){return{merge:function(b,c){for(var d in b)c&&wysihtml5.lang.object(b[d]).isPlainObject()&&(\"undefined\"==typeof a[d]||wysihtml5.lang.object(a[d]).isPlainObject())?\"undefined\"==typeof a[d]?a[d]=wysihtml5.lang.object(b[d]).clone(!0):wysihtml5.lang.object(a[d]).merge(wysihtml5.lang.object(b[d]).clone(!0)):a[d]=wysihtml5.lang.object(b[d]).isPlainObject()?wysihtml5.lang.object(b[d]).clone(!0):b[d];return this},difference:function(b){var c={};for(var d in a)a.hasOwnProperty(d)&&(b.hasOwnProperty(d)||(c[d]=a[d]));for(var e in b)b.hasOwnProperty(e)&&(a.hasOwnProperty(e)&&a[e]===b[e]||(c[0]=a[0]));return c},get:function(){return a},clone:function(b){var c,d={};if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(c in a)a.hasOwnProperty(c)&&(b?d[c]=wysihtml5.lang.object(a[c]).clone(b):d[c]=a[c]);return d},isArray:function(){return\"[object Array]\"===Object.prototype.toString.call(a)},isFunction:function(){return\"[object Function]\"===Object.prototype.toString.call(a)},isPlainObject:function(){return a&&\"[object Object]\"===Object.prototype.toString.call(a)&&!(\"Node\"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}}},function(){var a=/^\\s+/,b=/\\s+$/,c=/[&<>\\t\"]/g,d={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"\t\":\"&nbsp; \"};wysihtml5.lang.string=function(e){return e=String(e),{trim:function(){return e.replace(a,\"\").replace(b,\"\")},interpolate:function(a){for(var b in a)e=this.replace(\"#{\"+b+\"}\").by(a[b]);return e},replace:function(a){return{by:function(b){return e.split(a).join(b)}}},escapeHTML:function(a,b){var f=e.replace(c,function(a){return d[a]});return a&&(f=f.replace(/(?:\\r\\n|\\r|\\n)/g,\"<br />\")),b&&(f=f.replace(/  /gi,\"&nbsp; \")),f}}}}(),function(a){function b(a,b){return f(a,b)?a:(a===a.ownerDocument.documentElement&&(a=a.ownerDocument.body),g(a,b))}function c(a){return a.replace(i,function(a,b){var c=(b.match(j)||[])[1]||\"\",d=l[c];b=b.replace(j,\"\"),b.split(d).length>b.split(c).length&&(b+=c,c=\"\");var e=b,f=b;return b.length>k&&(f=f.substr(0,k)+\"...\"),\"www.\"===e.substr(0,4)&&(e=\"http://\"+e),'<a href=\"'+e+'\">'+f+\"</a>\"+c})}function d(a){var b=a._wysihtml5_tempElement;return b||(b=a._wysihtml5_tempElement=a.createElement(\"div\")),b}function e(b){var e=b.parentNode,f=a.lang.string(b.data).escapeHTML(),g=d(e.ownerDocument);for(g.innerHTML=\"<span></span>\"+c(f),g.removeChild(g.firstChild);g.firstChild;)e.insertBefore(g.firstChild,b);e.removeChild(b)}function f(b,c){for(var d;b.parentNode;){if(b=b.parentNode,d=b.nodeName,b.className&&a.lang.array(b.className.split(\" \")).contains(c))return!0;if(h.contains(d))return!0;if(\"body\"===d)return!1}return!1}function g(b,c){if(!(h.contains(b.nodeName)||b.className&&a.lang.array(b.className.split(\" \")).contains(c))){if(b.nodeType===a.TEXT_NODE&&b.data.match(i))return void e(b);for(var d=a.lang.array(b.childNodes).get(),f=d.length,j=0;f>j;j++)g(d[j],c);return b}}var h=a.lang.array([\"CODE\",\"PRE\",\"A\",\"SCRIPT\",\"HEAD\",\"TITLE\",\"STYLE\"]),i=/((https?:\\/\\/|www\\.)[^\\s<]{3,})/gi,j=/([^\\w\\/\\-](,?))$/i,k=100,l={\")\":\"(\",\"]\":\"[\",\"}\":\"{\"};a.dom.autoLink=b,a.dom.autoLink.URL_REG_EXP=i}(wysihtml5),function(a){var b=a.dom;b.addClass=function(a,c){var d=a.classList;return d?d.add(c):void(b.hasClass(a,c)||(a.className+=\" \"+c))},b.removeClass=function(a,b){var c=a.classList;return c?c.remove(b):void(a.className=a.className.replace(new RegExp(\"(^|\\\\s+)\"+b+\"(\\\\s+|$)\"),\" \"))},b.hasClass=function(a,b){var c=a.classList;if(c)return c.contains(b);var d=a.className;return d.length>0&&(d==b||new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\").test(d))}}(wysihtml5),wysihtml5.dom.contains=function(){var a=document.documentElement;return a.contains?function(a,b){if(b.nodeType!==wysihtml5.ELEMENT_NODE){if(b.parentNode===a)return!0;b=b.parentNode}return a!==b&&a.contains(b)}:a.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:void 0}(),wysihtml5.dom.convertToList=function(){function a(a,b){var c=a.createElement(\"li\");return b.appendChild(c),c}function b(a,b){return a.createElement(b)}function c(c,d,e){if(\"UL\"===c.nodeName||\"OL\"===c.nodeName||\"MENU\"===c.nodeName)return c;var f,g,h,i,j,k,l,m,n,o=c.ownerDocument,p=b(o,d),q=c.querySelectorAll(\"br\"),r=q.length;for(n=0;r>n;n++)for(i=q[n];(j=i.parentNode)&&j!==c&&j.lastChild===i;){if(\"block\"===wysihtml5.dom.getStyle(\"display\").from(j)){j.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(f=wysihtml5.lang.array(c.childNodes).get(),g=f.length,n=0;g>n;n++)m=m||a(o,p),h=f[n],k=\"block\"===wysihtml5.dom.getStyle(\"display\").from(h),l=\"BR\"===h.nodeName,!k||e&&wysihtml5.dom.hasClass(h,e)?l?m=m.firstChild?null:m:m.appendChild(h):(m=m.firstChild?a(o,p):m,m.appendChild(h),m=null);return 0===f.length&&a(o,p),c.parentNode.replaceChild(p,c),p}return c}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){for(var d,e=0,f=a.length;f>e;e++)d=a[e],\"undefined\"!=typeof b[d]&&\"\"!==b[d]&&(c[d]=b[d]);return{andTo:arguments.callee}}}}}},function(a){var b=[\"-webkit-box-sizing\",\"-moz-box-sizing\",\"-ms-box-sizing\",\"box-sizing\"],c=function(b){return d(b)?parseInt(a.getStyle(\"width\").from(b),10)<b.offsetWidth:!1},d=function(c){for(var d=0,e=b.length;e>d;d++)if(\"border-box\"===a.getStyle(b[d]).from(c))return b[d]};a.copyStyles=function(d){return{from:function(e){c(e)&&(d=wysihtml5.lang.array(d).without(b));for(var f,g=\"\",h=d.length,i=0;h>i;i++)f=d[i],g+=f+\":\"+a.getStyle(f).from(e)+\";\";return{to:function(b){return a.setStyles(g).on(b),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(a,b,c,d){var e=function(c){for(var e=c.target,f=3===e.nodeType?e.parentNode:e,g=a.querySelectorAll(b),h=0,i=g.length;i>h;h++)g[h].contains(f)&&d.call(g[h],c)};return a.addEventListener(c,e,!1),{stop:function(){a.removeEventListener(c,e,!1)}}}}(wysihtml5),function(a){function b(a,b){for(var c=[a],d=a;b&&d&&d!==b||!b&&d;)c.unshift(d),d=d.parentNode;return c}function c(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")}a.dom.domNode=function(d){var e=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(b){var c=b?/^\\s*$/g:/^[\\r\\n]*$/g;return d.nodeType===a.TEXT_NODE&&c.test(d.data)},visible:function(){var b=!/^\\s*$/g.test(a.dom.getTextContent(d));return b||1===d.nodeType&&d.querySelector(\"img, br, hr, object, embed, canvas, input, textarea\")&&(b=!0),b}},prev:function(b){var f=d.previousSibling,g=b&&b.nodeTypes?b.nodeTypes:e;return f?c(f)||!a.lang.array(g).contains(f.nodeType)||b&&b.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).prev(b):f:null},next:function(b){var f=d.nextSibling,g=b&&b.nodeTypes?b.nodeTypes:e;return f?c(f)||!a.lang.array(g).contains(f.nodeType)||b&&b.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).next(b):f:null},commonAncestor:function(a,c){var e=b(d,c),f=b(a,c);if(e[0]!=f[0])return null;for(var g=0;g<e.length;g++)if(e[g]!=f[g])return e[g-1];return null},lastLeafNode:function(b){var c;if(1!==d.nodeType)return d;if(c=d.lastChild,!c)return d;if(b&&b.leafClasses)for(var e=b.leafClasses.length;e--;)if(a.dom.hasClass(d,b.leafClasses[e]))return d;return a.dom.domNode(c).lastLeafNode(b)},escapeParent:function(b,c){var e,f,g,h=d;if(!a.dom.contains(b,d))throw new Error(\"Child is not a descendant of node.\");do{for(e=h.parentNode,f=e.cloneNode(!1);e.lastChild&&e.lastChild!==h;)f.insertBefore(e.lastChild,f.firstChild);if(e!==b&&(g=e.cloneNode(!1),g.appendChild(h),h=g),e.parentNode.insertBefore(h,e.nextSibling),\"\"!==f.innerHTML)if(/^\\s+$/.test(f.innerHTML))for(;f.lastChild;)e.parentNode.insertBefore(f.lastChild,h.nextSibling);else e.parentNode.insertBefore(f,h.nextSibling);if(\"\"===e.innerHTML)e.parentNode.removeChild(e);else if(/^\\s+$/.test(e.innerHTML)){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}while(e&&e!==b);c&&h&&(h.parentNode.insertBefore(c,h),c.appendChild(h))},test:function(b){var c;if(!b)return!1;if(1!==d.nodeType)return!1;if(b.query&&!d.matches(b.query))return!1;if(b.nodeName&&d.nodeName.toLowerCase()!==b.nodeName.toLowerCase())return!1;if(b.className&&!d.classList.contains(b.className))return!1;if(b.classRegExp){var e=(d.className||\"\").match(b.classRegExp)||[];if(0===e.length)return!1}if(b.styleProperty&&b.styleProperty.length>0)for(var f=!1,g=Array.isArray(b.styleProperty)?b.styleProperty:[b.styleProperty],h=0,i=g.length;i>h;h++){if(c=a.browser.fixStyleKey(g[h]),d.style[c]){if(!b.styleValue){f=!0;break}if(b.styleValue instanceof RegExp){if(d.style[c].trim().match(b.styleValue).length>0){f=!0;break}}else if(Array.isArray(b.styleValue)){if(b.styleValue.indexOf(d.style[c].trim())){f=!0;break}}else if(b.styleValue===d.style[c].trim().replace(/, /g,\",\")){f=!0;break}}if(!f)return!1}if(b.attribute){var j=a.dom.getAttributes(d),k=[],l=!1;Array.isArray(b.attribute)?k=b.attribute:k[b.attribute]=b.attributeValue;for(var m in k)if(k.hasOwnProperty(m))if(\"undefined\"==typeof k[m]){if(\"undefined\"!=typeof j[m]){l=!0;break}}else if(j[m]===k[m]){l=!0;break}if(!l)return!1}return!0}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a=function(a,b){var c=b.createElement(\"div\");c.style.display=\"none\",b.body.appendChild(c);try{c.innerHTML=a}catch(d){}return b.body.removeChild(c),c},b=function(a){if(!a._wysihtml5_supportsHTML5Tags){for(var b=0,d=c.length;d>b;b++)a.createElement(c[b]);a._wysihtml5_supportsHTML5Tags=!0}},c=[\"abbr\",\"article\",\"aside\",\"audio\",\"bdi\",\"canvas\",\"command\",\"datalist\",\"details\",\"figcaption\",\"figure\",\"footer\",\"header\",\"hgroup\",\"keygen\",\"mark\",\"meter\",\"nav\",\"output\",\"progress\",\"rp\",\"rt\",\"ruby\",\"svg\",\"section\",\"source\",\"summary\",\"time\",\"track\",\"video\",\"wbr\"];return function(c,d){d=d||document;var e;return\"object\"==typeof c&&c.nodeType?(e=d.createElement(\"div\"),e.appendChild(c)):wysihtml5.browser.supportsHTML5Tags(d)?(e=d.createElement(\"div\"),e.innerHTML=c):(b(d),e=a(c,d)),e}}(),wysihtml5.dom.getParentElement=function(){return function(a,b,c,d){for(c=c||50;c--&&a&&\"BODY\"!==a.nodeName&&(!d||a!==d);){if(wysihtml5.dom.domNode(a).test(b))return a;a=a.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function a(a){return a.replace(c,function(a){return a.charAt(1).toUpperCase()})}var b={\"float\":\"styleFloat\"in document.createElement(\"div\").style?\"styleFloat\":\"cssFloat\"},c=/\\-[a-z]/g;return function(c){return{from:function(d){if(d.nodeType===wysihtml5.ELEMENT_NODE){var e=d.ownerDocument,f=b[c]||a(c),g=d.style,h=d.currentStyle,i=g[f];if(i)return i;if(h)try{return h[f]}catch(j){}var k,l,m=e.defaultView||e.parentWindow,n=(\"height\"===c||\"width\"===c)&&\"TEXTAREA\"===d.nodeName;return m.getComputedStyle?(n&&(k=g.overflow,g.overflow=\"hidden\"),l=m.getComputedStyle(d,null).getPropertyValue(c),n&&(g.overflow=k||\"\"),l):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(a,b){var c=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b&&/^\\s*$/.test(a.innerText||a.textContent)||c.push(a):c=c.concat(wysihtml5.dom.getTextNodes(a,b));return c},wysihtml5.dom.hasElementWithTagName=function(){function a(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=c++)}var b={},c=1;return function(c,d){var e=a(c)+\":\"+d,f=b[e];return f||(f=b[e]=c.getElementsByTagName(d)),f.length>0}}(),function(a){function b(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=d++)}var c={},d=1;a.dom.hasElementWithClassName=function(d,e){if(!a.browser.supportsNativeGetElementsByClassName())return!!d.querySelector(\".\"+e);var f=b(d)+\":\"+e,g=c[f];return g||(g=c[f]=d.getElementsByClassName(e)),\ng.length>0}}(wysihtml5),wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join(\"\\n\"),{into:function(b){var c=b.createElement(\"style\");c.type=\"text/css\",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a));var d=b.querySelector(\"head link\");if(d)return void d.parentNode.insertBefore(c,d);var e=b.querySelector(\"head\");e&&e.appendChild(c)}}},function(a){a.dom.lineBreaks=function(b){function c(a){return\"BR\"===a.nodeName}function d(b){return c(b)?!0:\"block\"===a.dom.getStyle(\"display\").from(b)?!0:!1}return{add:function(c){var e=b.ownerDocument,f=a.dom.domNode(b).next({ignoreBlankTexts:!0}),g=a.dom.domNode(b).prev({ignoreBlankTexts:!0});f&&!d(f)&&a.dom.insert(e.createElement(\"br\")).after(b),g&&!d(g)&&a.dom.insert(e.createElement(\"br\")).before(b)},remove:function(d){var e=a.dom.domNode(b).next({ignoreBlankTexts:!0}),f=a.dom.domNode(b).prev({ignoreBlankTexts:!0});e&&c(e)&&e.parentNode.removeChild(e),f&&c(f)&&f.parentNode.removeChild(f)}}}}(wysihtml5),wysihtml5.dom.observe=function(a,b,c){b=\"string\"==typeof b?[b]:b;for(var d,e,f=0,g=b.length;g>f;f++)e=b[f],a.addEventListener?a.addEventListener(e,c,!1):(d=function(b){\"target\"in b||(b.target=b.srcElement),b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},c.call(a,b)},a.attachEvent(\"on\"+e,d));return{stop:function(){for(var e,f=0,g=b.length;g>f;f++)e=b[f],a.removeEventListener?a.removeEventListener(e,c,!1):a.detachEvent(\"on\"+e,d)}}},wysihtml5.dom.parse=function(a,b){function c(a,b){wysihtml5.lang.object(t).merge(s).merge(b.rules).get();var c,f,g,h=b.context||a.ownerDocument||document,i=h.createDocumentFragment(),j=\"string\"==typeof a,k=!1;for(b.clearInternals===!0&&(k=!0),c=j?wysihtml5.dom.getAsDom(a,h):a,t.selectors&&e(c,t.selectors);c.firstChild;)g=c.firstChild,f=d(g,b.cleanUp,k,b.uneditableClass),f&&i.appendChild(f),g!==f&&c.removeChild(g);if(b.unjoinNbsps)for(var l=wysihtml5.dom.getTextNodes(i),m=l.length;m--;)l[m].nodeValue=l[m].nodeValue.replace(/([\\S\\u00A0])\\u00A0/gi,\"$1 \");return c.innerHTML=\"\",c.appendChild(i),j?wysihtml5.quirks.getCorrectInnerHTML(c):c}function d(a,b,c,e){var f,g,h,i,j=a.nodeType,k=a.childNodes,l=k.length,m=p[j],n=0;if(e&&1===j&&wysihtml5.dom.hasClass(a,e))return a;if(g=m&&m(a,c),!g){if(g===!1){for(f=a.ownerDocument.createDocumentFragment(),n=l;n--;)k[n]&&(h=d(k[n],b,c,e),h&&(k[n]===h&&n--,f.insertBefore(h,f.firstChild)));return i=wysihtml5.dom.getStyle(\"display\").from(a),\"\"===i&&(i=wysihtml5.lang.array(u).contains(a.tagName)?\"block\":\"\"),wysihtml5.lang.array([\"block\",\"flex\",\"table\"]).contains(i)&&f.appendChild(a.ownerDocument.createElement(\"br\")),wysihtml5.lang.array([\"div\",\"pre\",\"p\",\"table\",\"td\",\"th\",\"ul\",\"ol\",\"li\",\"dd\",\"dl\",\"footer\",\"header\",\"section\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"]).contains(a.nodeName.toLowerCase())&&a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\\s/.test(a.nextSibling.nodeValue)||f.appendChild(a.ownerDocument.createTextNode(\" \"))),f.normalize&&f.normalize(),f}return null}for(n=0;l>n;n++)k[n]&&(h=d(k[n],b,c,e),h&&(k[n]===h&&n--,g.appendChild(h)));if(b&&g.nodeName.toLowerCase()===q&&(!g.childNodes.length||/^\\s*$/gi.test(g.innerHTML)&&(c||\"_wysihtml5-temp-placeholder\"!==a.className&&\"rangySelectionBoundary\"!==a.className)||!g.attributes.length)){for(f=g.ownerDocument.createDocumentFragment();g.firstChild;)f.appendChild(g.firstChild);return f.normalize&&f.normalize(),f}return g.normalize&&g.normalize(),g}function e(a,b){var c,d,e;for(c in b)if(b.hasOwnProperty(c)){wysihtml5.lang.object(b[c]).isFunction()?d=b[c]:\"string\"==typeof b[c]&&z[b[c]]&&(d=z[b[c]]),e=a.querySelectorAll(c);for(var f=e.length;f--;)d(e[f])}}function f(a,b){var c,d,e,f=t.tags,h=a.nodeName.toLowerCase(),j=a.scopeName;if(a._wysihtml5)return null;if(a._wysihtml5=1,\"wysihtml5-temp\"===a.className)return null;if(j&&\"HTML\"!=j&&(h=j+\":\"+h),\"outerHTML\"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||\"P\"!==a.nodeName||\"</p>\"===a.outerHTML.slice(-4).toLowerCase()||(h=\"div\")),h in f){if(c=f[h],!c||c.remove)return null;if(c.unwrap)return!1;c=\"string\"==typeof c?{rename_tag:c}:c}else{if(!a.firstChild)return null;c={rename_tag:q}}if(c.one_of_type&&!g(a,t,c.one_of_type,b)){if(!c.remove_action)return null;if(\"unwrap\"===c.remove_action)return!1;if(\"rename\"!==c.remove_action)return null;e=c.remove_action_rename_to||q}return d=a.ownerDocument.createElement(e||c.rename_tag||h),m(a,d,c,b),i(a,d,c),a=null,d.normalize&&d.normalize(),d}function g(a,b,c,d){var e,f;if(\"SPAN\"===a.nodeName&&!d&&(\"_wysihtml5-temp-placeholder\"===a.className||\"rangySelectionBoundary\"===a.className))return!0;for(f in c)if(c.hasOwnProperty(f)&&b.type_definitions&&b.type_definitions[f]&&(e=b.type_definitions[f],h(a,e)))return!0;return!1}function h(a,b){var c,d,e,f,g,h=a.getAttribute(\"class\"),i=a.getAttribute(\"style\");if(b.methods)for(var j in b.methods)if(b.methods.hasOwnProperty(j)&&y[j]&&y[j](a))return!0;if(h&&b.classes){h=h.replace(/^\\s+/g,\"\").replace(/\\s+$/g,\"\").split(r),c=h.length;for(var k=0;c>k;k++)if(b.classes[h[k]])return!0}if(i&&b.styles){i=i.split(\";\");for(d in b.styles)if(b.styles.hasOwnProperty(d))for(var l=i.length;l--;)if(g=i[l].split(\":\"),g[0].replace(/\\s/g,\"\").toLowerCase()===d&&(b.styles[d]===!0||1===b.styles[d]||wysihtml5.lang.array(b.styles[d]).contains(g[1].replace(/\\s/g,\"\").toLowerCase())))return!0}if(b.attrs)for(e in b.attrs)if(b.attrs.hasOwnProperty(e)&&(f=wysihtml5.dom.getAttribute(a,e),\"string\"==typeof f&&f.search(b.attrs[e])>-1))return!0;return!1}function i(a,b,c){var d,e;if(c&&c.keep_styles)for(d in c.keep_styles)if(c.keep_styles.hasOwnProperty(d)){if(e=\"float\"===d?a.style.styleFloat||a.style.cssFloat:a.style[d],c.keep_styles[d]instanceof RegExp&&!c.keep_styles[d].test(e))continue;\"float\"===d?b.style[a.style.styleFloat?\"styleFloat\":\"cssFloat\"]=e:a.style[d]&&(b.style[d]=e)}}function j(a,b){var c=[];for(var d in b)b.hasOwnProperty(d)&&0===d.indexOf(a)&&c.push(d);return c}function k(a,b,c,d){var e,f=wysihtml5.lang.object(c).isFunction()?c:v[c];return f&&(e=f(b,d),\"string\"==typeof e)?e:!1}function l(a,b){var c,d,e,f=wysihtml5.lang.object(t.attributes||{}).clone(),g=wysihtml5.lang.object(f).merge(wysihtml5.lang.object(b||{}).clone()).get(),h={},i=wysihtml5.dom.getAttributes(a);for(c in g)if(/\\*$/.test(c)){e=j(c.slice(0,-1),i);for(var l=0,m=e.length;m>l;l++)d=k(e[l],i[e[l]],g[c],a.nodeName),d!==!1&&(h[e[l]]=d)}else d=k(c,i[c],g[c],a.nodeName),d!==!1&&(h[c]=d);return h}function m(a,b,c,d){var e,f,g,h,i,j={},k=c.set_class,m=c.add_class,n=c.add_style,o=c.set_attributes,p=t.classes,q=0,s=[],u=[],v=[],y=[];if(o&&(j=wysihtml5.lang.object(o).clone()),j=wysihtml5.lang.object(j).merge(l(a,c.check_attributes)).get(),k&&s.push(k),m)for(h in m)i=x[m[h]],i&&(g=i(wysihtml5.dom.getAttribute(a,h)),\"string\"==typeof g&&s.push(g));if(n)for(h in n)i=w[n[h]],i&&(newStyle=i(wysihtml5.dom.getAttribute(a,h)),\"string\"==typeof newStyle&&u.push(newStyle));if(\"string\"==typeof p&&\"any\"===p)if(a.getAttribute(\"class\"))if(t.classes_blacklist){for(y=a.getAttribute(\"class\"),y&&(s=s.concat(y.split(r))),e=s.length;e>q;q++)f=s[q],t.classes_blacklist[f]||v.push(f);v.length&&(j[\"class\"]=wysihtml5.lang.array(v).unique().join(\" \"))}else j[\"class\"]=a.getAttribute(\"class\");else s&&s.length>0&&(j[\"class\"]=wysihtml5.lang.array(s).unique().join(\" \"));else{for(d||(p[\"_wysihtml5-temp-placeholder\"]=1,p._rangySelectionBoundary=1,p[\"wysiwyg-tmp-selected-cell\"]=1),y=a.getAttribute(\"class\"),y&&(s=s.concat(y.split(r))),e=s.length;e>q;q++)f=s[q],p[f]&&v.push(f);v.length&&(j[\"class\"]=wysihtml5.lang.array(v).unique().join(\" \"))}j[\"class\"]&&d&&(j[\"class\"]=j[\"class\"].replace(\"wysiwyg-tmp-selected-cell\",\"\"),/^\\s*$/g.test(j[\"class\"])&&delete j[\"class\"]),u.length&&(j.style=wysihtml5.lang.array(u).unique().join(\" \"));for(h in j)try{b.setAttribute(h,j[h])}catch(z){}j.src&&(\"undefined\"!=typeof j.width&&b.setAttribute(\"width\",j.width),\"undefined\"!=typeof j.height&&b.setAttribute(\"height\",j.height))}function n(a){var b=a.nextSibling;if(!b||b.nodeType!==wysihtml5.TEXT_NODE){var c=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\");return a.ownerDocument.createTextNode(c)}b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")}function o(a){return t.comments?a.ownerDocument.createComment(a.nodeValue):void 0}var p={1:f,3:n,8:o},q=\"span\",r=/\\s+/,s={tags:{},classes:{}},t={},u=[\"ADDRESS\",\"BLOCKQUOTE\",\"CENTER\",\"DIR\",\"DIV\",\"DL\",\"FIELDSET\",\"FORM\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"ISINDEX\",\"MENU\",\"NOFRAMES\",\"NOSCRIPT\",\"OL\",\"P\",\"PRE\",\"TABLE\",\"UL\"],v={url:function(){var a=/^https?:\\/\\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\\/|https?:\\/\\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\\/|https?:\\/\\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\\-]/gi;return function(b,c){return b?b.replace(a,\"\"):\"IMG\"===c?\"\":null}}(),numbers:function(){var a=/\\D/g;return function(b){return b=(b||\"\").replace(a,\"\"),b||null}}(),dimension:function(){var a=/\\D*(\\d+)(\\.\\d+)?\\s?(%)?\\D*/;return function(b){return b=(b||\"\").replace(a,\"$1$2$3\"),b||null}}(),any:function(){return function(a){return a?a:null}}()},w={align_text:function(){var a={left:\"text-align: left;\",right:\"text-align: right;\",center:\"text-align: center;\"};return function(b){return a[String(b).toLowerCase()]}}()},x={align_img:function(){var a={left:\"wysiwyg-float-left\",right:\"wysiwyg-float-right\"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:\"wysiwyg-text-align-left\",right:\"wysiwyg-text-align-right\",center:\"wysiwyg-text-align-center\",justify:\"wysiwyg-text-align-justify\"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:\"wysiwyg-clear-left\",right:\"wysiwyg-clear-right\",both:\"wysiwyg-clear-both\",all:\"wysiwyg-clear-both\"};return function(b){return a[String(b).toLowerCase()]}}(),size_font:function(){var a={1:\"wysiwyg-font-size-xx-small\",2:\"wysiwyg-font-size-small\",3:\"wysiwyg-font-size-medium\",4:\"wysiwyg-font-size-large\",5:\"wysiwyg-font-size-x-large\",6:\"wysiwyg-font-size-xx-large\",7:\"wysiwyg-font-size-xx-large\",\"-\":\"wysiwyg-font-size-smaller\",\"+\":\"wysiwyg-font-size-larger\"};return function(b){return a[String(b).charAt(0)]}}()},y={has_visible_contet:function(){var a,b=[\"img\",\"video\",\"picture\",\"br\",\"script\",\"noscript\",\"style\",\"table\",\"iframe\",\"object\",\"embed\",\"audio\",\"svg\",\"input\",\"button\",\"select\",\"textarea\",\"canvas\"];return function(c){if(a=(c.innerText||c.textContent).replace(/\\s/g,\"\"),a&&a.length>0)return!0;for(var d=b.length;d--;)if(c.querySelector(b[d]))return!0;return c.offsetWidth&&c.offsetWidth>0&&c.offsetHeight&&c.offsetHeight>0?!0:!1}}()},z={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return c(a,b)},wysihtml5.dom.removeEmptyTextNodes=function(a){for(var b,c=wysihtml5.lang.array(a.childNodes).get(),d=c.length,e=0;d>e;e++)b=c[e],b.nodeType===wysihtml5.TEXT_NODE&&/^[\\n\\r]*$/.test(b.data)&&b.parentNode.removeChild(b)},wysihtml5.dom.renameElement=function(a,b){for(var c,d=a.ownerDocument.createElement(b);c=a.firstChild;)d.appendChild(c);return wysihtml5.dom.copyAttributes([\"align\",\"className\"]).from(a).to(d),a.parentNode&&a.parentNode.replaceChild(d,a),d},wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){if(!a.firstChild)return void a.parentNode.removeChild(a);for(var b=a.ownerDocument.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a),a=b=null}},function(a){function b(b){return\"block\"===a.getStyle(\"display\").from(b)}function c(a){return\"BR\"===a.nodeName}function d(a){var b=a.ownerDocument.createElement(\"br\");a.appendChild(b)}function e(a,e){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f,g,h,i,j,k,l,m=a.ownerDocument,n=m.createDocumentFragment(),o=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),p=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),q=a.lastElementChild||a.lastChild;if(e)for(!o||b(o)||c(o)||d(n);k=a.firstElementChild||a.firstChild;){for(g=k.lastChild,l=k===q;f=k.firstChild;)h=f===g,i=(!l||p&&!b(p))&&h&&!b(f)&&!c(f),n.appendChild(f),i&&d(n);k.parentNode.removeChild(k)}else for(;k=a.firstElementChild||a.firstChild;){if(k.querySelector&&k.querySelector(\"div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6\"))for(;f=k.firstChild;)n.appendChild(f);else{for(j=m.createElement(\"p\");f=k.firstChild;)j.appendChild(f);n.appendChild(j)}k.parentNode.removeChild(k)}a.parentNode.replaceChild(n,a)}}a.resolveList=e}(wysihtml5.dom),function(a){var b=document,c=[\"parent\",\"top\",\"opener\",\"frameElement\",\"frames\",\"localStorage\",\"globalStorage\",\"sessionStorage\",\"indexedDB\"],d=[\"open\",\"close\",\"openDialog\",\"showModalDialog\",\"alert\",\"confirm\",\"prompt\",\"openDatabase\",\"postMessage\",\"XMLHttpRequest\",\"XDomainRequest\"],e=[\"referrer\",\"write\",\"open\",\"close\"];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.config.className||(this.config.className=\"wysihtml5-sandbox\"),this.editableArea=this._createIframe()},insertInto:function(a){\"string\"==typeof a&&(a=b.getElementById(a)),a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw new Error(\"wysihtml5.Sandbox: Sandbox iframe isn't loaded yet\")},_createIframe:function(){var c=this,d=b.createElement(\"iframe\");return d.className=this.config.className,a.dom.setAttributes({security:\"restricted\",allowtransparency:\"true\",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d),a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(d.src=\"javascript:'<html></html>'\"),d.onload=function(){d.onreadystatechange=d.onload=null,c._onLoadIframe(d)},d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&(d.onreadystatechange=d.onload=null,c._onLoadIframe(d))},d},_onLoadIframe:function(f){if(a.dom.contains(b.documentElement,f)){var g=this,h=f.contentWindow,i=f.contentWindow.document,j=b.characterSet||b.charset||\"utf-8\",k=this._getHtml({charset:j,stylesheets:this.config.stylesheets});if(i.open(\"text/html\",\"replace\"),i.write(k),i.close(),this.getWindow=function(){return f.contentWindow},this.getDocument=function(){return f.contentWindow.document},h.onerror=function(a,b,c){throw new Error(\"wysihtml5.Sandbox: \"+a,b,c)},!a.browser.supportsSandboxedIframes()){var l,m;for(l=0,m=c.length;m>l;l++)this._unset(h,c[l]);for(l=0,m=d.length;m>l;l++)this._unset(h,d[l],a.EMPTY_FUNCTION);for(l=0,m=e.length;m>l;l++)this._unset(i,e[l]);this._unset(i,\"cookie\",\"\",!0)}a.polyfills&&a.polyfills(h,i),this.loaded=!0,setTimeout(function(){g.callback(g)},0)}},_getHtml:function(b){var c,d=b.stylesheets,e=\"\",f=0;if(d=\"string\"==typeof d?[d]:d)for(c=d.length;c>f;f++)e+='<link rel=\"stylesheet\" href=\"'+d[f]+'\">';return b.stylesheets=e,a.lang.string('<!DOCTYPE html><html><head><meta charset=\"#{charset}\">#{stylesheets}</head><body></body></html>').interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(f){}try{b.__defineGetter__(c,function(){return d})}catch(f){}if(e)try{b.__defineSetter__(c,function(){})}catch(f){}if(!a.browser.crashesWhenDefineProperty(c))try{var g={get:function(){return d}};e&&(g.set=function(){}),Object.defineProperty(b,c,g)}catch(f){}}})}(wysihtml5),function(a){var b=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(b,c,d){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.config.className||(this.config.className=\"wysihtml5-sandbox\"),d?this.element=this._bindElement(d):this.element=this._createElement()},destroy:function(){},_createElement:function(){var a=b.createElement(\"div\");return a.className=this.config.className,this._loadElement(a),a},_bindElement:function(a){return a.className=a.className?a.className+\" wysihtml5-sandbox\":\"wysihtml5-sandbox\",this._loadElement(a,!0),a},_loadElement:function(a,b){var c=this;if(!b){var d=this._getHtml();a.innerHTML=d}this.loaded=!0,setTimeout(function(){c.callback(c)},0)},_getHtml:function(a){return\"\"}})}(wysihtml5),function(){var a={className:\"class\"};wysihtml5.dom.setAttributes=function(b){return{on:function(c){for(var d in b)c.setAttribute(a[d]||d,b[d])}}}}(),wysihtml5.dom.setStyles=function(a){return{on:function(b){var c=b.style;if(\"string\"==typeof a)return void(c.cssText+=\";\"+a);for(var d in a)\"float\"===d?(c.cssFloat=a[d],c.styleFloat=a[d]):c[d]=a[d]}}},function(a){a.simulatePlaceholder=function(b,c,d,e){var f=e||\"wysihtml5-placeholder\",g=function(){var b=c.element.offsetWidth>0&&c.element.offsetHeight>0;c.hasPlaceholderSet()&&(c.clear(),c.element.focus(),b&&setTimeout(function(){var a=c.selection.getSelection();a.focusNode&&a.anchorNode||c.selection.selectNode(c.element.firstChild||c.element)},0)),c.placeholderSet=!1,a.removeClass(c.element,f)},h=function(){c.isEmpty()&&!c.placeholderSet&&(c.placeholderSet=!0,c.setValue(d,!1),a.addClass(c.element,f))};b.on(\"set_placeholder\",h).on(\"unset_placeholder\",g).on(\"focus:composer\",g).on(\"paste:composer\",g).on(\"blur:composer\",h),h()}}(wysihtml5.dom),function(a){var b=document.documentElement;\"textContent\"in b?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):\"innerText\"in b?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(a,b){var c=!wysihtml5.browser.supportsGetAttributeCorrectly();b=b.toLowerCase();var d=a.nodeName;if(\"IMG\"==d&&\"src\"==b&&wysihtml5.dom.isLoadedImage(a)===!0)return a.src;if(c&&\"outerHTML\"in a){var e=a.outerHTML.toLowerCase(),f=-1!=e.indexOf(\" \"+b+\"=\");return f?a.getAttribute(b):null}return a.getAttribute(b)},wysihtml5.dom.getAttributes=function(a){var b,c=!wysihtml5.browser.supportsGetAttributeCorrectly(),d=a.nodeName,e=[];for(b in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(b)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,b))&&a.attributes[b].specified&&(\"IMG\"==d&&\"src\"==a.attributes[b].name.toLowerCase()&&wysihtml5.dom.isLoadedImage(a)===!0?e.src=a.src:wysihtml5.lang.array([\"rowspan\",\"colspan\"]).contains(a.attributes[b].name.toLowerCase())&&c?1!==a.attributes[b].value&&(e[a.attributes[b].name]=a.attributes[b].value):e[a.attributes[b].name]=a.attributes[b].value);return e},wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(\":-moz-broken\")}catch(b){if(a.complete&&\"complete\"===a.readyState)return!0}},function(a){function b(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)if(c=a[e].querySelectorAll(b))for(var g=c.length;g--;d.unshift(c[g]));return d}function d(a){a.parentNode.removeChild(a)}function e(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function f(a,b){for(var c=a.nextSibling;1!=c.nodeType;)if(c=c.nextSibling,!b||b==c.tagName.toLowerCase())return c;return null}var g=a.dom,h=function(a){this.el=a,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},i=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{query:\"table\"})):b&&(this.table=b,this.cell=this.table.querySelectorAll(\"th, td\")[0])};i.prototype={addSpannedCellToMap:function(a,b,c,d,e,f){for(var g=[],i=c+(f?parseInt(f,10)-1:0),j=d+(e?parseInt(e,10)-1:0),k=c;i>=k;k++){\"undefined\"==typeof b[k]&&(b[k]=[]);for(var l=d;j>=l;l++)b[k][l]=new h(a),b[k][l].isColspan=e&&parseInt(e,10)>1,b[k][l].isRowspan=f&&parseInt(f,10)>1,b[k][l].firstCol=l==d,b[k][l].lastCol=l==j,b[k][l].firstRow=k==c,b[k][l].lastRow=k==i,b[k][l].isReal=l==d&&k==c,b[k][l].spanCollection=g,g.push(b[k][l])}},setCellAsModified:function(a){if(a.modified=!0,a.spanCollection.length>0)for(var b=0,c=a.spanCollection.length;c>b;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a,b,c,d,e,f,i,j,k=[],l=this.getTableRows();for(a=0;a<l.length;a++)for(b=l[a],c=this.getRowCells(b),f=0,\"undefined\"==typeof k[a]&&(k[a]=[]),d=0;d<c.length;d++){for(e=c[d];\"undefined\"!=typeof k[a][f];)f++;i=g.getAttribute(e,\"colspan\"),j=g.getAttribute(e,\"rowspan\"),i||j?(this.addSpannedCellToMap(e,k,a,f,i,j),f+=i?parseInt(i,10):1):(k[a][f]=new h(e),f++)}return this.map=k,k},getRowCells:function(c){var d=this.table.querySelectorAll(\"table\"),e=d?b(d,\"th, td\"):[],f=c.querySelectorAll(\"th, td\"),g=e.length>0?a.lang.array(f).without(e):f;return g},getTableRows:function(){var c=this.table.querySelectorAll(\"table\"),d=c?b(c,\"tr\"):[],e=this.table.querySelectorAll(\"tr\"),f=d.length>0?a.lang.array(e).without(d):e;return f},getMapIndex:function(a){for(var b=this.map.length,c=this.map&&this.map[0]?this.map[0].length:0,d=0;b>d;d++)for(var e=0;c>e;e++)if(this.map[d][e].el===a)return{row:d,col:e};return!1},getElementAtIndex:function(a){return this.setTableMap(),this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var c=this.idx_start;this.idx_start=this.idx_end,this.idx_end=c}if(this.idx_start.col>this.idx_end.col){var d=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=d}if(null!=this.idx_start&&null!=this.idx_end)for(var e=this.idx_start.row,f=this.idx_end.row;f>=e;e++)for(var g=this.idx_start.col,h=this.idx_end.col;h>=g;g++)b.push(this.map[e][g].el);return b},orderSelectionEnds:function(a){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,c){for(var d,e=this.table.ownerDocument,f=e.createDocumentFragment(),g=0;b>g;g++){if(d=e.createElement(a),c)for(var h in c)c.hasOwnProperty(h)&&d.setAttribute(h,c[h]);d.appendChild(document.createTextNode(\" \")),f.appendChild(d)}return f},correctColIndexForUnreals:function(a,b){for(var c=this.map[b],d=-1,e=0;a>e;e++)c[e].isReal&&d++;return d},getLastNewCellOnRow:function(a,b){for(var c,d,e=this.getRowCells(a),f=0,g=e.length;g>f;f++)if(c=e[f],d=this.getMapIndex(c),d===!1||\"undefined\"!=typeof b&&d.row!=b)return c;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll(\"td, th\");return a&&0!=a.length?!1:(d(this.table),!0)},splitRowToCells:function(a){if(a.isColspan){var b=parseInt(g.getAttribute(a.el,\"colspan\")||1,10),c=a.el.tagName.toLowerCase();if(b>1){var d=this.createCells(c,b-1);e(a.el,d)}a.el.removeAttribute(\"colspan\")}},getRealRowEl:function(a,b){var c=null,d=null;b=b||this.idx;for(var e=0,f=this.map[b.row].length;f>e;e++)if(d=this.map[b.row][e],d.isReal&&(c=g.getParentElement(d.el,{query:\"tr\"})))return c;return null===c&&a&&(c=g.getParentElement(this.map[b.row][b.col].el,{query:\"tr\"})||null),c},injectRowAt:function(a,b,c,d,f){var h=this.getRealRowEl(!1,{row:a,col:b}),i=this.createCells(d,c);if(h){var j=this.correctColIndexForUnreals(b,a);j>=0?e(this.getRowCells(h)[j],i):h.insertBefore(i,h.firstChild)}else{var k=this.table.ownerDocument.createElement(\"tr\");k.appendChild(i),e(g.getParentElement(f.el,{query:\"tr\"}),k)}},canMerge:function(a){if(this.to=a,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}for(var d=this.idx_start.row,e=this.idx_end.row;e>=d;d++)for(var f=this.idx_start.col,g=this.idx_end.col;g>=f;f++)if(this.map[d][f].isColspan||this.map[d][f].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var c=parseInt(g.getAttribute(a.el,b),10)-1;c>=1?a.el.setAttribute(b,c):(a.el.removeAttribute(b),\"colspan\"==b&&(a.isColspan=!1),\"rowspan\"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,b,c,e,f,h,i;if(this.setTableMap(),this.map){for(c=0,e=this.map.length;e>c;c++){for(a=this.map[c],i=!0,f=0,h=a.length;h>f;f++)if(b=a[f],!(g.getAttribute(b.el,\"rowspan\")&&parseInt(g.getAttribute(b.el,\"rowspan\"),10)>1&&b.firstRow!==!0)){i=!1;break}if(i)for(f=0;h>f;f++)this.decreaseCellSpan(a[f],\"rowspan\")}var j=this.getTableRows();for(c=0,e=j.length;e>c;c++)a=j[c],0==a.childNodes.length&&/^\\s*$/.test(a.textContent||a.innerText)&&d(a)}},fillMissingCells:function(){var a=0,b=0,c=null;if(this.setTableMap(),this.map){a=this.map.length;for(var d=0;a>d;d++)this.map[d].length>b&&(b=this.map[d].length);for(var f=0;a>f;f++)for(var g=0;b>g;g++)this.map[f]&&!this.map[f][g]&&g>0&&(this.map[f][g]=new h(this.createCells(\"td\",1)),c=this.map[f][g-1],c&&c.el&&c.el.parent&&e(this.map[f][g-1].el,this.map[f][g].el))}},rectify:function(){return this.removeEmptyTable()?!1:(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,\"colspan\")?parseInt(g.getAttribute(a.el,\"colspan\"),10):1,c=a.el.tagName.toLowerCase();if(a.isRowspan){var d=parseInt(g.getAttribute(a.el,\"rowspan\"),10);if(d>1)for(var e=1,f=d-1;f>=e;e++)this.injectRowAt(this.idx.row+e,this.idx.col,b,c,a);a.el.removeAttribute(\"rowspan\")}this.splitRowToCells(a)}},merge:function(a){if(this.rectify())if(this.canMerge(a)){for(var b=this.idx_end.row-this.idx_start.row+1,c=this.idx_end.col-this.idx_start.col+1,e=this.idx_start.row,f=this.idx_end.row;f>=e;e++)for(var g=this.idx_start.col,h=this.idx_end.col;h>=g;g++)e==this.idx_start.row&&g==this.idx_start.col?(b>1&&this.map[e][g].el.setAttribute(\"rowspan\",b),c>1&&this.map[e][g].el.setAttribute(\"colspan\",c)):(/^\\s*<br\\/?>\\s*$/.test(this.map[e][g].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=\" \"+this.map[e][g].el.innerHTML),d(this.map[e][g].el));this.rectify()}else window.console&&console.log(\"Do not know how to merge allready merged cells.\")},collapseCellToNextRow:function(a){var b=this.getMapIndex(a.el),c=b.row+1,d={row:c,col:b.col};if(c<this.map.length){var f=this.getRealRowEl(!1,d);if(null!==f){var h=this.correctColIndexForUnreals(d.col,d.row);if(h>=0)e(this.getRowCells(f)[h],a.el);else{var i=this.getLastNewCellOnRow(f,c);null!==i?e(i,a.el):f.insertBefore(a.el,f.firstChild)}parseInt(g.getAttribute(a.el,\"rowspan\"),10)>2?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)-1):a.el.removeAttribute(\"rowspan\")}}},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):d(a.el):parseInt(g.getAttribute(a.el,\"rowspan\"),10)>2?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)-1):a.el.removeAttribute(\"rowspan\")},getRowElementsByCell:function(){var a=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=this.map[this.idx.row],c=0,d=b.length;d>c;c++)b[c].isReal&&a.push(b[c].el);return a},getColumnElementsByCell:function(){var a=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=0,c=this.map.length;c>b;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=g.getParentElement(this.cell,{query:\"tr\"});if(a){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=this.map[this.idx.row],c=0,e=b.length;e>c;c++)b[c].modified||(this.setCellAsModified(b[c]),this.removeRowCell(b[c]));d(a)}},removeColCell:function(a){a.isColspan?parseInt(g.getAttribute(a.el,\"colspan\"),10)>2?a.el.setAttribute(\"colspan\",parseInt(g.getAttribute(a.el,\"colspan\"),10)-1):a.el.removeAttribute(\"colspan\"):a.isReal&&d(a.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var a=0,b=this.map.length;b>a;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case\"row\":this.removeRow();break;case\"column\":this.removeColumn()}this.rectify()}},addRow:function(a){var b=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),\"below\"==a&&g.getAttribute(this.cell,\"rowspan\")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,\"rowspan\"),10)-1),this.idx!==!1){for(var c=this.map[this.idx.row],d=b.createElement(\"tr\"),f=0,h=c.length;h>f;f++)c[f].modified||(this.setCellAsModified(c[f]),this.addRowCell(c[f],d,a));switch(a){case\"below\":e(this.getRealRowEl(!0),d);break;case\"above\":var i=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:\"tr\"});i&&i.parentNode.insertBefore(d,i)}}},addRowCell:function(a,b,d){var e=a.isColspan?{colspan:g.getAttribute(a.el,\"colspan\")}:null;a.isReal?\"above\"!=d&&a.isRowspan?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)+1):b.appendChild(this.createCells(\"td\",1,e)):\"above\"!=d&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells(\"td\",1,e)):c.isRowspan&&a.el.attr(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)+1)},add:function(a){this.rectify()&&((\"below\"==a||\"above\"==a)&&this.addRow(a),(\"before\"==a||\"after\"==a)&&this.addColumn(a))},addColCell:function(a,b,d){var f,h=a.el.tagName.toLowerCase();switch(d){case\"before\":f=!a.isColspan||a.firstCol;break;case\"after\":f=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(f){switch(d){case\"before\":a.el.parentNode.insertBefore(this.createCells(h,1),a.el);break;case\"after\":e(a.el,this.createCells(h,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,b+1,d)}else a.el.setAttribute(\"colspan\",parseInt(g.getAttribute(a.el,\"colspan\"),10)+1)},addColumn:function(a){var b,c;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),\"after\"==a&&g.getAttribute(this.cell,\"colspan\")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,\"colspan\"),10)-1),this.idx!==!1)for(var d=0,e=this.map.length;e>d;d++)b=this.map[d],b[this.idx.col]&&(c=b[this.idx.col],c.modified||(this.setCellAsModified(c),this.addColCell(c,d,a)))},handleCellAddWithRowspan:function(a,b,c){for(var d,h,i,j=parseInt(g.getAttribute(this.cell,\"rowspan\"),10)-1,k=g.getParentElement(a.el,{query:\"tr\"}),l=a.el.tagName.toLowerCase(),m=this.table.ownerDocument,n=0;j>n;n++)if(d=this.correctColIndexForUnreals(this.idx.col,b+n),k=f(k,\"tr\"))if(d>0)switch(c){case\"before\":h=this.getRowCells(k),d>0&&this.map[b+n][this.idx.col].el!=h[d]&&d==h.length-1?e(h[d],this.createCells(l,1)):h[d].parentNode.insertBefore(this.createCells(l,1),h[d]);break;case\"after\":e(this.getRowCells(k)[d],this.createCells(l,1))}else k.insertBefore(this.createCells(l,1),k.firstChild);else i=m.createElement(\"tr\"),i.appendChild(this.createCells(l,1)),\nthis.table.appendChild(i)}},g.table={getCellsBetween:function(a,b){var c=new i(a);return c.getMapElsTo(b)},addCells:function(a,b){var c=new i(a);c.add(b)},removeCells:function(a,b){var c=new i(a);c.remove(b)},mergeCellsBetween:function(a,b){var c=new i(a);c.merge(b)},unmergeCell:function(a){var b=new i(a);b.unmerge()},orderSelectionEnds:function(a,b){var c=new i(a);return c.orderSelectionEnds(b)},indexOf:function(a){var b=new i(a);return b.setTableMap(),b.getMapIndex(a)},findCell:function(a,b){var c=new i(null,a);return c.getElementAtIndex(b)},findRowByCell:function(a){var b=new i(a);return b.getRowElementsByCell()},findColumnByCell:function(a){var b=new i(a);return b.getColumnElementsByCell()},canMerge:function(a,b){var c=new i(a);return c.canMerge(b)}}}(wysihtml5),wysihtml5.dom.query=function(a,b){var c,d=[];a.nodeType&&(a=[a]);for(var e=0,f=a.length;f>e;e++)if(c=a[e].querySelectorAll(b))for(var g=c.length;g--;d.unshift(c[g]));return d},wysihtml5.dom.compareDocumentPosition=function(){var a=document.documentElement;return a.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)}:function(a,b){var c,d;if(c=9===a.nodeType?a:a.ownerDocument,d=9===b.nodeType?b:b.ownerDocument,a===b)return 0;if(a===b.ownerDocument)return 20;if(a.ownerDocument===b)return 10;if(c!==d)return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(b))return 20;if(2===b.nodeType&&b.childNodes&&-1!==wysihtml5.lang.array(b.childNodes).indexOf(a))return 10;for(var e=a,f=[],g=null;e;){if(e==b)return 10;f.push(e),e=e.parentNode}for(e=b,g=null;e;){if(e==a)return 20;var h=wysihtml5.lang.array(f).indexOf(e);if(-1!==h){var i=f[h],j=wysihtml5.lang.array(i.childNodes).indexOf(f[h-1]),k=wysihtml5.lang.array(i.childNodes).indexOf(g);return j>k?2:4}g=e,e=e.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(a){var b=[];if(a.parentNode){for(;a.lastChild;)b.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return b},wysihtml5.dom.getPastedHtml=function(a){var b;return wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains(\"text/html\")?b=a.clipboardData.getData(\"text/html\"):wysihtml5.lang.array(a.clipboardData.types).contains(\"text/plain\")&&(b=wysihtml5.lang.string(a.clipboardData.getData(\"text/plain\")).escapeHTML(!0,!0))),b},wysihtml5.dom.getPastedHtmlWithDiv=function(a,b){var c=a.selection.getBookmark(),d=a.element.ownerDocument,e=d.createElement(\"DIV\"),f=a.getScrollPos();d.body.appendChild(e),e.style.width=\"1px\",e.style.height=\"1px\",e.style.overflow=\"hidden\",e.style.position=\"absolute\",e.style.top=f.y+\"px\",e.style.left=f.x+\"px\",e.setAttribute(\"contenteditable\",\"true\"),e.focus(),setTimeout(function(){var d;a.selection.setBookmark(c),d=e.innerHTML,d&&/^<br\\/?>$/i.test(d.trim())&&(d=!1),b(d),e.parentNode.removeChild(e)},0)},wysihtml5.dom.removeInvisibleSpaces=function(a){for(var b=wysihtml5.dom.getTextNodes(a),c=b.length;c--;)b[c].nodeValue=b[c].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")},wysihtml5.quirks.cleanPastedHTML=function(){var a=function(a){var b=wysihtml5.lang.string(a).trim(),c=b.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\");return new RegExp(\"^((?!^\"+c+\"$).)*$\",\"i\")},b=function(b,c){var d,e,f=wysihtml5.lang.object(b).clone(!0);for(d in f.tags)if(f.tags.hasOwnProperty(d)&&f.tags[d].keep_styles)for(e in f.tags[d].keep_styles)f.tags[d].keep_styles.hasOwnProperty(e)&&c[e]&&(f.tags[d].keep_styles[e]=a(c[e]));return f},c=function(a,b){var c;if(!a)return null;for(var d=0,e=a.length;e>d;d++)if(a[d].condition||(c=a[d].set),a[d].condition&&a[d].condition.test(b))return a[d].set;return c};return function(a,d){var e,f={color:wysihtml5.dom.getStyle(\"color\").from(d.referenceNode),fontSize:wysihtml5.dom.getStyle(\"font-size\").from(d.referenceNode)},g=b(c(d.rules,a)||{},f);return e=wysihtml5.dom.parse(a,{rules:g,cleanUp:!0,context:d.referenceNode.ownerDocument,uneditableClass:d.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();(\"<p>&nbsp;</p>\"==b||\"<p>&nbsp;</p><p>&nbsp;</p>\"==b)&&(a.innerHTML=\"\")},0)};return function(b){wysihtml5.dom.observe(b.element,[\"cut\",\"keydown\"],a)}}(),function(a){var b=\"%7E\";a.quirks.getCorrectInnerHTML=function(c){var d=c.innerHTML;if(-1===d.indexOf(b))return d;var e,f,g,h,i=c.querySelectorAll(\"[href*='~'], [src*='~']\");for(h=0,g=i.length;g>h;h++)e=i[h].href||i[h].src,f=a.lang.string(e).replace(\"~\").by(b),d=a.lang.string(d).replace(f).by(e);return d}}(wysihtml5),function(a){var b=\"wysihtml5-quirks-redraw\";a.quirks.redraw=function(c){a.dom.addClass(c,b),a.dom.removeClass(c,b);try{var d=c.ownerDocument;d.execCommand(\"italic\",!1,null),d.execCommand(\"italic\",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(a,b){function c(){return a.addEventListener(\"mousedown\",n),l}function d(c){l.start=c,l.end=c,l.cells=[c],l.table=k.getParentElement(l.start,{query:\"table\"},!1,a),l.table&&(e(),k.addClass(c,m),a.addEventListener(\"mousemove\",g),a.addEventListener(\"mouseup\",h),b.fire(\"tableselectstart\").fire(\"tableselectstart:composer\"))}function e(){if(a){var b=a.querySelectorAll(\".\"+m);if(b.length>0)for(var c=0;c<b.length;c++)k.removeClass(b[c],m)}}function f(a){for(var b=0;b<a.length;b++)k.addClass(a[b],m)}function g(c){var d,g=null,h=k.getParentElement(c.target,{query:\"td, th\"},!1,a);h&&l.table&&l.start&&(g=k.getParentElement(h,{query:\"table\"},!1,a),g&&g===l.table&&(e(),d=l.end,l.end=h,l.cells=k.table.getCellsBetween(l.start,h),l.cells.length>1&&b.composer.selection.deselect(),f(l.cells),l.end!==d&&b.fire(\"tableselectchange\").fire(\"tableselectchange:composer\")))}function h(c){a.removeEventListener(\"mousemove\",g),a.removeEventListener(\"mouseup\",h),b.fire(\"tableselect\").fire(\"tableselect:composer\"),setTimeout(function(){i()},0)}function i(){a.ownerDocument.addEventListener(\"click\",o)}function j(c,d){l.start=c,l.end=d,l.table=k.getParentElement(l.start,{query:\"table\"},!1,a),selectedCells=k.table.getCellsBetween(l.start,l.end),f(selectedCells),i(),b.fire(\"tableselect\").fire(\"tableselect:composer\")}var k=wysihtml5.dom,l={table:null,start:null,end:null,cells:null,select:j},m=\"wysiwyg-tmp-selected-cell\",n=function(b){var c=wysihtml5.dom.getParentElement(b.target,{query:\"td, th\"},!1,a);c&&d(c)},o=function(c){a.ownerDocument.removeEventListener(\"click\",o),k.getParentElement(c.target,{query:\"table\"},!1,a)!=l.table&&(e(),l.table=null,l.start=null,l.end=null,b.fire(\"tableunselect\").fire(\"tableunselect:composer\"))};return c()},function(a){function b(a){var b,c;for(b in d)if(d.hasOwnProperty(b)&&(c=d[b],c.regex.test(a)))return c}function c(a){var c=b(a);return c?c.name:void 0}var d={rgba:{regex:/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([\\d\\.]+)\\s*\\)/i,name:\"rgba\"},rgb:{regex:/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)/i,name:\"rgb\"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:\"hex\",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:\"hex\",radix:16}},e=function(a){return new RegExp(\"(^|\\\\s|;)\"+a+\"\\\\s*:\\\\s*[^;$]+\",\"gi\")};a.quirks.styleParser={getColorParseMethod:b,getColorFormat:c,parseColor:function(c,f){var g,h,i,j,k,l=c;if(f){if(g=e(f),!(h=c.match(g)))return!1;h=h.pop().split(\":\")[1],l=a.lang.string(h).trim()}return(i=b(l))&&(j=l.match(i.regex))?(k=i.radix||10,i===d.hex3?(j.shift(),j.push(1),a.lang.array(j).map(function(a,b){return 3>b?parseInt(a,k)*k+parseInt(a,k):parseFloat(a)})):(j.shift(),j[3]||j.push(1),a.lang.array(j).map(function(a,b){return 3>b?parseInt(a,k):parseFloat(a)}))):!1},unparseColor:function(a,b){var c=16;return\"hex\"===b?(a[0].toString(c)+a[1].toString(c)+a[2].toString(c)).toUpperCase():\"hash\"===b?\"#\"+(a[0].toString(c)+a[1].toString(c)+a[2].toString(c)).toUpperCase():\"rgb\"===b?\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\":\"rgba\"===b?\"rgba(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]+\")\":\"csv\"===b?a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]:a[3]&&1!==a[3]?\"rgba(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]+\")\":\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\"},parseFontSize:function(b){var c=b.match(e(\"font-size\"));return c?a.lang.string(c[c.length-1].split(\":\")[1]).trim():!1}}}(wysihtml5),function(a){function b(a){var b=0;if(a.parentNode)do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}function c(a,b){for(var c=0;b!==a;)if(c++,b=b.parentNode,!b)throw new Error(\"not a descendant of ancestor!\");return c}function d(b){var c=document.createElement(\"span\"),d=function(a){b.removeEventListener(\"mouseup\",d),b.removeEventListener(\"keydown\",d),b.removeEventListener(\"touchstart\",d),b.removeEventListener(\"focus\",d),b.removeEventListener(\"blur\",d),b.removeEventListener(\"paste\",e),b.removeEventListener(\"drop\",e),b.removeEventListener(\"beforepaste\",e),c&&c.parentNode&&c.parentNode.removeChild(c)},e=function(a){c&&c.parentNode&&setTimeout(d,0)};return c.appendChild(document.createTextNode(a.INVISIBLE_SPACE)),c.className=\"_wysihtml5-temp-caret-fix\",c.style.display=\"block\",c.style.minWidth=\"1px\",c.style.height=\"0px\",b.addEventListener(\"mouseup\",d),b.addEventListener(\"keydown\",d),b.addEventListener(\"touchstart\",d),b.addEventListener(\"focus\",d),b.addEventListener(\"blur\",d),b.addEventListener(\"paste\",e),b.addEventListener(\"drop\",e),b.addEventListener(\"beforepaste\",e),c}function e(a){if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,d=c(b,a.startContainer),e=c(b,a.endContainer);!a.canSurroundContents();)d>e?(a.setStartBefore(a.startContainer),d=c(b,a.startContainer)):(a.setEndAfter(a.endContainer),e=c(b,a.endContainer))}var f=a.dom;a.Selection=Base.extend({constructor:function(a,b,c){window.rangy.init(),this.editor=a,this.composer=a.composer,this.doc=this.composer.doc,this.win=this.composer.win,this.contain=b,this.unselectableClass=c||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);return b.setStartBefore(a),b.setEndBefore(a),this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var c=this.doc.createElement(\"span\"),d=this.doc.createTextNode(a.INVISIBLE_SPACE),e=function(b){var d;this.contain.removeEventListener(\"mouseup\",e),this.contain.removeEventListener(\"keydown\",g),this.contain.removeEventListener(\"touchstart\",e),this.contain.removeEventListener(\"focus\",e),this.contain.removeEventListener(\"blur\",e),this.contain.removeEventListener(\"paste\",f),this.contain.removeEventListener(\"drop\",f),this.contain.removeEventListener(\"beforepaste\",f),c&&c.parentNode&&(c.innerHTML=c.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,\"\"),/[^\\s]+/.test(c.innerHTML)?(d=c.lastChild,a.dom.unwrap(c),this.setAfter(d)):c.parentNode.removeChild(c))}.bind(this),f=function(a){c&&c.parentNode&&setTimeout(e,0)},g=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||e()};return c.className=\"_wysihtml5-temp-caret-fix\",c.style.position=\"absolute\",c.style.display=\"block\",c.style.minWidth=\"1px\",c.style.zIndex=\"99999\",c.appendChild(d),b.parentNode.insertBefore(c,b.nextSibling),this.setBefore(d),this.contain.addEventListener(\"mouseup\",e),this.contain.addEventListener(\"keydown\",g),this.contain.addEventListener(\"touchstart\",e),this.contain.addEventListener(\"focus\",e),this.contain.addEventListener(\"blur\",e),this.contain.addEventListener(\"paste\",f),this.contain.addEventListener(\"drop\",f),this.contain.addEventListener(\"beforepaste\",f),c},setAfter:function(b,c,d){var e,f=this.win,g=rangy.createRange(this.doc),h=function(){var d=b.parentNode,g=d?d.childNodes[d.childNodes.length-1]:null;if(!e||g===b&&1===b.nodeType&&\"block\"===f.getComputedStyle(b).display)if(c){var h=this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(h,b.nextSibling),this.selectNode(h),setTimeout(function(){h&&h.parentNode&&h.parentNode.removeChild(h)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this);if(g.setStartAfter(b),g.setEndAfter(b),document.activeElement&&document.activeElement===this.composer.element)e=this.setSelection(g),h(),d&&d(e);else{var i=this.composer.getScrollPos();this.composer.element.focus(),this.composer.setScrollPos(i),setTimeout(function(){e=this.setSelection(g),h(),d&&d(e)}.bind(this),0)}},selectNode:function(b,c){var d=rangy.createRange(this.doc),e=b.nodeType===a.ELEMENT_NODE,g=\"canHaveHTML\"in b?b.canHaveHTML:\"IMG\"!==b.nodeName,h=e?b.innerHTML:b.data,i=\"\"===h||h===a.INVISIBLE_SPACE,j=f.getStyle(\"display\").from(b),k=\"block\"===j||\"list-item\"===j;if(i&&e&&g&&!c)try{b.innerHTML=a.INVISIBLE_SPACE}catch(l){}g?d.selectNodeContents(b):d.selectNode(b),g&&i&&e?d.collapse(k):g&&i&&(d.setStartAfter(b),d.setEndAfter(b)),this.setSelection(d)},getSelectedNode:function(a){var b,c;return a&&this.doc.selection&&\"Control\"===this.doc.selection.type&&(c=this.doc.selection.createRange(),c&&c.length)?c.item(0):(b=this.getSelection(this.doc),b.focusNode===b.anchorNode?b.focusNode:(c=this.getRange(this.doc),c?c.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var a=this.getRange();e(a),this.setSelection(a)},getSelectedOwnNodes:function(a){for(var b=this.getOwnRanges(),c=[],d=0,e=b.length;e>d;d++)c.push(b[d].commonAncestorContainer||this.doc.body);return c},findNodesInSelection:function(b){for(var c,d=this.getOwnRanges(),e=[],f=0,g=d.length;g>f;f++)c=d[f].getNodes([1],function(c){return a.lang.array(b).contains(c.nodeName)}),e=e.concat(c);return e},filterElements:function(a){for(var b,c=this.getOwnRanges(),d=[],e=0,f=c.length;f>e;e++)b=c[e].getNodes([1],function(b){return a(b,c[e])}),d=d.concat(b);return d},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),c=0,d=a.length;d>c;c++)if(b.containsNode(a[c]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a),this.setSelection(a)},deleteRangeContents:function(b){var c,d,e,f;if(this.unselectableClass){(c=a.dom.getParentElement(b.startContainer,{query:\".\"+this.unselectableClass},!1,this.contain))&&b.setStartBefore(c),(d=a.dom.getParentElement(b.endContainer,{query:\".\"+this.unselectableClass},!1,this.contain))&&b.setEndAfter(d),e=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this));for(var g=e.length;g--;)try{f=new CustomEvent(\"wysihtml5:uneditable:delete\"),e[g].dispatchEvent(f)}catch(h){}}b.deleteContents()},getPreviousNode:function(b,c){var d;if(!b){var e=this.getSelection();b=e.anchorNode}if(b===this.contain)return!1;var f,g=b.previousSibling;return g===this.contain?!1:(g&&3!==g.nodeType&&1!==g.nodeType?g=this.getPreviousNode(g,c):g&&3===g.nodeType&&/^\\s*$/.test(g.textContent)?g=this.getPreviousNode(g,c):c&&g&&1===g.nodeType?(d=a.dom.getStyle(\"display\").from(g),a.lang.array([\"BR\",\"HR\",\"IMG\"]).contains(g.nodeName)||a.lang.array([\"block\",\"inline-block\",\"flex\",\"list-item\",\"table\"]).contains(d)||!/^[\\s]*$/.test(g.innerHTML)||(g=this.getPreviousNode(g,c))):g||b===this.contain||(f=b.parentNode,f!==this.contain&&(g=this.getPreviousNode(f,c))),g!==this.contain?g:!1)},getSelectionParentsByTag:function(b){for(var c,d=this.getSelectedOwnNodes(),e=[],f=0,g=d.length;g>f;f++)c=d[f].nodeName&&\"LI\"===d[f].nodeName?d[f]:a.dom.getParentElement(d[f],{query:\"li\"},!1,this.contain),c&&e.push(c);return e.length?e:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,c=a.startOffset,d=rangy.createRange(this.doc);return d.selectNodeContents(b),d.setStart(b,c),d}},caretIsLastInSelection:function(){var a=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),b=a.textContent;return/^\\s*$/.test(b)},caretIsFirstInSelection:function(){var b=rangy.createRange(this.doc),c=this.getSelection(),d=this.getRange(),e=d.startContainer;return e?e.nodeType===a.TEXT_NODE?this.isCollapsed()&&e.nodeType===a.TEXT_NODE&&/^\\s*$/.test(e.data.substr(0,d.startOffset)):(b.selectNodeContents(this.getRange().commonAncestorContainer),b.collapse(!0),this.isCollapsed()&&(b.startContainer===c.anchorNode||b.endContainer===c.anchorNode)&&b.startOffset===c.anchorOffset):void 0},caretIsInTheBeginnig:function(b){var c=this.getSelection(),d=c.anchorNode,e=c.anchorOffset;return b&&d?0===e&&(d.nodeName&&d.nodeName===b.toUpperCase()||a.dom.getParentElement(d.parentNode,{query:b},1)):d?0===e&&!this.getPreviousNode(d,!0):void 0},getBeforeSelection:function(b){var c,d,e=this.getSelection(),f=e.isBackwards()?e.focusNode:e.anchorNode,g=e.isBackwards()?e.focusOffset:e.anchorOffset,h=this.createRange();if(d=a.dom.getParentElement(f,{query:\"._wysihtml5-temp-caret-fix\"},1),d&&(f=d.parentNode,g=Array.prototype.indexOf.call(f.childNodes,d)),f){if(g>0)return 3===f.nodeType?(h.setStart(f,0),h.setEnd(f,g),{type:\"text\",range:h,offset:g,node:f}):(h.setStartBefore(f.childNodes[0]),c=f.childNodes[g-1],h.setEndAfter(c),{type:\"element\",range:h,offset:g,node:c});if(h.setStartAndEnd(f,0),b){var i=this.getPreviousNode(f,!0),j=null;if(i&&(j=1===i.nodeType&&a.dom.hasClass(i,this.unselectableClass)?i:a.dom.domNode(i).lastLeafNode()),j)return{type:\"leafnode\",range:h,offset:g,node:j}}return{type:\"none\",range:h,offset:g,node:f}}return null},executeAndRestoreRangy:function(a,b){var c=rangy.saveSelection(this.win);if(c)try{a()}catch(d){setTimeout(function(){throw d},0)}else a();rangy.restoreSelection(c)},executeAndRestore:function(b,c){var d,e,g,h,i,j,k,l,m=this.doc.body,n=c&&m.scrollTop,o=c&&m.scrollLeft,p=\"_wysihtml5-temp-placeholder\",q='<span class=\"'+p+'\">'+a.INVISIBLE_SPACE+\"</span>\",r=this.getRange(!0);if(!r)return void b(m,m);r.collapsed||(k=r.cloneRange(),j=k.createContextualFragment(q),k.collapse(!1),k.insertNode(j),k.detach()),i=r.createContextualFragment(q),r.insertNode(i),j&&(d=this.contain.querySelectorAll(\".\"+p),r.setStartBefore(d[0]),r.setEndAfter(d[d.length-1])),this.setSelection(r);try{b(r.startContainer,r.endContainer)}catch(s){setTimeout(function(){throw s},0)}if(d=this.contain.querySelectorAll(\".\"+p),d&&d.length){l=rangy.createRange(this.doc),g=d[0].nextSibling,d.length>1&&(h=d[d.length-1].previousSibling),h&&g?(l.setStartBefore(g),l.setEndAfter(h)):(e=this.doc.createTextNode(a.INVISIBLE_SPACE),f.insert(e).after(d[0]),l.setStartBefore(e),l.setEndAfter(e)),this.setSelection(l);for(var t=d.length;t--;)d[t].parentNode.removeChild(d[t])}else this.contain.focus();c&&(m.scrollTop=n,m.scrollLeft=o);try{d.parentNode.removeChild(d)}catch(u){}},set:function(a,b){var c=rangy.createRange(this.doc);c.setStart(a,b||0),this.setSelection(c)},insertHTML:function(a){var b,c,d=this.getRange(),e=this.doc.createElement(\"DIV\"),f=this.doc.createDocumentFragment();if(d){for(d.deleteContents(),e.innerHTML=a,b=e.lastChild;e.firstChild;)f.appendChild(e.firstChild);for(d.insertNode(f),c=this.contain.lastChild;c&&3===c.nodeType&&c.previousSibling&&/^\\s*$/.test(c.data);)c=c.previousSibling;b&&(c&&b===c&&1===b.nodeType&&this.contain.appendChild(this.doc.createElement(\"br\")),this.setAfter(b))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,c,d=[\"area\",\"base\",\"br\",\"col\",\"command\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"],e=this.getRange();return b=a||e.startContainer,b&&(c=(b.tagName||b.nodeName).toLowerCase()),-1===d.indexOf(c)},splitElementAtCaret:function(b,c){var d,e,f,g,h,i=this.getSelection();if(i.rangeCount>0){d=i.getRangeAt(0).cloneRange(),d.setEndAfter(b),e=d.extractContents(),h=e.childNodes;for(var j=h.length;j--;)a.dom.domNode(h[j]).is.visible()||e.removeChild(h[j]);b.parentNode.insertBefore(e,b.nextSibling),c?(f=c.firstChild||c,g=c.lastChild||c,b.parentNode.insertBefore(c,b.nextSibling),f&&g&&(d.setStartBefore(f),d.setEndAfter(g),this.setSelection(d))):(d.setStartAfter(b),d.setEndAfter(b)),a.dom.domNode(b).is.visible()||(\"\"===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(\" \"),b))}},surround:function(a){var b,c=this.getOwnRanges(),d=[];if(0==c.length)return d;for(var e=c.length;e--;){b=this.doc.createElement(a.nodeName),d.push(b),a.className&&(b.className=a.className),a.cssStyle&&b.setAttribute(\"style\",a.cssStyle);try{c[e].surroundContents(b),this.selectNode(b)}catch(f){b.appendChild(c[e].extractContents()),c[e].insertNode(b)}}return d},deblockAndSurround:function(b){var c,d,e,f=this.doc.createElement(\"div\"),g=rangy.createRange(this.doc);if(f.className=b.className,this.composer.commands.exec(\"formatBlock\",b),c=this.contain.querySelectorAll(\".\"+b.className),c[0])for(c[0].parentNode.insertBefore(f,c[0]),g.setStartBefore(c[0]),g.setEndAfter(c[c.length-1]),d=g.extractContents();d.firstChild;)if(e=d.firstChild,1==e.nodeType&&a.dom.hasClass(e,b.className)){for(;e.firstChild;)f.appendChild(e.firstChild);\"BR\"!==e.nodeName&&f.appendChild(this.doc.createElement(\"br\")),d.removeChild(e)}else f.appendChild(e);else f=null;return f},scrollIntoView:function(){var c,d=this.doc,e=5,f=d.documentElement.scrollHeight>d.documentElement.offsetHeight,g=d._wysihtml5ScrollIntoViewElement=d._wysihtml5ScrollIntoViewElement||function(){var b=d.createElement(\"span\");return b.innerHTML=a.INVISIBLE_SPACE,b}();f&&(this.insertNode(g),c=b(g),g.parentNode.removeChild(g),c>=d.body.scrollTop+d.documentElement.offsetHeight-e&&(d.body.scrollTop=c))},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),c=function(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")},d=function(a){return 1===a.nodeType?a.childNodes&&a.childNodes.length||0:a.data&&a.data.length||0},e=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,f=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode;f&&a.focusOffset===d(f)&&f.nextSibling&&c(f.nextSibling)&&b.setEndAfter(f.nextSibling),e&&0===a.anchorOffset&&e.previousSibling&&c(e.previousSibling)&&b.setStartBefore(e.previousSibling),b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify(\"move\",\"left\",\"lineboundary\"),a.modify(\"extend\",\"right\",\"lineboundary\"),a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,c){if(c=\"undefined\"==typeof c?!1:c,a.browser.supportsSelectionModify()){var d=this.win.getSelection();d.modify(\"extend\",b,\"lineboundary\"),c&&(\"left\"===b?d.collapseToStart():\"right\"===b&&d.collapseToEnd())}},getRangeRect:function(a){var b,c=(this.doc.createTextNode(\"i\"),this.doc.createTextNode(\"i\"));return a.collapsed?(a.insertNode(c),a.selectNode(c),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect(),b},_selectLineUniversal:function(){var b,c,d,e,f,g,h=this.getSelection(),i=h.getRangeAt(0),j=0,k=this,l=function(b){return b&&1===b.nodeType&&(\"block\"===k.win.getComputedStyle(b).display||a.lang.array([\"BR\",\"HR\"]).contains(b.nodeName))},m=function(a){var b=a;if(b)for(;b&&(1===b.nodeType&&b.classList.contains(\"rangySelectionBoundary\")||3===b.nodeType&&/^\\s*$/.test(b.data));)b=b.previousSibling;return b};c=i.cloneRange(),d=i.cloneRange(),i.collapsed&&(3===i.startContainer.nodeType&&i.startOffset<i.startContainer.data.length?i.moveEnd(\"character\",1):1===i.startContainer.nodeType&&i.startContainer.childNodes[i.startOffset]&&3===i.startContainer.childNodes[i.startOffset].nodeType&&i.startContainer.childNodes[i.startOffset].data.length>0?i.moveEnd(\"character\",1):i.startOffset>0&&(3===i.startContainer.nodeType||1===i.startContainer.nodeType&&!l(m(i.startContainer.childNodes[i.startOffset-1])))&&i.moveStart(\"character\",-1)),i.collapsed||i.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE)),b=i.nativeRange.getBoundingClientRect();do e=i.moveStart(\"character\",-1),f=i.nativeRange.getBoundingClientRect(),f&&Math.floor(f.top)===Math.floor(b.top)||(i.moveStart(\"character\",1),g=!0),j++;while(0!==e&&!g&&2e3>j);j=0,g=!1,b=i.nativeRange.getBoundingClientRect();do e=i.moveEnd(\"character\",1),f=i.nativeRange.getBoundingClientRect(),f&&Math.floor(f.bottom)===Math.floor(b.bottom)||(i.moveEnd(\"character\",-1),i.endContainer&&1===i.endContainer.nodeType&&i.endContainer.childNodes[i.endOffset]&&1===i.endContainer.childNodes[i.endOffset].nodeType&&\"BR\"===i.endContainer.childNodes[i.endOffset].nodeName&&i.endContainer.childNodes[i.endOffset].previousSibling&&(1===i.endContainer.childNodes[i.endOffset].previousSibling.nodeType?i.setEnd(i.endContainer.childNodes[i.endOffset].previousSibling,i.endContainer.childNodes[i.endOffset].previousSibling.childNodes.length):3===i.endContainer.childNodes[i.endOffset].previousSibling.nodeType&&i.setEnd(i.endContainer.childNodes[i.endOffset].previousSibling,i.endContainer.childNodes[i.endOffset].previousSibling.data.length)),g=!0),j++;while(0!==e&&!g&&2e3>j);i.select(),this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():\"\"},getNodes:function(a,b){var c=this.getRange();return c?c.getNodes(Array.isArray(a)?a:[a],b):[]},getOwnNodes:function(a,b,c){for(var d=this.getOwnRanges(),e=[],f=0,g=d.length;g>f;f++)d[f]&&(c&&d[f].splitBoundaries(),e=e.concat(d[f].getNodes(Array.isArray(a)?a:[a],b)));return e},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);if(2!==b)1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(a)){var c=a.endContainer.previousElementSibling;c&&a.setEnd(c,this._endOffsetForNode(c))}}},_endOffsetForNode:function(a){var b=document.createRange();return b.selectNodeContents(a),b.endOffset},_detectInlineRangeProblems:function(a){var b=f.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&4&b},getRange:function(a){var b=this.getSelection(),c=b&&b.rangeCount&&b.getRangeAt(0);return a!==!0&&this.fixRangeOverflow(c),c},getOwnUneditables:function(){var b=f.query(this.contain,\".\"+this.unselectableClass),c=f.query(b,\".\"+this.unselectableClass);return a.lang.array(b).without(c)},getOwnRanges:function(){var a,b=[],c=this.getRange();if(c&&b.push(c),this.unselectableClass&&this.contain&&c){var d,e=this.getOwnUneditables();if(e.length>0)for(var f=0,g=e.length;g>f;f++){a=[];for(var h=0,i=b.length;i>h;h++){if(b[h])switch(b[h].compareNode(e[f])){case 2:break;case 3:d=b[h].cloneRange(),d.setEndBefore(e[f]),a.push(d),d=b[h].cloneRange(),d.setStartAfter(e[f]),a.push(d);break;default:a.push(b[h])}b=a}}}return b},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);return b.setSingleRange(a),b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var b,c=this.createRange(),e=this.composer,f=this,g=d(this.composer.element),h=d(this.composer.element),i=function(){c.setStart(e.element,0),c.setEnd(e.element,e.element.childNodes.length),b=f.setSelection(c)},j=function(){return!b||b.nativeSelection&&b.nativeSelection.type&&(\"Caret\"===b.nativeSelection.type||\"None\"===b.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element),i(),this.composer.element.firstChild&&j()&&(this.composer.element.appendChild(g),i(),j()&&(g.parentNode.removeChild(g),this.composer.element.insertBefore(h,this.composer.element.firstChild),i(),j()&&(this.composer.element.appendChild(g),i())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var c=this.getRange(),d=c.commonAncestorContainer,e=c.startContainer,f=c.endContainer;if(d.nodeType===a.TEXT_NODE&&(d=d.parentNode),e.nodeType===a.TEXT_NODE&&!/^\\s*$/.test(e.data.substr(c.startOffset)))return!1;if(f.nodeType===a.TEXT_NODE&&!/^\\s*$/.test(f.data.substr(c.endOffset)))return!1;for(;e&&e!==d;){if(e.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,e))return!1;if(a.dom.domNode(e).prev({ignoreBlankTexts:!0}))return!1;e=e.parentNode}for(;f&&f!==d;){if(f.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,f))return!1;if(a.dom.domNode(f).next({ignoreBlankTexts:!0}))return!1;f=f.parentNode}return a.lang.array(b).contains(d.nodeName)?d:!1},isInThisEditable:function(){var b=this.getSelection(),c=b.focusNode,d=b.anchorNode;return c&&1!==c.nodeType&&(c=c.parentNode),d&&1!==d.nodeType&&(d=d.parentNode),d&&c&&(a.dom.contains(this.composer.element,c)||this.composer.element===c)&&(a.dom.contains(this.composer.element,d)||this.composer.element===d)},deselect:function(){var a=this.getSelection();a&&a.removeAllRanges()}})}(wysihtml5),function(a,b){function c(a,b,c){if(!a.className)return!1;var d=a.className.match(c)||[];return d[d.length-1]===b}function d(a,b){if(!a.getAttribute||!a.getAttribute(\"style\"))return!1;a.getAttribute(\"style\").match(b);return a.getAttribute(\"style\").match(b)?!0:!1}function e(a,b,c){a.getAttribute(\"style\")?(h(a,c),a.getAttribute(\"style\")&&!/^\\s*$/.test(a.getAttribute(\"style\"))?a.setAttribute(\"style\",b+\";\"+a.getAttribute(\"style\")):a.setAttribute(\"style\",b)):a.setAttribute(\"style\",b)}function f(a,b,c){a.className?(g(a,c),a.className+=\" \"+b):a.className=b}function g(a,b){a.className&&(a.className=a.className.replace(b,\"\"))}function h(a,b){var c,d=[];if(a.getAttribute(\"style\")){c=a.getAttribute(\"style\").split(\";\");for(var e=c.length;e--;)c[e].match(b)||/^\\s*$/.test(c[e])||d.push(c[e]);d.length?a.setAttribute(\"style\",d.join(\";\")):a.removeAttribute(\"style\")}}function i(a,b){var c=[],d=b.split(\";\"),e=a.getAttribute(\"style\");if(e){e=e.replace(/\\s/gi,\"\").toLowerCase(),c.push(new RegExp(\"(^|\\\\s|;)\"+b.replace(/\\s/gi,\"\").replace(/([\\(\\)])/gi,\"\\\\$1\").toLowerCase().replace(\";\",\";?\").replace(/rgb\\\\\\((\\d+),(\\d+),(\\d+)\\\\\\)/gi,\"\\\\s?rgb\\\\($1,\\\\s?$2,\\\\s?$3\\\\)\"),\"gi\"));for(var f=d.length;f-->0;)/^\\s*$/.test(d[f])||c.push(new RegExp(\"(^|\\\\s|;)\"+d[f].replace(/\\s/gi,\"\").replace(/([\\(\\)])/gi,\"\\\\$1\").toLowerCase().replace(\";\",\";?\").replace(/rgb\\\\\\((\\d+),(\\d+),(\\d+)\\\\\\)/gi,\"\\\\s?rgb\\\\($1,\\\\s?$2,\\\\s?$3\\\\)\"),\"gi\"));for(var g=0,h=c.length;h>g;g++)if(e.match(c[g]))return c[g]}return!1}function j(c,d,e,f){return e?i(c,e):f?a.dom.hasClass(c,f):b.dom.arrayContains(d,c.tagName.toLowerCase())}function k(a,b,c,d){for(var e=a.length;e--;)if(!j(a[e],b,c,d))return!1;return a.length?!0:!1}function l(a,b,c){var d=i(a,b);return d?(h(a,d),\"remove\"):(e(a,b,c),\"change\")}function m(a,b){return a.className.replace(u,\" \")==b.className.replace(u,\" \")}function n(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}function o(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c,d,e,f=0,g=a.attributes.length;g>f;++f)if(c=a.attributes[f],e=c.name,\"class\"!=e){if(d=b.attributes.getNamedItem(e),c.specified!=d.specified)return!1;if(c.specified&&c.nodeValue!==d.nodeValue)return!1}return!0}function p(a,c){return b.dom.isCharacterDataNode(a)?0==c?!!a.previousSibling:c==a.length?!!a.nextSibling:!0:c>0&&c<a.childNodes.length}function q(a,c,d,e){var f;if(b.dom.isCharacterDataNode(c)&&(0==d?(d=b.dom.getNodeIndex(c),c=c.parentNode):d==c.length?(d=b.dom.getNodeIndex(c)+1,c=c.parentNode):f=b.dom.splitDataNode(c,d)),!(f||e&&c===e)){f=c.cloneNode(!1),f.id&&f.removeAttribute(\"id\");for(var g;g=c.childNodes[d];)f.appendChild(g);b.dom.insertAfter(f,c)}return c==a?f:q(a,f.parentNode,b.dom.getNodeIndex(f),e)}function r(b){this.isElementMerge=b.nodeType==a.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?b.lastChild:b,this.textNodes=[this.firstTextNode]}function s(a,b,c,d,e,f,g){this.tagNames=a||[t],this.cssClass=b||(b===!1?!1:\"\"),this.similarClassRegExp=c,this.cssStyle=e||\"\",this.similarStyleRegExp=f,this.normalize=d,this.applyToAnyTagName=!1,this.container=g}var t=\"span\",u=/\\s+/g;\nr.prototype={doMerge:function(){for(var a,b,c,d=[],e=0,f=this.textNodes.length;f>e;++e)a=this.textNodes[e],b=a.parentNode,d[e]=a.data,e&&(b.removeChild(a),b.hasChildNodes()||b.parentNode.removeChild(b));return this.firstTextNode.data=c=d.join(\"\"),c},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=0,c=this.textNodes.length;c>b;++b)a[b]=\"'\"+this.textNodes[b].data+\"'\";return\"[Merge(\"+a.join(\",\")+\")]\"}},s.prototype={getAncestorWithClass:function(d){for(var e;d;){if(e=this.cssClass?c(d,this.cssClass,this.similarClassRegExp):\"\"!==this.cssStyle?!1:!0,d.nodeType==a.ELEMENT_NODE&&\"false\"!=d.getAttribute(\"contenteditable\")&&b.dom.arrayContains(this.tagNames,d.tagName.toLowerCase())&&e)return d;d=d.parentNode}return!1},getAncestorWithStyle:function(c){for(var e;c;){if(e=this.cssStyle?d(c,this.similarStyleRegExp):!1,c.nodeType==a.ELEMENT_NODE&&\"false\"!=c.getAttribute(\"contenteditable\")&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&e)return c;c=c.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),c=!1;return b?this.cssStyle&&(c=\"class\"):(b=this.getAncestorWithStyle(a),b&&(c=\"style\")),{element:b,type:c}},postApply:function(a,b){for(var c,d,e,f=a[0],g=a[a.length-1],h=[],i=f,j=g,k=0,l=g.length,m=0,n=a.length;n>m;++m)d=a[m],e=null,d&&d.parentNode&&(e=this.getAdjacentMergeableTextNode(d.parentNode,!1)),e?(c||(c=new r(e),h.push(c)),c.textNodes.push(d),d===f&&(i=c.firstTextNode,k=i.length),d===g&&(j=c.firstTextNode,l=c.getLength())):c=null;if(g&&g.parentNode){var o=this.getAdjacentMergeableTextNode(g.parentNode,!0);o&&(c||(c=new r(g),h.push(c)),c.textNodes.push(o))}if(h.length){for(m=0,n=h.length;n>m;++m)h[m].doMerge();b.setStart(i,k),b.setEnd(j,l)}},getAdjacentMergeableTextNode:function(b,c){var d,e=b.nodeType==a.TEXT_NODE,f=e?b.parentNode:b,g=c?\"nextSibling\":\"previousSibling\";if(e){if(d=b[g],d&&d.nodeType==a.TEXT_NODE)return d}else if(d=f[g],d&&this.areElementsMergeable(b,d))return d[c?\"firstChild\":\"lastChild\"];return null},areElementsMergeable:function(a,c){return b.dom.arrayContains(this.tagNames,(a.tagName||\"\").toLowerCase())&&b.dom.arrayContains(this.tagNames,(c.tagName||\"\").toLowerCase())&&m(a,c)&&o(a,c)},createContainer:function(a){var b=a.createElement(this.tagNames[0]);return this.cssClass&&(b.className=this.cssClass),this.cssStyle&&b.setAttribute(\"style\",this.cssStyle),b},applyToTextNode:function(a){var c=a.parentNode;if(1==c.childNodes.length&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase()))this.cssClass&&f(c,this.cssClass,this.similarClassRegExp),this.cssStyle&&e(c,this.cssStyle,this.similarStyleRegExp);else{var d=this.createContainer(b.dom.getDocument(a));a.parentNode.insertBefore(d,a),d.appendChild(a)}},isRemovable:function(c){return b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&\"\"===a.lang.string(c.className).trim()&&(!c.getAttribute(\"style\")||\"\"===a.lang.string(c.getAttribute(\"style\")).trim())},undoToTextNode:function(a,b,c,d){var e=c?!1:!0,f=c||d,h=!1;if(!b.containsNode(f)){var i=b.cloneRange();i.selectNode(f),i.isPointInRange(b.endContainer,b.endOffset)&&p(b.endContainer,b.endOffset)&&(q(f,b.endContainer,b.endOffset,this.container),b.setEndAfter(f)),i.isPointInRange(b.startContainer,b.startOffset)&&p(b.startContainer,b.startOffset)&&(f=q(f,b.startContainer,b.startOffset,this.container))}!e&&this.similarClassRegExp&&g(f,this.similarClassRegExp),e&&this.similarStyleRegExp&&(h=\"change\"===l(f,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(f)&&!h&&n(f)},applyToRange:function(b){for(var c,d=b.length;d--;){if(c=b[d].getNodes([a.TEXT_NODE]),!c.length)try{var e=this.createContainer(b[d].endContainer.ownerDocument);return b[d].surroundContents(e),void this.selectNode(b[d],e)}catch(f){}if(b[d].splitBoundaries(),c=b[d].getNodes([a.TEXT_NODE]),c.length){for(var g,h=0,i=c.length;i>h;++h)g=c[h],this.getMatchingAncestor(g).element||this.applyToTextNode(g);b[d].setStart(c[0],0),g=c[c.length-1],b[d].setEnd(g,g.length),this.normalize&&this.postApply(c,b[d])}}},undoToRange:function(b){for(var c,d,e,f=b.length;f--;){if(c=b[f].getNodes([a.TEXT_NODE]),c.length)b[f].splitBoundaries(),c=b[f].getNodes([a.TEXT_NODE]);else{var g=b[f].endContainer.ownerDocument,h=g.createTextNode(a.INVISIBLE_SPACE);b[f].insertNode(h),b[f].selectNode(h),c=[h]}for(var i=0,j=c.length;j>i;++i)b[f].isValid()&&(d=c[i],e=this.getMatchingAncestor(d),\"style\"===e.type?this.undoToTextNode(d,b[f],!1,e.element):e.element&&this.undoToTextNode(d,b[f],e.element));1==j?this.selectNode(b[f],c[0]):(b[f].setStart(c[0],0),d=c[c.length-1],b[f].setEnd(d,d.length),this.normalize&&this.postApply(c,b[f]))}},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e=\"canHaveHTML\"in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data,g=\"\"===f||f===a.INVISIBLE_SPACE;if(g&&d&&e)try{c.innerHTML=a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c),g&&d?b.collapse(!1):g&&(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),e=d?d.toString():\"\";return c.detach(),e},isAppliedToRange:function(b){for(var c,d,e=[],f=\"full\",g=b.length;g--;){if(d=b[g].getNodes([a.TEXT_NODE]),!d.length)return c=this.getMatchingAncestor(b[g].startContainer).element,c?{elements:[c],coverage:f}:!1;for(var h,i=0,j=d.length;j>i;++i)h=this.getTextSelectedByRange(d[i],b[g]),c=this.getMatchingAncestor(d[i]).element,c&&\"\"!=h?(e.push(c),1===a.dom.getTextNodes(c,!0).length?f=\"full\":\"full\"===f&&(f=\"inline\")):c||(f=\"partial\")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b,c=this.isAppliedToRange(a);c?\"full\"===c.coverage?this.undoToRange(a):\"inline\"===c.coverage?(b=k(c.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):(k(c.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}},a.selection.HTMLApplier=s}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.exec,f=null;if(this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array([\"styleWithCSS\",\"enableObjectResizing\",\"enableInlineTableEditing\"]).contains(a)&&(this.composer.element.innerHTML=\"\",this.composer.selection.selectNode(this.composer.element)),this.editor.fire(\"beforecommand:composer\"),e)d.unshift(this.composer),f=e.apply(c,d);else try{f=this.doc.execCommand(a,!1,b)}catch(g){}return this.editor.fire(\"aftercommand:composer\"),f},remove:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.remove;return e?(d.unshift(this.composer),e.apply(c,d)):void 0},state:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.state;if(e)return d.unshift(this.composer),e.apply(c,d);try{return this.doc.queryCommandState(a)}catch(f){return!1}},stateValue:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&&b.stateValue;return d?(c.unshift(this.composer),d.apply(b,c)):!1}}),function(a){var b={nodeName:\"B\",toggle:!0};a.commands.bold={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){function b(b){return a.lang.object({}).merge(c).merge({attribute:b}).get()}var c={nodeName:\"A\",toggle:!1};a.commands.createLink={exec:function(c,d,e){var f=b(e);if(c.selection.isCollapsed()&&!this.state(c,d)){var g=c.doc.createTextNode(f.attribute.href);c.selection.insertNode(g),c.selection.selectNode(g)}a.commands.formatInline.exec(c,d,f)},state:function(b,d){return a.commands.formatInline.state(b,d,c)}}}(wysihtml5),function(a){var b={nodeName:\"A\"};a.commands.removeLink={exec:function(c,d){a.commands.formatInline.remove(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b=/wysiwyg-font-size-[0-9a-z\\-]+/g;a.commands.fontSize={exec:function(c,d,e){a.commands.formatInline.exec(c,d,{className:\"wysiwyg-font-size-\"+e,classRegExp:b,toggle:!0})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{className:\"wysiwyg-font-size-\"+d})}}}(wysihtml5),function(a){a.commands.fontSizeStyle={exec:function(b,c,d){d=d.size||d,/^\\s*$/.test(d)||a.commands.formatInline.exec(b,c,{styleProperty:\"fontSize\",styleValue:d,toggle:!1})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{styleProperty:\"fontSize\",styleValue:d||void 0})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"fontSize\"})},stateValue:function(b,c){var d,e=this.state(b,c);return e&&a.lang.object(e).isArray()&&(e=e[0]),e&&(d=e.getAttribute(\"style\"))?a.quirks.styleParser.parseFontSize(d):!1}}}(wysihtml5),function(a){var b=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(c,d,e){a.commands.formatInline.exec(c,d,{className:\"wysiwyg-color-\"+e,classRegExp:b,toggle:!0})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{className:\"wysiwyg-color-\"+d})}}}(wysihtml5),function(a){a.commands.foreColorStyle={exec:function(b,c,d){var e,f;d&&(e=a.quirks.styleParser.parseColor(\"color:\"+(d.color||d),\"color\"),e&&(f=(1===e[3]?\"rgb(\"+[e[0],e[1],e[2]].join(\", \"):\"rgba(\"+e.join(\", \"))+\")\",a.commands.formatInline.exec(b,c,{styleProperty:\"color\",styleValue:f})))},state:function(b,c,d){var e,f=d?a.quirks.styleParser.parseColor(\"color:\"+(d.color||d),\"color\"):null;return f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\"),a.commands.formatInline.state(b,c,{styleProperty:\"color\",styleValue:e})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"color\"})},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&&a.lang.object(f).isArray()&&(f=f[0]),f&&(e=f.getAttribute(\"style\"))?(g=a.quirks.styleParser.parseColor(e,\"color\"),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){a.commands.bgColorStyle={exec:function(b,c,d){var e,f=a.quirks.styleParser.parseColor(\"background-color:\"+(d.color||d),\"background-color\");f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\",a.commands.formatInline.exec(b,c,{styleProperty:\"backgroundColor\",styleValue:e}))},state:function(b,c,d){var e,f=d?a.quirks.styleParser.parseColor(\"background-color:\"+(d.color||d),\"background-color\"):null;return f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\"),a.commands.formatInline.state(b,c,{styleProperty:\"backgroundColor\",styleValue:e})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"backgroundColor\"})},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&&a.lang.object(f).isArray()&&(f=f[0]),f&&(e=f.getAttribute(\"style\"))?(g=a.quirks.styleParser.parseColor(e,\"background-color\"),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){function b(a){return{nodeName:a.nodeName||null,className:a.classRegExp?null:a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}}function c(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function d(a){return a&&1===a.nodeType&&\"BR\"===a.nodeName}function e(a,b){return a&&1===a.nodeType&&\"block\"===b.win.getComputedStyle(a).display}function f(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")}function g(a,b){return d(a)||e(a,b)}function h(b,c){a.dom.removeInvisibleSpaces(b.element);for(var d,e=b.element,f=e.querySelectorAll(D),g=b.config.classNames.uneditableContainer+[\"\"].concat(D.split(\",\")).join(\", \"+b.config.classNames.uneditableContainer+\" \"),h=e.querySelectorAll(g),i=a.lang.array(f).without(h),j=i.length;j--;)\"\"===i[j].innerHTML.replace(/[\\uFEFF]/g,\"\")&&(d=a.lang.array(c).indexOf(i[j]),d>-1&&c.splice(d,1),i[j].parentNode.removeChild(i[j]));return c}function i(a){return a.config.useLineBreaks?\"DIV\":\"P\"}function j(a,b,c){for(var d=a,e=null;d&&b&&d!==b;)1===d.nodeType&&d.matches(c?D:C)&&(e=d),d=d.parentNode;return e}function k(a,b){for(var c,d,e,f=a,g=null;f&&b&&f!==b;)1===f.nodeType&&f.matches(E)&&(d=f,null===g?(g=f.cloneNode(!1),c=g):(e=f.cloneNode(!1),e.appendChild(g),g=e)),f=f.parentNode;return{parent:d,outerNode:g,innerNode:c}}function l(b,c,d){return b||(b=d.doc.createElement(c.nodeName||i(d)),b.appendChild(d.doc.createTextNode(a.INVISIBLE_SPACE))),c.nodeName&&b.nodeName!==c.nodeName&&(b=B.renameElement(b,c.nodeName)),c.classRegExp&&(b.className=b.className.replace(c.classRegExp,\"\")),c.className&&b.classList.add(c.className),c.styleProperty&&\"undefined\"!=typeof c.styleValue&&(b.style[a.browser.fixStyleKey(c.styleProperty)]=c.styleValue),b}function m(b,c,d){var e,f=b.previousSibling,g=b.nextSibling,h=!1;c.styleProperty&&(b.style[a.browser.fixStyleKey(c.styleProperty)]=\"\"),c.className&&b.classList.remove(c.className),c.classRegExp&&(b.className=b.className.replace(c.classRegExp,\"\")),null!==b.getAttribute(\"class\")&&\"\"===b.getAttribute(\"class\").trim()&&b.removeAttribute(\"class\"),c.nodeName&&b.nodeName.toLowerCase()===c.nodeName.toLowerCase()&&(e=b.getAttribute(\"style\"),e&&\"\"!==e.trim()?b=B.renameElement(b,i(d)):(B.unwrap(b),h=!0)),null!==b.getAttribute(\"style\")&&\"\"===b.getAttribute(\"style\").trim()&&b.removeAttribute(\"style\"),h&&u(f,g,d)}function n(b){for(var c,d,e=b.querySelectorAll(D)||[],f=e.length;f--;)c=a.dom.domNode(e[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),d=a.dom.domNode(e[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),c&&1!==c.nodeType&&\"BR\"!==c.nodeName&&\"\"!==(e[f].innerHTML||e[f].nodeValue||\"\").trim()&&e[f].parentNode.insertBefore(e[f].ownerDocument.createElement(\"BR\"),c),c&&1!==c.nodeType&&\"BR\"!==c.nodeName&&\"\"!==(e[f].innerHTML||e[f].nodeValue||\"\").trim()&&e[f].parentNode.insertBefore(e[f].ownerDocument.createElement(\"BR\"),c),a.dom.unwrap(e[f])}function o(a,b){var c,d=a.startContainer,e=a.endContainer;return d&&1===d.nodeType&&d===e?void(d.firstChild===d.lastChild&&1===a.endOffset&&d!==b.element&&\"LI\"!==d.nodeName&&\"TD\"!==d.nodeName&&(a.setStartBefore(d),a.setEndAfter(e))):d&&1===d.nodeType&&3===e.nodeType?void(d.firstChild===e&&a.endOffset===e.data.length&&d!==b.element&&\"LI\"!==d.nodeName&&\"TD\"!==d.nodeName&&a.setEndAfter(d)):e&&1===e.nodeType&&3===d.nodeType?void(e.firstChild===d&&0===a.startOffset&&e!==b.element&&\"LI\"!==e.nodeName&&\"TD\"!==e.nodeName&&a.setStartBefore(e)):d&&3===d.nodeType&&d===e&&1===d.parentNode.childNodes.length?void(a.endOffset==e.data.length&&0===a.startOffset&&(c=d.parentNode,c!==b.element&&\"LI\"!==c.nodeName&&\"TD\"!==c.nodeName&&(a.setStartBefore(c),a.setEndAfter(c)))):void 0}function p(b){for(var c,d,e,f,g,h,i=[],j=0,k=b.length;k>j;j++)if(1===b[j].startContainer.nodeType&&b[j].startContainer.matches(\"ul, ol\")&&b[j].setStart(b[j].startContainer.childNodes[b[j].startOffset],0),1===b[j].endContainer.nodeType&&b[j].endContainer.matches(\"ul, ol\")&&(h=b[j].endContainer.childNodes[Math.max(b[j].endOffset-1,0)],h.childNodes&&b[j].setEnd(h,h.childNodes.length)),c=b[j].getNodes([1],function(a){return\"LI\"===a.nodeName}),c.length>0){for(d=0,e=c.length;e>d;d++)g=b[j].compareNode(c[d]),(g===b[j].NODE_AFTER||g===b[j].NODE_INSIDE)&&(f=b[j].cloneRange(),h=a.dom.domNode(c[d]).prev({nodeTypes:[1]}),h?f.setEnd(h,h.childNodes.length):c[d].closest(\"ul, ol\")?f.setEndBefore(c[d].closest(\"ul, ol\")):f.setEndBefore(c[d]),i.push(f),b[j].setStart(c[d],0)),(g===b[j].NODE_BEFORE||g===b[j].NODE_INSIDE)&&(f=b[j].cloneRange(),f.setEnd(c[d],c[d].childNodes.length),i.push(f),h=a.dom.domNode(c[d]).next({nodeTypes:[1]}),h?b[j].setStart(h,0):c[d].closest(\"ul, ol\")?b[j].setStartAfter(c[d].closest(\"ul, ol\")):b[j].setStartAfter(c[d]));i.push(b[j])}else i.push(b[j]);return i}function q(b,c,d){var e=b?a.lang.object(b).clone(!0):null;return e&&(e.nodeName=e.nodeName||c||i(d)),e}function r(b,c,d,e){var f,h,i,l,m,n=c.startContainer,e=e||j(n,d.element,!0);if(e)h=b.firstChild,i=b.lastChild,d.selection.splitElementAtCaret(e,b),m=a.dom.domNode(i).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),l=a.dom.domNode(h).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),h&&!g(h,d)&&l&&!g(l,d)&&h.parentNode.insertBefore(d.doc.createElement(\"br\"),h),i&&!g(i,d)&&m&&!g(m,d)&&m.parentNode.insertBefore(d.doc.createElement(\"br\"),m);else if(f=k(n,d.element),f.outerNode&&f.innerNode&&f.parent){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)f.innerNode.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(f.outerNode)}d.selection.splitElementAtCaret(f.parent,b)}else c.insertNode(b)}function s(b,d,e){for(var f,h,i=b.cloneRange(),j=c(i.startContainer,i.startOffset).previousSibling,k=c(i.endContainer,i.endOffset).nextSibling,l=i.extractContents(),m=e.doc.createDocumentFragment(),o=!0;l.firstChild;){if(1===l.firstChild.nodeType&&l.firstChild.matches(D)){n(l.firstChild),f=a.dom.unwrap(l.firstChild),f.length>0&&(m.lastChild&&(1!==m.lastChild.nodeType||!g(m.lastChild,e))||!m.lastChild&&j&&(1!==j.nodeType||g(j,e)))&&m.appendChild(e.doc.createElement(\"BR\"));for(var p=0,q=f.length;q>p;p++)m.appendChild(f[p]);f.length>0&&(1===m.lastChild.nodeType&&g(m.lastChild,e)||(k||m.lastChild!==l.lastChild)&&m.appendChild(e.doc.createElement(\"BR\")))}else m.appendChild(l.firstChild);o=!1}return h=a.lang.array(m.childNodes).get(),r(m,i,e),h}function t(b,c,e){var f=b&&a.dom.domNode(b).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});d(c)&&c.parentNode.removeChild(c),!d(b)||f&&1===f.nodeType&&\"block\"===e.win.getComputedStyle(f).display||b.parentNode.removeChild(b)}function u(a,b,c){var e;a&&f(a)&&(a=a.previousSibling),b&&f(b)&&(b=b.nextSibling),e=a&&a.previousSibling,a&&(1!==a.nodeType||\"block\"!==c.win.getComputedStyle(a).display&&!d(a))&&a.parentNode&&a.parentNode.insertBefore(c.doc.createElement(\"br\"),a.nextSibling),b&&(1!==b.nodeType||\"block\"!==c.win.getComputedStyle(b).display)&&b.parentNode&&b.parentNode.insertBefore(c.doc.createElement(\"br\"),b)}function v(d,e,f,g){var h,i,k=e?b(e):null,m=d.cloneRange(),o=m.startContainer,p=a.dom.domNode(c(m.startContainer,m.startOffset)).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),s=a.dom.domNode(c(m.endContainer,m.endOffset)).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),u=m.extractContents(),v=g.doc.createDocumentFragment(),w=k?a.dom.getParentElement(o,k,null,g.element):null,x=!f||!e||\"BLOCKQUOTE\"===e.nodeName&&\"BLOCKQUOTE\"===f,y=w||j(o,g.element,x);if(e&&\"BLOCKQUOTE\"===e.nodeName){var z=l(null,e,g);z.appendChild(u),v.appendChild(z),i=[z]}else{if(u.firstChild)for(;u.firstChild;)if(1==u.firstChild.nodeType&&u.firstChild.matches(D))l(u.firstChild,e,g),u.firstChild.matches(C)&&n(u.firstChild),v.appendChild(u.firstChild);else{for(h=l(null,q(e,f,g),g);u.firstChild&&(1!==u.firstChild.nodeType||!u.firstChild.matches(D));)1==u.firstChild.nodeType&&h.matches(C)&&n(u.firstChild),h.appendChild(u.firstChild);v.appendChild(h)}else v.appendChild(l(null,e,g));i=a.lang.array(v.childNodes).get()}return r(v,m,g,y),t(p,s,g),i}function w(b,c){var d=a.dom.getParentElement(b,{query:D},null,c.element);return d?d.nodeName:null}function x(b,c){var d,e=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:C+\", \"+(c?c.toLowerCase():\"div\")},null,b.element);e?(d=b.selection.createRange(),d.selectNode(e),b.selection.setSelection(d)):b.isEmpty()||b.selection.selectLine()}function y(a,b){var c=b.selection.createRange(),d=a[a.length-1],e=1===d.nodeType&&d.childNodes?0|d.childNodes.length:d.length||0;c.setStart(a[0],0),c.setEnd(d,e),c.select()}function z(a,b,c){var d,e=b.selection.getOwnRanges(),f=[];e=p(e);for(var g=e.length;g--;)o(e[g],b),d=w(e[g].startContainer,b),f=\"remove\"===a?f.concat(s(e[g],d,b)):f.concat(v(e[g],c,d,b));return f}function A(a){return\"string\"==typeof a&&(a={nodeName:a.toUpperCase()}),a}var B=a.dom,C=\"h1, h2, h3, h4, h5, h6, p, pre\",D=\"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote\",E=\"b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u\";a.commands.formatBlock={exec:function(a,b,c){c=A(c);var d,e,f=[];if(c&&c.toggle&&(e=this.state(a,b,c)),e){d=rangy.saveSelection(a.win);for(var g=0,i=e.length;i>g;g++)m(e[g],c,a)}else a.selection.isCollapsed()&&(d=rangy.saveSelection(a.win),x(a,c&&c.nodeName?c.nodeName.toUpperCase():void 0)),f=c?z(\"apply\",a,c):z(\"remove\",a);f=h(a,f),d?rangy.restoreSelection(d):y(f,a)},remove:function(a,b,c){c=A(c);var d,e;a.selection.isCollapsed()&&(e=rangy.saveSelection(a.win),x(a,c&&c.nodeName?c.nodeName.toUpperCase():void 0)),d=z(\"remove\",a),d=h(a,d),e?rangy.restoreSelection(e):y(d,a)},state:function(b,c,d){d=A(d);for(var e,f=b.selection.filterElements(function(b){return a.dom.domNode(b).test(d||{query:D})}.bind(this)),g=b.selection.getSelectedOwnNodes(),h=0,i=g.length;i>h;h++)e=B.getParentElement(g[h],d||{query:D},null,b.element),e&&-1===f.indexOf(e)&&f.push(e);return 0===f.length?!1:f}}}(wysihtml5),function(a){a.commands.formatCode={exec:function(b,c,d){var e,f,g,h=this.state(b)[0];h?b.selection.executeAndRestore(function(){e=h.querySelector(\"code\"),a.dom.replaceWithChildNodes(h),e&&a.dom.replaceWithChildNodes(e)}):(f=b.selection.getRange(),g=f.extractContents(),h=b.doc.createElement(\"pre\"),e=b.doc.createElement(\"code\"),d&&(e.className=d),h.appendChild(e),e.appendChild(g),f.insertNode(h),b.selection.selectNode(h))},state:function(b){var c,d=b.selection.getSelectedNode();return d&&d.nodeName&&\"PRE\"==d.nodeName&&d.firstChild&&d.firstChild.nodeName&&\"CODE\"==d.firstChild.nodeName?[d]:(c=a.dom.getParentElement(d,{query:\"pre code\"}),c?[c.parentNode]:!1)}}}(wysihtml5),function(a){function b(a){return/^\\s*$/.test(a.className)}function c(a){return!a.getAttribute(\"style\")||/^\\s*$/.test(a.getAttribute(\"style\"))}function d(b){var c=a.dom.getAttributes(b);return a.lang.object(c).isEmpty()}function e(b,c){var d,e,f,g;return 1!==b.nodeType||1!==c.nodeType?!1:b.nodeName!==c.nodeName?!1:(d=b.className.trim().replace(/\\s+/g,\" \").split(\" \"),e=c.className.trim().replace(/\\s+/g,\" \").split(\" \"),a.lang.array(d).without(e).length>0?!1:(f=a.dom.getAttributes(b),g=a.dom.getAttributes(c),f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1))}function f(b,c){var d=c&&c.nodeName||F,e=b.ownerDocument.createElement(d);if(c.classRegExp&&(e.className=e.className.replace(c.classRegExp,\"\")),c.className&&e.classList.add(c.className),c.styleProperty&&\"undefined\"!=typeof c.styleValue&&(e.style[a.browser.fixStyleKey(c.styleProperty)]=c.styleValue),c.attribute)if(\"object\"==typeof c.attribute)for(var f in c.attribute)c.attribute.hasOwnProperty(f)&&e.setAttribute(f,c.attribute[f]);else\"undefined\"!=typeof c.attributeValue&&e.setAttribute(c.attribute,c.attributeValue);return e}function g(a,b){for(var c in a)if(a.hasOwnProperty(c)&&(void 0===typeof b[c]||b[c]!==a[c]))return!1;return!0}function h(b,c,d){var e,f=a.dom.getAttributes(b),h=g(c,f);a.lang.object(f).difference(c);if(h&&d!==!1)for(e in c)c.hasOwnProperty(e)&&b.removeAttribute(e);else for(e in c)c.hasOwnProperty(e)&&b.setAttribute(e,c[e])}function i(e,f){var g,i,j;f.className&&(f.toggle!==!1&&e.classList.contains(f.className)?e.classList.remove(f.className):(f.classRegExp&&(e.className=e.className.replace(f.classRegExp,\"\")),e.classList.add(f.className)),b(e)&&e.removeAttribute(\"class\")),f.styleProperty&&(f.toggle!==!1&&e.style[a.browser.fixStyleKey(f.styleProperty)].trim().replace(/, /g,\",\")===f.styleValue?e.style[a.browser.fixStyleKey(f.styleProperty)]=\"\":e.style[a.browser.fixStyleKey(f.styleProperty)]=f.styleValue),c(e)&&e.removeAttribute(\"style\"),f.attribute&&(\"object\"==typeof f.attribute?g=f.attribute:(g={},g[f.attribute]=f.attributeValue||\"\"),h(e,g,f.toggle)),i=f.nodeName?H[f.nodeName.toLowerCase()]||f.nodeName.toLowerCase():null,j=i?a.dom.domNode(e).test({query:i}):!1,(!f.nodeName||f.nodeName===F||j)&&(f.toggle!==!1&&j||!f.nodeName&&e.nodeName===F)&&b(e)&&c(e)&&d(e)&&a.dom.unwrap(e)}function j(b,c){var d=[];return b.isCollapsed()||(d=d.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},c))),d}function k(a,b,c,d){var e=a,f=d?b:l(b);do{if(1===e.nodeType&&m(e,f))return e;e=e.parentNode}while(e&&e!==c);return null}function l(a){return{nodeName:a.nodeName||null,className:a.classRegExp?null:a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}}function m(b,c){var d;if(c.nodeName){var e=H[c.nodeName.toLowerCase()]||c.nodeName.toLowerCase();return a.dom.domNode(b).test({query:e})}return d=a.lang.object(c).clone(),d.query=G,a.dom.domNode(b).test(d)}function n(b,c){var d=document.documentElement||document.body,e=d.scrollTop,f=d.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(c)}catch(g){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),d.scrollTop=e,d.scrollLeft=f,rangy.getSelection(b.win).addRange(c))}function o(a,b){var c=rangy.createRange(b.doc),d=a[a.length-1];a[0]&&d&&(c.setStart(a[0],0),c.setEnd(d,d.length),n(b,c))}function p(a,b,c,d){var e=rangy.createRange(a.doc);b&&(e.setStart(b,c),e.setEnd(b,\"undefined\"!=typeof d?d:c),n(a,e))}function q(a,b,c){var d,e,f,g=j(a.selection),h=[],i=!1;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){if(f=a.selection.getSelection().anchorNode,!f)return{nodes:[],partial:!1};3===f.nodeType&&(g=[f])}g.length||(e=a.selection.getOwnRanges()[0],e&&(g=[e.endContainer]));for(var l=0,m=g.length;m>l;l++)d=k(g[l],b,a.element,c),d?h.push(d):i=!0}return{nodes:h,partial:i}}function r(a){var b,c,d,e;return a&&(b=a.anchorNode,c=a.anchorOffset,b&&3===b.nodeType&&c>0&&c<b.data.length)?(d=b.data[c-1],e=b.data[c],/\\w/.test(d)&&/\\w/.test(e)):!1}function s(b){var c,d,e,f,g,h,i=[];if(b&&(c=b.anchorNode,d=g=h=b.anchorOffset,e=c.ownerDocument,f=rangy.createRange(e),c&&3===c.nodeType)){for(;g>0&&/\\w/.test(c.data[g-1]);)g--;for(;h<c.data.length&&/\\w/.test(c.data[h]);)h++;return f.setStartAndEnd(c,g,h),f.splitBoundaries(),i=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()}),{wordOffset:d-g,range:f,textNode:i[0]}}return!1}function t(a,b){for(;b.firstChild;)a.appendChild(b.firstChild);b.parentNode.removeChild(b)}function u(a){for(var b=a.length;b--;)a[b]&&a[b].parentNode&&(a[b].nextSibling&&e(a[b],a[b].nextSibling)&&t(a[b],a[b].nextSibling),a[b].previousSibling&&e(a[b],a[b].previousSibling)&&t(a[b].previousSibling,a[b]))}function v(a,b,c){b.length>0&&o(b,a),u(q(a,c).nodes),b.length>0&&o(b,a)}function w(a,b,c,d){p(a,b,c),u(q(a,d).nodes),p(a,b,c)}function x(a,b){var c=f(a,b);a.parentNode.insertBefore(c,a),c.appendChild(a)}function y(b,c,d){var e,f=c.element,g=k(b,d,f);g&&(e=g.cloneNode(!1),a.dom.domNode(b).escapeParent(g,e),i(e,d))}function z(b,c,d){var e=c.element,f=k(b,d,e);f&&a.dom.domNode(b).escapeParent(f)}function A(a,b,c){var d=f(a.endContainer,c);a.surroundContents(d),b.selection.selectNode(d)}function B(b,c,d,e){var f,g,h,j,l=q(b,e,!0),m=b.selection.getSelection();if(c.length){if(l.partial||e.toggle===!1)for(j=c.length;j--;)k(c[j],e,b.element)&&y(c[j],b,e),k(c[j],e,b.element)||x(c[j],e);else for(j=c.length;j--;)y(c[j],b,e);v(b,c,e)}else if(e.toggle!==!1)if(r(m))f=s(m),g=f.textNode,y(f.textNode,b,e),w(b,f.textNode,f.wordOffset,e);else{g=b.doc.createTextNode(a.INVISIBLE_SPACE),h=d.nodes[0].cloneNode(!1),h.appendChild(g),b.selection.splitElementAtCaret(d.nodes[0],h),i(h,e),v(b,[g],e);var n=b.selection.getSelection();if(n.anchorNode&&n.focusNode)try{n.collapseToEnd()}catch(o){}}else for(j=d.nodes.length;j--;)i(d.nodes[j],e)}function C(b,c,d,e){var f,g,h,i=b.selection.getSelection();if(c.length){for(h=c.length;h--;)z(c[h],b,e);v(b,c,e)}else{for(f=i.anchorNode,g=i.anchorOffset,h=d.nodes.length;h--;)a.dom.unwrap(d.nodes[h]);w(b,f,g,e)}}function D(a,b,c){var d,e,f=a.selection.getSelection();if(b.length){for(e=b.length;e--;)x(b[e],c);v(a,b,c)}else if(r(f))d=s(f),x(d.textNode,c),w(a,d.textNode,d.wordOffset,c);else{var g=a.selection.getOwnRanges()[0];g&&A(g,a,c)}}function E(a){return a=\"string\"==typeof a?{nodeName:a}:a,a.nodeName&&(a.nodeName=a.nodeName.toUpperCase()),a}var F=\"SPAN\",G=\"b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u\",H={b:\"b, strong\",strong:\"b, strong\",em:\"em, i\",i:\"em, i\"};a.commands.formatInline={exec:function(a,b,c){c=E(c),a.element.normalize();var d=j(a.selection,!0),e=q(a,c);e.nodes.length>0?B(a,d,e,c):D(a,d,c),a.element.normalize()},remove:function(a,b,c){c=E(c),a.element.normalize();var d=j(a.selection,!0),e=q(a,c);e.nodes.length>0&&C(a,d,e,c),a.element.normalize()},state:function(a,b,c){c=E(c);var d=q(a,c,!0).nodes;return 0===d.length?!1:d}}}(wysihtml5),function(a){var b={nodeName:\"BLOCKQUOTE\",toggle:!0};a.commands.insertBlockQuote={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){a.commands.insertHTML={exec:function(a,b,c){a.selection.insertHTML(c)},state:function(){return!1}}}(wysihtml5),function(a){var b=\"IMG\";a.commands.insertImage={exec:function(c,d,e){e=\"object\"==typeof e?e:{src:e};var f,g,h=c.doc,i=this.state(c);if(i&&!e.src)return c.selection.setBefore(i),g=i.parentNode,g.removeChild(i),a.dom.removeEmptyTextNodes(g),\"A\"!==g.nodeName||g.firstChild||(c.selection.setAfter(g),g.parentNode.removeChild(g)),void a.quirks.redraw(c.element);if(i)for(var j in e)e.hasOwnProperty(j)&&i.setAttribute(\"className\"===j?\"class\":j,e[j]);else{i=h.createElement(b);for(var k in e)i.setAttribute(\"className\"===k?\"class\":k,e[k]);c.selection.insertNode(i),a.browser.hasProblemsSettingCaretAfterImg()?(f=h.createTextNode(a.INVISIBLE_SPACE),c.selection.insertNode(f),c.selection.setAfter(f)):c.selection.setAfter(i)}},state:function(c){var d,e,f,g=c.doc;return a.dom.hasElementWithTagName(g,b)&&(d=c.selection.getSelectedNode())?d.nodeName===b?d:d.nodeType!==a.ELEMENT_NODE?!1:(e=c.selection.getText(),(e=a.lang.string(e).trim())?!1:(f=c.selection.getNodes(a.ELEMENT_NODE,function(a){return\"IMG\"===a.nodeName}),1!==f.length?!1:f[0])):!1}}}(wysihtml5),function(a){var b=\"<br>\"+(a.browser.needsSpaceAfterLineBreak()?\" \":\"\");a.commands.insertLineBreak={exec:function(a,c){a.selection.insertHTML(b)},state:function(){return!1}}}(wysihtml5),function(a){a.commands.insertOrderedList={exec:function(b,c){a.commands.insertList.exec(b,c,\"OL\")},state:function(b,c){return a.commands.insertList.state(b,c,\"OL\")}}}(wysihtml5),function(a){a.commands.insertUnorderedList={exec:function(b,c){a.commands.insertList.exec(b,c,\"UL\")},state:function(b,c){return a.commands.insertList.state(b,c,\"UL\")}}}(wysihtml5),wysihtml5.commands.insertList=function(a){var b=function(a,b){if(a&&a.nodeName){\"string\"==typeof b&&(b=[b]);for(var c=b.length;c--;)if(a.nodeName===b[c])return!0}return!1},c=function(c,d,e){var f={el:null,other:!1};if(c){var g=a.dom.getParentElement(c,{query:\"li\"},!1,e.element),h=\"UL\"===d?\"OL\":\"UL\";b(c,d)?f.el=c:b(c,h)?f={el:c,other:!0}:g&&(b(g.parentNode,d)?f.el=g.parentNode:b(g.parentNode,h)&&(f={el:g.parentNode,other:!0}))}return f.el&&!e.element.contains(f.el)&&(f.el=null),f},d=function(b,c,d){var e,g,h=\"UL\"===c?\"OL\":\"UL\";d.selection.executeAndRestoreRangy(function(){if(e=f(h,d),e.length)for(var i=e.length;i--;)a.dom.renameElement(e[i],c.toLowerCase());else{g=f([\"OL\",\"UL\"],d);for(var j=g.length;j--;)a.dom.resolveList(g[j],d.config.useLineBreaks);a.dom.resolveList(b,d.config.useLineBreaks)}})},e=function(b,c,d){var e=\"UL\"===c?\"OL\":\"UL\";d.selection.executeAndRestoreRangy(function(){for(var g=[b].concat(f(e,d)),h=g.length;h--;)a.dom.renameElement(g[h],c.toLowerCase())})},f=function(a,c){for(var d=c.selection.getOwnRanges(),e=[],f=d.length;f--;)e=e.concat(d[f].getNodes([1],function(c){return b(c,a)}));return e},g=function(b,c){var d;c.selection.isCollapsed()||(d=rangy.saveSelection(c.win));var e,f,g=\"_wysihtml5-temp-\"+(new Date).getTime(),h=c.selection.deblockAndSurround({nodeName:\"div\",\nclassName:g});h.innerHTML=h.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,\"\"),h&&(e=/^(\\s|(<br>))+$/i.test(h.innerHTML),f=a.dom.convertToList(h,b.toLowerCase(),c.parent.config.classNames.uneditableContainer),d&&rangy.restoreSelection(d),e&&c.selection.selectNode(f.querySelector(\"li\"),!0))};return{exec:function(a,b,f){var h=a.doc,i=\"OL\"===f?\"insertOrderedList\":\"insertUnorderedList\",j=a.selection.getSelectedNode(),k=c(j,f,a);k.el?k.other?e(k.el,f,a):d(k.el,f,a):a.commands.support(i)?h.execCommand(i,!1,null):g(f,a)},state:function(a,b,d){var e=a.selection.getSelectedNode(),f=c(e,d,a);return f.el&&!f.other?f.el:!1}}}(wysihtml5),function(a){var b={nodeName:\"I\",toggle:!0};a.commands.italic={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-center\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-left\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-right\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-justify\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"right\",toggle:!0};a.commands.alignRightStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"left\",toggle:!0};a.commands.alignLeftStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"center\",toggle:!0};a.commands.alignCenterStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"justify\",toggle:!0};a.commands.alignJustifyStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}}(wysihtml5),function(a){var b={nodeName:\"U\",toggle:!0};a.commands.underline={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}}(wysihtml5),function(a){a.commands.createTable={exec:function(a,b,c){var d,e,f;if(c&&c.cols&&c.rows&&parseInt(c.cols,10)>0&&parseInt(c.rows,10)>0){for(f=c.tableStyle?'<table style=\"'+c.tableStyle+'\">':\"<table>\",f+=\"<tbody>\",e=0;e<c.rows;e++){for(f+=\"<tr>\",d=0;d<c.cols;d++)f+=\"<td><br></td>\";f+=\"</tr>\"}f+=\"</tbody></table>\",a.commands.exec(\"insertHTML\",f)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.mergeTableCells={exec:function(b,c){b.tableSelection&&b.tableSelection.start&&b.tableSelection.end&&(this.state(b,c)?a.dom.table.unmergeCell(b.tableSelection.start):a.dom.table.mergeCellsBetween(b.tableSelection.start,b.tableSelection.end))},state:function(b,c){if(b.tableSelection){var d=b.tableSelection.start,e=b.tableSelection.end;if(d&&e&&d==e&&(a.dom.getAttribute(d,\"colspan\")&&parseInt(a.dom.getAttribute(d,\"colspan\"),10)>1||a.dom.getAttribute(d,\"rowspan\")&&parseInt(a.dom.getAttribute(d,\"rowspan\"),10)>1))return[d]}return!1}}}(wysihtml5),function(a){a.commands.addTableCells={exec:function(b,c,d){if(b.tableSelection&&b.tableSelection.start&&b.tableSelection.end){var e=a.dom.table.orderSelectionEnds(b.tableSelection.start,b.tableSelection.end);\"before\"==d||\"above\"==d?a.dom.table.addCells(e.start,d):(\"after\"==d||\"below\"==d)&&a.dom.table.addCells(e.end,d),setTimeout(function(){b.tableSelection.select(e.start,e.end)},0)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.deleteTableCells={exec:function(b,c,d){if(b.tableSelection&&b.tableSelection.start&&b.tableSelection.end){var e,f=a.dom.table.orderSelectionEnds(b.tableSelection.start,b.tableSelection.end),g=a.dom.table.indexOf(f.start),h=b.tableSelection.table;a.dom.table.removeCells(f.start,d),setTimeout(function(){e=a.dom.table.findCell(h,g),e||(\"row\"==d&&(e=a.dom.table.findCell(h,{row:g.row-1,col:g.col})),\"column\"==d&&(e=a.dom.table.findCell(h,{row:g.row,col:g.col-1}))),e&&b.tableSelection.select(e,e)},0)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.indentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag(\"LI\");return d?this.tryToPushLiLevel(d,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(b,c){var d,e,f,g,h,i=!1;return c.executeAndRestoreRangy(function(){for(var c=b.length;c--;)g=b[c],d=\"OL\"===g.parentNode.nodeName?\"OL\":\"UL\",e=g.ownerDocument.createElement(d),f=a.dom.domNode(g).prev({nodeTypes:[a.ELEMENT_NODE]}),h=f?f.querySelector(\"ul, ol\"):null,f&&(h?h.appendChild(g):(e.appendChild(g),f.appendChild(e)),i=!0)}),i}}}(wysihtml5),function(a){a.commands.outdentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag(\"LI\");return d?this.tryToPullLiLevel(d,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(b,c){var d,e,f,g,h,i=!1,j=this;return c.selection.executeAndRestoreRangy(function(){for(var k=b.length;k--;)if(g=b[k],g.parentNode&&(d=g.parentNode,\"OL\"===d.tagName||\"UL\"===d.tagName)){if(i=!0,e=a.dom.getParentElement(d.parentNode,{query:\"ol, ul\"},!1,c.element),f=a.dom.getParentElement(d.parentNode,{query:\"li\"},!1,c.element),e&&f)g.nextSibling&&(h=j.getAfterList(d,g),g.appendChild(h)),e.insertBefore(g,f.nextSibling);else{g.nextSibling&&(h=j.getAfterList(d,g),g.appendChild(h));for(var l=g.childNodes.length;l--;)d.parentNode.insertBefore(g.childNodes[l],d.nextSibling);d.parentNode.insertBefore(document.createElement(\"br\"),d.nextSibling),g.parentNode.removeChild(g)}0===d.childNodes.length&&d.parentNode.removeChild(d)}}),i},getAfterList:function(a,b){for(var c=a.nodeName,d=document.createElement(c);b.nextSibling;)d.appendChild(b.nextSibling);return d}}}(wysihtml5),function(a){var b={nodeName:\"SUB\",toggle:!0};a.commands.subscript={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b={nodeName:\"SUP\",toggle:!0};a.commands.superscript={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b=90,c=89,d=8,e=46,f=25,g=\"data-wysihtml5-selection-node\",h=\"data-wysihtml5-selection-offset\",i=('<span id=\"_wysihtml5-undo\" class=\"_wysihtml5-temp\">'+a.INVISIBLE_SPACE+\"</span>\",'<span id=\"_wysihtml5-redo\" class=\"_wysihtml5-temp\">'+a.INVISIBLE_SPACE+\"</span>\",a.dom);a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var a,f=this;this.composer.sandbox.getDocument();i.observe(this.element,\"keydown\",function(a){if(!a.altKey&&(a.ctrlKey||a.metaKey)){var d=a.keyCode,e=d===b&&!a.shiftKey,g=d===b&&a.shiftKey||d===c;e?(f.undo(),a.preventDefault()):g&&(f.redo(),a.preventDefault())}}),i.observe(this.element,\"keydown\",function(b){var c=b.keyCode;c!==a&&(a=c,(c===d||c===e)&&f.transact())}),this.editor.on(\"newword:composer\",function(){f.transact()}).on(\"beforecommand:composer\",function(){f.transact()})},transact:function(){var b,c,d,e,i,j=this.historyStr[this.position-1],k=this.composer.getValue(!1,!1),l=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(k!==j){var m=this.historyStr.length=this.historyDom.length=this.position;m>f&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,l&&(b=this.composer.selection.getRange(),c=b&&b.startContainer?b.startContainer:this.element,d=b&&b.startOffset?b.startOffset:0,c.nodeType===a.ELEMENT_NODE?e=c:(e=c.parentNode,i=this.getChildNodeIndex(e,c)),e.setAttribute(h,d),\"undefined\"!=typeof i&&e.setAttribute(g,i));var n=this.element.cloneNode(!!k);this.historyDom.push(n),this.historyStr.push(k),e&&(e.removeAttribute(h),e.removeAttribute(g))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire(\"undo:composer\"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire(\"redo:composer\"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML=\"\";for(var b=0,c=a.childNodes,d=a.childNodes.length;d>b;b++)this.element.appendChild(c[b].cloneNode(!0));var e,f,i;a.hasAttribute(h)?(e=a.getAttribute(h),i=a.getAttribute(g),f=this.element):(f=this.element.querySelector(\"[\"+h+\"]\")||this.element,e=f.getAttribute(h),i=f.getAttribute(g),f.removeAttribute(h),f.removeAttribute(g)),null!==i&&(f=this.getChildNodeByIndex(f,+i)),this.composer.selection.set(f,e)},getChildNodeIndex:function(a,b){for(var c=0,d=a.childNodes,e=d.length;e>c;c++)if(d[c]===b)return c},getChildNodeByIndex:function(a,b){return a.childNodes[b]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(a,b,c){this.parent=a,this.element=b,this.config=c,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on(\"beforeload\",function(){a.parent.on(\"change_view\",function(b){b===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(\":focus\")!==this.element)try{this.element&&this.element.focus()}catch(a){}},hide:function(){this.element.style.display=\"none\"},show:function(){this.element.style.display=\"\"},disable:function(){this.element.setAttribute(\"disabled\",\"disabled\")},enable:function(){this.element.removeAttribute(\"disabled\")}}),function(a){var b=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:\"composer\",constructor:function(a,b,c){this.base(a,b,c),this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?\"\":\"<br>\"},getValue:function(b,c){var d=this.isEmpty()?\"\":a.quirks.getCorrectInnerHTML(this.element);return b!==!1&&(d=this.parent.parse(d,c===!1?!1:!0)),d},setValue:function(a,b){b!==!1&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(c){this.element.innerText=a}},cleanUp:function(a){var b;this.selection&&this.selection.isInThisEditable()&&(b=rangy.saveSelection(this.win)),this.parent.parse(this.element,void 0,a),b&&rangy.restoreSelection(b)},show:function(){this.editableArea.style.display=this._displayStyle||\"\",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=b.getStyle(\"display\").from(this.editableArea),\"none\"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display=\"none\"},disable:function(){this.parent.fire(\"disable:composer\"),this.element.removeAttribute(\"contentEditable\")},enable:function(){this.parent.fire(\"enable:composer\"),this.element.setAttribute(\"contentEditable\",\"true\")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var c=this.element.lastChild;b&&c&&this.selection&&(\"BR\"===c.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};return\"undefined\"!=typeof this.win.pageYOffset?a.y=this.win.pageYOffset:a.y=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop,\"undefined\"!=typeof this.win.pageXOffset?a.x=this.win.pageXOffset:a.x=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft,a}},setScrollPos:function(a){a&&\"undefined\"!=typeof a.x&&\"undefined\"!=typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute(\"data-placeholder\"):this.textarea.element.getAttribute(\"placeholder\"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\\s|<br>|<\\/br>|<p>|<\\/p>)*$/i.test(a)||\"\"===a||\"<br>\"===a||\"<p></p>\"===a||\"<p><br></p>\"===a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new b.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new b.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),b.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=this;this.sandbox=new b.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getIframe();var c=this.textarea.element;b.insert(this.editableArea).after(c),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement(\"input\");a.type=\"hidden\",a.name=\"_wysihtml5_mode\",a.value=1,b.insert(a).after(this.textarea.element)}},_create:function(){var d=this;this.doc=this.sandbox.getDocument(),this.win=this.sandbox.getWindow(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer),this.commands=new a.Commands(this.parent),this.config.noTextarea||b.copyAttributes([\"className\",\"spellcheck\",\"title\",\"lang\",\"dir\",\"accessKey\"]).from(this.textarea.element).to(this.element),this._initAutoLinking(),b.addClass(this.element,this.config.classNames.composer),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var e=this.config.name;e&&(b.addClass(this.element,e),this.config.contentEditableMode||b.addClass(this.editableArea,e)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var f=\"string\"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute(\"data-placeholder\"):this.textarea.element.getAttribute(\"placeholder\");f&&b.simulatePlaceholder(this.parent,this,f,this.config.classNames.placeholder),this.commands.exec(\"styleWithCSS\",!1),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute(\"autofocus\")&&document.querySelector(\":focus\")!=this.textarea.element||c.isIos()||setTimeout(function(){d.focus(!0)},100),c.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire(\"beforeload\").fire(\"load\")},_initAutoLinking:function(){var d=this,e=c.canDisableAutoLinking(),f=c.doesAutoLinkingInContentEditable();if(e&&this.commands.exec(\"AutoUrlDetect\",!1,!1),this.config.autoLink){(!f||f&&e)&&(this.parent.on(\"newword:composer\",function(){if(b.getTextContent(d.element).match(b.autoLink.URL_REG_EXP)){for(var c=d.selection.getSelectedNode(),e=d.element.querySelectorAll(\".\"+d.config.classNames.uneditableContainer),f=!1,g=e.length;g--;)a.dom.contains(e[g],c)&&(f=!0);f||b.autoLink(c,[d.config.classNames.uneditableContainer])}}),b.observe(this.element,\"blur\",function(){b.autoLink(d.element,[d.config.classNames.uneditableContainer])}));var g=this.sandbox.getDocument().getElementsByTagName(\"a\"),h=b.autoLink.URL_REG_EXP,i=function(c){var d=a.lang.string(b.getTextContent(c)).trim();return\"www.\"===d.substr(0,4)&&(d=\"http://\"+d),d};b.observe(this.element,\"keydown\",function(a){if(g.length){var c,e=d.selection.getSelectedNode(a.target.ownerDocument),f=b.getParentElement(e,{query:\"a\"},4);f&&(c=i(f),setTimeout(function(){var a=i(f);a!==c&&a.match(h)&&f.setAttribute(\"href\",a)},0))}})}},_initObjectResizing:function(){if(this.commands.exec(\"enableObjectResizing\",!0),c.supportsEvent(\"resizeend\")){var d=[\"width\",\"height\"],e=d.length,f=this.element;b.observe(f,\"resizeend\",function(b){var c,g=b.target||b.srcElement,h=g.style,i=0;if(\"IMG\"===g.nodeName){for(;e>i;i++)c=d[i],h[c]&&(g.setAttribute(c,parseInt(h[c],10)),h[c]=\"\");a.quirks.redraw(f)}})}},_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function d(a){var c=b.getParentElement(a,{query:\"p, div\"},2);c&&b.contains(e.element,c)&&e.selection.executeAndRestore(function(){e.config.useLineBreaks?b.replaceWithChildNodes(c):\"P\"!==c.nodeName&&b.renameElement(c,\"p\")})}var e=this,f=\"li, p, h1, h2, h3, h4, h5, h6\",g=\"ul, ol, menu\";this.config.useLineBreaks||b.observe(this.element,[\"focus\",\"keydown\"],function(){if(e.isEmpty()){var a=e.doc.createElement(\"P\");e.element.innerHTML=\"\",e.element.appendChild(a),c.displaysCaretInEmptyContentEditableCorrectly()?e.selection.selectNode(a,!0):(a.innerHTML=\"<br>\",e.selection.setBefore(a.firstChild))}}),b.observe(this.element,\"keydown\",function(c){var h=c.keyCode;if(!c.shiftKey&&(h===a.ENTER_KEY||h===a.BACKSPACE_KEY)){var i=b.getParentElement(e.selection.getSelectedNode(),{query:f},4);return i?void setTimeout(function(){var c,f=e.selection.getSelectedNode();if(\"LI\"===i.nodeName){if(!f)return;c=b.getParentElement(f,{query:g},2),c||d(f)}h===a.ENTER_KEY&&i.nodeName.match(/^H[1-6]$/)&&d(f)},0):void(e.config.useLineBreaks&&h===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(c.preventDefault(),e.commands.exec(\"insertLineBreak\")))}})}})}(wysihtml5),function(a){var b=a.dom,c=document,d=window,e=c.createElement(\"div\"),f=[\"background-color\",\"color\",\"cursor\",\"font-family\",\"font-size\",\"font-style\",\"font-variant\",\"font-weight\",\"line-height\",\"letter-spacing\",\"text-align\",\"text-decoration\",\"text-indent\",\"text-rendering\",\"word-break\",\"word-wrap\",\"word-spacing\"],g=[\"background-color\",\"border-collapse\",\"border-bottom-color\",\"border-bottom-style\",\"border-bottom-width\",\"border-left-color\",\"border-left-style\",\"border-left-width\",\"border-right-color\",\"border-right-style\",\"border-right-width\",\"border-top-color\",\"border-top-style\",\"border-top-width\",\"clear\",\"display\",\"float\",\"margin-bottom\",\"margin-left\",\"margin-right\",\"margin-top\",\"outline-color\",\"outline-offset\",\"outline-width\",\"outline-style\",\"padding-left\",\"padding-right\",\"padding-top\",\"padding-bottom\",\"position\",\"top\",\"left\",\"right\",\"bottom\",\"z-index\",\"vertical-align\",\"text-align\",\"-webkit-box-sizing\",\"-moz-box-sizing\",\"-ms-box-sizing\",\"box-sizing\",\"-webkit-box-shadow\",\"-moz-box-shadow\",\"-ms-box-shadow\",\"box-shadow\",\"-webkit-border-top-right-radius\",\"-moz-border-radius-topright\",\"border-top-right-radius\",\"-webkit-border-bottom-right-radius\",\"-moz-border-radius-bottomright\",\"border-bottom-right-radius\",\"-webkit-border-bottom-left-radius\",\"-moz-border-radius-bottomleft\",\"border-bottom-left-radius\",\"-webkit-border-top-left-radius\",\"-moz-border-radius-topleft\",\"border-top-left-radius\",\"width\",\"height\"],h=[\"html                 { height: 100%; }\",\"body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }\",\"body > p:first-child { margin-top: 0; }\",\"._wysihtml5-temp     { display: none; }\",a.browser.isGecko?\"body.placeholder { color: graytext !important; }\":\"body.placeholder { color: #a9a9a9 !important; }\",\"img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }\"],i=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.scrollLeft||c.body.scrollLeft,i={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};b.setStyles({position:\"absolute\",top:\"-99999px\",left:\"-99999px\",WebkitUserSelect:\"none\"}).on(a),a.focus(),b.setStyles(i).on(a),d.scrollTo&&d.scrollTo(h,g)}};a.views.Composer.prototype.style=function(){var d,j=this,k=c.querySelector(\":focus\"),l=this.textarea.element,m=l.hasAttribute(\"placeholder\"),n=m&&l.getAttribute(\"placeholder\"),o=l.style.display,p=l.disabled;this.focusStylesHost=e.cloneNode(!1),this.blurStylesHost=e.cloneNode(!1),this.disabledStylesHost=e.cloneNode(!1),m&&l.removeAttribute(\"placeholder\"),l===k&&l.blur(),l.disabled=!1,l.style.display=d=\"none\",(l.getAttribute(\"rows\")&&\"auto\"===b.getStyle(\"height\").from(l)||l.getAttribute(\"cols\")&&\"auto\"===b.getStyle(\"width\").from(l))&&(l.style.display=d=o),b.copyStyles(g).from(l).to(this.editableArea).andTo(this.blurStylesHost),b.copyStyles(f).from(l).to(this.element).andTo(this.blurStylesHost),b.insertCSS(h).into(this.element.ownerDocument),l.disabled=!0,b.copyStyles(g).from(l).to(this.disabledStylesHost),b.copyStyles(f).from(l).to(this.disabledStylesHost),l.disabled=p,l.style.display=o,i(l),l.style.display=d,b.copyStyles(g).from(l).to(this.focusStylesHost),b.copyStyles(f).from(l).to(this.focusStylesHost),l.style.display=o,b.copyStyles([\"display\"]).from(l).to(this.editableArea);var q=a.lang.array(g).without([\"display\"]);return k?k.focus():l.blur(),m&&l.setAttribute(\"placeholder\",n),this.parent.on(\"focus:composer\",function(){b.copyStyles(q).from(j.focusStylesHost).to(j.editableArea),b.copyStyles(f).from(j.focusStylesHost).to(j.element)}),this.parent.on(\"blur:composer\",function(){b.copyStyles(q).from(j.blurStylesHost).to(j.editableArea),b.copyStyles(f).from(j.blurStylesHost).to(j.element)}),this.parent.observe(\"disable:composer\",function(){b.copyStyles(q).from(j.disabledStylesHost).to(j.editableArea),b.copyStyles(f).from(j.disabledStylesHost).to(j.element)}),this.parent.observe(\"enable:composer\",function(){b.copyStyles(q).from(j.blurStylesHost).to(j.editableArea),b.copyStyles(f).from(j.blurStylesHost).to(j.element)}),this}}(wysihtml5),function(a){var b=a.dom,c=a.browser,d={66:\"bold\",73:\"italic\",85:\"underline\"},e=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a.addEventListener(b[d],c,!1)},f=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a.removeEventListener(b[d],c,!1)},g=function(b,c){if(b.selection.caretIsLastInSelection()){var d=b.selection.getSelection(),e=d.anchorNode;if(e&&1===e.nodeType&&(a.dom.getParentElement(e,{query:\"td, th\"},!1,b.element)||c)){var f=e.childNodes[d.anchorOffset];if(f&&1===f.nodeType&\"BR\"===f.nodeName)return f.parentNode.removeChild(f),!0}}return!1},h=function(a){var b=a.selection.getBeforeSelection(!0);if(b&&(\"element\"===b.type||\"leafnode\"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(g(a,!0))return!0;try{var c=new CustomEvent(\"wysihtml5:uneditable:delete\");b.node.dispatchEvent(c)}catch(d){}return b.node.parentNode.removeChild(b.node),!0}return!1},i=function(b){var c=b.selection,d=c.getPreviousNode();if(c.caretIsFirstInSelection()&&d&&1===d.nodeType&&/block/.test(b.win.getComputedStyle(d).display)){if(/^\\s*$/.test(d.textContent||d.innerText))return d.parentNode.removeChild(d),!0;if(d.lastChild){var e=d.lastChild,f=c.getSelectedNode(),g=a.dom.domNode(d).commonAncestor(f,b.element);if(curNode=g?a.dom.getParentElement(f,{query:\"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote\"},!1,g):null,curNode){for(;curNode.firstChild;)d.appendChild(curNode.firstChild);return c.setAfter(e),!0}if(3===f.nodeType)return d.appendChild(f),c.setAfter(e),!0}}return!1},j=function(a,b){var c=b.selection;b.element;if(c.isCollapsed()){if(i(b))return void a.preventDefault();if(g(b))return void a.preventDefault();if(h(b))return void a.preventDefault()}else c.containsUneditable()&&(a.preventDefault(),c.deleteContents())},k=function(a,b,c){if(a.selection.isCollapsed()){if(a.selection.caretIsInTheBeginnig(\"li\"))if(c){if(a.commands.exec(\"outdentList\"))return}else if(a.commands.exec(\"indentList\"))return}else a.selection.deleteContents();a.commands.exec(\"insertHTML\",\"&emsp;\")},l=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval),this.parent.fire(\"destroy:composer\")},m=function(a){this.parent.fire(\"beforeinteraction\",a).fire(\"beforeinteraction:composer\",a),setTimeout(function(){this.parent.fire(\"interaction\",a).fire(\"interaction:composer\",a)}.bind(this),0)},n=function(a){this.parent.fire(\"focus\",a).fire(\"focus:composer\",a),setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},o=function(a){if(this.focusState!==this.getValue(!1,!1)){var b=a;\"function\"==typeof Object.create&&(b=Object.create(a,{type:{value:\"change\"}})),this.parent.fire(\"change\",b).fire(\"change:composer\",b)}this.parent.fire(\"blur\",a).fire(\"blur:composer\",a)},p=function(a){this.parent.fire(a.type,a).fire(a.type+\":composer\",a),\"paste\"===a.type&&setTimeout(function(){this.parent.fire(\"newword:composer\")}.bind(this),0)},q=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData(\"text/html\",this.config.copyedFromMarking+this.selection.getHtml()),b.clipboardData.setData(\"text/plain\",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+\":composer\",b))},r=function(b){var c=b.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&&this.parent.fire(\"newword:composer\")},s=function(b){if(!c.canSelectImagesInContentEditable()){var d=b.target,e=this.element.querySelectorAll(\"img\"),f=this.element.querySelectorAll(\".\"+this.config.classNames.uneditableContainer+\" img\"),g=a.lang.array(e).without(f);\"IMG\"===d.nodeName&&a.lang.array(g).contains(d)&&this.selection.selectNode(d)}},t=function(a){var b,c={IMG:\"Image: \",A:\"Link: \"},d=a.target,e=d.nodeName;(\"A\"===e||\"IMG\"===e)&&(d.hasAttribute(\"title\")||(b=c[e]+(d.getAttribute(\"href\")||d.getAttribute(\"src\")),d.setAttribute(\"title\",b)))},u=function(b){if(this.config.classNames.uneditableContainer){var c=a.dom.getParentElement(b.target,{query:\".\"+this.config.classNames.uneditableContainer},!1,this.element);c&&this.selection.setAfter(c)}},v=function(a){c.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},w=function(b){var c,e,f=b.keyCode,g=d[f];return!b.ctrlKey&&!b.metaKey||b.altKey||65!==f?((b.ctrlKey||b.metaKey)&&!b.altKey&&g&&(this.commands.exec(g),b.preventDefault()),f===a.BACKSPACE_KEY&&j(b,this),(f===a.BACKSPACE_KEY||f===a.DELETE_KEY)&&(c=this.selection.getSelectedNode(!0),c&&\"IMG\"===c.nodeName&&(b.preventDefault(),e=c.parentNode,e.removeChild(c),\"A\"!==e.nodeName||e.firstChild||e.parentNode.removeChild(e),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0))),void(this.config.handleTabKey&&f===a.TAB_KEY&&(b.preventDefault(),k(this,this.element,b.shiftKey)))):(this.selection.selectAll(),void b.preventDefault())},x=function(){var b=function(){window.removeEventListener(\"load\",b),this.doc.execCommand(\"enableObjectResizing\",!1,\"false\"),this.doc.execCommand(\"enableInlineTableEditing\",!1,\"false\")}.bind(this),c=function(){b.call(this),f(this.sandbox.getIframe(),[\"focus\",\"mouseup\",\"mouseover\"],c)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,\"enableObjectResizing\")&&a.browser.supportsCommand(this.doc,\"enableInlineTableEditing\")&&(this.sandbox.getIframe?e(this.sandbox.getIframe(),[\"focus\",\"mouseup\",\"mouseover\"],c):window.addEventListener(\"load\",b)),this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)};a.views.Composer.prototype.observe=function(){var a=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),d=(this.element,c.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow());this.focusState=this.getValue(!1,!1),a.addEventListener([\"DOMNodeRemoved\"],l.bind(this),!1),c.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){b.contains(document.documentElement,a)||l.call(this)},250)),this.config.handleTables&&x.call(this),e(d,[\"drop\",\"paste\",\"mouseup\",\"focus\",\"keyup\"],m.bind(this)),d.addEventListener(\"focus\",n.bind(this),!1),d.addEventListener(\"blur\",o.bind(this),!1),e(this.element,[\"drop\",\"paste\",\"beforepaste\"],p.bind(this),!1),this.element.addEventListener(\"copy\",q.bind(this),!1),this.element.addEventListener(\"mousedown\",s.bind(this),!1),this.element.addEventListener(\"mouseover\",t.bind(this),!1),this.element.addEventListener(\"click\",u.bind(this),!1),this.element.addEventListener(\"drop\",v.bind(this),!1),this.element.addEventListener(\"keyup\",r.bind(this),!1),this.element.addEventListener(\"keydown\",w.bind(this),!1),this.element.addEventListener(\"dragenter\",function(){this.parent.fire(\"unset_placeholder\")}.bind(this),!1)}}(wysihtml5),function(a){var b=400;a.views.Synchronizer=Base.extend({constructor:function(a,b,c){this.editor=a,this.textarea=b,this.composer=c,this._observe()},fromComposerToTextarea:function(b){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),b)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(\"set_placeholder\"))},sync:function(a){\"textarea\"===this.editor.currentView.name?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},_observe:function(){var c,d=this,e=this.textarea.element.form,f=function(){c=setInterval(function(){d.fromComposerToTextarea()},b)},g=function(){clearInterval(c),c=null};f(),e&&(a.dom.observe(e,\"submit\",function(){d.sync(!0)}),a.dom.observe(e,\"reset\",function(){setTimeout(function(){d.fromTextareaToComposer()},0)})),this.editor.on(\"change_view\",function(a){\"composer\"!==a||c?\"textarea\"===a&&(d.fromComposerToTextarea(!0),g()):(d.fromTextareaToComposer(!0),f())}),this.editor.on(\"destroy:composer\",g)}})}(wysihtml5),function(a){a.views.SourceView=Base.extend({constructor:function(a,b){this.editor=a,this.composer=b,this._observe()},switchToTextarea:function(a){var b=this.composer.win.getComputedStyle(this.composer.element),c=parseFloat(b.width),d=Math.max(parseFloat(b.height),100);this.textarea||(this.textarea=this.composer.doc.createElement(\"textarea\"),this.textarea.className=\"wysihtml5-source-view\"),this.textarea.style.width=c+\"px\",this.textarea.style.height=d+\"px\",this.textarea.value=this.editor.getValue(a,!0),this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element),this.editor.currentView=\"source\",this.composer.element.style.display=\"none\"},switchToComposer:function(a){var b=this.textarea.value;b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(\"set_placeholder\")),this.textarea.parentNode.removeChild(this.textarea),this.editor.currentView=this.composer,this.composer.element.style.display=\"\"},_observe:function(){this.editor.on(\"change_view\",function(a){\"composer\"===a?this.switchToComposer(!0):\"textarea\"===a&&this.switchToTextarea(!0)}.bind(this))}})}(wysihtml5),\nwysihtml5.views.Textarea=wysihtml5.views.View.extend({name:\"textarea\",constructor:function(a,b,c){this.base(a,b,c),this._observe()},clear:function(){this.element.value=\"\"},getValue:function(a){var b=this.isEmpty()?\"\":this.element.value;return a!==!1&&(b=this.parent.parse(b)),b},setValue:function(a,b){b!==!1&&(a=this.parent.parse(a)),this.element.value=a},cleanUp:function(a){var b=this.parent.parse(this.element.value,void 0,a);this.element.value=b},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),b=this.element.getAttribute(\"placeholder\")||null,c=this.element.value,d=!c;return a&&d||c===b},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,b=this.parent,c={focusin:\"focus\",focusout:\"blur\"},d=wysihtml5.browser.supportsEvent(\"focusin\")?[\"focusin\",\"focusout\",\"change\"]:[\"focus\",\"blur\",\"change\"];b.on(\"beforeload\",function(){wysihtml5.dom.observe(a,d,function(a){var d=c[a.type]||a.type;b.fire(d).fire(d+\":textarea\")}),wysihtml5.dom.observe(a,[\"paste\",\"drop\"],function(){setTimeout(function(){b.fire(\"paste\").fire(\"paste:textarea\")},0)})})}}),function(a){var b,c={name:b,style:!0,toolbar:b,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,stylesheets:[],placeholderText:b,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:\"wysihtml5-editor\",body:\"wysihtml5-supported\",sandbox:\"wysihtml5-sandbox\",placeholder:\"wysihtml5-placeholder\",uneditableContainer:\"wysihtml5-uneditable-container\"},copyedFromMarking:'<meta name=\"copied-from\" content=\"wysihtml5\">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,d){if(this.editableElement=\"string\"==typeof b?document.getElementById(b):b,this.config=a.lang.object({}).merge(c).merge(d).get(),this._isCompatible=a.browser.supported(),d&&d.classNames&&a.lang.object(this.config.classNames).merge(d.classNames),\"textarea\"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new a.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var e=this;return void setTimeout(function(){e.fire(\"beforeload\").fire(\"load\")},0)}a.dom.addClass(document.body,this.config.classNames.body),this.composer=new a.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,\"function\"==typeof this.config.parser&&this._initParser(),this.on(\"beforeload\",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(a,b){return this.currentView.getValue(a,b)},setValue:function(a,b){return this.fire(\"unset_placeholder\"),a?(this.currentView.setValue(a,b),this):this.clear()},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){return this.currentView.focus(a),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy(),this.toolbar&&this.toolbar.destroy(),this.off()},parse:function(b,c,d){var e=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,f=this.config.parser(b,{rules:d||this.config.parserRules,cleanUp:this.config.cleanUp,context:e,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:c});return\"object\"==typeof b&&a.quirks.redraw(b),f},_initParser:function(){var b;a.browser.supportsModernPaste()?this.on(\"paste:composer\",function(c){c.preventDefault(),b=a.dom.getPastedHtml(c),b&&this._cleanAndPaste(b)}.bind(this)):this.on(\"beforepaste:composer\",function(b){b.preventDefault();var c=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a),this.composer.setScrollPos(c)}.bind(this))}.bind(this))},_cleanAndPaste:function(b){var c=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(c)}})}(wysihtml5),function(a){var b=a.dom,c=\"wysihtml5-command-dialog-opened\",d=\"input, select, textarea\",e=\"[data-wysihtml5-dialog-field]\",f=\"data-wysihtml5-dialog-field\";a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a,this.container=b},_observe:function(){if(!this._observed){var d=this,e=function(a){var b=d._serialize();d.fire(\"save\",b),d.hide(),a.preventDefault(),a.stopPropagation()};b.observe(d.link,\"click\",function(){b.hasClass(d.link,c)&&setTimeout(function(){d.hide()},0)}),b.observe(this.container,\"keydown\",function(b){var c=b.keyCode;c===a.ENTER_KEY&&e(b),c===a.ESCAPE_KEY&&d.cancel()}),b.delegate(this.container,\"[data-wysihtml5-dialog-action=save]\",\"click\",e),b.delegate(this.container,\"[data-wysihtml5-dialog-action=cancel]\",\"click\",function(a){d.cancel(),a.preventDefault(),a.stopPropagation()}),this._observed=!0}},_serialize:function(){for(var a={},b=this.container.querySelectorAll(e),c=b.length,d=0;c>d;d++)a[b[d].getAttribute(f)]=b[d].value;return a},_interpolate:function(a){for(var b,c,d,g=document.querySelector(\":focus\"),h=this.container.querySelectorAll(e),i=h.length,j=0;i>j;j++)b=h[j],b!==g&&(a&&\"hidden\"===b.type||(c=b.getAttribute(f),d=this.elementToChange&&\"boolean\"!=typeof this.elementToChange?this.elementToChange.getAttribute(c)||\"\":b.defaultValue,b.value=d))},update:function(a){this.elementToChange=a?a:this.elementToChange,this._interpolate()},show:function(a){var e=this.container.querySelector(d);if(this._observe(),this.update(a),b.addClass(this.link,c),this.container.style.display=\"\",this.isOpen=!0,this.fire(\"show\"),e&&!a)try{e.focus()}catch(f){}},_hide:function(a){this.elementToChange=null,b.removeClass(this.link,c),this.container.style.display=\"none\",this.isOpen=!1},hide:function(){this._hide(),this.fire(\"hide\")},cancel:function(){this._hide(),this.fire(\"cancel\")}})}(wysihtml5),function(a){var b=a.dom,c={position:\"relative\"},d={left:0,margin:0,opacity:0,overflow:\"hidden\",padding:0,position:\"absolute\",top:0,zIndex:1},e={cursor:\"inherit\",fontSize:\"50px\",height:\"50px\",marginTop:\"-25px\",outline:0,padding:0,position:\"absolute\",right:\"-4px\",top:\"50%\"},f={\"x-webkit-speech\":\"\",speech:\"\"};a.toolbar.Speech=function(g,h){var i=document.createElement(\"input\");if(!a.browser.supportsSpeechApiOn(i))return void(h.style.display=\"none\");var j=g.editor.textarea.element.getAttribute(\"lang\");j&&(f.lang=j);var k=document.createElement(\"div\");a.lang.object(d).merge({width:h.offsetWidth+\"px\",height:h.offsetHeight+\"px\"}),b.insert(i).into(k),b.insert(k).into(h),b.setStyles(e).on(i),b.setAttributes(f).on(i),b.setStyles(d).on(k),b.setStyles(c).on(h);var l=\"onwebkitspeechchange\"in i?\"webkitspeechchange\":\"speechchange\";b.observe(i,l,function(){g.execCommand(\"insertText\",i.value),i.value=\"\"}),b.observe(i,\"click\",function(a){b.hasClass(h,\"wysihtml5-command-disabled\")&&a.preventDefault(),a.stopPropagation()})}}(wysihtml5),function(a){function b(b,c){var d=b.commands.state(c.name,c.value);return!c.dialog.multiselect&&a.lang.object(d).isArray()&&(d=1===d.length?d[0]:!0),d}var c=\"wysihtml5-command-disabled\",d=\"wysihtml5-commands-disabled\",e=\"wysihtml5-command-active\",f=\"wysihtml5-action-active\",g=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(b,g,h){this.editor=b,this.container=\"string\"==typeof g?document.getElementById(g):g,this.composer=b.composer,this._getLinks(\"command\"),this._getLinks(\"action\"),this._observe(),h&&this.show(),null!=b.config.classNameCommandDisabled&&(c=b.config.classNameCommandDisabled),null!=b.config.classNameCommandsDisabled&&(d=b.config.classNameCommandsDisabled),null!=b.config.classNameCommandActive&&(e=b.config.classNameCommandActive),null!=b.config.classNameActionActive&&(f=b.config.classNameActionActive);for(var i=this.container.querySelectorAll(\"[data-wysihtml5-command=insertSpeech]\"),j=i.length,k=0;j>k;k++)new a.toolbar.Speech(this,i[k])},_getLinks:function(b){for(var c,d,e,f,g,h,i=this[b+\"Links\"]=a.lang.array(this.container.querySelectorAll(\"[data-wysihtml5-\"+b+\"]\")).get(),j=i.length,k=0,l=this[b+\"Mapping\"]={};j>k;k++)c=i[k],e=c.getAttribute(\"data-wysihtml5-\"+b),f=c.getAttribute(\"data-wysihtml5-\"+b+\"-value\"),h=c.getAttribute(\"data-wysihtml5-\"+b+\"-blank-value\"),d=this.container.querySelector(\"[data-wysihtml5-\"+b+\"-group='\"+e+\"']\"),g=this._getDialog(c,e),l[e+\":\"+f]={link:c,group:d,name:e,value:f,tracksBlankValue:h,dialog:g,state:!1}},_getDialog:function(b,c){var d,e,f=this,g=this.container.querySelector(\"[data-wysihtml5-dialog='\"+c+\"']\");return g&&(d=a.toolbar[\"Dialog_\"+c]?new a.toolbar[\"Dialog_\"+c](b,g):new a.toolbar.Dialog(b,g),d.on(\"show\",function(){e=f.composer.selection.getBookmark(),f.editor.fire(\"show:dialog\",{command:c,dialogContainer:g,commandLink:b})}),d.on(\"save\",function(a){e&&f.composer.selection.setBookmark(e),f._execCommand(c,a),f.editor.fire(\"save:dialog\",{command:c,dialogContainer:g,commandLink:b}),f._hideAllDialogs(),f._preventInstantFocus(),e=void 0}),d.on(\"cancel\",function(){e&&f.composer.selection.setBookmark(e),f.editor.fire(\"cancel:dialog\",{command:c,dialogContainer:g,commandLink:b}),e=void 0,f._preventInstantFocus()}),d.on(\"hide\",function(){f.editor.fire(\"hide:dialog\",{command:c,dialogContainer:g,commandLink:b}),e=void 0})),d},execCommand:function(a,b){this.commandsDisabled||this._execCommand(a,b)},_execCommand:function(a,b){this.editor.focus(!1),this.composer.commands.exec(a,b),this._updateLinkStates()},execAction:function(a){var b=this.editor;\"change_view\"===a&&(b.currentView===b.textarea||\"source\"===b.currentView?b.fire(\"change_view\",\"composer\"):b.fire(\"change_view\",\"textarea\")),\"showSource\"==a&&b.fire(\"showSource\")},_observe:function(){for(var c=this,e=this.editor,f=this.container,h=this.commandLinks.concat(this.actionLinks),i=h.length,j=0;i>j;j++)\"A\"===h[j].nodeName?g.setAttributes({href:\"javascript:;\",unselectable:\"on\"}).on(h[j]):g.setAttributes({unselectable:\"on\"}).on(h[j]);g.delegate(f,\"[data-wysihtml5-command], [data-wysihtml5-action]\",\"mousedown\",function(a){a.preventDefault()}),g.delegate(f,\"[data-wysihtml5-command]\",\"click\",function(a){var d,e=this,f=e.getAttribute(\"data-wysihtml5-command\"),g=e.getAttribute(\"data-wysihtml5-command-value\"),h=c.commandMapping[f+\":\"+g];g||!h.dialog?c.execCommand(f,g):(d=b(c.composer,h),h.dialog.show(d)),a.preventDefault()}),g.delegate(f,\"[data-wysihtml5-action]\",\"click\",function(a){var b=this.getAttribute(\"data-wysihtml5-action\");c.execAction(b),a.preventDefault()}),e.on(\"interaction:composer\",function(a){c.preventFocus||c._updateLinkStates()}),this._ownerDocumentClick=function(b){a.dom.contains(c.container,b.target)||a.dom.contains(c.composer.element,b.target)||(c._updateLinkStates(),c._preventInstantFocus())},this.container.ownerDocument.addEventListener(\"click\",this._ownerDocumentClick,!1),this.editor.on(\"destroy:composer\",this.destroy.bind(this)),this.editor.config.handleTables&&(e.on(\"tableselect:composer\",function(){c.container.querySelectorAll('[data-wysihtml5-hiddentools=\"table\"]')[0].style.display=\"\"}),e.on(\"tableunselect:composer\",function(){c.container.querySelectorAll('[data-wysihtml5-hiddentools=\"table\"]')[0].style.display=\"none\"})),e.on(\"change_view\",function(a){setTimeout(function(){c.commandsDisabled=\"composer\"!==a,c._updateLinkStates(),c.commandsDisabled?g.addClass(f,d):g.removeClass(f,d)},0)})},destroy:function(){this.container.ownerDocument.removeEventListener(\"click\",this._ownerDocumentClick,!1)},_hideAllDialogs:function(){var a=this.commandMapping;for(var b in a)a[b].dialog&&a[b].dialog.hide()},_preventInstantFocus:function(){this.preventFocus=!0,setTimeout(function(){this.preventFocus=!1}.bind(this),0)},_updateLinkStates:function(){var a,d,h,i,j,k=this.commandMapping,l=this.composer,m=this.actionMapping;for(a in k)i=k[a],this.commandsDisabled?(d=!1,g.removeClass(i.link,e),i.group&&g.removeClass(i.group,e),i.dialog&&i.dialog.hide()):(d=this.composer.commands.state(i.name,i.value),g.removeClass(i.link,c),i.group&&g.removeClass(i.group,c)),(i.state!==d||i.tracksBlankValue)&&(i.state=d,d?i.tracksBlankValue?g.removeClass(i.link,e):(g.addClass(i.link,e),i.group&&g.addClass(i.group,e),!i.dialog||\"undefined\"!=typeof i.value&&null!==i.value||(d&&\"object\"==typeof d?(d=b(l,i),i.state=d,j=i.dialog.container.dataset?i.dialog.container.dataset.showdialogonselection:!1,l.config.showToolbarDialogsOnSelection||j?i.dialog.show(d):i.dialog.update(d)):i.dialog.hide())):i.tracksBlankValue?g.addClass(i.link,e):(g.removeClass(i.link,e),i.group&&g.removeClass(i.group,e),i.dialog&&!i.value&&i.dialog.hide()));for(a in m)h=m[a],\"change_view\"===h.name&&(h.state=this.editor.currentView===this.editor.textarea||\"source\"===this.editor.currentView,h.state?g.addClass(h.link,f):g.removeClass(h.link,f))},show:function(){this.container.style.display=\"\"},hide:function(){this.container.style.display=\"none\"}})}(wysihtml5),function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})}(wysihtml5),function(a){var b=\"[data-wysihtml5-dialog-field]\",c=\"data-wysihtml5-dialog-field\";a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var a={},d=this.container.querySelectorAll(b),e=d.length,f=0;e>f;f++)a[d[f].getAttribute(c)]=d[f].value;return a},_interpolate:function(d){for(var e,f,g=a.quirks.styleParser,h=document.querySelector(\":focus\"),i=this.container.querySelectorAll(b),j=i.length,k=0,l=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,m=l?l.getAttribute(\"style\"):null,n=m?g.parseColor(m,\"color\"):null;j>k;k++)e=i[k],e!==h&&(d&&\"hidden\"===e.type||\"color\"===e.getAttribute(c)&&(f=(e.dataset.colormode||\"rgb\").toLowerCase(),f=\"hex\"===f?\"hash\":f,n?e.value=g.unparseColor(n,f):e.value=g.unparseColor([0,0,0],f)))}})}(wysihtml5),function(a){a.dom;a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field=\"size\"]').value}},_interpolate:function(b){var c=document.querySelector(\":focus\"),d=this.container.querySelector(\"[data-wysihtml5-dialog-field='size']\"),e=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,f=e?e.getAttribute(\"style\"):null,g=f?a.quirks.styleParser.parseFontSize(f):null;d&&d!==c&&g&&!/^\\s*$/.test(g)&&(d.value=g)}})}(wysihtml5);\n/**\n * Full HTML5 compatibility rule set\n * Loosened and extended ruleset. Allows more freedom on user side\n * These rules define which tags and CSS classes are supported and which tags should be specially treated.\n */\n\nvar wysihtml5ParserRulesDefaults = {\n    \"blockLevelEl\": {\n        \"keep_styles\": {\n            \"textAlign\": /^((left)|(right)|(center)|(justify))$/i,\n            \"float\": 1\n        },\n        \"add_style\": {\n            \"align\": \"align_text\"\n        },\n        \"check_attributes\": {\n            \"id\": \"any\"\n        }\n    },\n\n    \"makeDiv\": {\n        \"rename_tag\": \"div\",\n        \"one_of_type\": {\n            \"alignment_object\": 1\n        },\n        \"remove_action\": \"unwrap\",\n        \"keep_styles\": {\n            \"textAlign\": 1,\n            \"float\": 1\n        },\n        \"add_style\": {\n            \"align\": \"align_text\"\n        },\n        \"check_attributes\": {\n            \"id\": \"any\"\n        }\n    }\n};\n\nvar wysihtml5ParserRules = {\n    /**\n     * CSS Class white-list\n     * Following CSS classes won't be removed when parsed by the wysihtml5 HTML parser\n     * If all classes should pass \"any\" as classes value. Ex: \"classes\": \"any\"\n     */\n    \"classes\": \"any\",\n\n    /* blacklist of classes is only available if classes is set to any */\n    \"classes_blacklist\": {\n        \"Apple-interchange-newline\": 1,\n        \"MsoNormal\": 1,\n        \"MsoPlainText\": 1\n    },\n\n    \"type_definitions\": {\n\n        \"alignment_object\": {\n            \"classes\": {\n                \"wysiwyg-text-align-center\": 1,\n                \"wysiwyg-text-align-justify\": 1,\n                \"wysiwyg-text-align-left\": 1,\n                \"wysiwyg-text-align-right\": 1,\n                \"wysiwyg-float-left\": 1,\n                \"wysiwyg-float-right\": 1\n            },\n            \"styles\": {\n                \"float\": [\"left\", \"right\"],\n                \"text-align\": [\"left\", \"right\", \"center\"]\n            }\n        },\n\n        \"valid_image_src\": {\n            \"attrs\": {\n                \"src\": /^[^data\\:]/i\n            }\n        },\n\n        \"text_color_object\": {\n          \"styles\": {\n            \"color\": true,\n            \"background-color\": true\n          }\n        },\n\n        \"text_fontsize_object\": {\n          \"styles\": {\n            \"font-size\": false\n          }\n        },\n\n        \"text_formatting_object\": {\n            \"classes\": {\n                \"wysiwyg-color-aqua\": 1,\n                \"wysiwyg-color-black\": 1,\n                \"wysiwyg-color-blue\": 1,\n                \"wysiwyg-color-fuchsia\": 1,\n                \"wysiwyg-color-gray\": 1,\n                \"wysiwyg-color-green\": 1,\n                \"wysiwyg-color-lime\": 1,\n                \"wysiwyg-color-maroon\": 1,\n                \"wysiwyg-color-navy\": 1,\n                \"wysiwyg-color-olive\": 1,\n                \"wysiwyg-color-purple\": 1,\n                \"wysiwyg-color-red\": 1,\n                \"wysiwyg-color-silver\": 1,\n                \"wysiwyg-color-teal\": 1,\n                \"wysiwyg-color-white\": 1,\n                \"wysiwyg-color-yellow\": 1,\n                \"wysiwyg-font-size-large\": 1,\n                \"wysiwyg-font-size-larger\": 1,\n                \"wysiwyg-font-size-medium\": 1,\n                \"wysiwyg-font-size-small\": 1,\n                \"wysiwyg-font-size-smaller\": 1,\n                \"wysiwyg-font-size-x-large\": 1,\n                \"wysiwyg-font-size-x-small\": 1,\n                \"wysiwyg-font-size-xx-large\": 1,\n                \"wysiwyg-font-size-xx-small\": 1,\n                \"wysiwyg-font-size-xx-h1\": 1,\n                \"wysiwyg-font-size-xx-h2\": 1,\n                \"wysiwyg-font-size-xx-h3\": 1,\n                \"wysiwyg-font-size-xx-h4\": 1,\n                \"wysiwyg-font-size-xx-h5\": 1,\n                \"wysiwyg-font-size-xx-h6\": 1,\n                \"wysiwyg-font-size-h6\": 1,\n                \"wysiwyg-font-size-h5\": 1,\n                \"wysiwyg-font-size-h4\": 1,\n                \"wysiwyg-font-size-h3\": 1,\n                \"wysiwyg-font-size-h2\": 1,\n                \"wysiwyg-font-size-h1\": 1\n            }\n        }\n    },\n\n    \"comments\": 1, // if set allows comments to pass\n\n    /**\n     * Tag list\n     *\n     * The following options are available:\n     *\n     *    - add_class:        converts and deletes the given HTML4 attribute (align, clear, ...) via the given method to a css class\n     *                        The following methods are implemented in wysihtml5.dom.parse:\n     *                          - align_text:  converts align attribute values (right/left/center/justify) to their corresponding css class \"wysiwyg-text-align-*\")\n     *                            <p align=\"center\">foo</p> ... becomes ... <p> class=\"wysiwyg-text-align-center\">foo</p>\n     *                          - clear_br:    converts clear attribute values left/right/all/both to their corresponding css class \"wysiwyg-clear-*\"\n     *                            <br clear=\"all\"> ... becomes ... <br class=\"wysiwyg-clear-both\">\n     *                          - align_img:    converts align attribute values (right/left) on <img> to their corresponding css class \"wysiwyg-float-*\"\n     *\n     *    - remove:             removes the element and its content\n     *\n     *    - unwrap              removes element but leaves content\n     *\n     *    - rename_tag:         renames the element to the given tag\n     *\n     *    - set_class:          adds the given class to the element (note: make sure that the class is in the \"classes\" white list above)\n     *\n     *    - set_attributes:     sets/overrides the given attributes\n     *\n     *    - check_attributes:   checks the given HTML attribute via the given method\n     *                            - url:            allows only valid urls (starting with http:// or https://)\n     *                            - src:            allows something like \"/foobar.jpg\", \"http://google.com\", ...\n     *                            - href:           allows something like \"mailto:bert@foo.com\", \"http://google.com\", \"/foobar.jpg\"\n     *                            - alt:            strips unwanted characters. if the attribute is not set, then it gets set (to ensure valid and compatible HTML)\n     *                            - numbers:  ensures that the attribute only contains numeric characters\n     *                            - any:            allows anything to pass\n     */\n    \"tags\": {\n        \"tr\": {\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"strike\": {\n            \"unwrap\": 1\n        },\n        \"form\": {\n            \"unwrap\": 1\n        },\n        \"rt\": {\n            \"rename_tag\": \"span\"\n        },\n        \"code\": {},\n        \"acronym\": {\n            \"rename_tag\": \"span\"\n        },\n        \"br\": {\n            \"add_class\": {\n                \"clear\": \"clear_br\"\n            }\n        },\n        \"details\": {\n            \"unwrap\": 1\n        },\n        \"h4\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"em\": {},\n        \"title\": {\n            \"remove\": 1\n        },\n        \"multicol\": {\n            \"unwrap\": 1\n        },\n        \"figure\": {\n            \"unwrap\": 1\n        },\n        \"xmp\": {\n            \"unwrap\": 1\n        },\n        \"small\": {\n            \"rename_tag\": \"span\",\n            \"set_class\": \"wysiwyg-font-size-smaller\"\n        },\n        \"area\": {\n            \"remove\": 1\n        },\n        \"time\": {\n            \"unwrap\": 1\n        },\n        \"dir\": {\n            \"rename_tag\": \"ul\"\n        },\n        \"bdi\": {\n            \"unwrap\": 1\n        },\n        \"command\": {\n            \"unwrap\": 1\n        },\n        \"ul\": {\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"progress\": {\n            \"rename_tag\": \"span\"\n        },\n        \"dfn\": {\n            \"unwrap\": 1\n        },\n        \"iframe\": {\n            \"check_attributes\": {\n                \"src\": \"any\",\n                \"width\": \"any\",\n                \"height\": \"any\",\n                \"frameborder\": \"any\",\n                \"style\": \"any\",\n                \"id\": \"any\"\n            }\n        },\n        \"figcaption\": {\n            \"unwrap\": 1\n        },\n        \"a\": {\n            \"check_attributes\": {\n                \"href\": \"href\", // if you compiled master manually then change this from 'url' to 'href'\n                \"rel\": \"any\",\n                \"target\": \"any\",\n                \"id\": \"any\"\n            }\n        },\n        \"img\": {\n            \"one_of_type\": {\n                \"valid_image_src\": 1\n            },\n            \"check_attributes\": {\n                \"width\": \"numbers\",\n                \"alt\": \"alt\",\n                \"src\": \"src\", // if you compiled master manually then change this from 'url' to 'src'\n                \"height\": \"numbers\",\n                \"id\": \"any\"\n            },\n            \"add_class\": {\n                \"align\": \"align_img\"\n            }\n        },\n        \"rb\": {\n            \"unwrap\": 1\n        },\n        \"footer\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"noframes\": {\n            \"remove\": 1\n        },\n        \"abbr\": {\n            \"unwrap\": 1\n        },\n        \"u\": {},\n        \"bgsound\": {\n            \"remove\": 1\n        },\n        \"sup\": {\n            \"unwrap\": 1\n        },\n        \"address\": {\n            \"unwrap\": 1\n        },\n        \"basefont\": {\n            \"remove\": 1\n        },\n        \"nav\": {\n            \"unwrap\": 1\n        },\n        \"h1\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"head\": {\n            \"unwrap\": 1\n        },\n        \"tbody\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"dd\": {\n            \"unwrap\": 1\n        },\n        \"s\": {\n            \"unwrap\": 1\n        },\n        \"li\": {},\n        \"td\": {\n            \"check_attributes\": {\n                \"rowspan\": \"numbers\",\n                \"colspan\": \"numbers\",\n                \"valign\": \"any\",\n                \"align\": \"any\",\n                \"id\": \"any\",\n                \"class\": \"any\"\n            },\n            \"keep_styles\": {\n                \"backgroundColor\": 1,\n                \"width\": 1,\n                \"height\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            }\n        },\n        \"object\": {\n            \"remove\": 1\n        },\n\n        \"div\": {\n            \"one_of_type\": {\n                \"alignment_object\": 1\n            },\n            \"remove_action\": \"unwrap\",\n            \"keep_styles\": {\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\",\n                \"contenteditable\": \"any\"\n            }\n        },\n\n        \"option\": {\n            \"remove\":1\n        },\n        \"select\": {\n            \"remove\":1\n        },\n        \"i\": {},\n        \"track\": {\n            \"remove\": 1\n        },\n        \"wbr\": {\n            \"remove\": 1\n        },\n        \"fieldset\": {\n            \"unwrap\": 1\n        },\n        \"big\": {\n            \"rename_tag\": \"span\",\n            \"set_class\": \"wysiwyg-font-size-larger\"\n        },\n        \"button\": {\n            \"unwrap\": 1\n        },\n        \"noscript\": {\n            \"remove\": 1\n        },\n        \"svg\": {\n            \"remove\": 1\n        },\n        \"input\": {\n            \"remove\": 1\n        },\n        \"table\": {\n            \"keep_styles\": {\n                \"width\": 1,\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"keygen\": {\n            \"remove\": 1\n        },\n        \"h5\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"meta\": {\n            \"remove\": 1\n        },\n        \"map\": {\n            \"remove\": 1\n        },\n        \"isindex\": {\n            \"remove\": 1\n        },\n        \"mark\": {\n            \"unwrap\": 1\n        },\n        \"caption\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"tfoot\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"base\": {\n            \"remove\": 1\n        },\n        \"video\": {\n            \"remove\": 1\n        },\n        \"strong\": {},\n        \"canvas\": {\n            \"remove\": 1\n        },\n        \"output\": {\n            \"unwrap\": 1\n        },\n        \"marquee\": {\n            \"unwrap\": 1\n        },\n        \"b\": {},\n        \"q\": {\n            \"check_attributes\": {\n                \"cite\": \"url\",\n                \"id\": \"any\"\n            }\n        },\n        \"applet\": {\n            \"remove\": 1\n        },\n        \"span\": {\n            \"one_of_type\": {\n                \"text_formatting_object\": 1,\n                \"text_color_object\": 1,\n                \"text_fontsize_object\": 1\n            },\n            \"keep_styles\": {\n                \"color\": 1,\n                \"backgroundColor\": 1,\n                \"fontSize\": 1\n            },\n            \"remove_action\": \"unwrap\",\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"rp\": {\n            \"unwrap\": 1\n        },\n        \"spacer\": {\n            \"remove\": 1\n        },\n        \"source\": {\n            \"remove\": 1\n        },\n        \"aside\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"frame\": {\n            \"remove\": 1\n        },\n        \"section\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"body\": {\n            \"unwrap\": 1\n        },\n        \"ol\": {},\n        \"nobr\": {\n            \"unwrap\": 1\n        },\n        \"html\": {\n            \"unwrap\": 1\n        },\n        \"summary\": {\n            \"unwrap\": 1\n        },\n        \"var\": {\n            \"unwrap\": 1\n        },\n        \"del\": {\n            \"unwrap\": 1\n        },\n        \"blockquote\": {\n            \"keep_styles\": {\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"cite\": \"url\",\n                \"id\": \"any\"\n            }\n        },\n        \"style\": {\n            \"check_attributes\": {\n                \"type\": \"any\",\n                \"src\": \"any\",\n                \"charset\": \"any\"\n            }\n        },\n        \"device\": {\n            \"remove\": 1\n        },\n        \"meter\": {\n            \"unwrap\": 1\n        },\n        \"h3\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"textarea\": {\n            \"unwrap\": 1\n        },\n        \"embed\": {\n            \"remove\": 1\n        },\n        \"hgroup\": {\n            \"unwrap\": 1\n        },\n        \"font\": {\n            \"rename_tag\": \"span\",\n            \"add_class\": {\n                \"size\": \"size_font\"\n            }\n        },\n        \"tt\": {\n            \"unwrap\": 1\n        },\n        \"noembed\": {\n            \"remove\": 1\n        },\n        \"thead\": {\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"blink\": {\n            \"unwrap\": 1\n        },\n        \"plaintext\": {\n            \"unwrap\": 1\n        },\n        \"xml\": {\n            \"remove\": 1\n        },\n        \"h6\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"param\": {\n            \"remove\": 1\n        },\n        \"th\": {\n            \"check_attributes\": {\n                \"rowspan\": \"numbers\",\n                \"colspan\": \"numbers\",\n                \"valign\": \"any\",\n                \"align\": \"any\",\n                \"id\": \"any\"\n            },\n            \"keep_styles\": {\n                \"backgroundColor\": 1,\n                \"width\": 1,\n                \"height\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            }\n        },\n        \"legend\": {\n            \"unwrap\": 1\n        },\n        \"hr\": {},\n        \"label\": {\n            \"unwrap\": 1\n        },\n        \"dl\": {\n            \"unwrap\": 1\n        },\n        \"kbd\": {\n            \"unwrap\": 1\n        },\n        \"listing\": {\n            \"unwrap\": 1\n        },\n        \"dt\": {\n            \"unwrap\": 1\n        },\n        \"nextid\": {\n            \"remove\": 1\n        },\n        \"pre\": {},\n        \"center\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"audio\": {\n            \"remove\": 1\n        },\n        \"datalist\": {\n            \"unwrap\": 1\n        },\n        \"samp\": {\n            \"unwrap\": 1\n        },\n        \"col\": {\n            \"remove\": 1\n        },\n        \"article\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"cite\": {},\n        \"link\": {\n            \"remove\": 1\n        },\n        \"script\": {\n            \"check_attributes\": {\n                \"type\": \"any\",\n                \"src\": \"any\",\n                \"charset\": \"any\"\n            }\n        },\n        \"bdo\": {\n            \"unwrap\": 1\n        },\n        \"menu\": {\n            \"rename_tag\": \"ul\"\n        },\n        \"colgroup\": {\n            \"remove\": 1\n        },\n        \"ruby\": {\n            \"unwrap\": 1\n        },\n        \"h2\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"ins\": {\n            \"unwrap\": 1\n        },\n        \"p\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"sub\": {\n            \"unwrap\": 1\n        },\n        \"comment\": {\n            \"remove\": 1\n        },\n        \"frameset\": {\n            \"remove\": 1\n        },\n        \"optgroup\": {\n            \"unwrap\": 1\n        },\n        \"header\": wysihtml5ParserRulesDefaults.makeDiv\n    }\n};\n\n\n(function() {\n    // Paste cleanup rules universal for all rules (also applied to content copied from editor)\n    var commonRules = wysihtml5.lang.object(wysihtml5ParserRules).clone(true);\n    commonRules.comments    = false;\n    commonRules.selectors   = { \"a u\": \"unwrap\"};\n    commonRules.tags.style  = { \"remove\": 1 };\n    commonRules.tags.script = { \"remove\": 1 };\n    commonRules.tags.head = { \"remove\": 1 };\n\n    // Paste cleanup for unindentified source\n    var universalRules = wysihtml5.lang.object(commonRules).clone(true);\n    universalRules.tags.div.one_of_type.alignment_object = 1;\n    universalRules.tags.div.remove_action = \"unwrap\";\n    universalRules.tags.div.check_attributes.style = false;\n    universalRules.tags.div.keep_styles = {\n        \"textAlign\": /^((left)|(right)|(center)|(justify))$/i,\n        \"float\": 1\n    };\n    universalRules.tags.span.keep_styles = false;\n\n    // Paste cleanup for MS Office\n    // TODO: should be extended to stricter ruleset, as current set will probably not cover all Office bizarreness\n    var msOfficeRules = wysihtml5.lang.object(universalRules).clone(true);\n    msOfficeRules.classes = {};\n\n    window.wysihtml5ParserPasteRulesets = [\n        {\n            condition: /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument|class=\"OutlineElement|id=\"?docs\\-internal\\-guid\\-/i,\n            set: msOfficeRules\n        },{\n            condition: /<meta name=\"copied-from\" content=\"wysihtml5\">/i,\n            set: commonRules\n        },{\n            set: universalRules\n        }\n    ];\n\n})();\n\nexports[\"wysihtml5\"] = wysihtml5;\nexports[\"wysihtml5ParserRules\"] = wysihtml5ParserRules;\n\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = wysihtml5;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/exports-loader?wysihtml5!./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js\n// module id = ../node_modules/exports-loader/index.js?wysihtml5!./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js\n// module chunks = 0","/*! wysihtml - v0.5.2 (2015-11-10) */\nvar newStyle;\nvar wysihtml5={version:\"0.5.2\",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:\"\\ufeff\",INVISIBLE_SPACE_REG_EXP:/\\uFEFF/g,EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46};wysihtml5.polyfills=function(a,b){String.prototype.trim||!function(){var a=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,\"\")}}(),function(){var c=\"addEventListener\",d=\"removeEventListener\";b[c]||(a.Element.prototype[c]=a[c]=b[c]=function(b,c,d){return(d=this).attachEvent(\"on\"+b,function(b){var b=b||a.event;b.target=b.target||b.srcElement,b.preventDefault=b.preventDefault||function(){b.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0},b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode,c.call(d,b)})},a.Element.prototype[d]=a[d]=b[d]=function(a,b){return this.detachEvent(\"on\"+a,b)})}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,\"textContent\")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,\"textContent\").get&&!function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,\"innerText\");Object.defineProperty(a.Element.prototype,\"textContent\",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,a)}})}(),Array.isArray||(Array.isArray=function(a){return\"[object Array]\"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=this.length,d=-1,e=b>>>0;~(c-e);d=this[--c]===a?c:d);return d}),Function.prototype.bind||(Function.prototype.bind=function(a){if(\"function\"!=typeof this)throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.document||b.ownerDocument).querySelectorAll(a),d=0;c[d]&&c[d]!==b;)++d;return c[d]?!0:!1},a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}}(Element.prototype),\"document\"in a&&(\"classList\"in b.createElement(\"_\")?\"DOMTokenList\"in a&&!function(){\"use strict\";var c=b.createElement(\"_\");if(c.classList.add(\"c1\",\"c2\"),!c.classList.contains(\"c2\")){var d=function(b){var c=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,d=arguments.length;for(b=0;d>b;b++)a=arguments[b],c.call(this,a)}};d(\"add\"),d(\"remove\")}if(c.classList.toggle(\"c3\",!1),c.classList.contains(\"c3\")){var e=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:e.call(this,a)}}c=null}():!function(a){\"use strict\";if(\"Element\"in a){var b=\"classList\",c=\"prototype\",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\\s+|\\s+$/g,\"\")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(\"\"===b)throw new h(\"SYNTAX_ERR\",\"An invalid or illegal string was specified\");if(/\\s/.test(b))throw new h(\"INVALID_CHARACTER_ERR\",\"String contains an invalid character\");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute(\"class\")||\"\"),c=b?b.split(/\\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute(\"class\",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+=\"\",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+\"\",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do for(a=c[d]+\"\",b=i(this,a);-1!==b;)this.splice(b,1),f=!0,b=i(this,a);while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+=\"\";var c=this.contains(a),d=c?b!==!0&&\"remove\":b!==!1&&\"add\";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(\" \")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(a));var c=function(){if(\"createRange\"in document&&\"getSelection\"in window){var a,b,c=document.createElement(\"div\"),d=document.createTextNode(\"a\"),e=document.createTextNode(\"a\"),f=document.createTextNode(\"a\"),g=document.createRange();return c.setAttribute(\"contenteditable\",\"true\"),c.appendChild(d),c.appendChild(e),c.appendChild(f),document.body.appendChild(c),g.setStart(e,1),g.setEnd(e,1),a=window.getSelection(),a.removeAllRanges(),a.addRange(g),c.normalize(),a=window.getSelection(),b=1!==c.childNodes.length||a.anchorNode!==c.firstChild||2!==a.anchorOffset,c.parentNode.removeChild(c),a.removeAllRanges(),b}},d=function(a){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b.push(a):b=b.concat(d(a));return b},e=function(){var a=(Node.prototype.normalize,function(){var a=d(this),b=this.ownerDocument.defaultView.getSelection(),c=b.anchorNode,e=b.anchorOffset,f=c&&1===c.nodeType&&c.childNodes.length>0?c.childNodes[e]:void 0,g=b.focusNode,h=b.focusOffset,i=g&&1===g.nodeType&&h>0?g.childNodes[h-1]:void 0,j=this.ownerDocument.createRange(),k=a.shift(),l=k?a.shift():null;for(i&&3===i.nodeType&&(g=i,h=i.nodeValue.length,i=void 0),f&&3===f.nodeType&&(c=f,e=0,f=void 0),(c===g&&e>h||c!==g&&c.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_PRECEDING&&!(c.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINS))&&(g=[c,c=g][0],h=[e,e=h][0]);k&&l;)l.previousSibling&&l.previousSibling===k?(c===l&&(c=k,e=k.nodeValue.length+e),g===l&&(g=k,h=k.nodeValue.length+h),k.nodeValue=k.nodeValue+l.nodeValue,l.parentNode.removeChild(l),l=a.shift()):(k=l,l=a.shift());i&&(h=Array.prototype.indexOf.call(i.parentNode.childNodes,i)+1),f&&(e=Array.prototype.indexOf.call(f.parentNode.childNodes,f)),c&&c.parentNode&&g&&g.parentNode&&(j.setStart(c,e),j.setEnd(g,h),b.removeAllRanges(),b.addRange(j))});Node.prototype.normalize=a},f=function(){window.removeEventListener(\"load\",f),\"Node\"in window&&\"normalize\"in Node.prototype&&c()&&e()};\"complete\"!==b.readyState?window.addEventListener(\"load\",f):f()},wysihtml5.polyfills(window,document),function(a,b){\"function\"==typeof define&&define.amd?define(a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a():b.rangy=a()}(function(){function a(a,b){var c=typeof a[b];return c==u||!(c!=t||!a[b])||\"unknown\"==c}function b(a,b){return!(typeof a[b]!=t||!a[b])}function c(a,b){return typeof a[b]!=v}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&A(a,z)&&C(a,y)}function f(a){return b(a,\"body\")?a.body:a.getElementsByTagName(\"body\")[0]}function g(b){typeof console!=v&&a(console,\"log\")&&console.log(b)}function h(a,b){F&&b?alert(a):g(a)}function i(a){H.initialized=!0,H.supported=!1,h(\"Rangy is not supported in this environment. Reason: \"+a,H.config.alertOnFail)}function j(a){h(\"Rangy warning: \"+a,H.config.alertOnWarn)}function k(a){return a.message||a.description||String(a)}function l(){if(F&&!H.initialized){var b,c=!1,d=!1;a(document,\"createRange\")&&(b=document.createRange(),A(b,x)&&C(b,w)&&(c=!0));var h=f(document);if(!h||\"body\"!=h.nodeName.toLowerCase())return void i(\"No body element found\");if(h&&a(h,\"createTextRange\")&&(b=h.createTextRange(),e(b)&&(d=!0)),!c&&!d)return void i(\"Neither Range nor TextRange are available\");H.initialized=!0,H.features={implementsDomRange:c,implementsTextRange:d};var j,l;for(var m in E)(j=E[m])instanceof p&&j.init(j,H);for(var n=0,o=K.length;o>n;++n)try{K[n](H)}catch(q){l=\"Rangy init listener threw an exception. Continuing. Detail: \"+k(q),g(l)}}}function m(a,b,c){c&&(a+=\" in module \"+c.name),H.warn(\"DEPRECATED: \"+a+\" is deprecated. Please use \"+b+\" instead.\")}function n(a,b,c,d){a[b]=function(){return m(b,c,d),a[c].apply(a,G.toArray(arguments))}}function o(a){a=a||window,l();for(var b=0,c=L.length;c>b;++b)L[b](a)}function p(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function q(a,b,c){var d=new p(a,b,function(b){if(!b.initialized){b.initialized=!0;try{c(H,b),b.supported=!0}catch(d){var e=\"Module '\"+a+\"' failed to load: \"+k(d);g(e),d.stack&&g(d.stack)}}});return E[a]=d,d}function r(){}function s(){}var t=\"object\",u=\"function\",v=\"undefined\",w=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],x=[\"setStart\",\"setStartBefore\",\"setStartAfter\",\"setEnd\",\"setEndBefore\",\"setEndAfter\",\"collapse\",\"selectNode\",\"selectNodeContents\",\"compareBoundaryPoints\",\"deleteContents\",\"extractContents\",\"cloneContents\",\"insertNode\",\"surroundContents\",\"cloneRange\",\"toString\",\"detach\"],y=[\"boundingHeight\",\"boundingLeft\",\"boundingTop\",\"boundingWidth\",\"htmlText\",\"text\"],z=[\"collapse\",\"compareEndPoints\",\"duplicate\",\"moveToElementText\",\"parentElement\",\"select\",\"setEndPoint\",\"getBoundingClientRect\"],A=d(a),B=d(b),C=d(c),D=[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)b(a[c],c)},E={},F=typeof window!=v&&typeof document!=v,G={isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:A,areHostObjects:B,areHostProperties:C,isTextRange:e,getBody:f,forEach:D},H={version:\"1.3.0\",initialized:!1,isBrowser:F,supported:!0,util:G,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v?!0:rangyAutoInitialize}};H.fail=i,H.warn=j;var I;({}).hasOwnProperty?(G.extend=I=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&null!==d&&\"object\"==typeof d&&null!==e&&\"object\"==typeof e&&I(d,e,!0),a[f]=e);return b.hasOwnProperty(\"toString\")&&(a.toString=b.toString),a},G.createOptions=function(a,b){var c={};return I(c,b),a&&I(c,a),c}):i(\"hasOwnProperty not supported\"),F||i(\"Rangy can only run in a browser\"),function(){var a;if(F){var b=document.createElement(\"div\");b.appendChild(document.createElement(\"span\"));var c=[].slice;try{1==c.call(b.childNodes,0)[0].nodeType&&(a=function(a){return c.call(a,0)})}catch(d){}}a||(a=function(a){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=a[c];return b}),G.toArray=a}();var J;F&&(a(document,\"addEventListener\")?J=function(a,b,c){a.addEventListener(b,c,!1)}:a(document,\"attachEvent\")?J=function(a,b,c){a.attachEvent(\"on\"+b,c)}:i(\"Document does not have required addEventListener or attachEvent method\"),G.addListener=J);var K=[];G.deprecationNotice=m,G.createAliasForDeprecatedMethod=n,H.init=l,H.addInitListener=function(a){H.initialized?a(H):K.push(a)};var L=[];H.addShimListener=function(a){L.push(a)},F&&(H.shim=H.createMissingNativeApi=o,n(H,\"createMissingNativeApi\",\"shim\")),p.prototype={init:function(){for(var a,b,c=this.dependencies||[],d=0,e=c.length;e>d;++d){if(b=c[d],a=E[b],!(a&&a instanceof p))throw new Error(\"required module '\"+b+\"' not found\");if(a.init(),!a.supported)throw new Error(\"required module '\"+b+\"' not supported\")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error(a)},warn:function(a){H.warn(\"Module \"+this.name+\": \"+a)},deprecationNotice:function(a,b){H.warn(\"DEPRECATED: \"+a+\" in module \"+this.name+\" is deprecated. Please use \"+b+\" instead\")},createError:function(a){return new Error(\"Error in Rangy \"+this.name+\" module: \"+a)}},H.createModule=function(a){var b,c;2==arguments.length?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]);var d=q(a,c,b);H.initialized&&H.supported&&d.init()},H.createCoreModule=function(a,b,c){q(a,b,c)},H.RangePrototype=r,H.rangePrototype=new r,H.selectionPrototype=new s,H.createCoreModule(\"DomUtil\",[],function(a,b){function c(a){var b;return typeof a.namespaceURI==F||null===(b=a.namespaceURI)||\"http://www.w3.org/1999/xhtml\"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(K(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b){return h(a,b,!0)}function j(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function k(a){var b=a.nodeType;return 3==b||4==b||8==b}function l(a){if(!a)return!1;var b=a.nodeType;return 3==b||8==b}function m(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function n(a,b,c){var d=a.cloneNode(!1);if(d.deleteData(0,b),a.deleteData(b,a.length-b),m(d,a),c)for(var f,g=0;f=c[g++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>e(a)&&++f.offset;return d}function o(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=F)return a.ownerDocument;if(typeof a.document!=F)return a.document;if(a.parentNode)return o(a.parentNode);throw b.createError(\"getDocument: no document found for node\")}function p(a){var c=o(a);if(typeof c.defaultView!=F)return c.defaultView;if(typeof c.parentWindow!=F)return c.parentWindow;throw b.createError(\"Cannot get a window object for node\")}function q(a){if(typeof a.contentDocument!=F)return a.contentDocument;if(typeof a.contentWindow!=F)return a.contentWindow.document;throw b.createError(\"getIframeDocument: No Document object found for iframe element\")}function r(a){if(typeof a.contentWindow!=F)return a.contentWindow;if(typeof a.contentDocument!=F)return a.contentDocument.defaultView;throw b.createError(\"getIframeWindow: No Window object found for iframe element\")}function s(a){return a&&G.isHostMethod(a,\"setTimeout\")&&G.isHostObject(a,\"document\")}function t(a,b,c){var d;if(a?G.isHostProperty(a,\"nodeType\")?d=1==a.nodeType&&\"iframe\"==a.tagName.toLowerCase()?q(a):o(a):s(a)&&(d=a.document):d=document,!d)throw b.createError(c+\"(): Parameter must be a Window object or DOM node\");return d}function u(a){for(var b;b=a.parentNode;)a=b;return a}function v(a,c,d,f){var h,i,k,l,m;if(a==d)return c===f?0:f>c?-1:1;if(h=j(d,a,!0))return c<=e(h)?-1:1;if(h=j(a,d,!0))return e(h)<f?-1:1;if(i=g(a,d),!i)throw new Error(\"comparePoints error: nodes have no common ancestor\");if(k=a===i?i:j(a,i,!0),l=d===i?i:j(d,i,!0),k===l)throw b.createError(\"comparePoints got to case 4 and childA and childB are the same!\");for(m=i.firstChild;m;){if(m===k)return-1;if(m===l)return 1;m=m.nextSibling}}function w(a){var b;try{return b=a.parentNode,!1}catch(c){return!0}}function x(a){if(!a)return\"[No node]\";if(L&&w(a))return\"[Broken node]\";if(k(a))return'\"'+a.data+'\"';if(1==a.nodeType){var b=a.id?' id=\"'+a.id+'\"':\"\";return\"<\"+a.nodeName+b+\">[index:\"+e(a)+\",length:\"+a.childNodes.length+\"][\"+(a.innerHTML||\"[innerHTML not supported]\").slice(0,25)+\"]\"}return a.nodeName}function y(a){for(var b,c=o(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function z(a,b,c){var d=H(a),e=a.createElement(\"div\");e.contentEditable=\"\"+!!c,b&&(e.innerHTML=b);var f=d.firstChild;return f?d.insertBefore(e,f):d.appendChild(e),e}function A(a){return a.parentNode.removeChild(a)}function B(a){this.root=a,this._next=a}function C(a){return new B(a)}function D(a,b){this.node=a,this.offset=b}function E(a){this.code=this[a],this.codeName=a,this.message=\"DOMException: \"+this.codeName}var F=\"undefined\",G=a.util,H=G.getBody;G.areHostMethods(document,[\"createDocumentFragment\",\"createElement\",\"createTextNode\"])||b.fail(\"document missing a Node creation method\"),G.isHostMethod(document,\"getElementsByTagName\")||b.fail(\"document missing getElementsByTagName method\");var I=document.createElement(\"div\");G.areHostMethods(I,[\"insertBefore\",\"appendChild\",\"cloneNode\"]||!G.areHostObjects(I,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"]))||b.fail(\"Incomplete Element implementation\"),G.isHostProperty(I,\"innerHTML\")||b.fail(\"Element is missing innerHTML property\");var J=document.createTextNode(\"test\");G.areHostMethods(J,[\"splitText\",\"deleteData\",\"insertData\",\"appendData\",\"cloneNode\"]||!G.areHostObjects(I,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"])||!G.areHostProperties(J,[\"data\"]))||b.fail(\"Incomplete Text Node implementation\");var K=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},L=!1;!function(){var b=document.createElement(\"b\");b.innerHTML=\"1\";var c=b.firstChild;b.innerHTML=\"<br />\",L=w(c),a.features.crashyTextNodes=L}();var M;typeof window.getComputedStyle!=F?M=function(a,b){return p(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=F?M=function(a,b){return a.currentStyle?a.currentStyle[b]:\"\"}:b.fail(\"No means of obtaining computed style properties found\"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return\"[DomPosition(\"+x(this.node)+\":\"+this.offset+\")]\"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},a.dom={arrayContains:K,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,isOrIsAncestorOf:i,getClosestAncestorIn:j,isCharacterDataNode:k,isTextOrCommentNode:l,insertAfter:m,splitDataNode:n,getDocument:o,getWindow:p,getIframeWindow:r,getIframeDocument:q,getBody:H,isWindow:s,getContentDocument:t,getRootContainer:u,comparePoints:v,isBrokenNode:w,inspectNode:x,getComputedStyleProperty:M,createTestElement:z,removeNode:A,fragmentFromNodeChildren:y,createIterator:C,DomPosition:D},a.DOMException=E}),H.createCoreModule(\"DomRange\",[\"DomUtil\"],function(a,b){function c(a,b){return 3!=a.nodeType&&(P(a,b.startContainer)||P(a,b.endContainer))}function d(a){return a.document||Q(a.startContainer)}function e(a){return W(a.startContainer)}function f(a){return new L(a.parentNode,O(a))}function g(a){return new L(a.parentNode,O(a)+1)}function h(a,b,c){var d=11==a.nodeType?a.firstChild:a;return N(b)?c==b.length?J.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:S(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function i(a,b,c){if(z(a),z(b),d(b)!=d(a))throw new M(\"WRONG_DOCUMENT_ERR\");var e=R(a.startContainer,a.startOffset,b.endContainer,b.endOffset),f=R(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?0>=e&&f>=0:0>e&&f>0}function j(a){for(var b,c,e,f=d(a.range).createDocumentFragment();c=a.next();){if(b=a.isPartiallySelectedSubtree(),c=c.cloneNode(!b),b&&(e=a.getSubtreeIterator(),c.appendChild(j(e)),e.detach()),10==c.nodeType)throw new M(\"HIERARCHY_REQUEST_ERR\");f.appendChild(c)}return f}function k(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),k(g,b,c),g.detach(),c.stop)return}else for(d=J.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function l(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),l(b),b.detach()):a.remove()}function m(a){for(var b,c,e=d(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),c=a.getSubtreeIterator(),b.appendChild(m(c)),c.detach()):a.remove(),10==b.nodeType)throw new M(\"HIERARCHY_REQUEST_ERR\");e.appendChild(b)}return e}function n(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp(\"^(\"+b.join(\"|\")+\")$\"));var g=[];return k(new p(a,!1),function(b){if((!e||d.test(b.nodeType))&&(!f||c(b))){var h=a.startContainer;if(b!=h||!N(h)||a.startOffset!=h.length){var i=a.endContainer;b==i&&N(i)&&0==a.endOffset||g.push(b)}}}),g}function o(a){var b=\"undefined\"==typeof a.getName?\"Range\":a.getName();return\"[\"+b+\"(\"+J.inspectNode(a.startContainer)+\":\"+a.startOffset+\", \"+J.inspectNode(a.endContainer)+\":\"+a.endOffset+\")]\"}function p(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&N(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||N(this.sc)?T(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||N(this.ec)?T(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,V(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(ea(a,b))throw new M(\"INVALID_NODE_TYPE_ERR\")}function s(a,b){if(!V(b,a.nodeType))throw new M(\"INVALID_NODE_TYPE_ERR\")}function t(a,b){if(0>b||b>(N(a)?a.length:a.childNodes.length))throw new M(\"INDEX_SIZE_ERR\")}function u(a,b){if(ca(a,!0)!==ca(b,!0))throw new M(\"WRONG_DOCUMENT_ERR\")}function v(a){if(da(a,!0))throw new M(\"NO_MODIFICATION_ALLOWED_ERR\")}function w(a,b){if(!a)throw new M(b)}function x(a,b){return b<=(N(a)?a.length:a.childNodes.length)}function y(a){return!!a.startContainer&&!!a.endContainer&&!(X&&(J.isBrokenNode(a.startContainer)||J.isBrokenNode(a.endContainer)))&&W(a.startContainer)==W(a.endContainer)&&x(a.startContainer,a.startOffset)&&x(a.endContainer,a.endOffset)}function z(a){if(!y(a))throw new Error(\"Range error: Range is not valid. This usually happens after DOM mutation. Range: (\"+a.inspect()+\")\")}function A(a,b){z(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,g=c===e;N(e)&&f>0&&f<e.length&&S(e,f,b),N(c)&&d>0&&d<c.length&&(c=S(c,d,b),g?(f-=d,e=c):e==c.parentNode&&f>=O(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function B(a){z(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function C(a){a.START_TO_START=ka,a.START_TO_END=la,a.END_TO_END=ma,a.END_TO_START=na,a.NODE_BEFORE=oa,a.NODE_AFTER=pa,a.NODE_BEFORE_AND_AFTER=qa,a.NODE_INSIDE=ra}function D(a){C(a),C(a.prototype)}function E(a,b){return function(){z(this);var c,d,e=this.startContainer,f=this.startOffset,h=this.commonAncestorContainer,i=new p(this,!0);e!==h&&(c=T(e,h,!0),d=g(c),e=d.node,f=d.offset),k(i,v),i.reset();var j=a(i);return i.detach(),b(this,e,f,e,f),j}}function F(b,d){function e(a,b){return function(c){s(c,Z),s(W(c),$);var d=(a?f:g)(c);(b?h:i)(this,d.node,d.offset)}}function h(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((W(b)!=W(e)||1==R(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function i(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((W(b)!=W(e)||-1==R(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}var j=function(){};j.prototype=a.rangePrototype,b.prototype=new j,K.extend(b.prototype,{setStart:function(a,b){r(a,!0),t(a,b),h(this,a,b)},setEnd:function(a,b){r(a,!0),t(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],c=a[1],e=b,f=c;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}d(this,b,c,e,f)},setBoundary:function(a,b,c){this[\"set\"+(c?\"Start\":\"End\")](a,b)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(a){z(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){r(a,!0),d(this,a,0,a,U(a))},selectNode:function(a){r(a,!1),s(a,Z);var b=f(a),c=g(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:E(m,d),deleteContents:E(l,d),canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},splitBoundaries:function(){A(this)},splitBoundariesPreservingPositions:function(a){A(this,a)},normalizeBoundaries:function(){z(this);var a,b=this.startContainer,c=this.startOffset,e=this.endContainer,f=this.endOffset,g=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,f=a.length,a.appendData(b.data),Y(b))},h=function(a){var d=a.previousSibling;if(d&&d.nodeType==a.nodeType){b=a;var g=a.length;if(c=d.length,a.insertData(0,d.data),Y(d),b==e)f+=c,e=b;else if(e==a.parentNode){var h=O(a);f==h?(e=a,f=g):f>h&&f--}}},i=!0;if(N(e))f==e.length?g(e):0==f&&(a=e.previousSibling,a&&a.nodeType==e.nodeType&&(f=a.length,b==e&&(i=!1),a.appendData(e.data),Y(e),e=a));else{if(f>0){var j=e.childNodes[f-1];j&&N(j)&&g(j)}i=!this.collapsed}if(i){if(N(b))0==c?h(b):c==b.length&&(a=b.nextSibling,a&&a.nodeType==b.nodeType&&(e==a&&(e=b,f+=b.length),b.appendData(a.data),Y(a)));else if(c<b.childNodes.length){var k=b.childNodes[c];k&&N(k)&&h(k)}}else b=e,c=f;d(this,b,c,e,f)},collapseToPoint:function(a,b){r(a,!0),t(a,b),this.setStartAndEnd(a,b)}}),D(b)}function G(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:J.getCommonAncestor(a.startContainer,a.endContainer)}function H(a,b,c,d,e){a.startContainer=b,a.startOffset=c,a.endContainer=d,a.endOffset=e,a.document=J.getDocument(b),G(a)}function I(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,G(this)}var J=a.dom,K=a.util,L=J.DomPosition,M=a.DOMException,N=J.isCharacterDataNode,O=J.getNodeIndex,P=J.isOrIsAncestorOf,Q=J.getDocument,R=J.comparePoints,S=J.splitDataNode,T=J.getClosestAncestorIn,U=J.getNodeLength,V=J.arrayContains,W=J.getRootContainer,X=a.features.crashyTextNodes,Y=J.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,N(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!N(c)||c!==this.sc&&c!==this.ec?c.parentNode&&Y(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return c(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new I(d(this.range));var b=this._current,c=b,e=0,f=b,g=U(b);P(b,this.sc)&&(c=this.sc,e=this.so),P(b,this.ec)&&(f=this.ec,g=this.eo),H(a,c,e,f,g)}return new p(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],$=[2,9,11],_=[5,6,10,12],aa=[1,3,4,5,7,8,10,11],ba=[1,3,4,5,7,8],ca=q([9,11]),da=q(_),ea=q([6,10,12]),fa=document.createElement(\"style\"),ga=!1;try{fa.innerHTML=\"<b>x</b>\",ga=3==fa.firstChild.nodeType}catch(ha){}a.features.htmlParsingConforms=ga;var ia=ga?function(a){var b=this.startContainer,c=Q(b);if(!b)throw new M(\"INVALID_STATE_ERR\");var d=null;return 1==b.nodeType?d=b:N(b)&&(d=J.parentElement(b)),d=null===d||\"HTML\"==d.nodeName&&J.isHtmlNamespace(Q(d).documentElement)&&J.isHtmlNamespace(d)?c.createElement(\"body\"):d.cloneNode(!1),d.innerHTML=a,J.fragmentFromNodeChildren(d)}:function(a){var b=d(this),c=b.createElement(\"body\");return c.innerHTML=a,J.fragmentFromNodeChildren(c)},ja=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],ka=0,la=1,ma=2,na=3,oa=0,pa=1,qa=2,ra=3;K.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){z(this),u(this.startContainer,b.startContainer);var c,d,e,f,g=a==na||a==ka?\"start\":\"end\",h=a==la||a==ka?\"start\":\"end\";return c=this[g+\"Container\"],d=this[g+\"Offset\"],e=b[h+\"Container\"],f=b[h+\"Offset\"],R(c,d,e,f)},insertNode:function(a){if(z(this),s(a,aa),v(this.startContainer),P(a,this.startContainer))throw new M(\"HIERARCHY_REQUEST_ERR\");var b=h(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){z(this);var a,b;if(this.collapsed)return d(this).createDocumentFragment();if(this.startContainer===this.endContainer&&N(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=d(this).createDocumentFragment(),b.appendChild(a),b;var c=new p(this,!0);return a=j(c),c.detach(),a},canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},surroundContents:function(a){if(s(a,ba),!this.canSurroundContents())throw new M(\"INVALID_STATE_ERR\");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);h(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){z(this);for(var a,b=new I(d(this)),c=ja.length;c--;)a=ja[c],b[a]=this[a];return b},toString:function(){z(this);var a=this.startContainer;if(a===this.endContainer&&N(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):\"\";var b=[],c=new p(this,!0);return k(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join(\"\")},compareNode:function(a){z(this);var b=a.parentNode,c=O(a);if(!b)throw new M(\"NOT_FOUND_ERR\");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?qa:oa:e>0?pa:ra},comparePoint:function(a,b){return z(this),w(a,\"HIERARCHY_REQUEST_ERR\"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)<0?-1:R(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ia,toHtml:function(){return B(this)},intersectsNode:function(a,b){if(z(this),W(a)!=e(this))return!1;var c=a.parentNode,d=O(a);if(!c)return!0;var f=R(c,d,this.endContainer,this.endOffset),g=R(c,d+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return z(this),w(a,\"HIERARCHY_REQUEST_ERR\"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)>=0&&R(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return i(this,a,!1)},intersectsOrTouchesRange:function(a){return i(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=R(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=R(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return-1==R(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==R(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new M(\"Ranges do not intersect\")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==ra},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,U(a))<=0},containsRange:function(a){var b=this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();return b.setEnd(d,d.length),this.containsRange(b)}return this.containsNodeContents(a);\n},getNodes:function(a,b){return z(this),n(this,a,b)},getDocument:function(){return d(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var c=d(this),e=a.createRange(c);b=b||J.getBody(c),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);for(var d,e,f,g,h=[b],i=!1,j=!1;!j&&(d=h.pop());)if(3==d.nodeType)e=c+d.length,!i&&a.start>=c&&a.start<=e&&(this.setStart(d,a.start-c),i=!0),i&&a.end>=c&&a.end<=e&&(this.setEnd(d,a.end-c),j=!0),c=e;else for(g=d.childNodes,f=g.length;f--;)h.push(g[f])},getName:function(){return\"DomRange\"},equals:function(a){return I.rangesEqual(this,a)},isValid:function(){return y(this)},inspect:function(){return o(this)},detach:function(){}}),F(I,H),K.extend(I,{rangeProperties:ja,RangeIterator:p,copyComparisonConstants:D,createPrototypeRange:F,inspect:o,toHtml:B,getRangeDocument:d,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=I}),H.createCoreModule(\"WrappedRange\",[\"DomRange\"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;if(a.features.implementsDomRange&&!function(){function d(a){for(var b,c=m.length;c--;)b=m[c],a[b]=a.nativeRange[b];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function g(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);(f||g||h)&&(a.setEnd(d,e),a.setStart(b,c))}var k,l,m=h.rangeProperties;c=function(a){if(!a)throw b.createError(\"WrappedRange: Range must be specified\");this.nativeRange=a,d(this)},h.createPrototypeRange(c,g),k=c.prototype,k.selectNode=function(a){this.nativeRange.selectNode(a),d(this)},k.cloneContents=function(){return this.nativeRange.cloneContents()},k.surroundContents=function(a){this.nativeRange.surroundContents(a),d(this)},k.collapse=function(a){this.nativeRange.collapse(a),d(this)},k.cloneRange=function(){return new c(this.nativeRange.cloneRange())},k.refresh=function(){d(this)},k.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode(\"test\");i(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b),d(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b),d(this)},l=function(a){return function(b){this.nativeRange[a](b),d(this)}}}catch(p){k.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}d(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}d(this)},l=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(e){this.nativeRange[b](c),this.nativeRange[a](c)}d(this)}}}k.setStartBefore=l(\"setStartBefore\",\"setEndBefore\"),k.setStartAfter=l(\"setStartAfter\",\"setEndAfter\"),k.setEndBefore=l(\"setEndBefore\",\"setStartBefore\"),k.setEndAfter=l(\"setEndAfter\",\"setStartAfter\"),k.selectNodeContents=function(a){this.setStartAndEnd(a,0,e.getNodeLength(a))},o.selectNodeContents(n),o.setEnd(n,3);var q=document.createRange();q.selectNodeContents(n),q.setEnd(n,4),q.setStart(n,2),-1==o.compareBoundaryPoints(o.START_TO_END,q)&&1==o.compareBoundaryPoints(o.END_TO_START,q)?k.compareBoundaryPoints=function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var r=document.createElement(\"div\");r.innerHTML=\"123\";var s=r.firstChild,t=i(document);t.appendChild(r),o.setStart(s,1),o.setEnd(s,2),o.deleteContents(),\"13\"==s.data&&(k.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();return d(this),a}),t.removeChild(r),t=null,f.isHostMethod(o,\"createContextualFragment\")&&(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(n),k.getName=function(){return\"WrappedRange\"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,\"createNativeRange\"),a.createRange()}}(),a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return 0==a.compareEndPoints(\"StartToEnd\",a)},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();if(e.isOrIsAncestorOf(b,i)||(i=b),!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement(\"span\");l.parentNode&&e.removeNode(l);for(var m,n,o,p,q,r=c?\"StartToStart\":\"StartToEnd\",s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;;){if(v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),m=h.compareEndPoints(r,a),0==m||s==u)break;if(-1==m){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}if(q=l.nextSibling,-1==m&&q&&k(q)){h.setEndPoint(c?\"EndToStart\":\"EndToEnd\",a);var w;if(/[\\r\\n]/.test(q.data)){var x=h.duplicate(),y=x.text.replace(/\\r\\n/g,\"\\r\").length;for(w=x.moveStart(\"character\",y);-1==(m=x.compareEndPoints(\"StartToEnd\",x));)w++,x.moveStart(\"character\",1)}else w=h.text.length;p=new g(q,w)}else n=(d||!c)&&l.previousSibling,o=(d||c)&&l.nextSibling,p=o&&k(o)?new g(o,0):n&&k(n)?new g(n,n.data.length):new g(i,e.getNodeIndex(l));return e.removeNode(l),{boundaryPosition:p,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f,g,h=a.offset,j=e.getDocument(a.node),l=i(j).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(g=a.node.childNodes,c=h<g.length?g[h]:null,d=a.node),f=j.createElement(\"span\"),f.innerHTML=\"&#feff;\",c?d.insertBefore(f,c):d.appendChild(f),l.moveToElementText(f),l.collapse(!b),d.removeChild(f),m&&l[b?\"moveStart\":\"moveEnd\"](\"character\",h),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return\"WrappedTextRange\"},h.copyComparisonConstants(d);var p=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint(\"StartToStart\",b),d.setEndPoint(\"EndToEnd\",c),d};if(d.rangeToTextRange=p,d.prototype.toTextRange=function(){return p(this)},a.WrappedTextRange=d,!a.features.implementsDomRange||a.config.preferTextRange){var q=function(a){return a(\"return this;\")()}(Function);\"undefined\"==typeof q.Range&&(q.Range=d),a.createNativeRange=function(a){return a=j(a,b,\"createNativeRange\"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,\"createRange\"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,\"createRangyRange\"),new h(a)},f.createAliasForDeprecatedMethod(a,\"createIframeRange\",\"createRange\"),f.createAliasForDeprecatedMethod(a,\"createIframeRangyRange\",\"createRangyRange\"),a.addShimListener(function(b){var c=b.document;\"undefined\"==typeof c.createRange&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),H.createCoreModule(\"WrappedSelection\",[\"DomRange\",\"WrappedRange\"],function(a,b){function c(a){return\"string\"==typeof a?/^backward(s)?$/i.test(a):!!a}function d(a,c){if(a){if(C.isWindow(a))return a;if(a instanceof r)return a.win;var d=C.getContentDocument(a,b,c);return C.getWindow(d)}return window}function e(a){return d(a,\"getWinSelection\").getSelection()}function f(a){return d(a,\"getDocSelection\").document.selection}function g(a){var b=!1;return a.anchorNode&&(b=1==C.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b}function h(a,b,c){var d=c?\"end\":\"start\",e=c?\"start\":\"end\";a.anchorNode=b[d+\"Container\"],a.anchorOffset=b[d+\"Offset\"],a.focusNode=b[e+\"Container\"],a.focusOffset=b[e+\"Offset\"]}function i(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function j(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function k(b){var c;return b instanceof F?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof G?c=b.nativeRange:J.implementsDomRange&&b instanceof C.getWindow(b.startContainer).Range&&(c=b),c}function l(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c>b;++b)if(!C.isAncestorOf(a[0],a[b]))return!1;return!0}function m(a){var c=a.getNodes();if(!l(c))throw b.createError(\"getSingleElementFromRange: range \"+a.inspect()+\" did not consist of a single element\");return c[0]}function n(a){return!!a&&\"undefined\"!=typeof a.text}function o(a,b){var c=new G(b);a._ranges=[c],h(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function p(b){if(b._ranges.length=0,\"None\"==b.docSelection.type)j(b);else{var c=b.docSelection.createRange();if(n(c))o(b,c);else{b.rangeCount=c.length;for(var d,e=L(c.item(0)),f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,h(b,b._ranges[b.rangeCount-1],!1)}}}function q(a,c){for(var d=a.docSelection.createRange(),e=m(c),f=L(d.item(0)),g=M(f).createControlRange(),h=0,i=d.length;i>h;++h)g.add(d.item(h));try{g.add(e)}catch(j){throw b.createError(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\")}g.select(),p(a)}function r(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function s(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function t(a,b){for(var c,d,e=ba.length;e--;)if(c=ba[e],d=c.selection,\"deleteAll\"==b)s(d);else if(c.win==a)return\"delete\"==b?(ba.splice(e,1),!0):d;return\"deleteAll\"==b&&(ba.length=0),null}function u(a,c){for(var d,e=L(c[0].startContainer),f=M(e).createControlRange(),g=0,h=c.length;h>g;++g){d=m(c[g]);try{f.add(d)}catch(i){throw b.createError(\"setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)\")}}f.select(),p(a)}function v(a,b){if(a.win.document!=L(b))throw new H(\"WRONG_DOCUMENT_ERR\")}function w(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e[\"set\"+(b?\"Start\":\"End\")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function x(a){var b=[],c=new I(a.anchorNode,a.anchorOffset),d=new I(a.focusNode,a.focusOffset),e=\"function\"==typeof a.getName?a.getName():\"Selection\";if(\"undefined\"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=F.inspect(a.getRangeAt(f));return\"[\"+e+\"(Ranges: \"+b.join(\", \")+\")(anchor: \"+c.inspect()+\", focus: \"+d.inspect()+\"]\"}a.config.checkSelectionRanges=!0;var y,z,A=\"boolean\",B=\"number\",C=a.dom,D=a.util,E=D.isHostMethod,F=a.DomRange,G=a.WrappedRange,H=a.DOMException,I=C.DomPosition,J=a.features,K=\"Control\",L=C.getDocument,M=C.getBody,N=F.rangesEqual,O=E(window,\"getSelection\"),P=D.isHostObject(document,\"selection\");J.implementsWinGetSelection=O,J.implementsDocSelection=P;var Q=P&&(!O||a.config.preferTextRange);if(Q)y=f,a.isSelectionValid=function(a){var b=d(a,\"isSelectionValid\").document,c=b.selection;return\"None\"!=c.type||L(c.createRange().parentElement())==b};else{if(!O)return b.fail(\"Neither document.selection or window.getSelection() detected.\"),!1;y=e,a.isSelectionValid=function(){return!0}}a.getNativeSelection=y;var R=y();if(!R)return b.fail(\"Native selection was null (possibly issue 138?)\"),!1;var S=a.createNativeRange(document),T=M(document),U=D.areHostProperties(R,[\"anchorNode\",\"focusNode\",\"anchorOffset\",\"focusOffset\"]);J.selectionHasAnchorAndFocus=U;var V=E(R,\"extend\");J.selectionHasExtend=V;var W=typeof R.rangeCount==B;J.selectionHasRangeCount=W;var X=!1,Y=!0,Z=V?function(b,c){var d=F.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(k(e)),b.extend(c.startContainer,c.startOffset)}:null;D.areHostMethods(R,[\"addRange\",\"getRangeAt\",\"removeAllRanges\"])&&typeof R.rangeCount==B&&J.implementsDomRange&&!function(){var b=window.getSelection();if(b){for(var c=b.rangeCount,d=c>1,e=[],f=g(b),h=0;c>h;++h)e[h]=b.getRangeAt(h);var i=C.createTestElement(document,\"\",!1),j=i.appendChild(document.createTextNode(\"   \")),k=document.createRange();if(k.setStart(j,1),k.collapse(!0),b.removeAllRanges(),b.addRange(k),Y=1==b.rangeCount,b.removeAllRanges(),!d){var l=window.navigator.appVersion.match(/Chrome\\/(.*?) /);if(l&&parseInt(l[1])>=36)X=!1;else{var m=k.cloneRange();k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),b.addRange(k),b.addRange(m),X=2==b.rangeCount}}for(C.removeNode(i),b.removeAllRanges(),h=0;c>h;++h)0==h&&f?Z?Z(b,e[h]):(a.warn(\"Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend\"),b.addRange(e[h])):b.addRange(e[h])}}(),J.selectionSupportsMultipleRanges=X,J.collapsedNonEditableSelectionsSupported=Y;var $,_=!1;T&&E(T,\"createControlRange\")&&($=T.createControlRange(),D.areHostProperties($,[\"item\",\"add\"])&&(_=!0)),J.implementsControlRange=_,z=U?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var aa;E(R,\"getRangeAt\")?aa=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:U&&(aa=function(b){var c=L(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),r.prototype=a.selectionPrototype;var ba=[],ca=function(a){if(a&&a instanceof r)return a.refresh(),a;a=d(a,\"getNativeSelection\");var b=t(a),c=y(a),e=P?f(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh()):(b=new r(c,e,a),ba.push({win:a,selection:b})),b};a.getSelection=ca,D.createAliasForDeprecatedMethod(a,\"getIframeSelection\",\"getSelection\");var da=r.prototype;if(!Q&&U&&D.areHostMethods(R,[\"removeAllRanges\",\"addRange\"])){da.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),j(this)};var ea=function(a,b){Z(a.nativeSelection,b),a.refresh()};W?da.addRange=function(b,d){if(_&&P&&this.docSelection.type==K)q(this,b);else if(c(d)&&V)ea(this,b);else{var e;X?e=this.rangeCount:(this.removeAllRanges(),e=0);var f=k(b).cloneRange();try{this.nativeSelection.addRange(f)}catch(g){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==e+1){if(a.config.checkSelectionRanges){var i=aa(this.nativeSelection,this.rangeCount-1);i&&!N(i,b)&&(b=new G(i))}this._ranges[this.rangeCount-1]=b,h(this,b,ha(this.nativeSelection)),this.isCollapsed=z(this)}else this.refresh()}}:da.addRange=function(a,b){c(b)&&V?ea(this,a):(this.nativeSelection.addRange(k(a)),this.refresh())},da.setRanges=function(a){if(_&&P&&a.length>1)u(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(E(R,\"empty\")&&E(S,\"select\")&&_&&Q))return b.fail(\"No means of selecting a Range or TextRange was found\"),!1;da.removeAllRanges=function(){try{if(this.docSelection.empty(),\"None\"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if(this.docSelection.type==K){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}if(a){var c=M(a).createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}j(this)},da.addRange=function(b){this.docSelection.type==K?q(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,h(this,b,!1))},da.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?u(this,a):b&&this.addRange(a[0])}}da.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new H(\"INDEX_SIZE_ERR\");return this._ranges[a].cloneRange()};var fa;if(Q)fa=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=M(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==K?p(b):n(c)?o(b,c):j(b)};else if(E(R,\"getRangeAt\")&&typeof R.rangeCount==B)fa=function(b){if(_&&P&&b.docSelection.type==K)p(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));h(b,b._ranges[b.rangeCount-1],ha(b.nativeSelection)),b.isCollapsed=z(b)}else j(b)};else{if(!U||typeof R.isCollapsed!=A||typeof S.collapsed!=A||!J.implementsDomRange)return b.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\"),!1;fa=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=aa(c,0),a._ranges=[b],a.rangeCount=1,i(a),a.isCollapsed=z(a)):j(a)}}da.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;if(fa(this),a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;for(;e--;)if(!N(b[e],this._ranges[e]))return!0;return!1}};var ga=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;e>d;++d)N(b,c[d])||a.addRange(c[d]);a.rangeCount||j(a)};_&&P?da.removeRange=function(a){if(this.docSelection.type==K){for(var b,c=this.docSelection.createRange(),d=m(a),e=L(c.item(0)),f=M(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),p(this)}else ga(this,a)}:da.removeRange=function(a){ga(this,a)};var ha;!Q&&U&&J.implementsDomRange?(ha=g,da.isBackward=function(){return ha(this)}):ha=da.isBackward=function(){return!1},da.isBackwards=da.isBackward,da.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=\"\"+this._ranges[b];return a.join(\"\")},da.collapse=function(b,c){v(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},da.collapseToStart=function(){if(!this.rangeCount)throw new H(\"INVALID_STATE_ERR\");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},da.collapseToEnd=function(){if(!this.rangeCount)throw new H(\"INVALID_STATE_ERR\");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},da.selectAllChildren=function(b){v(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},da.deleteFromDocument=function(){if(_&&P&&this.docSelection.type==K){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),C.removeNode(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}}},da.eachRange=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(a(this.getRangeAt(c)))return b},da.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},da.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},da.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b||[]))}),c},da.setStart=w(!0),da.setEnd=w(!1),a.rangePrototype.select=function(a){ca(this.getDocument()).setSingleRange(this,a)},da.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&1==b.length?this.addRange(b[0],\"backward\"):this.setRanges(b)},da.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},da.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange(\"getBookmark\",[a])}},da.moveToBookmark=function(b){for(var c,d,e=[],f=0;c=b.rangeBookmarks[f++];)d=a.createRange(this.win),d.moveToBookmark(c),e.push(d);b.backward?this.setSingleRange(e[0],\"backward\"):this.setRanges(e)},da.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange(\"cloneRange\")}},da.restoreRanges=function(a){this.removeAllRanges();for(var b,c=0;b=a.ranges[c];++c)this.addRange(b,a.backward&&0==c)},da.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(F.toHtml(b))}),a.join(\"\")},J.implementsTextRange&&(da.getNativeTextRange=function(){var c;if(c=this.docSelection){var d=c.createRange();if(n(d))return d;throw b.createError(\"getNativeTextRange: selection is a control selection\")}if(this.rangeCount>0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError(\"getNativeTextRange: selection contains no range\")}),da.getName=function(){return\"WrappedSelection\"},da.inspect=function(){return x(this)},da.detach=function(){t(this.win,\"delete\"),s(this)},r.detachAll=function(){t(null,\"deleteAll\")},r.inspect=x,r.isDirectionBackward=c,a.Selection=r,a.selectionPrototype=da,a.addShimListener(function(a){\"undefined\"==typeof a.getSelection&&(a.getSelection=function(){return ca(a)}),a=null})});var M=!1,N=function(a){M||(M=!0,!H.initialized&&H.config.autoInitialize&&l())};return F&&(\"complete\"==document.readyState?N():(a(document,\"addEventListener\")&&document.addEventListener(\"DOMContentLoaded\",N,!1),J(window,\"load\",N))),H},this),function(a,b){\"function\"==typeof define&&define.amd?define([\"./rangy-core\"],a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a(require(\"rangy\")):a(b.rangy)}(function(a){return a.createModule(\"TextRange\",[\"WrappedSelection\"],function(a,b){function c(a,b){function c(a,b,c){h.push({start:a,end:b,isWord:c})}for(var d,e,f,g=a.join(\"\"),h=[],i=0;d=b.wordRegex.exec(g);){if(e=d.index,f=e+d[0].length,e>i&&c(i,e,!1),b.includeTrailingSpace)for(;$.test(a[f]);)++f;c(e,f,!0),i=f}return i<a.length&&c(i,a.length,!1),h}function d(a,b){for(var c=a.slice(b.start,b.end),d={isWord:b.isWord,chars:c,toString:function(){return c.join(\"\")}},e=0,f=c.length;f>e;++e)c[e].token=d;return d}function e(a,b,c){for(var e,f=c(a,b),g=[],h=0;e=f[h++];)g.push(d(a,e));return g}function f(a){var b=a||\"\",c=\"string\"==typeof b?b.split(\"\"):b;return c.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)}),c.join(\"\").replace(/(.)\\1+/g,\"$1\")}function g(a){var b,c;return a?(b=a.language||_,c={},U(c,ia[b]||ia[_]),U(c,a),c):ia[_]}function h(a,b){var c=V(a,b);return b.hasOwnProperty(\"wordOptions\")&&(c.wordOptions=g(c.wordOptions)),b.hasOwnProperty(\"characterOptions\")&&(c.characterOptions=V(c.characterOptions,ga)),c}function i(a,b){var c=na(a,\"display\",b),d=a.tagName.toLowerCase();return\"block\"==c&&fa&&oa.hasOwnProperty(d)?oa[d]:c}function j(a){for(var b=o(a),c=0,d=b.length;d>c;++c)if(1==b[c].nodeType&&\"none\"==i(b[c]))return!0;return!1}function k(a){var b;return 3==a.nodeType&&(b=a.parentNode)&&\"hidden\"==na(b,\"visibility\")}function l(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(i(a))||9==a.nodeType||11==a.nodeType)}function m(a){return S.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)}function n(a){for(var b=[];a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;return b}function o(a){return n(a).concat([a])}function p(a){for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null}function q(a,b){return!b&&a.hasChildNodes()?a.firstChild:p(a)}function r(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}var c=a.parentNode;return c&&1==c.nodeType?c:null}function s(a){if(!a||3!=a.nodeType)return!1;var b=a.data;if(\"\"===b)return!0;var c=a.parentNode;if(!c||1!=c.nodeType)return!1;var d=na(a.parentNode,\"whiteSpace\");return/^[\\t\\n\\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(d)||/^[\\t\\r ]+$/.test(b)&&\"pre-line\"==d}function t(a){if(\"\"===a.data)return!0;if(!s(a))return!1;var b=a.parentNode;return b?j(a)?!0:!1:!0}function u(a){var b=a.nodeType;return 7==b||8==b||j(a)||/^(script|style)$/i.test(a.nodeName)||k(a)||t(a)}function v(a,b){var c=a.nodeType;return 7==c||8==c||1==c&&\"none\"==i(a,b)}function w(){this.store={}}function x(a,b,c){return function(d){var e=this.cache;if(e.hasOwnProperty(a))return pa++,e[a];qa++;var f=b.call(this,c?this[c]:this,d);return e[a]=f,f}}function y(a,b){this.node=a,this.session=b,this.cache=new w,this.positions=new w}function z(a,b){this.offset=b,this.nodeWrapper=a,this.node=a.node,this.session=a.session,this.cache=new w}function A(){return\"[Position(\"+S.inspectNode(this.node)+\":\"+this.offset+\")]\"}function B(){return D(),Da=new Ea}function C(){return Da||B()}function D(){Da&&Da.detach(),Da=null}function E(a,c,d,e){function f(){var a=null;return c?(a=h,i||(h=h.previousVisible(),i=!h||d&&h.equals(d))):i||(a=h=h.nextVisible(),i=!h||d&&h.equals(d)),i&&(h=null),a}d&&(c?u(d.node)&&(d=a.previousVisible()):u(d.node)&&(d=d.nextVisible()));var g,h=a,i=!1,j=!1;return{next:function(){if(j)return j=!1,g;for(var a,b;a=f();)if(b=a.getCharacter(e))return g=a,a;return null},rewind:function(){if(!g)throw b.createError(\"createCharacterIterator: cannot rewind. Only one position can be rewound.\");j=!0},dispose:function(){a=d=null}}}function F(a,b,c){function d(a){for(var b,c,d=[],e=a?f:g,h=!1,i=!1;b=e.next();){if(c=b.character,Z.test(c))i&&(i=!1,h=!0);else{if(h){e.rewind();break}i=!0}d.push(b)}return d}var f=E(a,!1,null,b),g=E(a,!0,null,b),h=c.tokenizer,i=d(!0),j=d(!1).reverse(),k=e(j.concat(i),c,h),l=i.length?k.slice(Fa(k,i[0].token)):[],m=j.length?k.slice(0,Fa(k,j.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==l.length&&!(a=l[0]).isWord&&(b=d(!0)).length>0;)l=e(a.chars.concat(b),c,h);return l.shift()},previousStartToken:function(){for(var a,b;1==m.length&&!(a=m[0]).isWord&&(b=d(!1)).length>0;)m=e(b.reverse().concat(a.chars),c,h);return m.pop()},dispose:function(){f.dispose(),g.dispose(),l=m=null}}}function G(a,b,c,d,e){var f,g,h,i,j=0,k=a,l=Math.abs(c);if(0!==c){var m=0>c;switch(b){case Q:for(g=E(a,m,null,d);(f=g.next())&&l>j;)++j,k=f;h=f,g.dispose();break;case R:for(var n=F(a,d,e),o=m?n.previousStartToken:n.nextEndToken;(i=o())&&l>j;)i.isWord&&(++j,k=m?i.chars[0]:i.chars[i.chars.length-1]);break;default:throw new Error(\"movePositionBy: unit '\"+b+\"' not implemented\")}m?(k=k.previousVisible(),j=-j):k&&k.isLeadingSpace&&!k.isTrailingSpace&&(b==R&&(g=E(a,!1,null,d),h=g.next(),g.dispose()),h&&(k=h.previousVisible()))}return{position:k,unitsMoved:j}}function H(a,b,c,d){var e=a.getRangeBoundaryPosition(b,!0),f=a.getRangeBoundaryPosition(b,!1),g=d?f:e,h=d?e:f;return E(g,!!d,h,c)}function I(a,b,c){for(var d,e=[],f=H(a,b,c);d=f.next();)e.push(d);return f.dispose(),e}function J(b,c,d){var e=a.createRange(b.node);return e.setStartAndEnd(b.node,b.offset,c.node,c.offset),!e.expand(\"word\",{wordOptions:d})}function K(a,b,c,d,e){function f(a,b){var c=p[a].previousVisible(),d=p[b-1],f=!e.wholeWordsOnly||J(c,d,e.wordOptions);return{startPos:c,endPos:d,valid:f}}for(var g,h,i,j,k,l,m=aa(e.direction),n=E(a,m,a.session.getRangeBoundaryPosition(d,m),e.characterOptions),o=\"\",p=[],q=null;g=n.next();)if(h=g.character,c||e.caseSensitive||(h=h.toLowerCase()),m?(p.unshift(g),o=h+o):(p.push(g),o+=h),c){if(k=b.exec(o))if(i=k.index,j=i+k[0].length,l){if(!m&&j<o.length||m&&i>0){q=f(i,j);break}}else l=!0}else if(-1!=(i=o.indexOf(b))){q=f(i,i+b.length);break}return l&&(q=f(i,j)),n.dispose(),q}function L(a){return function(){var b=!!Da,c=C(),d=[c].concat(T.toArray(arguments)),e=a.apply(this,d);return b||D(),e}}function M(a,b){return L(function(c,d,e,f){typeof e==P&&(e=d,d=Q),f=h(f,ka);var g=a;b&&(g=e>=0,this.collapse(!g));var i=G(c.getRangeBoundaryPosition(this,g),d,e,f.characterOptions,f.wordOptions),j=i.position;return this[g?\"setStart\":\"setEnd\"](j.node,j.offset),i.unitsMoved})}function N(a){return L(function(b,c){c=V(c,ga);for(var d,e=H(b,this,c,!a),f=0;(d=e.next())&&Z.test(d.character);)++f;e.dispose();var g=f>0;return g&&this[a?\"moveStart\":\"moveEnd\"](\"character\",a?f:-f,{characterOptions:c}),g})}function O(a){return L(function(b,c){var d=!1;return this.changeEachRange(function(b){d=b[a](c)||d}),d})}var P=\"undefined\",Q=\"character\",R=\"word\",S=a.dom,T=a.util,U=T.extend,V=T.createOptions,W=S.getBody,X=/^[ \\t\\f\\r\\n]+$/,Y=/^[ \\t\\f\\r]+$/,Z=/^[\\t-\\r \\u0085\\u00A0\\u1680\\u180E\\u2000-\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000]+$/,$=/^[\\t \\u00A0\\u1680\\u180E\\u2000-\\u200B\\u202F\\u205F\\u3000]+$/,_=\"en\",aa=a.Selection.isDirectionBackward,ba=!1,ca=!1,da=!1,ea=!0;!function(){var b=S.createTestElement(document,\"<p>1 </p><p></p>\",!0),c=b.firstChild,d=a.getSelection();d.collapse(c.lastChild,2),d.setStart(c.firstChild,0),ba=1==(\"\"+d).length,b.innerHTML=\"1 <br />\",d.collapse(b,2),d.setStart(b.firstChild,0),ca=1==(\"\"+d).length,b.innerHTML=\"1 <p>1</p>\",d.collapse(b,2),d.setStart(b.firstChild,0),da=1==(\"\"+d).length,S.removeNode(b),d.removeAllRanges()}();var fa,ga={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:\"\"},ha={includeBlockContentTrailingSpace:!ea,includeSpaceBeforeBr:!ca,includeSpaceBeforeBlock:!da,includePreLineTrailingSpace:!0},ia={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:c}},ja={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:\"forward\",wordOptions:null,characterOptions:null},ka={wordOptions:null,characterOptions:null},la={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},ma={wordOptions:null,characterOptions:null,direction:\"forward\"},na=S.getComputedStyleProperty;!function(){var a=document.createElement(\"table\"),b=W(document);b.appendChild(a),fa=\"block\"==na(a,\"display\"),b.removeChild(a)}();var oa={table:\"table\",caption:\"table-caption\",colgroup:\"table-column-group\",col:\"table-column\",thead:\"table-header-group\",tbody:\"table-row-group\",tfoot:\"table-footer-group\",tr:\"table-row\",td:\"table-cell\",th:\"table-cell\"};w.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var pa=0,qa=0,ra={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new z(this,a))},toString:function(){return\"[NodeWrapper(\"+S.inspectNode(this.node)+\")]\"}};y.prototype=ra;var sa=\"EMPTY\",ta=\"NON_SPACE\",ua=\"UNCOLLAPSIBLE_SPACE\",va=\"COLLAPSIBLE_SPACE\",wa=\"TRAILING_SPACE_BEFORE_BLOCK\",xa=\"TRAILING_SPACE_IN_BLOCK\",ya=\"TRAILING_SPACE_BEFORE_BR\",za=\"PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK\",Aa=\"TRAILING_LINE_BREAK_AFTER_BR\",Ba=\"INCLUDED_TRAILING_LINE_BREAK_AFTER_BR\";U(ra,{isCharacterDataNode:x(\"isCharacterDataNode\",S.isCharacterDataNode,\"node\"),getNodeIndex:x(\"nodeIndex\",S.getNodeIndex,\"node\"),getLength:x(\"nodeLength\",S.getNodeLength,\"node\"),containsPositions:x(\"containsPositions\",m,\"node\"),isWhitespace:x(\"isWhitespace\",s,\"node\"),isCollapsedWhitespace:x(\"isCollapsedWhitespace\",t,\"node\"),getComputedDisplay:x(\"computedDisplay\",i,\"node\"),isCollapsed:x(\"collapsed\",u,\"node\"),isIgnored:x(\"ignored\",v,\"node\"),next:x(\"nextPos\",q,\"node\"),previous:x(\"previous\",r,\"node\"),getTextNodeInfo:x(\"textNodeInfo\",function(a){var b=null,c=!1,d=na(a.parentNode,\"whiteSpace\"),e=\"pre-line\"==d;return e?(b=Y,c=!0):(\"normal\"==d||\"nowrap\"==d)&&(b=X,c=!0),{node:a,text:a.data,spaceRegex:b,collapseSpaces:c,preLine:e}},\"node\"),hasInnerText:x(\"hasInnerText\",function(a,b){for(var c=this.session,d=c.getPosition(a.parentNode,this.getNodeIndex()+1),e=c.getPosition(a,0),f=b?d:e,g=b?e:d;f!==g;){\nif(f.prepopulateChar(),f.isDefinitelyNonEmpty())return!0;f=b?f.previousVisible():f.nextVisible()}return!1},\"node\"),isRenderedBlock:x(\"isRenderedBlock\",function(a){for(var b=a.getElementsByTagName(\"br\"),c=0,d=b.length;d>c;++c)if(!u(b[c]))return!0;return this.hasInnerText()},\"node\"),getTrailingSpace:x(\"trailingSpace\",function(a){if(\"br\"==a.tagName.toLowerCase())return\"\";switch(this.getComputedDisplay()){case\"inline\":for(var b=a.lastChild;b;){if(!v(b))return 1==b.nodeType?this.session.getNodeWrapper(b).getTrailingSpace():\"\";b=b.previousSibling}break;case\"inline-block\":case\"inline-table\":case\"none\":case\"table-column\":case\"table-column-group\":break;case\"table-cell\":return\"\t\";default:return this.isRenderedBlock(!0)?\"\\n\":\"\"}return\"\"},\"node\"),getLeadingSpace:x(\"leadingSpace\",function(a){switch(this.getComputedDisplay()){case\"inline\":case\"inline-block\":case\"inline-table\":case\"none\":case\"table-column\":case\"table-column-group\":case\"table-cell\":break;default:return this.isRenderedBlock(!1)?\"\\n\":\"\"}return\"\"},\"node\")});var Ca={character:\"\",characterType:sa,isBr:!1,prepopulateChar:function(){var a=this;if(!a.prepopulatedChar){var b=a.node,c=a.offset,d=\"\",e=sa,f=!1;if(c>0)if(3==b.nodeType){var g=b.data,h=g.charAt(c-1),i=a.nodeWrapper.getTextNodeInfo(),j=i.spaceRegex;i.collapseSpaces?j.test(h)?c>1&&j.test(g.charAt(c-2))||(i.preLine&&\"\\n\"===g.charAt(c)?(d=\" \",e=za):(d=\" \",e=va)):(d=h,e=ta,f=!0):(d=h,e=ua,f=!0)}else{var k=b.childNodes[c-1];if(k&&1==k.nodeType&&!u(k)&&(\"br\"==k.tagName.toLowerCase()?(d=\"\\n\",a.isBr=!0,e=va,f=!1):a.checkForTrailingSpace=!0),!d){var l=b.childNodes[c];l&&1==l.nodeType&&!u(l)&&(a.checkForLeadingSpace=!0)}}a.prepopulatedChar=!0,a.character=d,a.characterType=e,a.isCharInvariant=f}},isDefinitelyNonEmpty:function(){var a=this.characterType;return a==ta||a==ua},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=!0,this.character=a,this.characterType=va),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var b=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();b&&(this.isLeadingSpace=!0,this.character=b,this.characterType=va),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b,c=this;c=c.previousVisible();)if(b=c.getCharacter(a),\"\"!==b)return c;return null},getCharacter:function(a){function b(){return n||(k=o.getPrecedingUncollapsedPosition(a),n=!0),k}this.resolveLeadingAndTrailingSpaces();var c,d=this.character,e=f(a.ignoreCharacters),g=\"\"!==d&&e.indexOf(d)>-1;if(this.isCharInvariant)return c=g?\"\":d;var h=[\"character\",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,e].join(\"_\"),i=this.cache.get(h);if(null!==i)return i;var j,k,l=\"\",m=this.characterType==va,n=!1,o=this;return m&&(this.type==Ba?l=\"\\n\":\" \"==d&&(!b()||k.isTrailingSpace||\"\\n\"==k.character||\" \"==k.character&&k.characterType==va)||(\"\\n\"==d&&this.isLeadingSpace?b()&&\"\\n\"!=k.character&&(l=\"\\n\"):(j=this.nextUncollapsed(),j&&(j.isBr?this.type=ya:j.isTrailingSpace&&\"\\n\"==j.character?this.type=xa:j.isLeadingSpace&&\"\\n\"==j.character&&(this.type=wa),\"\\n\"==j.character?(this.type!=ya||a.includeSpaceBeforeBr)&&(this.type!=wa||a.includeSpaceBeforeBlock)&&(this.type==xa&&j.isTrailingSpace&&!a.includeBlockContentTrailingSpace||(this.type!=za||j.type!=ta||a.includePreLineTrailingSpace)&&(\"\\n\"==d?j.isTrailingSpace?this.isTrailingSpace||this.isBr&&(j.type=Aa,b()&&k.isLeadingSpace&&!k.isTrailingSpace&&\"\\n\"==k.character?j.character=\"\":j.type=Ba):l=\"\\n\":\" \"==d&&(l=\" \"))):l=d)))),e.indexOf(l)>-1&&(l=\"\"),this.cache.set(h,l),l},equals:function(a){return!!a&&this.node===a.node&&this.offset===a.offset},inspect:A,toString:function(){return this.character}};z.prototype=Ca,U(Ca,{next:x(\"nextPos\",function(a){var b=a.nodeWrapper,c=a.node,d=a.offset,e=b.session;if(!c)return null;var f,g,h;return d==b.getLength()?(f=c.parentNode,g=f?b.getNodeIndex()+1:0):b.isCharacterDataNode()?(f=c,g=d+1):(h=c.childNodes[d],e.getNodeWrapper(h).containsPositions()?(f=h,g=0):(f=c,g=d+1)),f?e.getPosition(f,g):null}),previous:x(\"previous\",function(a){var b,c,d,e=a.nodeWrapper,f=a.node,g=a.offset,h=e.session;return 0==g?(b=f.parentNode,c=b?e.getNodeIndex():0):e.isCharacterDataNode()?(b=f,c=g-1):(d=f.childNodes[g-1],h.getNodeWrapper(d).containsPositions()?(b=d,c=S.getNodeLength(d)):(b=f,c=g-1)),b?h.getPosition(b,c):null}),nextVisible:x(\"nextVisible\",function(a){var b=a.next();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex()+1)),e}),nextUncollapsed:x(\"nextUncollapsed\",function(a){for(var b=a;b=b.nextVisible();)if(b.resolveLeadingAndTrailingSpaces(),\"\"!==b.character)return b;return null}),previousVisible:x(\"previousVisible\",function(a){var b=a.previous();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex())),e})});var Da=null,Ea=function(){function a(a){var b=new w;return{get:function(c){var d=b.get(c[a]);if(d)for(var e,f=0;e=d[f++];)if(e.node===c)return e;return null},set:function(c){var d=c.node[a],e=b.get(d)||b.set(d,[]);e.push(c)}}}function b(){this.initCaches()}var c=T.isHostProperty(document.documentElement,\"uniqueID\");return b.prototype={initCaches:function(){this.elementCache=c?function(){var a=new w;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a(\"tagName\"),this.textNodeCache=a(\"data\"),this.otherNodeCache=a(\"nodeName\")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var c=b.get(a);return c||(c=new y(a,this),b.set(c)),c},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var c=b?\"start\":\"end\";return this.getPosition(a[c+\"Container\"],a[c+\"Offset\"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},b}();U(S,{nextNode:q,previousNode:r});var Fa=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)if(a[c]===b)return c;return-1};U(a.rangePrototype,{moveStart:M(!0,!1),moveEnd:M(!1,!1),move:M(!0,!0),trimStart:N(!0),trimEnd:N(!1),trim:L(function(a,b){var c=this.trimStart(b),d=this.trimEnd(b);return c||d}),expand:L(function(a,b,c){var d=!1;c=h(c,la);var e=c.characterOptions;if(b||(b=Q),b==R){var f,g,i=c.wordOptions,j=a.getRangeBoundaryPosition(this,!0),k=a.getRangeBoundaryPosition(this,!1),l=F(j,e,i),m=l.nextEndToken(),n=m.chars[0].previousVisible();if(this.collapsed)f=m;else{var o=F(k,e,i);f=o.previousStartToken()}return g=f.chars[f.chars.length-1],n.equals(j)||(this.setStart(n.node,n.offset),d=!0),g&&!g.equals(k)&&(this.setEnd(g.node,g.offset),d=!0),c.trim&&(c.trimStart&&(d=this.trimStart(e)||d),c.trimEnd&&(d=this.trimEnd(e)||d)),d}return this.moveEnd(Q,1,c)}),text:L(function(a,b){return this.collapsed?\"\":I(a,this,V(b,ga)).join(\"\")}),selectCharacters:L(function(a,b,c,d,e){var f={characterOptions:e};b||(b=W(this.getDocument())),this.selectNodeContents(b),this.collapse(!0),this.moveStart(\"character\",c,f),this.collapse(!0),this.moveEnd(\"character\",d-c,f)}),toCharacterRange:L(function(a,b,c){b||(b=W(this.getDocument()));var d,e,f=b.parentNode,g=S.getNodeIndex(b),h=-1==S.comparePoints(this.startContainer,this.endContainer,f,g),i=this.cloneRange();return h?(i.setStartAndEnd(this.startContainer,this.startOffset,f,g),d=-i.text(c).length):(i.setStartAndEnd(f,g,this.startContainer,this.startOffset),d=i.text(c).length),e=d+this.text(c).length,{start:d,end:e}}),findText:L(function(b,c,d){d=h(d,ja),d.wholeWordsOnly&&(d.wordOptions.includeTrailingSpace=!1);var e=aa(d.direction),f=d.withinRange;f||(f=a.createRange(),f.selectNodeContents(this.getDocument()));var g=c,i=!1;\"string\"==typeof g?d.caseSensitive||(g=g.toLowerCase()):i=!0;var j=b.getRangeBoundaryPosition(this,!e),k=f.comparePoint(j.node,j.offset);-1===k?j=b.getRangeBoundaryPosition(f,!0):1===k&&(j=b.getRangeBoundaryPosition(f,!1));for(var l,m=j,n=!1;;)if(l=K(m,g,i,f,d)){if(l.valid)return this.setStartAndEnd(l.startPos.node,l.startPos.offset,l.endPos.node,l.endPos.offset),!0;m=e?l.startPos:l.endPos}else{if(!d.wrap||n)return!1;f=f.cloneRange(),m=b.getRangeBoundaryPosition(f,!e),f.setBoundary(j.node,j.offset,e),n=!0}}),pasteHtml:function(a){if(this.deleteContents(),a){var b=this.createContextualFragment(a),c=b.lastChild;this.insertNode(b),this.collapseAfter(c)}}}),U(a.selectionPrototype,{expand:L(function(a,b,c){this.changeEachRange(function(a){a.expand(b,c)})}),move:L(function(a,b,c,d){var e=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var f=this.getRangeAt(0);d||(d={}),d.characterOptions=V(d.characterOptions,ha),e=f.move(b,c,d),this.setSingleRange(f)}return e}),trimStart:O(\"trimStart\"),trimEnd:O(\"trimEnd\"),trim:O(\"trim\"),selectCharacters:L(function(b,c,d,e,f,g){var h=a.createRange(c);h.selectCharacters(c,d,e,g),this.setSingleRange(h,f)}),saveCharacterRanges:L(function(a,b,c){for(var d=this.getAllRanges(),e=d.length,f=[],g=1==e&&this.isBackward(),h=0,i=d.length;i>h;++h)f[h]={characterRange:d[h].toCharacterRange(b,c),backward:g,characterOptions:c};return f}),restoreCharacterRanges:L(function(b,c,d){this.removeAllRanges();for(var e,f,g,h=0,i=d.length;i>h;++h)f=d[h],g=f.characterRange,e=a.createRange(c),e.selectCharacters(c,g.start,g.end,f.characterOptions),this.addRange(e,f.backward)}),text:L(function(a,b){for(var c=[],d=0,e=this.rangeCount;e>d;++d)c[d]=this.getRangeAt(d).text(b);return c.join(\"\")})}),a.innerText=function(b,c){var d=a.createRange(b);d.selectNodeContents(b);var e=d.text(c);return e},a.createWordIterator=function(a,b,c){var d=C();c=h(c,ma);var e=d.getPosition(a,b),f=F(e,c.characterOptions,c.wordOptions),g=aa(c.direction);return{next:function(){return g?f.previousStartToken():f.nextEndToken()},dispose:function(){f.dispose(),this.next=function(){}}}},a.noMutation=function(a){var b=C();a(b),D()},a.noMutation.createEntryPointFunction=L,a.textRange={isBlockNode:l,isCollapsedWhitespaceNode:t,createPosition:L(function(a,b,c){return a.getPosition(b,c)})}}),a},this),function(a,b){\"function\"==typeof define&&define.amd?define([\"./rangy-core\"],a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a(require(\"rangy\")):a(b.rangy)}(function(a){return a.createModule(\"SaveRestore\",[\"WrappedRange\"],function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d=\"selectionBoundary_\"+ +new Date+\"_\"+(\"\"+Math.random()).slice(2),e=o.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement(\"span\"),c.id=d,c.style.lineHeight=\"0\",c.style.display=\"none\",c.className=\"rangySelectionBoundary\",c.appendChild(e.createTextNode(r)),f.insertNode(c),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?\"setStartBefore\":\"setEndBefore\"](g),p(g)):b.warn(\"Marker element has been removed. Cannot restore selection.\")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(b,c){var e,f,g=a.DomRange.getRangeDocument(b),h=b.toString(),i=q(c);return b.collapsed?(f=d(b,!1),{document:g,markerId:f.id,collapsed:!0}):(f=d(b,!1),e=d(b,!0),{document:g,startMarkerId:e.id,endMarkerId:f.id,collapsed:!1,backward:i,toString:function(){return\"original text: '\"+h+\"', new text: '\"+b.toString()+\"'\"}})}function h(d,f){var g=d.document;\"undefined\"==typeof f&&(f=!0);var h=a.createRange(g);if(d.collapsed){var i=c(d.markerId,g);if(i){i.style.display=\"inline\";var j=i.previousSibling;j&&3==j.nodeType?(p(i),h.collapseToPoint(j,j.length)):(h.collapseBefore(i),p(i))}else b.warn(\"Marker element has been removed. Cannot restore selection.\")}else e(g,h,d.startMarkerId,!0),e(g,h,d.endMarkerId,!1);return f&&h.normalizeBoundaries(),h}function i(b,d){var e,h,i=[],j=q(d);b=b.slice(0),b.sort(f);for(var k=0,l=b.length;l>k;++k)i[k]=g(b[k],j);for(k=l-1;k>=0;--k)e=b[k],h=a.DomRange.getRangeDocument(e),e.collapsed?e.collapseAfter(c(i[k].markerId,h)):(e.setEndBefore(c(i[k].endMarkerId,h)),e.setStartAfter(c(i[k].startMarkerId,h)));return i}function j(c){if(!a.isSelectionValid(c))return b.warn(\"Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.\"),null;var d=a.getSelection(c),e=d.getAllRanges(),f=1==e.length&&d.isBackward(),g=i(e,f);return f?d.setSingleRange(e[0],f):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}}function k(a){for(var b=[],c=a.length,d=c-1;d>=0;d--)b[d]=h(a[d],!0);return b}function l(b,c){if(!b.restored){var d=b.rangeInfos,e=a.getSelection(b.win),f=k(d),g=d.length;1==g&&c&&a.features.selectionHasExtend&&d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0}}function m(a,b){var d=c(b,a);d&&p(d)}function n(a){for(var b,c=a.rangeInfos,d=0,e=c.length;e>d;++d)b=c[d],b.collapsed?m(a.doc,b.markerId):(m(a.doc,b.startMarkerId),m(a.doc,b.endMarkerId))}var o=a.dom,p=o.removeNode,q=a.Selection.isDirectionBackward,r=\"\\ufeff\";a.util.extend(a,{saveRange:g,restoreRange:h,saveRanges:i,restoreRanges:k,saveSelection:j,restoreSelection:l,removeMarkerElement:m,removeMarkers:n})}),a},this);var Base=function(){};Base.extend=function(a,b){var c=Base.prototype.extend;Base._prototyping=!0;var d=new this;c.call(d,a),d.base=function(){},delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||c).call(arguments[0],d)};return f.ancestor=this,f.extend=this.extend,f.forEach=this.forEach,f.implement=this.implement,f.prototype=d,f.toString=this.toString,f.valueOf=function(a){return\"object\"==a?f:e.valueOf()},c.call(f,b),\"function\"==typeof f.init&&f.init(),f},Base.prototype={extend:function(a,b){if(arguments.length>1){var c=this[a];if(c&&\"function\"==typeof b&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\\bbase\\b/.test(b)){var d=b.valueOf();b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=d.apply(this,arguments);return this.base=a,b},b.valueOf=function(a){return\"object\"==a?b:d},b.toString=Base.toString}this[a]=b}else if(a){var e=Base.prototype.extend;Base._prototyping||\"function\"==typeof this||(e=this.extend||e);for(var f={toSource:null},g=[\"constructor\",\"toString\",\"valueOf\"],h=Base._prototyping?0:1;i=g[h++];)a[i]!=f[i]&&e.call(this,i,a[i]);for(var i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:\"1.1\",forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)\"function\"==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function a(a){return+(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\\d+).+? like mac os x/)||[void 0,0])[1]}function b(a){return+(a.match(/android (\\d+)/)||[void 0,0])[1]}function c(a,b){var c,d=-1;return\"Microsoft Internet Explorer\"==navigator.appName?c=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\"):\"Netscape\"==navigator.appName&&(navigator.userAgent.indexOf(\"Trident\")>-1?c=new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\"):/Edge\\/(\\d+)./i.test(navigator.userAgent)&&(c=/Edge\\/(\\d+)./i)),c&&null!=c.exec(navigator.userAgent)&&(d=parseFloat(RegExp.$1)),-1===d?!1:a?b?\"<\"===b?d>a:\">\"===b?a>d:\"<=\"===b?d>=a:\">=\"===b?a>=d:void 0:a===d:!0}var d=navigator.userAgent,e=document.createElement(\"div\"),f=-1!==d.indexOf(\"Gecko\")&&-1===d.indexOf(\"KHTML\"),g=-1!==d.indexOf(\"AppleWebKit/\"),h=-1!==d.indexOf(\"Chrome/\"),i=-1!==d.indexOf(\"Opera/\");return{USER_AGENT:d,supported:function(){var c=this.USER_AGENT.toLowerCase(),d=\"contentEditable\"in e,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h=this.isIos()&&a(c)<5||this.isAndroid()&&b(c)<4||-1!==c.indexOf(\"opera mobi\")||-1!==c.indexOf(\"hpwos/\");return d&&f&&g&&!h},isTouchDevice:function(){return this.supportsEvent(\"touchmove\")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf(\"Android\")},supportsSandboxedIframes:function(){return c()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!(\"querySelector\"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return c(12,\">\")},hasCurrentStyleProperty:function(){return\"currentStyle\"in e},insertsLineBreaksOnReturn:function(){return f},supportsPlaceholderAttributeOn:function(a){return\"placeholder\"in a},supportsEvent:function(a){return\"on\"+a in e||function(){return e.setAttribute(\"on\"+a,\"return;\"),\"function\"==typeof e[\"on\"+a]}()},supportsEventsInIframeCorrectly:function(){return!i},supportsHTML5Tags:function(a){var b=a.createElement(\"div\"),c=\"<article>foo</article>\";return b.innerHTML=c,b.innerHTML.toLowerCase()===c},supportsCommand:function(){var a={formatBlock:c(10,\"<=\"),insertUnorderedList:c(9,\">=\")||c(12,\"<=\"),insertOrderedList:c(9,\">=\")||c(12,\"<=\")},b={insertHTML:f};return function(c,d){var e=a[d];if(!e){try{return c.queryCommandSupported(d)}catch(f){}try{return c.queryCommandEnabled(d)}catch(g){return!!b[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return c()},canDisableAutoLinking:function(){return this.supportsCommand(document,\"AutoUrlDetect\")},clearsContentEditableCorrectly:function(){return f||i||g},supportsGetAttributeCorrectly:function(){var a=document.createElement(\"td\");return\"1\"!=a.getAttribute(\"rowspan\")},canSelectImagesInContentEditable:function(){return f||c()||i},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a,b,c=e.cloneNode(!1);return c.innerHTML=\"<p><div></div>\",b=c.innerHTML.toLowerCase(),a=\"<p></p><div></div>\"===b||\"<p><div></div></p>\"===b,this.autoClosesUnclosedTags=function(){return a},a},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf(\"[native code]\")},supportsSelectionModify:function(){return\"getSelection\"in window&&\"modify\"in window.getSelection()},needsSpaceAfterLineBreak:function(){return i},supportsSpeechApiOn:function(a){var b=d.match(/Chrome\\/(\\d+)/)||[void 0,0];return b[1]>=11&&(\"onwebkitspeechchange\"in a||\"speech\"in a)},crashesWhenDefineProperty:function(a){return c(9)&&(\"XMLHttpRequest\"===a||\"XDomainRequest\"===a)},doesAsyncFocus:function(){return c(12,\">\")},hasProblemsSettingCaretAfterImg:function(){return c()},hasUndoInContextMenu:function(){return f||h||i},hasInsertNodeIssue:function(){return i},hasIframeFocusIssue:function(){return c()},createsNestedInvalidMarkupAfterPaste:function(){return g},supportsMutationEvents:function(){return\"MutationEvent\"in window},supportsModernPaste:function(){return!c()},fixStyleKey:function(a){return\"cssFloat\"===a?\"styleFloat\"in document.createElement(\"div\").style?\"styleFloat\":\"cssFloat\":a}}}(),wysihtml5.lang.array=function(a){return{contains:function(b){if(Array.isArray(b)){for(var c=b.length;c--;)if(-1!==wysihtml5.lang.array(a).indexOf(b[c]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(b)},indexOf:function(b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},without:function(b){b=wysihtml5.lang.array(b);for(var c=[],d=0,e=a.length;e>d;d++)b.contains(a[d])||c.push(a[d]);return c},get:function(){for(var b=0,c=a.length,d=[];c>b;b++)d.push(a[b]);return d},map:function(b,c){if(Array.prototype.map)return a.map(b,c);for(var d=a.length>>>0,e=new Array(d),f=0;d>f;f++)e[f]=b.call(c,a[f],f,a);return e},unique:function(){for(var b=[],c=a.length,d=0;c>d;)wysihtml5.lang.array(b).contains(a[d])||b.push(a[d]),d++;return b}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(a,b){return this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b),this},off:function(a,b){this.events=this.events||{};var c,d,e=0;if(a){for(c=this.events[a]||[],d=[];e<c.length;e++)c[e]!==b&&b&&d.push(c[e]);this.events[a]=d}else this.events={};return this},fire:function(a,b){this.events=this.events||{};for(var c=this.events[a]||[],d=0;d<c.length;d++)c[d].call(this,b);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(a){return{merge:function(b,c){for(var d in b)c&&wysihtml5.lang.object(b[d]).isPlainObject()&&(\"undefined\"==typeof a[d]||wysihtml5.lang.object(a[d]).isPlainObject())?\"undefined\"==typeof a[d]?a[d]=wysihtml5.lang.object(b[d]).clone(!0):wysihtml5.lang.object(a[d]).merge(wysihtml5.lang.object(b[d]).clone(!0)):a[d]=wysihtml5.lang.object(b[d]).isPlainObject()?wysihtml5.lang.object(b[d]).clone(!0):b[d];return this},difference:function(b){var c={};for(var d in a)a.hasOwnProperty(d)&&(b.hasOwnProperty(d)||(c[d]=a[d]));for(var e in b)b.hasOwnProperty(e)&&(a.hasOwnProperty(e)&&a[e]===b[e]||(c[0]=a[0]));return c},get:function(){return a},clone:function(b){var c,d={};if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(c in a)a.hasOwnProperty(c)&&(b?d[c]=wysihtml5.lang.object(a[c]).clone(b):d[c]=a[c]);return d},isArray:function(){return\"[object Array]\"===Object.prototype.toString.call(a)},isFunction:function(){return\"[object Function]\"===Object.prototype.toString.call(a)},isPlainObject:function(){return a&&\"[object Object]\"===Object.prototype.toString.call(a)&&!(\"Node\"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}}},function(){var a=/^\\s+/,b=/\\s+$/,c=/[&<>\\t\"]/g,d={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"\t\":\"&nbsp; \"};wysihtml5.lang.string=function(e){return e=String(e),{trim:function(){return e.replace(a,\"\").replace(b,\"\")},interpolate:function(a){for(var b in a)e=this.replace(\"#{\"+b+\"}\").by(a[b]);return e},replace:function(a){return{by:function(b){return e.split(a).join(b)}}},escapeHTML:function(a,b){var f=e.replace(c,function(a){return d[a]});return a&&(f=f.replace(/(?:\\r\\n|\\r|\\n)/g,\"<br />\")),b&&(f=f.replace(/  /gi,\"&nbsp; \")),f}}}}(),function(a){function b(a,b){return f(a,b)?a:(a===a.ownerDocument.documentElement&&(a=a.ownerDocument.body),g(a,b))}function c(a){return a.replace(i,function(a,b){var c=(b.match(j)||[])[1]||\"\",d=l[c];b=b.replace(j,\"\"),b.split(d).length>b.split(c).length&&(b+=c,c=\"\");var e=b,f=b;return b.length>k&&(f=f.substr(0,k)+\"...\"),\"www.\"===e.substr(0,4)&&(e=\"http://\"+e),'<a href=\"'+e+'\">'+f+\"</a>\"+c})}function d(a){var b=a._wysihtml5_tempElement;return b||(b=a._wysihtml5_tempElement=a.createElement(\"div\")),b}function e(b){var e=b.parentNode,f=a.lang.string(b.data).escapeHTML(),g=d(e.ownerDocument);for(g.innerHTML=\"<span></span>\"+c(f),g.removeChild(g.firstChild);g.firstChild;)e.insertBefore(g.firstChild,b);e.removeChild(b)}function f(b,c){for(var d;b.parentNode;){if(b=b.parentNode,d=b.nodeName,b.className&&a.lang.array(b.className.split(\" \")).contains(c))return!0;if(h.contains(d))return!0;if(\"body\"===d)return!1}return!1}function g(b,c){if(!(h.contains(b.nodeName)||b.className&&a.lang.array(b.className.split(\" \")).contains(c))){if(b.nodeType===a.TEXT_NODE&&b.data.match(i))return void e(b);for(var d=a.lang.array(b.childNodes).get(),f=d.length,j=0;f>j;j++)g(d[j],c);return b}}var h=a.lang.array([\"CODE\",\"PRE\",\"A\",\"SCRIPT\",\"HEAD\",\"TITLE\",\"STYLE\"]),i=/((https?:\\/\\/|www\\.)[^\\s<]{3,})/gi,j=/([^\\w\\/\\-](,?))$/i,k=100,l={\")\":\"(\",\"]\":\"[\",\"}\":\"{\"};a.dom.autoLink=b,a.dom.autoLink.URL_REG_EXP=i}(wysihtml5),function(a){var b=a.dom;b.addClass=function(a,c){var d=a.classList;return d?d.add(c):void(b.hasClass(a,c)||(a.className+=\" \"+c))},b.removeClass=function(a,b){var c=a.classList;return c?c.remove(b):void(a.className=a.className.replace(new RegExp(\"(^|\\\\s+)\"+b+\"(\\\\s+|$)\"),\" \"))},b.hasClass=function(a,b){var c=a.classList;if(c)return c.contains(b);var d=a.className;return d.length>0&&(d==b||new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\").test(d))}}(wysihtml5),wysihtml5.dom.contains=function(){var a=document.documentElement;return a.contains?function(a,b){if(b.nodeType!==wysihtml5.ELEMENT_NODE){if(b.parentNode===a)return!0;b=b.parentNode}return a!==b&&a.contains(b)}:a.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:void 0}(),wysihtml5.dom.convertToList=function(){function a(a,b){var c=a.createElement(\"li\");return b.appendChild(c),c}function b(a,b){return a.createElement(b)}function c(c,d,e){if(\"UL\"===c.nodeName||\"OL\"===c.nodeName||\"MENU\"===c.nodeName)return c;var f,g,h,i,j,k,l,m,n,o=c.ownerDocument,p=b(o,d),q=c.querySelectorAll(\"br\"),r=q.length;for(n=0;r>n;n++)for(i=q[n];(j=i.parentNode)&&j!==c&&j.lastChild===i;){if(\"block\"===wysihtml5.dom.getStyle(\"display\").from(j)){j.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(f=wysihtml5.lang.array(c.childNodes).get(),g=f.length,n=0;g>n;n++)m=m||a(o,p),h=f[n],k=\"block\"===wysihtml5.dom.getStyle(\"display\").from(h),l=\"BR\"===h.nodeName,!k||e&&wysihtml5.dom.hasClass(h,e)?l?m=m.firstChild?null:m:m.appendChild(h):(m=m.firstChild?a(o,p):m,m.appendChild(h),m=null);return 0===f.length&&a(o,p),c.parentNode.replaceChild(p,c),p}return c}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){for(var d,e=0,f=a.length;f>e;e++)d=a[e],\"undefined\"!=typeof b[d]&&\"\"!==b[d]&&(c[d]=b[d]);return{andTo:arguments.callee}}}}}},function(a){var b=[\"-webkit-box-sizing\",\"-moz-box-sizing\",\"-ms-box-sizing\",\"box-sizing\"],c=function(b){return d(b)?parseInt(a.getStyle(\"width\").from(b),10)<b.offsetWidth:!1},d=function(c){for(var d=0,e=b.length;e>d;d++)if(\"border-box\"===a.getStyle(b[d]).from(c))return b[d]};a.copyStyles=function(d){return{from:function(e){c(e)&&(d=wysihtml5.lang.array(d).without(b));for(var f,g=\"\",h=d.length,i=0;h>i;i++)f=d[i],g+=f+\":\"+a.getStyle(f).from(e)+\";\";return{to:function(b){return a.setStyles(g).on(b),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(a,b,c,d){var e=function(c){for(var e=c.target,f=3===e.nodeType?e.parentNode:e,g=a.querySelectorAll(b),h=0,i=g.length;i>h;h++)g[h].contains(f)&&d.call(g[h],c)};return a.addEventListener(c,e,!1),{stop:function(){a.removeEventListener(c,e,!1)}}}}(wysihtml5),function(a){function b(a,b){for(var c=[a],d=a;b&&d&&d!==b||!b&&d;)c.unshift(d),d=d.parentNode;return c}function c(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")}a.dom.domNode=function(d){var e=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(b){var c=b?/^\\s*$/g:/^[\\r\\n]*$/g;return d.nodeType===a.TEXT_NODE&&c.test(d.data)},visible:function(){var b=!/^\\s*$/g.test(a.dom.getTextContent(d));return b||1===d.nodeType&&d.querySelector(\"img, br, hr, object, embed, canvas, input, textarea\")&&(b=!0),b}},prev:function(b){var f=d.previousSibling,g=b&&b.nodeTypes?b.nodeTypes:e;return f?c(f)||!a.lang.array(g).contains(f.nodeType)||b&&b.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).prev(b):f:null},next:function(b){var f=d.nextSibling,g=b&&b.nodeTypes?b.nodeTypes:e;return f?c(f)||!a.lang.array(g).contains(f.nodeType)||b&&b.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).next(b):f:null},commonAncestor:function(a,c){var e=b(d,c),f=b(a,c);if(e[0]!=f[0])return null;for(var g=0;g<e.length;g++)if(e[g]!=f[g])return e[g-1];return null},lastLeafNode:function(b){var c;if(1!==d.nodeType)return d;if(c=d.lastChild,!c)return d;if(b&&b.leafClasses)for(var e=b.leafClasses.length;e--;)if(a.dom.hasClass(d,b.leafClasses[e]))return d;return a.dom.domNode(c).lastLeafNode(b)},escapeParent:function(b,c){var e,f,g,h=d;if(!a.dom.contains(b,d))throw new Error(\"Child is not a descendant of node.\");do{for(e=h.parentNode,f=e.cloneNode(!1);e.lastChild&&e.lastChild!==h;)f.insertBefore(e.lastChild,f.firstChild);if(e!==b&&(g=e.cloneNode(!1),g.appendChild(h),h=g),e.parentNode.insertBefore(h,e.nextSibling),\"\"!==f.innerHTML)if(/^\\s+$/.test(f.innerHTML))for(;f.lastChild;)e.parentNode.insertBefore(f.lastChild,h.nextSibling);else e.parentNode.insertBefore(f,h.nextSibling);if(\"\"===e.innerHTML)e.parentNode.removeChild(e);else if(/^\\s+$/.test(e.innerHTML)){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}while(e&&e!==b);c&&h&&(h.parentNode.insertBefore(c,h),c.appendChild(h))},test:function(b){var c;if(!b)return!1;if(1!==d.nodeType)return!1;if(b.query&&!d.matches(b.query))return!1;if(b.nodeName&&d.nodeName.toLowerCase()!==b.nodeName.toLowerCase())return!1;if(b.className&&!d.classList.contains(b.className))return!1;if(b.classRegExp){var e=(d.className||\"\").match(b.classRegExp)||[];if(0===e.length)return!1}if(b.styleProperty&&b.styleProperty.length>0)for(var f=!1,g=Array.isArray(b.styleProperty)?b.styleProperty:[b.styleProperty],h=0,i=g.length;i>h;h++){if(c=a.browser.fixStyleKey(g[h]),d.style[c]){if(!b.styleValue){f=!0;break}if(b.styleValue instanceof RegExp){if(d.style[c].trim().match(b.styleValue).length>0){f=!0;break}}else if(Array.isArray(b.styleValue)){if(b.styleValue.indexOf(d.style[c].trim())){f=!0;break}}else if(b.styleValue===d.style[c].trim().replace(/, /g,\",\")){f=!0;break}}if(!f)return!1}if(b.attribute){var j=a.dom.getAttributes(d),k=[],l=!1;Array.isArray(b.attribute)?k=b.attribute:k[b.attribute]=b.attributeValue;for(var m in k)if(k.hasOwnProperty(m))if(\"undefined\"==typeof k[m]){if(\"undefined\"!=typeof j[m]){l=!0;break}}else if(j[m]===k[m]){l=!0;break}if(!l)return!1}return!0}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a=function(a,b){var c=b.createElement(\"div\");c.style.display=\"none\",b.body.appendChild(c);try{c.innerHTML=a}catch(d){}return b.body.removeChild(c),c},b=function(a){if(!a._wysihtml5_supportsHTML5Tags){for(var b=0,d=c.length;d>b;b++)a.createElement(c[b]);a._wysihtml5_supportsHTML5Tags=!0}},c=[\"abbr\",\"article\",\"aside\",\"audio\",\"bdi\",\"canvas\",\"command\",\"datalist\",\"details\",\"figcaption\",\"figure\",\"footer\",\"header\",\"hgroup\",\"keygen\",\"mark\",\"meter\",\"nav\",\"output\",\"progress\",\"rp\",\"rt\",\"ruby\",\"svg\",\"section\",\"source\",\"summary\",\"time\",\"track\",\"video\",\"wbr\"];return function(c,d){d=d||document;var e;return\"object\"==typeof c&&c.nodeType?(e=d.createElement(\"div\"),e.appendChild(c)):wysihtml5.browser.supportsHTML5Tags(d)?(e=d.createElement(\"div\"),e.innerHTML=c):(b(d),e=a(c,d)),e}}(),wysihtml5.dom.getParentElement=function(){return function(a,b,c,d){for(c=c||50;c--&&a&&\"BODY\"!==a.nodeName&&(!d||a!==d);){if(wysihtml5.dom.domNode(a).test(b))return a;a=a.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function a(a){return a.replace(c,function(a){return a.charAt(1).toUpperCase()})}var b={\"float\":\"styleFloat\"in document.createElement(\"div\").style?\"styleFloat\":\"cssFloat\"},c=/\\-[a-z]/g;return function(c){return{from:function(d){if(d.nodeType===wysihtml5.ELEMENT_NODE){var e=d.ownerDocument,f=b[c]||a(c),g=d.style,h=d.currentStyle,i=g[f];if(i)return i;if(h)try{return h[f]}catch(j){}var k,l,m=e.defaultView||e.parentWindow,n=(\"height\"===c||\"width\"===c)&&\"TEXTAREA\"===d.nodeName;return m.getComputedStyle?(n&&(k=g.overflow,g.overflow=\"hidden\"),l=m.getComputedStyle(d,null).getPropertyValue(c),n&&(g.overflow=k||\"\"),l):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(a,b){var c=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b&&/^\\s*$/.test(a.innerText||a.textContent)||c.push(a):c=c.concat(wysihtml5.dom.getTextNodes(a,b));return c},wysihtml5.dom.hasElementWithTagName=function(){function a(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=c++)}var b={},c=1;return function(c,d){var e=a(c)+\":\"+d,f=b[e];return f||(f=b[e]=c.getElementsByTagName(d)),f.length>0}}(),function(a){function b(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=d++)}var c={},d=1;a.dom.hasElementWithClassName=function(d,e){if(!a.browser.supportsNativeGetElementsByClassName())return!!d.querySelector(\".\"+e);var f=b(d)+\":\"+e,g=c[f];return g||(g=c[f]=d.getElementsByClassName(e)),\ng.length>0}}(wysihtml5),wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join(\"\\n\"),{into:function(b){var c=b.createElement(\"style\");c.type=\"text/css\",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a));var d=b.querySelector(\"head link\");if(d)return void d.parentNode.insertBefore(c,d);var e=b.querySelector(\"head\");e&&e.appendChild(c)}}},function(a){a.dom.lineBreaks=function(b){function c(a){return\"BR\"===a.nodeName}function d(b){return c(b)?!0:\"block\"===a.dom.getStyle(\"display\").from(b)?!0:!1}return{add:function(c){var e=b.ownerDocument,f=a.dom.domNode(b).next({ignoreBlankTexts:!0}),g=a.dom.domNode(b).prev({ignoreBlankTexts:!0});f&&!d(f)&&a.dom.insert(e.createElement(\"br\")).after(b),g&&!d(g)&&a.dom.insert(e.createElement(\"br\")).before(b)},remove:function(d){var e=a.dom.domNode(b).next({ignoreBlankTexts:!0}),f=a.dom.domNode(b).prev({ignoreBlankTexts:!0});e&&c(e)&&e.parentNode.removeChild(e),f&&c(f)&&f.parentNode.removeChild(f)}}}}(wysihtml5),wysihtml5.dom.observe=function(a,b,c){b=\"string\"==typeof b?[b]:b;for(var d,e,f=0,g=b.length;g>f;f++)e=b[f],a.addEventListener?a.addEventListener(e,c,!1):(d=function(b){\"target\"in b||(b.target=b.srcElement),b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},c.call(a,b)},a.attachEvent(\"on\"+e,d));return{stop:function(){for(var e,f=0,g=b.length;g>f;f++)e=b[f],a.removeEventListener?a.removeEventListener(e,c,!1):a.detachEvent(\"on\"+e,d)}}},wysihtml5.dom.parse=function(a,b){function c(a,b){wysihtml5.lang.object(t).merge(s).merge(b.rules).get();var c,f,g,h=b.context||a.ownerDocument||document,i=h.createDocumentFragment(),j=\"string\"==typeof a,k=!1;for(b.clearInternals===!0&&(k=!0),c=j?wysihtml5.dom.getAsDom(a,h):a,t.selectors&&e(c,t.selectors);c.firstChild;)g=c.firstChild,f=d(g,b.cleanUp,k,b.uneditableClass),f&&i.appendChild(f),g!==f&&c.removeChild(g);if(b.unjoinNbsps)for(var l=wysihtml5.dom.getTextNodes(i),m=l.length;m--;)l[m].nodeValue=l[m].nodeValue.replace(/([\\S\\u00A0])\\u00A0/gi,\"$1 \");return c.innerHTML=\"\",c.appendChild(i),j?wysihtml5.quirks.getCorrectInnerHTML(c):c}function d(a,b,c,e){var f,g,h,i,j=a.nodeType,k=a.childNodes,l=k.length,m=p[j],n=0;if(e&&1===j&&wysihtml5.dom.hasClass(a,e))return a;if(g=m&&m(a,c),!g){if(g===!1){for(f=a.ownerDocument.createDocumentFragment(),n=l;n--;)k[n]&&(h=d(k[n],b,c,e),h&&(k[n]===h&&n--,f.insertBefore(h,f.firstChild)));return i=wysihtml5.dom.getStyle(\"display\").from(a),\"\"===i&&(i=wysihtml5.lang.array(u).contains(a.tagName)?\"block\":\"\"),wysihtml5.lang.array([\"block\",\"flex\",\"table\"]).contains(i)&&f.appendChild(a.ownerDocument.createElement(\"br\")),wysihtml5.lang.array([\"div\",\"pre\",\"p\",\"table\",\"td\",\"th\",\"ul\",\"ol\",\"li\",\"dd\",\"dl\",\"footer\",\"header\",\"section\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"]).contains(a.nodeName.toLowerCase())&&a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\\s/.test(a.nextSibling.nodeValue)||f.appendChild(a.ownerDocument.createTextNode(\" \"))),f.normalize&&f.normalize(),f}return null}for(n=0;l>n;n++)k[n]&&(h=d(k[n],b,c,e),h&&(k[n]===h&&n--,g.appendChild(h)));if(b&&g.nodeName.toLowerCase()===q&&(!g.childNodes.length||/^\\s*$/gi.test(g.innerHTML)&&(c||\"_wysihtml5-temp-placeholder\"!==a.className&&\"rangySelectionBoundary\"!==a.className)||!g.attributes.length)){for(f=g.ownerDocument.createDocumentFragment();g.firstChild;)f.appendChild(g.firstChild);return f.normalize&&f.normalize(),f}return g.normalize&&g.normalize(),g}function e(a,b){var c,d,e;for(c in b)if(b.hasOwnProperty(c)){wysihtml5.lang.object(b[c]).isFunction()?d=b[c]:\"string\"==typeof b[c]&&z[b[c]]&&(d=z[b[c]]),e=a.querySelectorAll(c);for(var f=e.length;f--;)d(e[f])}}function f(a,b){var c,d,e,f=t.tags,h=a.nodeName.toLowerCase(),j=a.scopeName;if(a._wysihtml5)return null;if(a._wysihtml5=1,\"wysihtml5-temp\"===a.className)return null;if(j&&\"HTML\"!=j&&(h=j+\":\"+h),\"outerHTML\"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||\"P\"!==a.nodeName||\"</p>\"===a.outerHTML.slice(-4).toLowerCase()||(h=\"div\")),h in f){if(c=f[h],!c||c.remove)return null;if(c.unwrap)return!1;c=\"string\"==typeof c?{rename_tag:c}:c}else{if(!a.firstChild)return null;c={rename_tag:q}}if(c.one_of_type&&!g(a,t,c.one_of_type,b)){if(!c.remove_action)return null;if(\"unwrap\"===c.remove_action)return!1;if(\"rename\"!==c.remove_action)return null;e=c.remove_action_rename_to||q}return d=a.ownerDocument.createElement(e||c.rename_tag||h),m(a,d,c,b),i(a,d,c),a=null,d.normalize&&d.normalize(),d}function g(a,b,c,d){var e,f;if(\"SPAN\"===a.nodeName&&!d&&(\"_wysihtml5-temp-placeholder\"===a.className||\"rangySelectionBoundary\"===a.className))return!0;for(f in c)if(c.hasOwnProperty(f)&&b.type_definitions&&b.type_definitions[f]&&(e=b.type_definitions[f],h(a,e)))return!0;return!1}function h(a,b){var c,d,e,f,g,h=a.getAttribute(\"class\"),i=a.getAttribute(\"style\");if(b.methods)for(var j in b.methods)if(b.methods.hasOwnProperty(j)&&y[j]&&y[j](a))return!0;if(h&&b.classes){h=h.replace(/^\\s+/g,\"\").replace(/\\s+$/g,\"\").split(r),c=h.length;for(var k=0;c>k;k++)if(b.classes[h[k]])return!0}if(i&&b.styles){i=i.split(\";\");for(d in b.styles)if(b.styles.hasOwnProperty(d))for(var l=i.length;l--;)if(g=i[l].split(\":\"),g[0].replace(/\\s/g,\"\").toLowerCase()===d&&(b.styles[d]===!0||1===b.styles[d]||wysihtml5.lang.array(b.styles[d]).contains(g[1].replace(/\\s/g,\"\").toLowerCase())))return!0}if(b.attrs)for(e in b.attrs)if(b.attrs.hasOwnProperty(e)&&(f=wysihtml5.dom.getAttribute(a,e),\"string\"==typeof f&&f.search(b.attrs[e])>-1))return!0;return!1}function i(a,b,c){var d,e;if(c&&c.keep_styles)for(d in c.keep_styles)if(c.keep_styles.hasOwnProperty(d)){if(e=\"float\"===d?a.style.styleFloat||a.style.cssFloat:a.style[d],c.keep_styles[d]instanceof RegExp&&!c.keep_styles[d].test(e))continue;\"float\"===d?b.style[a.style.styleFloat?\"styleFloat\":\"cssFloat\"]=e:a.style[d]&&(b.style[d]=e)}}function j(a,b){var c=[];for(var d in b)b.hasOwnProperty(d)&&0===d.indexOf(a)&&c.push(d);return c}function k(a,b,c,d){var e,f=wysihtml5.lang.object(c).isFunction()?c:v[c];return f&&(e=f(b,d),\"string\"==typeof e)?e:!1}function l(a,b){var c,d,e,f=wysihtml5.lang.object(t.attributes||{}).clone(),g=wysihtml5.lang.object(f).merge(wysihtml5.lang.object(b||{}).clone()).get(),h={},i=wysihtml5.dom.getAttributes(a);for(c in g)if(/\\*$/.test(c)){e=j(c.slice(0,-1),i);for(var l=0,m=e.length;m>l;l++)d=k(e[l],i[e[l]],g[c],a.nodeName),d!==!1&&(h[e[l]]=d)}else d=k(c,i[c],g[c],a.nodeName),d!==!1&&(h[c]=d);return h}function m(a,b,c,d){var e,f,g,h,i,j={},k=c.set_class,m=c.add_class,n=c.add_style,o=c.set_attributes,p=t.classes,q=0,s=[],u=[],v=[],y=[];if(o&&(j=wysihtml5.lang.object(o).clone()),j=wysihtml5.lang.object(j).merge(l(a,c.check_attributes)).get(),k&&s.push(k),m)for(h in m)i=x[m[h]],i&&(g=i(wysihtml5.dom.getAttribute(a,h)),\"string\"==typeof g&&s.push(g));if(n)for(h in n)i=w[n[h]],i&&(newStyle=i(wysihtml5.dom.getAttribute(a,h)),\"string\"==typeof newStyle&&u.push(newStyle));if(\"string\"==typeof p&&\"any\"===p)if(a.getAttribute(\"class\"))if(t.classes_blacklist){for(y=a.getAttribute(\"class\"),y&&(s=s.concat(y.split(r))),e=s.length;e>q;q++)f=s[q],t.classes_blacklist[f]||v.push(f);v.length&&(j[\"class\"]=wysihtml5.lang.array(v).unique().join(\" \"))}else j[\"class\"]=a.getAttribute(\"class\");else s&&s.length>0&&(j[\"class\"]=wysihtml5.lang.array(s).unique().join(\" \"));else{for(d||(p[\"_wysihtml5-temp-placeholder\"]=1,p._rangySelectionBoundary=1,p[\"wysiwyg-tmp-selected-cell\"]=1),y=a.getAttribute(\"class\"),y&&(s=s.concat(y.split(r))),e=s.length;e>q;q++)f=s[q],p[f]&&v.push(f);v.length&&(j[\"class\"]=wysihtml5.lang.array(v).unique().join(\" \"))}j[\"class\"]&&d&&(j[\"class\"]=j[\"class\"].replace(\"wysiwyg-tmp-selected-cell\",\"\"),/^\\s*$/g.test(j[\"class\"])&&delete j[\"class\"]),u.length&&(j.style=wysihtml5.lang.array(u).unique().join(\" \"));for(h in j)try{b.setAttribute(h,j[h])}catch(z){}j.src&&(\"undefined\"!=typeof j.width&&b.setAttribute(\"width\",j.width),\"undefined\"!=typeof j.height&&b.setAttribute(\"height\",j.height))}function n(a){var b=a.nextSibling;if(!b||b.nodeType!==wysihtml5.TEXT_NODE){var c=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\");return a.ownerDocument.createTextNode(c)}b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")}function o(a){return t.comments?a.ownerDocument.createComment(a.nodeValue):void 0}var p={1:f,3:n,8:o},q=\"span\",r=/\\s+/,s={tags:{},classes:{}},t={},u=[\"ADDRESS\",\"BLOCKQUOTE\",\"CENTER\",\"DIR\",\"DIV\",\"DL\",\"FIELDSET\",\"FORM\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"ISINDEX\",\"MENU\",\"NOFRAMES\",\"NOSCRIPT\",\"OL\",\"P\",\"PRE\",\"TABLE\",\"UL\"],v={url:function(){var a=/^https?:\\/\\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\\/|https?:\\/\\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\\/|https?:\\/\\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\\-]/gi;return function(b,c){return b?b.replace(a,\"\"):\"IMG\"===c?\"\":null}}(),numbers:function(){var a=/\\D/g;return function(b){return b=(b||\"\").replace(a,\"\"),b||null}}(),dimension:function(){var a=/\\D*(\\d+)(\\.\\d+)?\\s?(%)?\\D*/;return function(b){return b=(b||\"\").replace(a,\"$1$2$3\"),b||null}}(),any:function(){return function(a){return a?a:null}}()},w={align_text:function(){var a={left:\"text-align: left;\",right:\"text-align: right;\",center:\"text-align: center;\"};return function(b){return a[String(b).toLowerCase()]}}()},x={align_img:function(){var a={left:\"wysiwyg-float-left\",right:\"wysiwyg-float-right\"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:\"wysiwyg-text-align-left\",right:\"wysiwyg-text-align-right\",center:\"wysiwyg-text-align-center\",justify:\"wysiwyg-text-align-justify\"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:\"wysiwyg-clear-left\",right:\"wysiwyg-clear-right\",both:\"wysiwyg-clear-both\",all:\"wysiwyg-clear-both\"};return function(b){return a[String(b).toLowerCase()]}}(),size_font:function(){var a={1:\"wysiwyg-font-size-xx-small\",2:\"wysiwyg-font-size-small\",3:\"wysiwyg-font-size-medium\",4:\"wysiwyg-font-size-large\",5:\"wysiwyg-font-size-x-large\",6:\"wysiwyg-font-size-xx-large\",7:\"wysiwyg-font-size-xx-large\",\"-\":\"wysiwyg-font-size-smaller\",\"+\":\"wysiwyg-font-size-larger\"};return function(b){return a[String(b).charAt(0)]}}()},y={has_visible_contet:function(){var a,b=[\"img\",\"video\",\"picture\",\"br\",\"script\",\"noscript\",\"style\",\"table\",\"iframe\",\"object\",\"embed\",\"audio\",\"svg\",\"input\",\"button\",\"select\",\"textarea\",\"canvas\"];return function(c){if(a=(c.innerText||c.textContent).replace(/\\s/g,\"\"),a&&a.length>0)return!0;for(var d=b.length;d--;)if(c.querySelector(b[d]))return!0;return c.offsetWidth&&c.offsetWidth>0&&c.offsetHeight&&c.offsetHeight>0?!0:!1}}()},z={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return c(a,b)},wysihtml5.dom.removeEmptyTextNodes=function(a){for(var b,c=wysihtml5.lang.array(a.childNodes).get(),d=c.length,e=0;d>e;e++)b=c[e],b.nodeType===wysihtml5.TEXT_NODE&&/^[\\n\\r]*$/.test(b.data)&&b.parentNode.removeChild(b)},wysihtml5.dom.renameElement=function(a,b){for(var c,d=a.ownerDocument.createElement(b);c=a.firstChild;)d.appendChild(c);return wysihtml5.dom.copyAttributes([\"align\",\"className\"]).from(a).to(d),a.parentNode&&a.parentNode.replaceChild(d,a),d},wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){if(!a.firstChild)return void a.parentNode.removeChild(a);for(var b=a.ownerDocument.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a),a=b=null}},function(a){function b(b){return\"block\"===a.getStyle(\"display\").from(b)}function c(a){return\"BR\"===a.nodeName}function d(a){var b=a.ownerDocument.createElement(\"br\");a.appendChild(b)}function e(a,e){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f,g,h,i,j,k,l,m=a.ownerDocument,n=m.createDocumentFragment(),o=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),p=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),q=a.lastElementChild||a.lastChild;if(e)for(!o||b(o)||c(o)||d(n);k=a.firstElementChild||a.firstChild;){for(g=k.lastChild,l=k===q;f=k.firstChild;)h=f===g,i=(!l||p&&!b(p))&&h&&!b(f)&&!c(f),n.appendChild(f),i&&d(n);k.parentNode.removeChild(k)}else for(;k=a.firstElementChild||a.firstChild;){if(k.querySelector&&k.querySelector(\"div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6\"))for(;f=k.firstChild;)n.appendChild(f);else{for(j=m.createElement(\"p\");f=k.firstChild;)j.appendChild(f);n.appendChild(j)}k.parentNode.removeChild(k)}a.parentNode.replaceChild(n,a)}}a.resolveList=e}(wysihtml5.dom),function(a){var b=document,c=[\"parent\",\"top\",\"opener\",\"frameElement\",\"frames\",\"localStorage\",\"globalStorage\",\"sessionStorage\",\"indexedDB\"],d=[\"open\",\"close\",\"openDialog\",\"showModalDialog\",\"alert\",\"confirm\",\"prompt\",\"openDatabase\",\"postMessage\",\"XMLHttpRequest\",\"XDomainRequest\"],e=[\"referrer\",\"write\",\"open\",\"close\"];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.config.className||(this.config.className=\"wysihtml5-sandbox\"),this.editableArea=this._createIframe()},insertInto:function(a){\"string\"==typeof a&&(a=b.getElementById(a)),a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw new Error(\"wysihtml5.Sandbox: Sandbox iframe isn't loaded yet\")},_createIframe:function(){var c=this,d=b.createElement(\"iframe\");return d.className=this.config.className,a.dom.setAttributes({security:\"restricted\",allowtransparency:\"true\",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d),a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(d.src=\"javascript:'<html></html>'\"),d.onload=function(){d.onreadystatechange=d.onload=null,c._onLoadIframe(d)},d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&(d.onreadystatechange=d.onload=null,c._onLoadIframe(d))},d},_onLoadIframe:function(f){if(a.dom.contains(b.documentElement,f)){var g=this,h=f.contentWindow,i=f.contentWindow.document,j=b.characterSet||b.charset||\"utf-8\",k=this._getHtml({charset:j,stylesheets:this.config.stylesheets});if(i.open(\"text/html\",\"replace\"),i.write(k),i.close(),this.getWindow=function(){return f.contentWindow},this.getDocument=function(){return f.contentWindow.document},h.onerror=function(a,b,c){throw new Error(\"wysihtml5.Sandbox: \"+a,b,c)},!a.browser.supportsSandboxedIframes()){var l,m;for(l=0,m=c.length;m>l;l++)this._unset(h,c[l]);for(l=0,m=d.length;m>l;l++)this._unset(h,d[l],a.EMPTY_FUNCTION);for(l=0,m=e.length;m>l;l++)this._unset(i,e[l]);this._unset(i,\"cookie\",\"\",!0)}a.polyfills&&a.polyfills(h,i),this.loaded=!0,setTimeout(function(){g.callback(g)},0)}},_getHtml:function(b){var c,d=b.stylesheets,e=\"\",f=0;if(d=\"string\"==typeof d?[d]:d)for(c=d.length;c>f;f++)e+='<link rel=\"stylesheet\" href=\"'+d[f]+'\">';return b.stylesheets=e,a.lang.string('<!DOCTYPE html><html><head><meta charset=\"#{charset}\">#{stylesheets}</head><body></body></html>').interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(f){}try{b.__defineGetter__(c,function(){return d})}catch(f){}if(e)try{b.__defineSetter__(c,function(){})}catch(f){}if(!a.browser.crashesWhenDefineProperty(c))try{var g={get:function(){return d}};e&&(g.set=function(){}),Object.defineProperty(b,c,g)}catch(f){}}})}(wysihtml5),function(a){var b=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(b,c,d){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.config.className||(this.config.className=\"wysihtml5-sandbox\"),d?this.element=this._bindElement(d):this.element=this._createElement()},destroy:function(){},_createElement:function(){var a=b.createElement(\"div\");return a.className=this.config.className,this._loadElement(a),a},_bindElement:function(a){return a.className=a.className?a.className+\" wysihtml5-sandbox\":\"wysihtml5-sandbox\",this._loadElement(a,!0),a},_loadElement:function(a,b){var c=this;if(!b){var d=this._getHtml();a.innerHTML=d}this.loaded=!0,setTimeout(function(){c.callback(c)},0)},_getHtml:function(a){return\"\"}})}(wysihtml5),function(){var a={className:\"class\"};wysihtml5.dom.setAttributes=function(b){return{on:function(c){for(var d in b)c.setAttribute(a[d]||d,b[d])}}}}(),wysihtml5.dom.setStyles=function(a){return{on:function(b){var c=b.style;if(\"string\"==typeof a)return void(c.cssText+=\";\"+a);for(var d in a)\"float\"===d?(c.cssFloat=a[d],c.styleFloat=a[d]):c[d]=a[d]}}},function(a){a.simulatePlaceholder=function(b,c,d,e){var f=e||\"wysihtml5-placeholder\",g=function(){var b=c.element.offsetWidth>0&&c.element.offsetHeight>0;c.hasPlaceholderSet()&&(c.clear(),c.element.focus(),b&&setTimeout(function(){var a=c.selection.getSelection();a.focusNode&&a.anchorNode||c.selection.selectNode(c.element.firstChild||c.element)},0)),c.placeholderSet=!1,a.removeClass(c.element,f)},h=function(){c.isEmpty()&&!c.placeholderSet&&(c.placeholderSet=!0,c.setValue(d,!1),a.addClass(c.element,f))};b.on(\"set_placeholder\",h).on(\"unset_placeholder\",g).on(\"focus:composer\",g).on(\"paste:composer\",g).on(\"blur:composer\",h),h()}}(wysihtml5.dom),function(a){var b=document.documentElement;\"textContent\"in b?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):\"innerText\"in b?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(a,b){var c=!wysihtml5.browser.supportsGetAttributeCorrectly();b=b.toLowerCase();var d=a.nodeName;if(\"IMG\"==d&&\"src\"==b&&wysihtml5.dom.isLoadedImage(a)===!0)return a.src;if(c&&\"outerHTML\"in a){var e=a.outerHTML.toLowerCase(),f=-1!=e.indexOf(\" \"+b+\"=\");return f?a.getAttribute(b):null}return a.getAttribute(b)},wysihtml5.dom.getAttributes=function(a){var b,c=!wysihtml5.browser.supportsGetAttributeCorrectly(),d=a.nodeName,e=[];for(b in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(b)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,b))&&a.attributes[b].specified&&(\"IMG\"==d&&\"src\"==a.attributes[b].name.toLowerCase()&&wysihtml5.dom.isLoadedImage(a)===!0?e.src=a.src:wysihtml5.lang.array([\"rowspan\",\"colspan\"]).contains(a.attributes[b].name.toLowerCase())&&c?1!==a.attributes[b].value&&(e[a.attributes[b].name]=a.attributes[b].value):e[a.attributes[b].name]=a.attributes[b].value);return e},wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(\":-moz-broken\")}catch(b){if(a.complete&&\"complete\"===a.readyState)return!0}},function(a){function b(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)if(c=a[e].querySelectorAll(b))for(var g=c.length;g--;d.unshift(c[g]));return d}function d(a){a.parentNode.removeChild(a)}function e(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function f(a,b){for(var c=a.nextSibling;1!=c.nodeType;)if(c=c.nextSibling,!b||b==c.tagName.toLowerCase())return c;return null}var g=a.dom,h=function(a){this.el=a,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},i=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{query:\"table\"})):b&&(this.table=b,this.cell=this.table.querySelectorAll(\"th, td\")[0])};i.prototype={addSpannedCellToMap:function(a,b,c,d,e,f){for(var g=[],i=c+(f?parseInt(f,10)-1:0),j=d+(e?parseInt(e,10)-1:0),k=c;i>=k;k++){\"undefined\"==typeof b[k]&&(b[k]=[]);for(var l=d;j>=l;l++)b[k][l]=new h(a),b[k][l].isColspan=e&&parseInt(e,10)>1,b[k][l].isRowspan=f&&parseInt(f,10)>1,b[k][l].firstCol=l==d,b[k][l].lastCol=l==j,b[k][l].firstRow=k==c,b[k][l].lastRow=k==i,b[k][l].isReal=l==d&&k==c,b[k][l].spanCollection=g,g.push(b[k][l])}},setCellAsModified:function(a){if(a.modified=!0,a.spanCollection.length>0)for(var b=0,c=a.spanCollection.length;c>b;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a,b,c,d,e,f,i,j,k=[],l=this.getTableRows();for(a=0;a<l.length;a++)for(b=l[a],c=this.getRowCells(b),f=0,\"undefined\"==typeof k[a]&&(k[a]=[]),d=0;d<c.length;d++){for(e=c[d];\"undefined\"!=typeof k[a][f];)f++;i=g.getAttribute(e,\"colspan\"),j=g.getAttribute(e,\"rowspan\"),i||j?(this.addSpannedCellToMap(e,k,a,f,i,j),f+=i?parseInt(i,10):1):(k[a][f]=new h(e),f++)}return this.map=k,k},getRowCells:function(c){var d=this.table.querySelectorAll(\"table\"),e=d?b(d,\"th, td\"):[],f=c.querySelectorAll(\"th, td\"),g=e.length>0?a.lang.array(f).without(e):f;return g},getTableRows:function(){var c=this.table.querySelectorAll(\"table\"),d=c?b(c,\"tr\"):[],e=this.table.querySelectorAll(\"tr\"),f=d.length>0?a.lang.array(e).without(d):e;return f},getMapIndex:function(a){for(var b=this.map.length,c=this.map&&this.map[0]?this.map[0].length:0,d=0;b>d;d++)for(var e=0;c>e;e++)if(this.map[d][e].el===a)return{row:d,col:e};return!1},getElementAtIndex:function(a){return this.setTableMap(),this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var c=this.idx_start;this.idx_start=this.idx_end,this.idx_end=c}if(this.idx_start.col>this.idx_end.col){var d=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=d}if(null!=this.idx_start&&null!=this.idx_end)for(var e=this.idx_start.row,f=this.idx_end.row;f>=e;e++)for(var g=this.idx_start.col,h=this.idx_end.col;h>=g;g++)b.push(this.map[e][g].el);return b},orderSelectionEnds:function(a){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,c){for(var d,e=this.table.ownerDocument,f=e.createDocumentFragment(),g=0;b>g;g++){if(d=e.createElement(a),c)for(var h in c)c.hasOwnProperty(h)&&d.setAttribute(h,c[h]);d.appendChild(document.createTextNode(\" \")),f.appendChild(d)}return f},correctColIndexForUnreals:function(a,b){for(var c=this.map[b],d=-1,e=0;a>e;e++)c[e].isReal&&d++;return d},getLastNewCellOnRow:function(a,b){for(var c,d,e=this.getRowCells(a),f=0,g=e.length;g>f;f++)if(c=e[f],d=this.getMapIndex(c),d===!1||\"undefined\"!=typeof b&&d.row!=b)return c;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll(\"td, th\");return a&&0!=a.length?!1:(d(this.table),!0)},splitRowToCells:function(a){if(a.isColspan){var b=parseInt(g.getAttribute(a.el,\"colspan\")||1,10),c=a.el.tagName.toLowerCase();if(b>1){var d=this.createCells(c,b-1);e(a.el,d)}a.el.removeAttribute(\"colspan\")}},getRealRowEl:function(a,b){var c=null,d=null;b=b||this.idx;for(var e=0,f=this.map[b.row].length;f>e;e++)if(d=this.map[b.row][e],d.isReal&&(c=g.getParentElement(d.el,{query:\"tr\"})))return c;return null===c&&a&&(c=g.getParentElement(this.map[b.row][b.col].el,{query:\"tr\"})||null),c},injectRowAt:function(a,b,c,d,f){var h=this.getRealRowEl(!1,{row:a,col:b}),i=this.createCells(d,c);if(h){var j=this.correctColIndexForUnreals(b,a);j>=0?e(this.getRowCells(h)[j],i):h.insertBefore(i,h.firstChild)}else{var k=this.table.ownerDocument.createElement(\"tr\");k.appendChild(i),e(g.getParentElement(f.el,{query:\"tr\"}),k)}},canMerge:function(a){if(this.to=a,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}for(var d=this.idx_start.row,e=this.idx_end.row;e>=d;d++)for(var f=this.idx_start.col,g=this.idx_end.col;g>=f;f++)if(this.map[d][f].isColspan||this.map[d][f].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var c=parseInt(g.getAttribute(a.el,b),10)-1;c>=1?a.el.setAttribute(b,c):(a.el.removeAttribute(b),\"colspan\"==b&&(a.isColspan=!1),\"rowspan\"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,b,c,e,f,h,i;if(this.setTableMap(),this.map){for(c=0,e=this.map.length;e>c;c++){for(a=this.map[c],i=!0,f=0,h=a.length;h>f;f++)if(b=a[f],!(g.getAttribute(b.el,\"rowspan\")&&parseInt(g.getAttribute(b.el,\"rowspan\"),10)>1&&b.firstRow!==!0)){i=!1;break}if(i)for(f=0;h>f;f++)this.decreaseCellSpan(a[f],\"rowspan\")}var j=this.getTableRows();for(c=0,e=j.length;e>c;c++)a=j[c],0==a.childNodes.length&&/^\\s*$/.test(a.textContent||a.innerText)&&d(a)}},fillMissingCells:function(){var a=0,b=0,c=null;if(this.setTableMap(),this.map){a=this.map.length;for(var d=0;a>d;d++)this.map[d].length>b&&(b=this.map[d].length);for(var f=0;a>f;f++)for(var g=0;b>g;g++)this.map[f]&&!this.map[f][g]&&g>0&&(this.map[f][g]=new h(this.createCells(\"td\",1)),c=this.map[f][g-1],c&&c.el&&c.el.parent&&e(this.map[f][g-1].el,this.map[f][g].el))}},rectify:function(){return this.removeEmptyTable()?!1:(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,\"colspan\")?parseInt(g.getAttribute(a.el,\"colspan\"),10):1,c=a.el.tagName.toLowerCase();if(a.isRowspan){var d=parseInt(g.getAttribute(a.el,\"rowspan\"),10);if(d>1)for(var e=1,f=d-1;f>=e;e++)this.injectRowAt(this.idx.row+e,this.idx.col,b,c,a);a.el.removeAttribute(\"rowspan\")}this.splitRowToCells(a)}},merge:function(a){if(this.rectify())if(this.canMerge(a)){for(var b=this.idx_end.row-this.idx_start.row+1,c=this.idx_end.col-this.idx_start.col+1,e=this.idx_start.row,f=this.idx_end.row;f>=e;e++)for(var g=this.idx_start.col,h=this.idx_end.col;h>=g;g++)e==this.idx_start.row&&g==this.idx_start.col?(b>1&&this.map[e][g].el.setAttribute(\"rowspan\",b),c>1&&this.map[e][g].el.setAttribute(\"colspan\",c)):(/^\\s*<br\\/?>\\s*$/.test(this.map[e][g].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=\" \"+this.map[e][g].el.innerHTML),d(this.map[e][g].el));this.rectify()}else window.console&&console.log(\"Do not know how to merge allready merged cells.\")},collapseCellToNextRow:function(a){var b=this.getMapIndex(a.el),c=b.row+1,d={row:c,col:b.col};if(c<this.map.length){var f=this.getRealRowEl(!1,d);if(null!==f){var h=this.correctColIndexForUnreals(d.col,d.row);if(h>=0)e(this.getRowCells(f)[h],a.el);else{var i=this.getLastNewCellOnRow(f,c);null!==i?e(i,a.el):f.insertBefore(a.el,f.firstChild)}parseInt(g.getAttribute(a.el,\"rowspan\"),10)>2?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)-1):a.el.removeAttribute(\"rowspan\")}}},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):d(a.el):parseInt(g.getAttribute(a.el,\"rowspan\"),10)>2?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)-1):a.el.removeAttribute(\"rowspan\")},getRowElementsByCell:function(){var a=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=this.map[this.idx.row],c=0,d=b.length;d>c;c++)b[c].isReal&&a.push(b[c].el);return a},getColumnElementsByCell:function(){var a=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=0,c=this.map.length;c>b;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=g.getParentElement(this.cell,{query:\"tr\"});if(a){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=this.map[this.idx.row],c=0,e=b.length;e>c;c++)b[c].modified||(this.setCellAsModified(b[c]),this.removeRowCell(b[c]));d(a)}},removeColCell:function(a){a.isColspan?parseInt(g.getAttribute(a.el,\"colspan\"),10)>2?a.el.setAttribute(\"colspan\",parseInt(g.getAttribute(a.el,\"colspan\"),10)-1):a.el.removeAttribute(\"colspan\"):a.isReal&&d(a.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var a=0,b=this.map.length;b>a;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case\"row\":this.removeRow();break;case\"column\":this.removeColumn()}this.rectify()}},addRow:function(a){var b=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),\"below\"==a&&g.getAttribute(this.cell,\"rowspan\")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,\"rowspan\"),10)-1),this.idx!==!1){for(var c=this.map[this.idx.row],d=b.createElement(\"tr\"),f=0,h=c.length;h>f;f++)c[f].modified||(this.setCellAsModified(c[f]),this.addRowCell(c[f],d,a));switch(a){case\"below\":e(this.getRealRowEl(!0),d);break;case\"above\":var i=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:\"tr\"});i&&i.parentNode.insertBefore(d,i)}}},addRowCell:function(a,b,d){var e=a.isColspan?{colspan:g.getAttribute(a.el,\"colspan\")}:null;a.isReal?\"above\"!=d&&a.isRowspan?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)+1):b.appendChild(this.createCells(\"td\",1,e)):\"above\"!=d&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells(\"td\",1,e)):c.isRowspan&&a.el.attr(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)+1)},add:function(a){this.rectify()&&((\"below\"==a||\"above\"==a)&&this.addRow(a),(\"before\"==a||\"after\"==a)&&this.addColumn(a))},addColCell:function(a,b,d){var f,h=a.el.tagName.toLowerCase();switch(d){case\"before\":f=!a.isColspan||a.firstCol;break;case\"after\":f=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(f){switch(d){case\"before\":a.el.parentNode.insertBefore(this.createCells(h,1),a.el);break;case\"after\":e(a.el,this.createCells(h,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,b+1,d)}else a.el.setAttribute(\"colspan\",parseInt(g.getAttribute(a.el,\"colspan\"),10)+1)},addColumn:function(a){var b,c;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),\"after\"==a&&g.getAttribute(this.cell,\"colspan\")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,\"colspan\"),10)-1),this.idx!==!1)for(var d=0,e=this.map.length;e>d;d++)b=this.map[d],b[this.idx.col]&&(c=b[this.idx.col],c.modified||(this.setCellAsModified(c),this.addColCell(c,d,a)))},handleCellAddWithRowspan:function(a,b,c){for(var d,h,i,j=parseInt(g.getAttribute(this.cell,\"rowspan\"),10)-1,k=g.getParentElement(a.el,{query:\"tr\"}),l=a.el.tagName.toLowerCase(),m=this.table.ownerDocument,n=0;j>n;n++)if(d=this.correctColIndexForUnreals(this.idx.col,b+n),k=f(k,\"tr\"))if(d>0)switch(c){case\"before\":h=this.getRowCells(k),d>0&&this.map[b+n][this.idx.col].el!=h[d]&&d==h.length-1?e(h[d],this.createCells(l,1)):h[d].parentNode.insertBefore(this.createCells(l,1),h[d]);break;case\"after\":e(this.getRowCells(k)[d],this.createCells(l,1))}else k.insertBefore(this.createCells(l,1),k.firstChild);else i=m.createElement(\"tr\"),i.appendChild(this.createCells(l,1)),\nthis.table.appendChild(i)}},g.table={getCellsBetween:function(a,b){var c=new i(a);return c.getMapElsTo(b)},addCells:function(a,b){var c=new i(a);c.add(b)},removeCells:function(a,b){var c=new i(a);c.remove(b)},mergeCellsBetween:function(a,b){var c=new i(a);c.merge(b)},unmergeCell:function(a){var b=new i(a);b.unmerge()},orderSelectionEnds:function(a,b){var c=new i(a);return c.orderSelectionEnds(b)},indexOf:function(a){var b=new i(a);return b.setTableMap(),b.getMapIndex(a)},findCell:function(a,b){var c=new i(null,a);return c.getElementAtIndex(b)},findRowByCell:function(a){var b=new i(a);return b.getRowElementsByCell()},findColumnByCell:function(a){var b=new i(a);return b.getColumnElementsByCell()},canMerge:function(a,b){var c=new i(a);return c.canMerge(b)}}}(wysihtml5),wysihtml5.dom.query=function(a,b){var c,d=[];a.nodeType&&(a=[a]);for(var e=0,f=a.length;f>e;e++)if(c=a[e].querySelectorAll(b))for(var g=c.length;g--;d.unshift(c[g]));return d},wysihtml5.dom.compareDocumentPosition=function(){var a=document.documentElement;return a.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)}:function(a,b){var c,d;if(c=9===a.nodeType?a:a.ownerDocument,d=9===b.nodeType?b:b.ownerDocument,a===b)return 0;if(a===b.ownerDocument)return 20;if(a.ownerDocument===b)return 10;if(c!==d)return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(b))return 20;if(2===b.nodeType&&b.childNodes&&-1!==wysihtml5.lang.array(b.childNodes).indexOf(a))return 10;for(var e=a,f=[],g=null;e;){if(e==b)return 10;f.push(e),e=e.parentNode}for(e=b,g=null;e;){if(e==a)return 20;var h=wysihtml5.lang.array(f).indexOf(e);if(-1!==h){var i=f[h],j=wysihtml5.lang.array(i.childNodes).indexOf(f[h-1]),k=wysihtml5.lang.array(i.childNodes).indexOf(g);return j>k?2:4}g=e,e=e.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(a){var b=[];if(a.parentNode){for(;a.lastChild;)b.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return b},wysihtml5.dom.getPastedHtml=function(a){var b;return wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains(\"text/html\")?b=a.clipboardData.getData(\"text/html\"):wysihtml5.lang.array(a.clipboardData.types).contains(\"text/plain\")&&(b=wysihtml5.lang.string(a.clipboardData.getData(\"text/plain\")).escapeHTML(!0,!0))),b},wysihtml5.dom.getPastedHtmlWithDiv=function(a,b){var c=a.selection.getBookmark(),d=a.element.ownerDocument,e=d.createElement(\"DIV\"),f=a.getScrollPos();d.body.appendChild(e),e.style.width=\"1px\",e.style.height=\"1px\",e.style.overflow=\"hidden\",e.style.position=\"absolute\",e.style.top=f.y+\"px\",e.style.left=f.x+\"px\",e.setAttribute(\"contenteditable\",\"true\"),e.focus(),setTimeout(function(){var d;a.selection.setBookmark(c),d=e.innerHTML,d&&/^<br\\/?>$/i.test(d.trim())&&(d=!1),b(d),e.parentNode.removeChild(e)},0)},wysihtml5.dom.removeInvisibleSpaces=function(a){for(var b=wysihtml5.dom.getTextNodes(a),c=b.length;c--;)b[c].nodeValue=b[c].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")},wysihtml5.quirks.cleanPastedHTML=function(){var a=function(a){var b=wysihtml5.lang.string(a).trim(),c=b.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\");return new RegExp(\"^((?!^\"+c+\"$).)*$\",\"i\")},b=function(b,c){var d,e,f=wysihtml5.lang.object(b).clone(!0);for(d in f.tags)if(f.tags.hasOwnProperty(d)&&f.tags[d].keep_styles)for(e in f.tags[d].keep_styles)f.tags[d].keep_styles.hasOwnProperty(e)&&c[e]&&(f.tags[d].keep_styles[e]=a(c[e]));return f},c=function(a,b){var c;if(!a)return null;for(var d=0,e=a.length;e>d;d++)if(a[d].condition||(c=a[d].set),a[d].condition&&a[d].condition.test(b))return a[d].set;return c};return function(a,d){var e,f={color:wysihtml5.dom.getStyle(\"color\").from(d.referenceNode),fontSize:wysihtml5.dom.getStyle(\"font-size\").from(d.referenceNode)},g=b(c(d.rules,a)||{},f);return e=wysihtml5.dom.parse(a,{rules:g,cleanUp:!0,context:d.referenceNode.ownerDocument,uneditableClass:d.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();(\"<p>&nbsp;</p>\"==b||\"<p>&nbsp;</p><p>&nbsp;</p>\"==b)&&(a.innerHTML=\"\")},0)};return function(b){wysihtml5.dom.observe(b.element,[\"cut\",\"keydown\"],a)}}(),function(a){var b=\"%7E\";a.quirks.getCorrectInnerHTML=function(c){var d=c.innerHTML;if(-1===d.indexOf(b))return d;var e,f,g,h,i=c.querySelectorAll(\"[href*='~'], [src*='~']\");for(h=0,g=i.length;g>h;h++)e=i[h].href||i[h].src,f=a.lang.string(e).replace(\"~\").by(b),d=a.lang.string(d).replace(f).by(e);return d}}(wysihtml5),function(a){var b=\"wysihtml5-quirks-redraw\";a.quirks.redraw=function(c){a.dom.addClass(c,b),a.dom.removeClass(c,b);try{var d=c.ownerDocument;d.execCommand(\"italic\",!1,null),d.execCommand(\"italic\",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(a,b){function c(){return a.addEventListener(\"mousedown\",n),l}function d(c){l.start=c,l.end=c,l.cells=[c],l.table=k.getParentElement(l.start,{query:\"table\"},!1,a),l.table&&(e(),k.addClass(c,m),a.addEventListener(\"mousemove\",g),a.addEventListener(\"mouseup\",h),b.fire(\"tableselectstart\").fire(\"tableselectstart:composer\"))}function e(){if(a){var b=a.querySelectorAll(\".\"+m);if(b.length>0)for(var c=0;c<b.length;c++)k.removeClass(b[c],m)}}function f(a){for(var b=0;b<a.length;b++)k.addClass(a[b],m)}function g(c){var d,g=null,h=k.getParentElement(c.target,{query:\"td, th\"},!1,a);h&&l.table&&l.start&&(g=k.getParentElement(h,{query:\"table\"},!1,a),g&&g===l.table&&(e(),d=l.end,l.end=h,l.cells=k.table.getCellsBetween(l.start,h),l.cells.length>1&&b.composer.selection.deselect(),f(l.cells),l.end!==d&&b.fire(\"tableselectchange\").fire(\"tableselectchange:composer\")))}function h(c){a.removeEventListener(\"mousemove\",g),a.removeEventListener(\"mouseup\",h),b.fire(\"tableselect\").fire(\"tableselect:composer\"),setTimeout(function(){i()},0)}function i(){a.ownerDocument.addEventListener(\"click\",o)}function j(c,d){l.start=c,l.end=d,l.table=k.getParentElement(l.start,{query:\"table\"},!1,a),selectedCells=k.table.getCellsBetween(l.start,l.end),f(selectedCells),i(),b.fire(\"tableselect\").fire(\"tableselect:composer\")}var k=wysihtml5.dom,l={table:null,start:null,end:null,cells:null,select:j},m=\"wysiwyg-tmp-selected-cell\",n=function(b){var c=wysihtml5.dom.getParentElement(b.target,{query:\"td, th\"},!1,a);c&&d(c)},o=function(c){a.ownerDocument.removeEventListener(\"click\",o),k.getParentElement(c.target,{query:\"table\"},!1,a)!=l.table&&(e(),l.table=null,l.start=null,l.end=null,b.fire(\"tableunselect\").fire(\"tableunselect:composer\"))};return c()},function(a){function b(a){var b,c;for(b in d)if(d.hasOwnProperty(b)&&(c=d[b],c.regex.test(a)))return c}function c(a){var c=b(a);return c?c.name:void 0}var d={rgba:{regex:/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([\\d\\.]+)\\s*\\)/i,name:\"rgba\"},rgb:{regex:/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)/i,name:\"rgb\"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:\"hex\",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:\"hex\",radix:16}},e=function(a){return new RegExp(\"(^|\\\\s|;)\"+a+\"\\\\s*:\\\\s*[^;$]+\",\"gi\")};a.quirks.styleParser={getColorParseMethod:b,getColorFormat:c,parseColor:function(c,f){var g,h,i,j,k,l=c;if(f){if(g=e(f),!(h=c.match(g)))return!1;h=h.pop().split(\":\")[1],l=a.lang.string(h).trim()}return(i=b(l))&&(j=l.match(i.regex))?(k=i.radix||10,i===d.hex3?(j.shift(),j.push(1),a.lang.array(j).map(function(a,b){return 3>b?parseInt(a,k)*k+parseInt(a,k):parseFloat(a)})):(j.shift(),j[3]||j.push(1),a.lang.array(j).map(function(a,b){return 3>b?parseInt(a,k):parseFloat(a)}))):!1},unparseColor:function(a,b){var c=16;return\"hex\"===b?(a[0].toString(c)+a[1].toString(c)+a[2].toString(c)).toUpperCase():\"hash\"===b?\"#\"+(a[0].toString(c)+a[1].toString(c)+a[2].toString(c)).toUpperCase():\"rgb\"===b?\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\":\"rgba\"===b?\"rgba(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]+\")\":\"csv\"===b?a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]:a[3]&&1!==a[3]?\"rgba(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]+\")\":\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\"},parseFontSize:function(b){var c=b.match(e(\"font-size\"));return c?a.lang.string(c[c.length-1].split(\":\")[1]).trim():!1}}}(wysihtml5),function(a){function b(a){var b=0;if(a.parentNode)do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}function c(a,b){for(var c=0;b!==a;)if(c++,b=b.parentNode,!b)throw new Error(\"not a descendant of ancestor!\");return c}function d(b){var c=document.createElement(\"span\"),d=function(a){b.removeEventListener(\"mouseup\",d),b.removeEventListener(\"keydown\",d),b.removeEventListener(\"touchstart\",d),b.removeEventListener(\"focus\",d),b.removeEventListener(\"blur\",d),b.removeEventListener(\"paste\",e),b.removeEventListener(\"drop\",e),b.removeEventListener(\"beforepaste\",e),c&&c.parentNode&&c.parentNode.removeChild(c)},e=function(a){c&&c.parentNode&&setTimeout(d,0)};return c.appendChild(document.createTextNode(a.INVISIBLE_SPACE)),c.className=\"_wysihtml5-temp-caret-fix\",c.style.display=\"block\",c.style.minWidth=\"1px\",c.style.height=\"0px\",b.addEventListener(\"mouseup\",d),b.addEventListener(\"keydown\",d),b.addEventListener(\"touchstart\",d),b.addEventListener(\"focus\",d),b.addEventListener(\"blur\",d),b.addEventListener(\"paste\",e),b.addEventListener(\"drop\",e),b.addEventListener(\"beforepaste\",e),c}function e(a){if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,d=c(b,a.startContainer),e=c(b,a.endContainer);!a.canSurroundContents();)d>e?(a.setStartBefore(a.startContainer),d=c(b,a.startContainer)):(a.setEndAfter(a.endContainer),e=c(b,a.endContainer))}var f=a.dom;a.Selection=Base.extend({constructor:function(a,b,c){window.rangy.init(),this.editor=a,this.composer=a.composer,this.doc=this.composer.doc,this.win=this.composer.win,this.contain=b,this.unselectableClass=c||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);return b.setStartBefore(a),b.setEndBefore(a),this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var c=this.doc.createElement(\"span\"),d=this.doc.createTextNode(a.INVISIBLE_SPACE),e=function(b){var d;this.contain.removeEventListener(\"mouseup\",e),this.contain.removeEventListener(\"keydown\",g),this.contain.removeEventListener(\"touchstart\",e),this.contain.removeEventListener(\"focus\",e),this.contain.removeEventListener(\"blur\",e),this.contain.removeEventListener(\"paste\",f),this.contain.removeEventListener(\"drop\",f),this.contain.removeEventListener(\"beforepaste\",f),c&&c.parentNode&&(c.innerHTML=c.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,\"\"),/[^\\s]+/.test(c.innerHTML)?(d=c.lastChild,a.dom.unwrap(c),this.setAfter(d)):c.parentNode.removeChild(c))}.bind(this),f=function(a){c&&c.parentNode&&setTimeout(e,0)},g=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||e()};return c.className=\"_wysihtml5-temp-caret-fix\",c.style.position=\"absolute\",c.style.display=\"block\",c.style.minWidth=\"1px\",c.style.zIndex=\"99999\",c.appendChild(d),b.parentNode.insertBefore(c,b.nextSibling),this.setBefore(d),this.contain.addEventListener(\"mouseup\",e),this.contain.addEventListener(\"keydown\",g),this.contain.addEventListener(\"touchstart\",e),this.contain.addEventListener(\"focus\",e),this.contain.addEventListener(\"blur\",e),this.contain.addEventListener(\"paste\",f),this.contain.addEventListener(\"drop\",f),this.contain.addEventListener(\"beforepaste\",f),c},setAfter:function(b,c,d){var e,f=this.win,g=rangy.createRange(this.doc),h=function(){var d=b.parentNode,g=d?d.childNodes[d.childNodes.length-1]:null;if(!e||g===b&&1===b.nodeType&&\"block\"===f.getComputedStyle(b).display)if(c){var h=this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(h,b.nextSibling),this.selectNode(h),setTimeout(function(){h&&h.parentNode&&h.parentNode.removeChild(h)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this);if(g.setStartAfter(b),g.setEndAfter(b),document.activeElement&&document.activeElement===this.composer.element)e=this.setSelection(g),h(),d&&d(e);else{var i=this.composer.getScrollPos();this.composer.element.focus(),this.composer.setScrollPos(i),setTimeout(function(){e=this.setSelection(g),h(),d&&d(e)}.bind(this),0)}},selectNode:function(b,c){var d=rangy.createRange(this.doc),e=b.nodeType===a.ELEMENT_NODE,g=\"canHaveHTML\"in b?b.canHaveHTML:\"IMG\"!==b.nodeName,h=e?b.innerHTML:b.data,i=\"\"===h||h===a.INVISIBLE_SPACE,j=f.getStyle(\"display\").from(b),k=\"block\"===j||\"list-item\"===j;if(i&&e&&g&&!c)try{b.innerHTML=a.INVISIBLE_SPACE}catch(l){}g?d.selectNodeContents(b):d.selectNode(b),g&&i&&e?d.collapse(k):g&&i&&(d.setStartAfter(b),d.setEndAfter(b)),this.setSelection(d)},getSelectedNode:function(a){var b,c;return a&&this.doc.selection&&\"Control\"===this.doc.selection.type&&(c=this.doc.selection.createRange(),c&&c.length)?c.item(0):(b=this.getSelection(this.doc),b.focusNode===b.anchorNode?b.focusNode:(c=this.getRange(this.doc),c?c.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var a=this.getRange();e(a),this.setSelection(a)},getSelectedOwnNodes:function(a){for(var b=this.getOwnRanges(),c=[],d=0,e=b.length;e>d;d++)c.push(b[d].commonAncestorContainer||this.doc.body);return c},findNodesInSelection:function(b){for(var c,d=this.getOwnRanges(),e=[],f=0,g=d.length;g>f;f++)c=d[f].getNodes([1],function(c){return a.lang.array(b).contains(c.nodeName)}),e=e.concat(c);return e},filterElements:function(a){for(var b,c=this.getOwnRanges(),d=[],e=0,f=c.length;f>e;e++)b=c[e].getNodes([1],function(b){return a(b,c[e])}),d=d.concat(b);return d},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),c=0,d=a.length;d>c;c++)if(b.containsNode(a[c]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a),this.setSelection(a)},deleteRangeContents:function(b){var c,d,e,f;if(this.unselectableClass){(c=a.dom.getParentElement(b.startContainer,{query:\".\"+this.unselectableClass},!1,this.contain))&&b.setStartBefore(c),(d=a.dom.getParentElement(b.endContainer,{query:\".\"+this.unselectableClass},!1,this.contain))&&b.setEndAfter(d),e=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this));for(var g=e.length;g--;)try{f=new CustomEvent(\"wysihtml5:uneditable:delete\"),e[g].dispatchEvent(f)}catch(h){}}b.deleteContents()},getPreviousNode:function(b,c){var d;if(!b){var e=this.getSelection();b=e.anchorNode}if(b===this.contain)return!1;var f,g=b.previousSibling;return g===this.contain?!1:(g&&3!==g.nodeType&&1!==g.nodeType?g=this.getPreviousNode(g,c):g&&3===g.nodeType&&/^\\s*$/.test(g.textContent)?g=this.getPreviousNode(g,c):c&&g&&1===g.nodeType?(d=a.dom.getStyle(\"display\").from(g),a.lang.array([\"BR\",\"HR\",\"IMG\"]).contains(g.nodeName)||a.lang.array([\"block\",\"inline-block\",\"flex\",\"list-item\",\"table\"]).contains(d)||!/^[\\s]*$/.test(g.innerHTML)||(g=this.getPreviousNode(g,c))):g||b===this.contain||(f=b.parentNode,f!==this.contain&&(g=this.getPreviousNode(f,c))),g!==this.contain?g:!1)},getSelectionParentsByTag:function(b){for(var c,d=this.getSelectedOwnNodes(),e=[],f=0,g=d.length;g>f;f++)c=d[f].nodeName&&\"LI\"===d[f].nodeName?d[f]:a.dom.getParentElement(d[f],{query:\"li\"},!1,this.contain),c&&e.push(c);return e.length?e:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,c=a.startOffset,d=rangy.createRange(this.doc);return d.selectNodeContents(b),d.setStart(b,c),d}},caretIsLastInSelection:function(){var a=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),b=a.textContent;return/^\\s*$/.test(b)},caretIsFirstInSelection:function(){var b=rangy.createRange(this.doc),c=this.getSelection(),d=this.getRange(),e=d.startContainer;return e?e.nodeType===a.TEXT_NODE?this.isCollapsed()&&e.nodeType===a.TEXT_NODE&&/^\\s*$/.test(e.data.substr(0,d.startOffset)):(b.selectNodeContents(this.getRange().commonAncestorContainer),b.collapse(!0),this.isCollapsed()&&(b.startContainer===c.anchorNode||b.endContainer===c.anchorNode)&&b.startOffset===c.anchorOffset):void 0},caretIsInTheBeginnig:function(b){var c=this.getSelection(),d=c.anchorNode,e=c.anchorOffset;return b&&d?0===e&&(d.nodeName&&d.nodeName===b.toUpperCase()||a.dom.getParentElement(d.parentNode,{query:b},1)):d?0===e&&!this.getPreviousNode(d,!0):void 0},getBeforeSelection:function(b){var c,d,e=this.getSelection(),f=e.isBackwards()?e.focusNode:e.anchorNode,g=e.isBackwards()?e.focusOffset:e.anchorOffset,h=this.createRange();if(d=a.dom.getParentElement(f,{query:\"._wysihtml5-temp-caret-fix\"},1),d&&(f=d.parentNode,g=Array.prototype.indexOf.call(f.childNodes,d)),f){if(g>0)return 3===f.nodeType?(h.setStart(f,0),h.setEnd(f,g),{type:\"text\",range:h,offset:g,node:f}):(h.setStartBefore(f.childNodes[0]),c=f.childNodes[g-1],h.setEndAfter(c),{type:\"element\",range:h,offset:g,node:c});if(h.setStartAndEnd(f,0),b){var i=this.getPreviousNode(f,!0),j=null;if(i&&(j=1===i.nodeType&&a.dom.hasClass(i,this.unselectableClass)?i:a.dom.domNode(i).lastLeafNode()),j)return{type:\"leafnode\",range:h,offset:g,node:j}}return{type:\"none\",range:h,offset:g,node:f}}return null},executeAndRestoreRangy:function(a,b){var c=rangy.saveSelection(this.win);if(c)try{a()}catch(d){setTimeout(function(){throw d},0)}else a();rangy.restoreSelection(c)},executeAndRestore:function(b,c){var d,e,g,h,i,j,k,l,m=this.doc.body,n=c&&m.scrollTop,o=c&&m.scrollLeft,p=\"_wysihtml5-temp-placeholder\",q='<span class=\"'+p+'\">'+a.INVISIBLE_SPACE+\"</span>\",r=this.getRange(!0);if(!r)return void b(m,m);r.collapsed||(k=r.cloneRange(),j=k.createContextualFragment(q),k.collapse(!1),k.insertNode(j),k.detach()),i=r.createContextualFragment(q),r.insertNode(i),j&&(d=this.contain.querySelectorAll(\".\"+p),r.setStartBefore(d[0]),r.setEndAfter(d[d.length-1])),this.setSelection(r);try{b(r.startContainer,r.endContainer)}catch(s){setTimeout(function(){throw s},0)}if(d=this.contain.querySelectorAll(\".\"+p),d&&d.length){l=rangy.createRange(this.doc),g=d[0].nextSibling,d.length>1&&(h=d[d.length-1].previousSibling),h&&g?(l.setStartBefore(g),l.setEndAfter(h)):(e=this.doc.createTextNode(a.INVISIBLE_SPACE),f.insert(e).after(d[0]),l.setStartBefore(e),l.setEndAfter(e)),this.setSelection(l);for(var t=d.length;t--;)d[t].parentNode.removeChild(d[t])}else this.contain.focus();c&&(m.scrollTop=n,m.scrollLeft=o);try{d.parentNode.removeChild(d)}catch(u){}},set:function(a,b){var c=rangy.createRange(this.doc);c.setStart(a,b||0),this.setSelection(c)},insertHTML:function(a){var b,c,d=this.getRange(),e=this.doc.createElement(\"DIV\"),f=this.doc.createDocumentFragment();if(d){for(d.deleteContents(),e.innerHTML=a,b=e.lastChild;e.firstChild;)f.appendChild(e.firstChild);for(d.insertNode(f),c=this.contain.lastChild;c&&3===c.nodeType&&c.previousSibling&&/^\\s*$/.test(c.data);)c=c.previousSibling;b&&(c&&b===c&&1===b.nodeType&&this.contain.appendChild(this.doc.createElement(\"br\")),this.setAfter(b))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,c,d=[\"area\",\"base\",\"br\",\"col\",\"command\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"],e=this.getRange();return b=a||e.startContainer,b&&(c=(b.tagName||b.nodeName).toLowerCase()),-1===d.indexOf(c)},splitElementAtCaret:function(b,c){var d,e,f,g,h,i=this.getSelection();if(i.rangeCount>0){d=i.getRangeAt(0).cloneRange(),d.setEndAfter(b),e=d.extractContents(),h=e.childNodes;for(var j=h.length;j--;)a.dom.domNode(h[j]).is.visible()||e.removeChild(h[j]);b.parentNode.insertBefore(e,b.nextSibling),c?(f=c.firstChild||c,g=c.lastChild||c,b.parentNode.insertBefore(c,b.nextSibling),f&&g&&(d.setStartBefore(f),d.setEndAfter(g),this.setSelection(d))):(d.setStartAfter(b),d.setEndAfter(b)),a.dom.domNode(b).is.visible()||(\"\"===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(\" \"),b))}},surround:function(a){var b,c=this.getOwnRanges(),d=[];if(0==c.length)return d;for(var e=c.length;e--;){b=this.doc.createElement(a.nodeName),d.push(b),a.className&&(b.className=a.className),a.cssStyle&&b.setAttribute(\"style\",a.cssStyle);try{c[e].surroundContents(b),this.selectNode(b)}catch(f){b.appendChild(c[e].extractContents()),c[e].insertNode(b)}}return d},deblockAndSurround:function(b){var c,d,e,f=this.doc.createElement(\"div\"),g=rangy.createRange(this.doc);if(f.className=b.className,this.composer.commands.exec(\"formatBlock\",b),c=this.contain.querySelectorAll(\".\"+b.className),c[0])for(c[0].parentNode.insertBefore(f,c[0]),g.setStartBefore(c[0]),g.setEndAfter(c[c.length-1]),d=g.extractContents();d.firstChild;)if(e=d.firstChild,1==e.nodeType&&a.dom.hasClass(e,b.className)){for(;e.firstChild;)f.appendChild(e.firstChild);\"BR\"!==e.nodeName&&f.appendChild(this.doc.createElement(\"br\")),d.removeChild(e)}else f.appendChild(e);else f=null;return f},scrollIntoView:function(){var c,d=this.doc,e=5,f=d.documentElement.scrollHeight>d.documentElement.offsetHeight,g=d._wysihtml5ScrollIntoViewElement=d._wysihtml5ScrollIntoViewElement||function(){var b=d.createElement(\"span\");return b.innerHTML=a.INVISIBLE_SPACE,b}();f&&(this.insertNode(g),c=b(g),g.parentNode.removeChild(g),c>=d.body.scrollTop+d.documentElement.offsetHeight-e&&(d.body.scrollTop=c))},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),c=function(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")},d=function(a){return 1===a.nodeType?a.childNodes&&a.childNodes.length||0:a.data&&a.data.length||0},e=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,f=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode;f&&a.focusOffset===d(f)&&f.nextSibling&&c(f.nextSibling)&&b.setEndAfter(f.nextSibling),e&&0===a.anchorOffset&&e.previousSibling&&c(e.previousSibling)&&b.setStartBefore(e.previousSibling),b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify(\"move\",\"left\",\"lineboundary\"),a.modify(\"extend\",\"right\",\"lineboundary\"),a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,c){if(c=\"undefined\"==typeof c?!1:c,a.browser.supportsSelectionModify()){var d=this.win.getSelection();d.modify(\"extend\",b,\"lineboundary\"),c&&(\"left\"===b?d.collapseToStart():\"right\"===b&&d.collapseToEnd())}},getRangeRect:function(a){var b,c=(this.doc.createTextNode(\"i\"),this.doc.createTextNode(\"i\"));return a.collapsed?(a.insertNode(c),a.selectNode(c),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect(),b},_selectLineUniversal:function(){var b,c,d,e,f,g,h=this.getSelection(),i=h.getRangeAt(0),j=0,k=this,l=function(b){return b&&1===b.nodeType&&(\"block\"===k.win.getComputedStyle(b).display||a.lang.array([\"BR\",\"HR\"]).contains(b.nodeName))},m=function(a){var b=a;if(b)for(;b&&(1===b.nodeType&&b.classList.contains(\"rangySelectionBoundary\")||3===b.nodeType&&/^\\s*$/.test(b.data));)b=b.previousSibling;return b};c=i.cloneRange(),d=i.cloneRange(),i.collapsed&&(3===i.startContainer.nodeType&&i.startOffset<i.startContainer.data.length?i.moveEnd(\"character\",1):1===i.startContainer.nodeType&&i.startContainer.childNodes[i.startOffset]&&3===i.startContainer.childNodes[i.startOffset].nodeType&&i.startContainer.childNodes[i.startOffset].data.length>0?i.moveEnd(\"character\",1):i.startOffset>0&&(3===i.startContainer.nodeType||1===i.startContainer.nodeType&&!l(m(i.startContainer.childNodes[i.startOffset-1])))&&i.moveStart(\"character\",-1)),i.collapsed||i.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE)),b=i.nativeRange.getBoundingClientRect();do e=i.moveStart(\"character\",-1),f=i.nativeRange.getBoundingClientRect(),f&&Math.floor(f.top)===Math.floor(b.top)||(i.moveStart(\"character\",1),g=!0),j++;while(0!==e&&!g&&2e3>j);j=0,g=!1,b=i.nativeRange.getBoundingClientRect();do e=i.moveEnd(\"character\",1),f=i.nativeRange.getBoundingClientRect(),f&&Math.floor(f.bottom)===Math.floor(b.bottom)||(i.moveEnd(\"character\",-1),i.endContainer&&1===i.endContainer.nodeType&&i.endContainer.childNodes[i.endOffset]&&1===i.endContainer.childNodes[i.endOffset].nodeType&&\"BR\"===i.endContainer.childNodes[i.endOffset].nodeName&&i.endContainer.childNodes[i.endOffset].previousSibling&&(1===i.endContainer.childNodes[i.endOffset].previousSibling.nodeType?i.setEnd(i.endContainer.childNodes[i.endOffset].previousSibling,i.endContainer.childNodes[i.endOffset].previousSibling.childNodes.length):3===i.endContainer.childNodes[i.endOffset].previousSibling.nodeType&&i.setEnd(i.endContainer.childNodes[i.endOffset].previousSibling,i.endContainer.childNodes[i.endOffset].previousSibling.data.length)),g=!0),j++;while(0!==e&&!g&&2e3>j);i.select(),this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():\"\"},getNodes:function(a,b){var c=this.getRange();return c?c.getNodes(Array.isArray(a)?a:[a],b):[]},getOwnNodes:function(a,b,c){for(var d=this.getOwnRanges(),e=[],f=0,g=d.length;g>f;f++)d[f]&&(c&&d[f].splitBoundaries(),e=e.concat(d[f].getNodes(Array.isArray(a)?a:[a],b)));return e},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);if(2!==b)1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(a)){var c=a.endContainer.previousElementSibling;c&&a.setEnd(c,this._endOffsetForNode(c))}}},_endOffsetForNode:function(a){var b=document.createRange();return b.selectNodeContents(a),b.endOffset},_detectInlineRangeProblems:function(a){var b=f.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&4&b},getRange:function(a){var b=this.getSelection(),c=b&&b.rangeCount&&b.getRangeAt(0);return a!==!0&&this.fixRangeOverflow(c),c},getOwnUneditables:function(){var b=f.query(this.contain,\".\"+this.unselectableClass),c=f.query(b,\".\"+this.unselectableClass);return a.lang.array(b).without(c)},getOwnRanges:function(){var a,b=[],c=this.getRange();if(c&&b.push(c),this.unselectableClass&&this.contain&&c){var d,e=this.getOwnUneditables();if(e.length>0)for(var f=0,g=e.length;g>f;f++){a=[];for(var h=0,i=b.length;i>h;h++){if(b[h])switch(b[h].compareNode(e[f])){case 2:break;case 3:d=b[h].cloneRange(),d.setEndBefore(e[f]),a.push(d),d=b[h].cloneRange(),d.setStartAfter(e[f]),a.push(d);break;default:a.push(b[h])}b=a}}}return b},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);return b.setSingleRange(a),b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var b,c=this.createRange(),e=this.composer,f=this,g=d(this.composer.element),h=d(this.composer.element),i=function(){c.setStart(e.element,0),c.setEnd(e.element,e.element.childNodes.length),b=f.setSelection(c)},j=function(){return!b||b.nativeSelection&&b.nativeSelection.type&&(\"Caret\"===b.nativeSelection.type||\"None\"===b.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element),i(),this.composer.element.firstChild&&j()&&(this.composer.element.appendChild(g),i(),j()&&(g.parentNode.removeChild(g),this.composer.element.insertBefore(h,this.composer.element.firstChild),i(),j()&&(this.composer.element.appendChild(g),i())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var c=this.getRange(),d=c.commonAncestorContainer,e=c.startContainer,f=c.endContainer;if(d.nodeType===a.TEXT_NODE&&(d=d.parentNode),e.nodeType===a.TEXT_NODE&&!/^\\s*$/.test(e.data.substr(c.startOffset)))return!1;if(f.nodeType===a.TEXT_NODE&&!/^\\s*$/.test(f.data.substr(c.endOffset)))return!1;for(;e&&e!==d;){if(e.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,e))return!1;if(a.dom.domNode(e).prev({ignoreBlankTexts:!0}))return!1;e=e.parentNode}for(;f&&f!==d;){if(f.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,f))return!1;if(a.dom.domNode(f).next({ignoreBlankTexts:!0}))return!1;f=f.parentNode}return a.lang.array(b).contains(d.nodeName)?d:!1},isInThisEditable:function(){var b=this.getSelection(),c=b.focusNode,d=b.anchorNode;return c&&1!==c.nodeType&&(c=c.parentNode),d&&1!==d.nodeType&&(d=d.parentNode),d&&c&&(a.dom.contains(this.composer.element,c)||this.composer.element===c)&&(a.dom.contains(this.composer.element,d)||this.composer.element===d)},deselect:function(){var a=this.getSelection();a&&a.removeAllRanges()}})}(wysihtml5),function(a,b){function c(a,b,c){if(!a.className)return!1;var d=a.className.match(c)||[];return d[d.length-1]===b}function d(a,b){if(!a.getAttribute||!a.getAttribute(\"style\"))return!1;a.getAttribute(\"style\").match(b);return a.getAttribute(\"style\").match(b)?!0:!1}function e(a,b,c){a.getAttribute(\"style\")?(h(a,c),a.getAttribute(\"style\")&&!/^\\s*$/.test(a.getAttribute(\"style\"))?a.setAttribute(\"style\",b+\";\"+a.getAttribute(\"style\")):a.setAttribute(\"style\",b)):a.setAttribute(\"style\",b)}function f(a,b,c){a.className?(g(a,c),a.className+=\" \"+b):a.className=b}function g(a,b){a.className&&(a.className=a.className.replace(b,\"\"))}function h(a,b){var c,d=[];if(a.getAttribute(\"style\")){c=a.getAttribute(\"style\").split(\";\");for(var e=c.length;e--;)c[e].match(b)||/^\\s*$/.test(c[e])||d.push(c[e]);d.length?a.setAttribute(\"style\",d.join(\";\")):a.removeAttribute(\"style\")}}function i(a,b){var c=[],d=b.split(\";\"),e=a.getAttribute(\"style\");if(e){e=e.replace(/\\s/gi,\"\").toLowerCase(),c.push(new RegExp(\"(^|\\\\s|;)\"+b.replace(/\\s/gi,\"\").replace(/([\\(\\)])/gi,\"\\\\$1\").toLowerCase().replace(\";\",\";?\").replace(/rgb\\\\\\((\\d+),(\\d+),(\\d+)\\\\\\)/gi,\"\\\\s?rgb\\\\($1,\\\\s?$2,\\\\s?$3\\\\)\"),\"gi\"));for(var f=d.length;f-->0;)/^\\s*$/.test(d[f])||c.push(new RegExp(\"(^|\\\\s|;)\"+d[f].replace(/\\s/gi,\"\").replace(/([\\(\\)])/gi,\"\\\\$1\").toLowerCase().replace(\";\",\";?\").replace(/rgb\\\\\\((\\d+),(\\d+),(\\d+)\\\\\\)/gi,\"\\\\s?rgb\\\\($1,\\\\s?$2,\\\\s?$3\\\\)\"),\"gi\"));for(var g=0,h=c.length;h>g;g++)if(e.match(c[g]))return c[g]}return!1}function j(c,d,e,f){return e?i(c,e):f?a.dom.hasClass(c,f):b.dom.arrayContains(d,c.tagName.toLowerCase())}function k(a,b,c,d){for(var e=a.length;e--;)if(!j(a[e],b,c,d))return!1;return a.length?!0:!1}function l(a,b,c){var d=i(a,b);return d?(h(a,d),\"remove\"):(e(a,b,c),\"change\")}function m(a,b){return a.className.replace(u,\" \")==b.className.replace(u,\" \")}function n(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}function o(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c,d,e,f=0,g=a.attributes.length;g>f;++f)if(c=a.attributes[f],e=c.name,\"class\"!=e){if(d=b.attributes.getNamedItem(e),c.specified!=d.specified)return!1;if(c.specified&&c.nodeValue!==d.nodeValue)return!1}return!0}function p(a,c){return b.dom.isCharacterDataNode(a)?0==c?!!a.previousSibling:c==a.length?!!a.nextSibling:!0:c>0&&c<a.childNodes.length}function q(a,c,d,e){var f;if(b.dom.isCharacterDataNode(c)&&(0==d?(d=b.dom.getNodeIndex(c),c=c.parentNode):d==c.length?(d=b.dom.getNodeIndex(c)+1,c=c.parentNode):f=b.dom.splitDataNode(c,d)),!(f||e&&c===e)){f=c.cloneNode(!1),f.id&&f.removeAttribute(\"id\");for(var g;g=c.childNodes[d];)f.appendChild(g);b.dom.insertAfter(f,c)}return c==a?f:q(a,f.parentNode,b.dom.getNodeIndex(f),e)}function r(b){this.isElementMerge=b.nodeType==a.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?b.lastChild:b,this.textNodes=[this.firstTextNode]}function s(a,b,c,d,e,f,g){this.tagNames=a||[t],this.cssClass=b||(b===!1?!1:\"\"),this.similarClassRegExp=c,this.cssStyle=e||\"\",this.similarStyleRegExp=f,this.normalize=d,this.applyToAnyTagName=!1,this.container=g}var t=\"span\",u=/\\s+/g;\nr.prototype={doMerge:function(){for(var a,b,c,d=[],e=0,f=this.textNodes.length;f>e;++e)a=this.textNodes[e],b=a.parentNode,d[e]=a.data,e&&(b.removeChild(a),b.hasChildNodes()||b.parentNode.removeChild(b));return this.firstTextNode.data=c=d.join(\"\"),c},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=0,c=this.textNodes.length;c>b;++b)a[b]=\"'\"+this.textNodes[b].data+\"'\";return\"[Merge(\"+a.join(\",\")+\")]\"}},s.prototype={getAncestorWithClass:function(d){for(var e;d;){if(e=this.cssClass?c(d,this.cssClass,this.similarClassRegExp):\"\"!==this.cssStyle?!1:!0,d.nodeType==a.ELEMENT_NODE&&\"false\"!=d.getAttribute(\"contenteditable\")&&b.dom.arrayContains(this.tagNames,d.tagName.toLowerCase())&&e)return d;d=d.parentNode}return!1},getAncestorWithStyle:function(c){for(var e;c;){if(e=this.cssStyle?d(c,this.similarStyleRegExp):!1,c.nodeType==a.ELEMENT_NODE&&\"false\"!=c.getAttribute(\"contenteditable\")&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&e)return c;c=c.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),c=!1;return b?this.cssStyle&&(c=\"class\"):(b=this.getAncestorWithStyle(a),b&&(c=\"style\")),{element:b,type:c}},postApply:function(a,b){for(var c,d,e,f=a[0],g=a[a.length-1],h=[],i=f,j=g,k=0,l=g.length,m=0,n=a.length;n>m;++m)d=a[m],e=null,d&&d.parentNode&&(e=this.getAdjacentMergeableTextNode(d.parentNode,!1)),e?(c||(c=new r(e),h.push(c)),c.textNodes.push(d),d===f&&(i=c.firstTextNode,k=i.length),d===g&&(j=c.firstTextNode,l=c.getLength())):c=null;if(g&&g.parentNode){var o=this.getAdjacentMergeableTextNode(g.parentNode,!0);o&&(c||(c=new r(g),h.push(c)),c.textNodes.push(o))}if(h.length){for(m=0,n=h.length;n>m;++m)h[m].doMerge();b.setStart(i,k),b.setEnd(j,l)}},getAdjacentMergeableTextNode:function(b,c){var d,e=b.nodeType==a.TEXT_NODE,f=e?b.parentNode:b,g=c?\"nextSibling\":\"previousSibling\";if(e){if(d=b[g],d&&d.nodeType==a.TEXT_NODE)return d}else if(d=f[g],d&&this.areElementsMergeable(b,d))return d[c?\"firstChild\":\"lastChild\"];return null},areElementsMergeable:function(a,c){return b.dom.arrayContains(this.tagNames,(a.tagName||\"\").toLowerCase())&&b.dom.arrayContains(this.tagNames,(c.tagName||\"\").toLowerCase())&&m(a,c)&&o(a,c)},createContainer:function(a){var b=a.createElement(this.tagNames[0]);return this.cssClass&&(b.className=this.cssClass),this.cssStyle&&b.setAttribute(\"style\",this.cssStyle),b},applyToTextNode:function(a){var c=a.parentNode;if(1==c.childNodes.length&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase()))this.cssClass&&f(c,this.cssClass,this.similarClassRegExp),this.cssStyle&&e(c,this.cssStyle,this.similarStyleRegExp);else{var d=this.createContainer(b.dom.getDocument(a));a.parentNode.insertBefore(d,a),d.appendChild(a)}},isRemovable:function(c){return b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&\"\"===a.lang.string(c.className).trim()&&(!c.getAttribute(\"style\")||\"\"===a.lang.string(c.getAttribute(\"style\")).trim())},undoToTextNode:function(a,b,c,d){var e=c?!1:!0,f=c||d,h=!1;if(!b.containsNode(f)){var i=b.cloneRange();i.selectNode(f),i.isPointInRange(b.endContainer,b.endOffset)&&p(b.endContainer,b.endOffset)&&(q(f,b.endContainer,b.endOffset,this.container),b.setEndAfter(f)),i.isPointInRange(b.startContainer,b.startOffset)&&p(b.startContainer,b.startOffset)&&(f=q(f,b.startContainer,b.startOffset,this.container))}!e&&this.similarClassRegExp&&g(f,this.similarClassRegExp),e&&this.similarStyleRegExp&&(h=\"change\"===l(f,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(f)&&!h&&n(f)},applyToRange:function(b){for(var c,d=b.length;d--;){if(c=b[d].getNodes([a.TEXT_NODE]),!c.length)try{var e=this.createContainer(b[d].endContainer.ownerDocument);return b[d].surroundContents(e),void this.selectNode(b[d],e)}catch(f){}if(b[d].splitBoundaries(),c=b[d].getNodes([a.TEXT_NODE]),c.length){for(var g,h=0,i=c.length;i>h;++h)g=c[h],this.getMatchingAncestor(g).element||this.applyToTextNode(g);b[d].setStart(c[0],0),g=c[c.length-1],b[d].setEnd(g,g.length),this.normalize&&this.postApply(c,b[d])}}},undoToRange:function(b){for(var c,d,e,f=b.length;f--;){if(c=b[f].getNodes([a.TEXT_NODE]),c.length)b[f].splitBoundaries(),c=b[f].getNodes([a.TEXT_NODE]);else{var g=b[f].endContainer.ownerDocument,h=g.createTextNode(a.INVISIBLE_SPACE);b[f].insertNode(h),b[f].selectNode(h),c=[h]}for(var i=0,j=c.length;j>i;++i)b[f].isValid()&&(d=c[i],e=this.getMatchingAncestor(d),\"style\"===e.type?this.undoToTextNode(d,b[f],!1,e.element):e.element&&this.undoToTextNode(d,b[f],e.element));1==j?this.selectNode(b[f],c[0]):(b[f].setStart(c[0],0),d=c[c.length-1],b[f].setEnd(d,d.length),this.normalize&&this.postApply(c,b[f]))}},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e=\"canHaveHTML\"in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data,g=\"\"===f||f===a.INVISIBLE_SPACE;if(g&&d&&e)try{c.innerHTML=a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c),g&&d?b.collapse(!1):g&&(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),e=d?d.toString():\"\";return c.detach(),e},isAppliedToRange:function(b){for(var c,d,e=[],f=\"full\",g=b.length;g--;){if(d=b[g].getNodes([a.TEXT_NODE]),!d.length)return c=this.getMatchingAncestor(b[g].startContainer).element,c?{elements:[c],coverage:f}:!1;for(var h,i=0,j=d.length;j>i;++i)h=this.getTextSelectedByRange(d[i],b[g]),c=this.getMatchingAncestor(d[i]).element,c&&\"\"!=h?(e.push(c),1===a.dom.getTextNodes(c,!0).length?f=\"full\":\"full\"===f&&(f=\"inline\")):c||(f=\"partial\")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b,c=this.isAppliedToRange(a);c?\"full\"===c.coverage?this.undoToRange(a):\"inline\"===c.coverage?(b=k(c.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):(k(c.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}},a.selection.HTMLApplier=s}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.exec,f=null;if(this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array([\"styleWithCSS\",\"enableObjectResizing\",\"enableInlineTableEditing\"]).contains(a)&&(this.composer.element.innerHTML=\"\",this.composer.selection.selectNode(this.composer.element)),this.editor.fire(\"beforecommand:composer\"),e)d.unshift(this.composer),f=e.apply(c,d);else try{f=this.doc.execCommand(a,!1,b)}catch(g){}return this.editor.fire(\"aftercommand:composer\"),f},remove:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.remove;return e?(d.unshift(this.composer),e.apply(c,d)):void 0},state:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.state;if(e)return d.unshift(this.composer),e.apply(c,d);try{return this.doc.queryCommandState(a)}catch(f){return!1}},stateValue:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&&b.stateValue;return d?(c.unshift(this.composer),d.apply(b,c)):!1}}),function(a){var b={nodeName:\"B\",toggle:!0};a.commands.bold={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){function b(b){return a.lang.object({}).merge(c).merge({attribute:b}).get()}var c={nodeName:\"A\",toggle:!1};a.commands.createLink={exec:function(c,d,e){var f=b(e);if(c.selection.isCollapsed()&&!this.state(c,d)){var g=c.doc.createTextNode(f.attribute.href);c.selection.insertNode(g),c.selection.selectNode(g)}a.commands.formatInline.exec(c,d,f)},state:function(b,d){return a.commands.formatInline.state(b,d,c)}}}(wysihtml5),function(a){var b={nodeName:\"A\"};a.commands.removeLink={exec:function(c,d){a.commands.formatInline.remove(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b=/wysiwyg-font-size-[0-9a-z\\-]+/g;a.commands.fontSize={exec:function(c,d,e){a.commands.formatInline.exec(c,d,{className:\"wysiwyg-font-size-\"+e,classRegExp:b,toggle:!0})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{className:\"wysiwyg-font-size-\"+d})}}}(wysihtml5),function(a){a.commands.fontSizeStyle={exec:function(b,c,d){d=d.size||d,/^\\s*$/.test(d)||a.commands.formatInline.exec(b,c,{styleProperty:\"fontSize\",styleValue:d,toggle:!1})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{styleProperty:\"fontSize\",styleValue:d||void 0})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"fontSize\"})},stateValue:function(b,c){var d,e=this.state(b,c);return e&&a.lang.object(e).isArray()&&(e=e[0]),e&&(d=e.getAttribute(\"style\"))?a.quirks.styleParser.parseFontSize(d):!1}}}(wysihtml5),function(a){var b=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(c,d,e){a.commands.formatInline.exec(c,d,{className:\"wysiwyg-color-\"+e,classRegExp:b,toggle:!0})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{className:\"wysiwyg-color-\"+d})}}}(wysihtml5),function(a){a.commands.foreColorStyle={exec:function(b,c,d){var e,f;d&&(e=a.quirks.styleParser.parseColor(\"color:\"+(d.color||d),\"color\"),e&&(f=(1===e[3]?\"rgb(\"+[e[0],e[1],e[2]].join(\", \"):\"rgba(\"+e.join(\", \"))+\")\",a.commands.formatInline.exec(b,c,{styleProperty:\"color\",styleValue:f})))},state:function(b,c,d){var e,f=d?a.quirks.styleParser.parseColor(\"color:\"+(d.color||d),\"color\"):null;return f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\"),a.commands.formatInline.state(b,c,{styleProperty:\"color\",styleValue:e})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"color\"})},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&&a.lang.object(f).isArray()&&(f=f[0]),f&&(e=f.getAttribute(\"style\"))?(g=a.quirks.styleParser.parseColor(e,\"color\"),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){a.commands.bgColorStyle={exec:function(b,c,d){var e,f=a.quirks.styleParser.parseColor(\"background-color:\"+(d.color||d),\"background-color\");f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\",a.commands.formatInline.exec(b,c,{styleProperty:\"backgroundColor\",styleValue:e}))},state:function(b,c,d){var e,f=d?a.quirks.styleParser.parseColor(\"background-color:\"+(d.color||d),\"background-color\"):null;return f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\"),a.commands.formatInline.state(b,c,{styleProperty:\"backgroundColor\",styleValue:e})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"backgroundColor\"})},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&&a.lang.object(f).isArray()&&(f=f[0]),f&&(e=f.getAttribute(\"style\"))?(g=a.quirks.styleParser.parseColor(e,\"background-color\"),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){function b(a){return{nodeName:a.nodeName||null,className:a.classRegExp?null:a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}}function c(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function d(a){return a&&1===a.nodeType&&\"BR\"===a.nodeName}function e(a,b){return a&&1===a.nodeType&&\"block\"===b.win.getComputedStyle(a).display}function f(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")}function g(a,b){return d(a)||e(a,b)}function h(b,c){a.dom.removeInvisibleSpaces(b.element);for(var d,e=b.element,f=e.querySelectorAll(D),g=b.config.classNames.uneditableContainer+[\"\"].concat(D.split(\",\")).join(\", \"+b.config.classNames.uneditableContainer+\" \"),h=e.querySelectorAll(g),i=a.lang.array(f).without(h),j=i.length;j--;)\"\"===i[j].innerHTML.replace(/[\\uFEFF]/g,\"\")&&(d=a.lang.array(c).indexOf(i[j]),d>-1&&c.splice(d,1),i[j].parentNode.removeChild(i[j]));return c}function i(a){return a.config.useLineBreaks?\"DIV\":\"P\"}function j(a,b,c){for(var d=a,e=null;d&&b&&d!==b;)1===d.nodeType&&d.matches(c?D:C)&&(e=d),d=d.parentNode;return e}function k(a,b){for(var c,d,e,f=a,g=null;f&&b&&f!==b;)1===f.nodeType&&f.matches(E)&&(d=f,null===g?(g=f.cloneNode(!1),c=g):(e=f.cloneNode(!1),e.appendChild(g),g=e)),f=f.parentNode;return{parent:d,outerNode:g,innerNode:c}}function l(b,c,d){return b||(b=d.doc.createElement(c.nodeName||i(d)),b.appendChild(d.doc.createTextNode(a.INVISIBLE_SPACE))),c.nodeName&&b.nodeName!==c.nodeName&&(b=B.renameElement(b,c.nodeName)),c.classRegExp&&(b.className=b.className.replace(c.classRegExp,\"\")),c.className&&b.classList.add(c.className),c.styleProperty&&\"undefined\"!=typeof c.styleValue&&(b.style[a.browser.fixStyleKey(c.styleProperty)]=c.styleValue),b}function m(b,c,d){var e,f=b.previousSibling,g=b.nextSibling,h=!1;c.styleProperty&&(b.style[a.browser.fixStyleKey(c.styleProperty)]=\"\"),c.className&&b.classList.remove(c.className),c.classRegExp&&(b.className=b.className.replace(c.classRegExp,\"\")),null!==b.getAttribute(\"class\")&&\"\"===b.getAttribute(\"class\").trim()&&b.removeAttribute(\"class\"),c.nodeName&&b.nodeName.toLowerCase()===c.nodeName.toLowerCase()&&(e=b.getAttribute(\"style\"),e&&\"\"!==e.trim()?b=B.renameElement(b,i(d)):(B.unwrap(b),h=!0)),null!==b.getAttribute(\"style\")&&\"\"===b.getAttribute(\"style\").trim()&&b.removeAttribute(\"style\"),h&&u(f,g,d)}function n(b){for(var c,d,e=b.querySelectorAll(D)||[],f=e.length;f--;)c=a.dom.domNode(e[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),d=a.dom.domNode(e[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),c&&1!==c.nodeType&&\"BR\"!==c.nodeName&&\"\"!==(e[f].innerHTML||e[f].nodeValue||\"\").trim()&&e[f].parentNode.insertBefore(e[f].ownerDocument.createElement(\"BR\"),c),c&&1!==c.nodeType&&\"BR\"!==c.nodeName&&\"\"!==(e[f].innerHTML||e[f].nodeValue||\"\").trim()&&e[f].parentNode.insertBefore(e[f].ownerDocument.createElement(\"BR\"),c),a.dom.unwrap(e[f])}function o(a,b){var c,d=a.startContainer,e=a.endContainer;return d&&1===d.nodeType&&d===e?void(d.firstChild===d.lastChild&&1===a.endOffset&&d!==b.element&&\"LI\"!==d.nodeName&&\"TD\"!==d.nodeName&&(a.setStartBefore(d),a.setEndAfter(e))):d&&1===d.nodeType&&3===e.nodeType?void(d.firstChild===e&&a.endOffset===e.data.length&&d!==b.element&&\"LI\"!==d.nodeName&&\"TD\"!==d.nodeName&&a.setEndAfter(d)):e&&1===e.nodeType&&3===d.nodeType?void(e.firstChild===d&&0===a.startOffset&&e!==b.element&&\"LI\"!==e.nodeName&&\"TD\"!==e.nodeName&&a.setStartBefore(e)):d&&3===d.nodeType&&d===e&&1===d.parentNode.childNodes.length?void(a.endOffset==e.data.length&&0===a.startOffset&&(c=d.parentNode,c!==b.element&&\"LI\"!==c.nodeName&&\"TD\"!==c.nodeName&&(a.setStartBefore(c),a.setEndAfter(c)))):void 0}function p(b){for(var c,d,e,f,g,h,i=[],j=0,k=b.length;k>j;j++)if(1===b[j].startContainer.nodeType&&b[j].startContainer.matches(\"ul, ol\")&&b[j].setStart(b[j].startContainer.childNodes[b[j].startOffset],0),1===b[j].endContainer.nodeType&&b[j].endContainer.matches(\"ul, ol\")&&(h=b[j].endContainer.childNodes[Math.max(b[j].endOffset-1,0)],h.childNodes&&b[j].setEnd(h,h.childNodes.length)),c=b[j].getNodes([1],function(a){return\"LI\"===a.nodeName}),c.length>0){for(d=0,e=c.length;e>d;d++)g=b[j].compareNode(c[d]),(g===b[j].NODE_AFTER||g===b[j].NODE_INSIDE)&&(f=b[j].cloneRange(),h=a.dom.domNode(c[d]).prev({nodeTypes:[1]}),h?f.setEnd(h,h.childNodes.length):c[d].closest(\"ul, ol\")?f.setEndBefore(c[d].closest(\"ul, ol\")):f.setEndBefore(c[d]),i.push(f),b[j].setStart(c[d],0)),(g===b[j].NODE_BEFORE||g===b[j].NODE_INSIDE)&&(f=b[j].cloneRange(),f.setEnd(c[d],c[d].childNodes.length),i.push(f),h=a.dom.domNode(c[d]).next({nodeTypes:[1]}),h?b[j].setStart(h,0):c[d].closest(\"ul, ol\")?b[j].setStartAfter(c[d].closest(\"ul, ol\")):b[j].setStartAfter(c[d]));i.push(b[j])}else i.push(b[j]);return i}function q(b,c,d){var e=b?a.lang.object(b).clone(!0):null;return e&&(e.nodeName=e.nodeName||c||i(d)),e}function r(b,c,d,e){var f,h,i,l,m,n=c.startContainer,e=e||j(n,d.element,!0);if(e)h=b.firstChild,i=b.lastChild,d.selection.splitElementAtCaret(e,b),m=a.dom.domNode(i).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),l=a.dom.domNode(h).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),h&&!g(h,d)&&l&&!g(l,d)&&h.parentNode.insertBefore(d.doc.createElement(\"br\"),h),i&&!g(i,d)&&m&&!g(m,d)&&m.parentNode.insertBefore(d.doc.createElement(\"br\"),m);else if(f=k(n,d.element),f.outerNode&&f.innerNode&&f.parent){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)f.innerNode.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(f.outerNode)}d.selection.splitElementAtCaret(f.parent,b)}else c.insertNode(b)}function s(b,d,e){for(var f,h,i=b.cloneRange(),j=c(i.startContainer,i.startOffset).previousSibling,k=c(i.endContainer,i.endOffset).nextSibling,l=i.extractContents(),m=e.doc.createDocumentFragment(),o=!0;l.firstChild;){if(1===l.firstChild.nodeType&&l.firstChild.matches(D)){n(l.firstChild),f=a.dom.unwrap(l.firstChild),f.length>0&&(m.lastChild&&(1!==m.lastChild.nodeType||!g(m.lastChild,e))||!m.lastChild&&j&&(1!==j.nodeType||g(j,e)))&&m.appendChild(e.doc.createElement(\"BR\"));for(var p=0,q=f.length;q>p;p++)m.appendChild(f[p]);f.length>0&&(1===m.lastChild.nodeType&&g(m.lastChild,e)||(k||m.lastChild!==l.lastChild)&&m.appendChild(e.doc.createElement(\"BR\")))}else m.appendChild(l.firstChild);o=!1}return h=a.lang.array(m.childNodes).get(),r(m,i,e),h}function t(b,c,e){var f=b&&a.dom.domNode(b).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});d(c)&&c.parentNode.removeChild(c),!d(b)||f&&1===f.nodeType&&\"block\"===e.win.getComputedStyle(f).display||b.parentNode.removeChild(b)}function u(a,b,c){var e;a&&f(a)&&(a=a.previousSibling),b&&f(b)&&(b=b.nextSibling),e=a&&a.previousSibling,a&&(1!==a.nodeType||\"block\"!==c.win.getComputedStyle(a).display&&!d(a))&&a.parentNode&&a.parentNode.insertBefore(c.doc.createElement(\"br\"),a.nextSibling),b&&(1!==b.nodeType||\"block\"!==c.win.getComputedStyle(b).display)&&b.parentNode&&b.parentNode.insertBefore(c.doc.createElement(\"br\"),b)}function v(d,e,f,g){var h,i,k=e?b(e):null,m=d.cloneRange(),o=m.startContainer,p=a.dom.domNode(c(m.startContainer,m.startOffset)).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),s=a.dom.domNode(c(m.endContainer,m.endOffset)).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),u=m.extractContents(),v=g.doc.createDocumentFragment(),w=k?a.dom.getParentElement(o,k,null,g.element):null,x=!f||!e||\"BLOCKQUOTE\"===e.nodeName&&\"BLOCKQUOTE\"===f,y=w||j(o,g.element,x);if(e&&\"BLOCKQUOTE\"===e.nodeName){var z=l(null,e,g);z.appendChild(u),v.appendChild(z),i=[z]}else{if(u.firstChild)for(;u.firstChild;)if(1==u.firstChild.nodeType&&u.firstChild.matches(D))l(u.firstChild,e,g),u.firstChild.matches(C)&&n(u.firstChild),v.appendChild(u.firstChild);else{for(h=l(null,q(e,f,g),g);u.firstChild&&(1!==u.firstChild.nodeType||!u.firstChild.matches(D));)1==u.firstChild.nodeType&&h.matches(C)&&n(u.firstChild),h.appendChild(u.firstChild);v.appendChild(h)}else v.appendChild(l(null,e,g));i=a.lang.array(v.childNodes).get()}return r(v,m,g,y),t(p,s,g),i}function w(b,c){var d=a.dom.getParentElement(b,{query:D},null,c.element);return d?d.nodeName:null}function x(b,c){var d,e=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:C+\", \"+(c?c.toLowerCase():\"div\")},null,b.element);e?(d=b.selection.createRange(),d.selectNode(e),b.selection.setSelection(d)):b.isEmpty()||b.selection.selectLine()}function y(a,b){var c=b.selection.createRange(),d=a[a.length-1],e=1===d.nodeType&&d.childNodes?0|d.childNodes.length:d.length||0;c.setStart(a[0],0),c.setEnd(d,e),c.select()}function z(a,b,c){var d,e=b.selection.getOwnRanges(),f=[];e=p(e);for(var g=e.length;g--;)o(e[g],b),d=w(e[g].startContainer,b),f=\"remove\"===a?f.concat(s(e[g],d,b)):f.concat(v(e[g],c,d,b));return f}function A(a){return\"string\"==typeof a&&(a={nodeName:a.toUpperCase()}),a}var B=a.dom,C=\"h1, h2, h3, h4, h5, h6, p, pre\",D=\"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote\",E=\"b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u\";a.commands.formatBlock={exec:function(a,b,c){c=A(c);var d,e,f=[];if(c&&c.toggle&&(e=this.state(a,b,c)),e){d=rangy.saveSelection(a.win);for(var g=0,i=e.length;i>g;g++)m(e[g],c,a)}else a.selection.isCollapsed()&&(d=rangy.saveSelection(a.win),x(a,c&&c.nodeName?c.nodeName.toUpperCase():void 0)),f=c?z(\"apply\",a,c):z(\"remove\",a);f=h(a,f),d?rangy.restoreSelection(d):y(f,a)},remove:function(a,b,c){c=A(c);var d,e;a.selection.isCollapsed()&&(e=rangy.saveSelection(a.win),x(a,c&&c.nodeName?c.nodeName.toUpperCase():void 0)),d=z(\"remove\",a),d=h(a,d),e?rangy.restoreSelection(e):y(d,a)},state:function(b,c,d){d=A(d);for(var e,f=b.selection.filterElements(function(b){return a.dom.domNode(b).test(d||{query:D})}.bind(this)),g=b.selection.getSelectedOwnNodes(),h=0,i=g.length;i>h;h++)e=B.getParentElement(g[h],d||{query:D},null,b.element),e&&-1===f.indexOf(e)&&f.push(e);return 0===f.length?!1:f}}}(wysihtml5),function(a){a.commands.formatCode={exec:function(b,c,d){var e,f,g,h=this.state(b)[0];h?b.selection.executeAndRestore(function(){e=h.querySelector(\"code\"),a.dom.replaceWithChildNodes(h),e&&a.dom.replaceWithChildNodes(e)}):(f=b.selection.getRange(),g=f.extractContents(),h=b.doc.createElement(\"pre\"),e=b.doc.createElement(\"code\"),d&&(e.className=d),h.appendChild(e),e.appendChild(g),f.insertNode(h),b.selection.selectNode(h))},state:function(b){var c,d=b.selection.getSelectedNode();return d&&d.nodeName&&\"PRE\"==d.nodeName&&d.firstChild&&d.firstChild.nodeName&&\"CODE\"==d.firstChild.nodeName?[d]:(c=a.dom.getParentElement(d,{query:\"pre code\"}),c?[c.parentNode]:!1)}}}(wysihtml5),function(a){function b(a){return/^\\s*$/.test(a.className)}function c(a){return!a.getAttribute(\"style\")||/^\\s*$/.test(a.getAttribute(\"style\"))}function d(b){var c=a.dom.getAttributes(b);return a.lang.object(c).isEmpty()}function e(b,c){var d,e,f,g;return 1!==b.nodeType||1!==c.nodeType?!1:b.nodeName!==c.nodeName?!1:(d=b.className.trim().replace(/\\s+/g,\" \").split(\" \"),e=c.className.trim().replace(/\\s+/g,\" \").split(\" \"),a.lang.array(d).without(e).length>0?!1:(f=a.dom.getAttributes(b),g=a.dom.getAttributes(c),f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1))}function f(b,c){var d=c&&c.nodeName||F,e=b.ownerDocument.createElement(d);if(c.classRegExp&&(e.className=e.className.replace(c.classRegExp,\"\")),c.className&&e.classList.add(c.className),c.styleProperty&&\"undefined\"!=typeof c.styleValue&&(e.style[a.browser.fixStyleKey(c.styleProperty)]=c.styleValue),c.attribute)if(\"object\"==typeof c.attribute)for(var f in c.attribute)c.attribute.hasOwnProperty(f)&&e.setAttribute(f,c.attribute[f]);else\"undefined\"!=typeof c.attributeValue&&e.setAttribute(c.attribute,c.attributeValue);return e}function g(a,b){for(var c in a)if(a.hasOwnProperty(c)&&(void 0===typeof b[c]||b[c]!==a[c]))return!1;return!0}function h(b,c,d){var e,f=a.dom.getAttributes(b),h=g(c,f);a.lang.object(f).difference(c);if(h&&d!==!1)for(e in c)c.hasOwnProperty(e)&&b.removeAttribute(e);else for(e in c)c.hasOwnProperty(e)&&b.setAttribute(e,c[e])}function i(e,f){var g,i,j;f.className&&(f.toggle!==!1&&e.classList.contains(f.className)?e.classList.remove(f.className):(f.classRegExp&&(e.className=e.className.replace(f.classRegExp,\"\")),e.classList.add(f.className)),b(e)&&e.removeAttribute(\"class\")),f.styleProperty&&(f.toggle!==!1&&e.style[a.browser.fixStyleKey(f.styleProperty)].trim().replace(/, /g,\",\")===f.styleValue?e.style[a.browser.fixStyleKey(f.styleProperty)]=\"\":e.style[a.browser.fixStyleKey(f.styleProperty)]=f.styleValue),c(e)&&e.removeAttribute(\"style\"),f.attribute&&(\"object\"==typeof f.attribute?g=f.attribute:(g={},g[f.attribute]=f.attributeValue||\"\"),h(e,g,f.toggle)),i=f.nodeName?H[f.nodeName.toLowerCase()]||f.nodeName.toLowerCase():null,j=i?a.dom.domNode(e).test({query:i}):!1,(!f.nodeName||f.nodeName===F||j)&&(f.toggle!==!1&&j||!f.nodeName&&e.nodeName===F)&&b(e)&&c(e)&&d(e)&&a.dom.unwrap(e)}function j(b,c){var d=[];return b.isCollapsed()||(d=d.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},c))),d}function k(a,b,c,d){var e=a,f=d?b:l(b);do{if(1===e.nodeType&&m(e,f))return e;e=e.parentNode}while(e&&e!==c);return null}function l(a){return{nodeName:a.nodeName||null,className:a.classRegExp?null:a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}}function m(b,c){var d;if(c.nodeName){var e=H[c.nodeName.toLowerCase()]||c.nodeName.toLowerCase();return a.dom.domNode(b).test({query:e})}return d=a.lang.object(c).clone(),d.query=G,a.dom.domNode(b).test(d)}function n(b,c){var d=document.documentElement||document.body,e=d.scrollTop,f=d.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(c)}catch(g){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),d.scrollTop=e,d.scrollLeft=f,rangy.getSelection(b.win).addRange(c))}function o(a,b){var c=rangy.createRange(b.doc),d=a[a.length-1];a[0]&&d&&(c.setStart(a[0],0),c.setEnd(d,d.length),n(b,c))}function p(a,b,c,d){var e=rangy.createRange(a.doc);b&&(e.setStart(b,c),e.setEnd(b,\"undefined\"!=typeof d?d:c),n(a,e))}function q(a,b,c){var d,e,f,g=j(a.selection),h=[],i=!1;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){if(f=a.selection.getSelection().anchorNode,!f)return{nodes:[],partial:!1};3===f.nodeType&&(g=[f])}g.length||(e=a.selection.getOwnRanges()[0],e&&(g=[e.endContainer]));for(var l=0,m=g.length;m>l;l++)d=k(g[l],b,a.element,c),d?h.push(d):i=!0}return{nodes:h,partial:i}}function r(a){var b,c,d,e;return a&&(b=a.anchorNode,c=a.anchorOffset,b&&3===b.nodeType&&c>0&&c<b.data.length)?(d=b.data[c-1],e=b.data[c],/\\w/.test(d)&&/\\w/.test(e)):!1}function s(b){var c,d,e,f,g,h,i=[];if(b&&(c=b.anchorNode,d=g=h=b.anchorOffset,e=c.ownerDocument,f=rangy.createRange(e),c&&3===c.nodeType)){for(;g>0&&/\\w/.test(c.data[g-1]);)g--;for(;h<c.data.length&&/\\w/.test(c.data[h]);)h++;return f.setStartAndEnd(c,g,h),f.splitBoundaries(),i=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()}),{wordOffset:d-g,range:f,textNode:i[0]}}return!1}function t(a,b){for(;b.firstChild;)a.appendChild(b.firstChild);b.parentNode.removeChild(b)}function u(a){for(var b=a.length;b--;)a[b]&&a[b].parentNode&&(a[b].nextSibling&&e(a[b],a[b].nextSibling)&&t(a[b],a[b].nextSibling),a[b].previousSibling&&e(a[b],a[b].previousSibling)&&t(a[b].previousSibling,a[b]))}function v(a,b,c){b.length>0&&o(b,a),u(q(a,c).nodes),b.length>0&&o(b,a)}function w(a,b,c,d){p(a,b,c),u(q(a,d).nodes),p(a,b,c)}function x(a,b){var c=f(a,b);a.parentNode.insertBefore(c,a),c.appendChild(a)}function y(b,c,d){var e,f=c.element,g=k(b,d,f);g&&(e=g.cloneNode(!1),a.dom.domNode(b).escapeParent(g,e),i(e,d))}function z(b,c,d){var e=c.element,f=k(b,d,e);f&&a.dom.domNode(b).escapeParent(f)}function A(a,b,c){var d=f(a.endContainer,c);a.surroundContents(d),b.selection.selectNode(d)}function B(b,c,d,e){var f,g,h,j,l=q(b,e,!0),m=b.selection.getSelection();if(c.length){if(l.partial||e.toggle===!1)for(j=c.length;j--;)k(c[j],e,b.element)&&y(c[j],b,e),k(c[j],e,b.element)||x(c[j],e);else for(j=c.length;j--;)y(c[j],b,e);v(b,c,e)}else if(e.toggle!==!1)if(r(m))f=s(m),g=f.textNode,y(f.textNode,b,e),w(b,f.textNode,f.wordOffset,e);else{g=b.doc.createTextNode(a.INVISIBLE_SPACE),h=d.nodes[0].cloneNode(!1),h.appendChild(g),b.selection.splitElementAtCaret(d.nodes[0],h),i(h,e),v(b,[g],e);var n=b.selection.getSelection();if(n.anchorNode&&n.focusNode)try{n.collapseToEnd()}catch(o){}}else for(j=d.nodes.length;j--;)i(d.nodes[j],e)}function C(b,c,d,e){var f,g,h,i=b.selection.getSelection();if(c.length){for(h=c.length;h--;)z(c[h],b,e);v(b,c,e)}else{for(f=i.anchorNode,g=i.anchorOffset,h=d.nodes.length;h--;)a.dom.unwrap(d.nodes[h]);w(b,f,g,e)}}function D(a,b,c){var d,e,f=a.selection.getSelection();if(b.length){for(e=b.length;e--;)x(b[e],c);v(a,b,c)}else if(r(f))d=s(f),x(d.textNode,c),w(a,d.textNode,d.wordOffset,c);else{var g=a.selection.getOwnRanges()[0];g&&A(g,a,c)}}function E(a){return a=\"string\"==typeof a?{nodeName:a}:a,a.nodeName&&(a.nodeName=a.nodeName.toUpperCase()),a}var F=\"SPAN\",G=\"b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u\",H={b:\"b, strong\",strong:\"b, strong\",em:\"em, i\",i:\"em, i\"};a.commands.formatInline={exec:function(a,b,c){c=E(c),a.element.normalize();var d=j(a.selection,!0),e=q(a,c);e.nodes.length>0?B(a,d,e,c):D(a,d,c),a.element.normalize()},remove:function(a,b,c){c=E(c),a.element.normalize();var d=j(a.selection,!0),e=q(a,c);e.nodes.length>0&&C(a,d,e,c),a.element.normalize()},state:function(a,b,c){c=E(c);var d=q(a,c,!0).nodes;return 0===d.length?!1:d}}}(wysihtml5),function(a){var b={nodeName:\"BLOCKQUOTE\",toggle:!0};a.commands.insertBlockQuote={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){a.commands.insertHTML={exec:function(a,b,c){a.selection.insertHTML(c)},state:function(){return!1}}}(wysihtml5),function(a){var b=\"IMG\";a.commands.insertImage={exec:function(c,d,e){e=\"object\"==typeof e?e:{src:e};var f,g,h=c.doc,i=this.state(c);if(i&&!e.src)return c.selection.setBefore(i),g=i.parentNode,g.removeChild(i),a.dom.removeEmptyTextNodes(g),\"A\"!==g.nodeName||g.firstChild||(c.selection.setAfter(g),g.parentNode.removeChild(g)),void a.quirks.redraw(c.element);if(i)for(var j in e)e.hasOwnProperty(j)&&i.setAttribute(\"className\"===j?\"class\":j,e[j]);else{i=h.createElement(b);for(var k in e)i.setAttribute(\"className\"===k?\"class\":k,e[k]);c.selection.insertNode(i),a.browser.hasProblemsSettingCaretAfterImg()?(f=h.createTextNode(a.INVISIBLE_SPACE),c.selection.insertNode(f),c.selection.setAfter(f)):c.selection.setAfter(i)}},state:function(c){var d,e,f,g=c.doc;return a.dom.hasElementWithTagName(g,b)&&(d=c.selection.getSelectedNode())?d.nodeName===b?d:d.nodeType!==a.ELEMENT_NODE?!1:(e=c.selection.getText(),(e=a.lang.string(e).trim())?!1:(f=c.selection.getNodes(a.ELEMENT_NODE,function(a){return\"IMG\"===a.nodeName}),1!==f.length?!1:f[0])):!1}}}(wysihtml5),function(a){var b=\"<br>\"+(a.browser.needsSpaceAfterLineBreak()?\" \":\"\");a.commands.insertLineBreak={exec:function(a,c){a.selection.insertHTML(b)},state:function(){return!1}}}(wysihtml5),function(a){a.commands.insertOrderedList={exec:function(b,c){a.commands.insertList.exec(b,c,\"OL\")},state:function(b,c){return a.commands.insertList.state(b,c,\"OL\")}}}(wysihtml5),function(a){a.commands.insertUnorderedList={exec:function(b,c){a.commands.insertList.exec(b,c,\"UL\")},state:function(b,c){return a.commands.insertList.state(b,c,\"UL\")}}}(wysihtml5),wysihtml5.commands.insertList=function(a){var b=function(a,b){if(a&&a.nodeName){\"string\"==typeof b&&(b=[b]);for(var c=b.length;c--;)if(a.nodeName===b[c])return!0}return!1},c=function(c,d,e){var f={el:null,other:!1};if(c){var g=a.dom.getParentElement(c,{query:\"li\"},!1,e.element),h=\"UL\"===d?\"OL\":\"UL\";b(c,d)?f.el=c:b(c,h)?f={el:c,other:!0}:g&&(b(g.parentNode,d)?f.el=g.parentNode:b(g.parentNode,h)&&(f={el:g.parentNode,other:!0}))}return f.el&&!e.element.contains(f.el)&&(f.el=null),f},d=function(b,c,d){var e,g,h=\"UL\"===c?\"OL\":\"UL\";d.selection.executeAndRestoreRangy(function(){if(e=f(h,d),e.length)for(var i=e.length;i--;)a.dom.renameElement(e[i],c.toLowerCase());else{g=f([\"OL\",\"UL\"],d);for(var j=g.length;j--;)a.dom.resolveList(g[j],d.config.useLineBreaks);a.dom.resolveList(b,d.config.useLineBreaks)}})},e=function(b,c,d){var e=\"UL\"===c?\"OL\":\"UL\";d.selection.executeAndRestoreRangy(function(){for(var g=[b].concat(f(e,d)),h=g.length;h--;)a.dom.renameElement(g[h],c.toLowerCase())})},f=function(a,c){for(var d=c.selection.getOwnRanges(),e=[],f=d.length;f--;)e=e.concat(d[f].getNodes([1],function(c){return b(c,a)}));return e},g=function(b,c){var d;c.selection.isCollapsed()||(d=rangy.saveSelection(c.win));var e,f,g=\"_wysihtml5-temp-\"+(new Date).getTime(),h=c.selection.deblockAndSurround({nodeName:\"div\",\nclassName:g});h.innerHTML=h.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,\"\"),h&&(e=/^(\\s|(<br>))+$/i.test(h.innerHTML),f=a.dom.convertToList(h,b.toLowerCase(),c.parent.config.classNames.uneditableContainer),d&&rangy.restoreSelection(d),e&&c.selection.selectNode(f.querySelector(\"li\"),!0))};return{exec:function(a,b,f){var h=a.doc,i=\"OL\"===f?\"insertOrderedList\":\"insertUnorderedList\",j=a.selection.getSelectedNode(),k=c(j,f,a);k.el?k.other?e(k.el,f,a):d(k.el,f,a):a.commands.support(i)?h.execCommand(i,!1,null):g(f,a)},state:function(a,b,d){var e=a.selection.getSelectedNode(),f=c(e,d,a);return f.el&&!f.other?f.el:!1}}}(wysihtml5),function(a){var b={nodeName:\"I\",toggle:!0};a.commands.italic={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-center\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-left\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-right\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-justify\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"right\",toggle:!0};a.commands.alignRightStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"left\",toggle:!0};a.commands.alignLeftStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"center\",toggle:!0};a.commands.alignCenterStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"justify\",toggle:!0};a.commands.alignJustifyStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}}(wysihtml5),function(a){var b={nodeName:\"U\",toggle:!0};a.commands.underline={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}}(wysihtml5),function(a){a.commands.createTable={exec:function(a,b,c){var d,e,f;if(c&&c.cols&&c.rows&&parseInt(c.cols,10)>0&&parseInt(c.rows,10)>0){for(f=c.tableStyle?'<table style=\"'+c.tableStyle+'\">':\"<table>\",f+=\"<tbody>\",e=0;e<c.rows;e++){for(f+=\"<tr>\",d=0;d<c.cols;d++)f+=\"<td><br></td>\";f+=\"</tr>\"}f+=\"</tbody></table>\",a.commands.exec(\"insertHTML\",f)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.mergeTableCells={exec:function(b,c){b.tableSelection&&b.tableSelection.start&&b.tableSelection.end&&(this.state(b,c)?a.dom.table.unmergeCell(b.tableSelection.start):a.dom.table.mergeCellsBetween(b.tableSelection.start,b.tableSelection.end))},state:function(b,c){if(b.tableSelection){var d=b.tableSelection.start,e=b.tableSelection.end;if(d&&e&&d==e&&(a.dom.getAttribute(d,\"colspan\")&&parseInt(a.dom.getAttribute(d,\"colspan\"),10)>1||a.dom.getAttribute(d,\"rowspan\")&&parseInt(a.dom.getAttribute(d,\"rowspan\"),10)>1))return[d]}return!1}}}(wysihtml5),function(a){a.commands.addTableCells={exec:function(b,c,d){if(b.tableSelection&&b.tableSelection.start&&b.tableSelection.end){var e=a.dom.table.orderSelectionEnds(b.tableSelection.start,b.tableSelection.end);\"before\"==d||\"above\"==d?a.dom.table.addCells(e.start,d):(\"after\"==d||\"below\"==d)&&a.dom.table.addCells(e.end,d),setTimeout(function(){b.tableSelection.select(e.start,e.end)},0)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.deleteTableCells={exec:function(b,c,d){if(b.tableSelection&&b.tableSelection.start&&b.tableSelection.end){var e,f=a.dom.table.orderSelectionEnds(b.tableSelection.start,b.tableSelection.end),g=a.dom.table.indexOf(f.start),h=b.tableSelection.table;a.dom.table.removeCells(f.start,d),setTimeout(function(){e=a.dom.table.findCell(h,g),e||(\"row\"==d&&(e=a.dom.table.findCell(h,{row:g.row-1,col:g.col})),\"column\"==d&&(e=a.dom.table.findCell(h,{row:g.row,col:g.col-1}))),e&&b.tableSelection.select(e,e)},0)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.indentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag(\"LI\");return d?this.tryToPushLiLevel(d,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(b,c){var d,e,f,g,h,i=!1;return c.executeAndRestoreRangy(function(){for(var c=b.length;c--;)g=b[c],d=\"OL\"===g.parentNode.nodeName?\"OL\":\"UL\",e=g.ownerDocument.createElement(d),f=a.dom.domNode(g).prev({nodeTypes:[a.ELEMENT_NODE]}),h=f?f.querySelector(\"ul, ol\"):null,f&&(h?h.appendChild(g):(e.appendChild(g),f.appendChild(e)),i=!0)}),i}}}(wysihtml5),function(a){a.commands.outdentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag(\"LI\");return d?this.tryToPullLiLevel(d,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(b,c){var d,e,f,g,h,i=!1,j=this;return c.selection.executeAndRestoreRangy(function(){for(var k=b.length;k--;)if(g=b[k],g.parentNode&&(d=g.parentNode,\"OL\"===d.tagName||\"UL\"===d.tagName)){if(i=!0,e=a.dom.getParentElement(d.parentNode,{query:\"ol, ul\"},!1,c.element),f=a.dom.getParentElement(d.parentNode,{query:\"li\"},!1,c.element),e&&f)g.nextSibling&&(h=j.getAfterList(d,g),g.appendChild(h)),e.insertBefore(g,f.nextSibling);else{g.nextSibling&&(h=j.getAfterList(d,g),g.appendChild(h));for(var l=g.childNodes.length;l--;)d.parentNode.insertBefore(g.childNodes[l],d.nextSibling);d.parentNode.insertBefore(document.createElement(\"br\"),d.nextSibling),g.parentNode.removeChild(g)}0===d.childNodes.length&&d.parentNode.removeChild(d)}}),i},getAfterList:function(a,b){for(var c=a.nodeName,d=document.createElement(c);b.nextSibling;)d.appendChild(b.nextSibling);return d}}}(wysihtml5),function(a){var b={nodeName:\"SUB\",toggle:!0};a.commands.subscript={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b={nodeName:\"SUP\",toggle:!0};a.commands.superscript={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b=90,c=89,d=8,e=46,f=25,g=\"data-wysihtml5-selection-node\",h=\"data-wysihtml5-selection-offset\",i=('<span id=\"_wysihtml5-undo\" class=\"_wysihtml5-temp\">'+a.INVISIBLE_SPACE+\"</span>\",'<span id=\"_wysihtml5-redo\" class=\"_wysihtml5-temp\">'+a.INVISIBLE_SPACE+\"</span>\",a.dom);a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var a,f=this;this.composer.sandbox.getDocument();i.observe(this.element,\"keydown\",function(a){if(!a.altKey&&(a.ctrlKey||a.metaKey)){var d=a.keyCode,e=d===b&&!a.shiftKey,g=d===b&&a.shiftKey||d===c;e?(f.undo(),a.preventDefault()):g&&(f.redo(),a.preventDefault())}}),i.observe(this.element,\"keydown\",function(b){var c=b.keyCode;c!==a&&(a=c,(c===d||c===e)&&f.transact())}),this.editor.on(\"newword:composer\",function(){f.transact()}).on(\"beforecommand:composer\",function(){f.transact()})},transact:function(){var b,c,d,e,i,j=this.historyStr[this.position-1],k=this.composer.getValue(!1,!1),l=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(k!==j){var m=this.historyStr.length=this.historyDom.length=this.position;m>f&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,l&&(b=this.composer.selection.getRange(),c=b&&b.startContainer?b.startContainer:this.element,d=b&&b.startOffset?b.startOffset:0,c.nodeType===a.ELEMENT_NODE?e=c:(e=c.parentNode,i=this.getChildNodeIndex(e,c)),e.setAttribute(h,d),\"undefined\"!=typeof i&&e.setAttribute(g,i));var n=this.element.cloneNode(!!k);this.historyDom.push(n),this.historyStr.push(k),e&&(e.removeAttribute(h),e.removeAttribute(g))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire(\"undo:composer\"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire(\"redo:composer\"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML=\"\";for(var b=0,c=a.childNodes,d=a.childNodes.length;d>b;b++)this.element.appendChild(c[b].cloneNode(!0));var e,f,i;a.hasAttribute(h)?(e=a.getAttribute(h),i=a.getAttribute(g),f=this.element):(f=this.element.querySelector(\"[\"+h+\"]\")||this.element,e=f.getAttribute(h),i=f.getAttribute(g),f.removeAttribute(h),f.removeAttribute(g)),null!==i&&(f=this.getChildNodeByIndex(f,+i)),this.composer.selection.set(f,e)},getChildNodeIndex:function(a,b){for(var c=0,d=a.childNodes,e=d.length;e>c;c++)if(d[c]===b)return c},getChildNodeByIndex:function(a,b){return a.childNodes[b]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(a,b,c){this.parent=a,this.element=b,this.config=c,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on(\"beforeload\",function(){a.parent.on(\"change_view\",function(b){b===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(\":focus\")!==this.element)try{this.element&&this.element.focus()}catch(a){}},hide:function(){this.element.style.display=\"none\"},show:function(){this.element.style.display=\"\"},disable:function(){this.element.setAttribute(\"disabled\",\"disabled\")},enable:function(){this.element.removeAttribute(\"disabled\")}}),function(a){var b=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:\"composer\",constructor:function(a,b,c){this.base(a,b,c),this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?\"\":\"<br>\"},getValue:function(b,c){var d=this.isEmpty()?\"\":a.quirks.getCorrectInnerHTML(this.element);return b!==!1&&(d=this.parent.parse(d,c===!1?!1:!0)),d},setValue:function(a,b){b!==!1&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(c){this.element.innerText=a}},cleanUp:function(a){var b;this.selection&&this.selection.isInThisEditable()&&(b=rangy.saveSelection(this.win)),this.parent.parse(this.element,void 0,a),b&&rangy.restoreSelection(b)},show:function(){this.editableArea.style.display=this._displayStyle||\"\",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=b.getStyle(\"display\").from(this.editableArea),\"none\"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display=\"none\"},disable:function(){this.parent.fire(\"disable:composer\"),this.element.removeAttribute(\"contentEditable\")},enable:function(){this.parent.fire(\"enable:composer\"),this.element.setAttribute(\"contentEditable\",\"true\")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var c=this.element.lastChild;b&&c&&this.selection&&(\"BR\"===c.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};return\"undefined\"!=typeof this.win.pageYOffset?a.y=this.win.pageYOffset:a.y=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop,\"undefined\"!=typeof this.win.pageXOffset?a.x=this.win.pageXOffset:a.x=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft,a}},setScrollPos:function(a){a&&\"undefined\"!=typeof a.x&&\"undefined\"!=typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute(\"data-placeholder\"):this.textarea.element.getAttribute(\"placeholder\"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\\s|<br>|<\\/br>|<p>|<\\/p>)*$/i.test(a)||\"\"===a||\"<br>\"===a||\"<p></p>\"===a||\"<p><br></p>\"===a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new b.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new b.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),b.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=this;this.sandbox=new b.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getIframe();var c=this.textarea.element;b.insert(this.editableArea).after(c),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement(\"input\");a.type=\"hidden\",a.name=\"_wysihtml5_mode\",a.value=1,b.insert(a).after(this.textarea.element)}},_create:function(){var d=this;this.doc=this.sandbox.getDocument(),this.win=this.sandbox.getWindow(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer),this.commands=new a.Commands(this.parent),this.config.noTextarea||b.copyAttributes([\"className\",\"spellcheck\",\"title\",\"lang\",\"dir\",\"accessKey\"]).from(this.textarea.element).to(this.element),this._initAutoLinking(),b.addClass(this.element,this.config.classNames.composer),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var e=this.config.name;e&&(b.addClass(this.element,e),this.config.contentEditableMode||b.addClass(this.editableArea,e)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var f=\"string\"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute(\"data-placeholder\"):this.textarea.element.getAttribute(\"placeholder\");f&&b.simulatePlaceholder(this.parent,this,f,this.config.classNames.placeholder),this.commands.exec(\"styleWithCSS\",!1),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute(\"autofocus\")&&document.querySelector(\":focus\")!=this.textarea.element||c.isIos()||setTimeout(function(){d.focus(!0)},100),c.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire(\"beforeload\").fire(\"load\")},_initAutoLinking:function(){var d=this,e=c.canDisableAutoLinking(),f=c.doesAutoLinkingInContentEditable();if(e&&this.commands.exec(\"AutoUrlDetect\",!1,!1),this.config.autoLink){(!f||f&&e)&&(this.parent.on(\"newword:composer\",function(){if(b.getTextContent(d.element).match(b.autoLink.URL_REG_EXP)){for(var c=d.selection.getSelectedNode(),e=d.element.querySelectorAll(\".\"+d.config.classNames.uneditableContainer),f=!1,g=e.length;g--;)a.dom.contains(e[g],c)&&(f=!0);f||b.autoLink(c,[d.config.classNames.uneditableContainer])}}),b.observe(this.element,\"blur\",function(){b.autoLink(d.element,[d.config.classNames.uneditableContainer])}));var g=this.sandbox.getDocument().getElementsByTagName(\"a\"),h=b.autoLink.URL_REG_EXP,i=function(c){var d=a.lang.string(b.getTextContent(c)).trim();return\"www.\"===d.substr(0,4)&&(d=\"http://\"+d),d};b.observe(this.element,\"keydown\",function(a){if(g.length){var c,e=d.selection.getSelectedNode(a.target.ownerDocument),f=b.getParentElement(e,{query:\"a\"},4);f&&(c=i(f),setTimeout(function(){var a=i(f);a!==c&&a.match(h)&&f.setAttribute(\"href\",a)},0))}})}},_initObjectResizing:function(){if(this.commands.exec(\"enableObjectResizing\",!0),c.supportsEvent(\"resizeend\")){var d=[\"width\",\"height\"],e=d.length,f=this.element;b.observe(f,\"resizeend\",function(b){var c,g=b.target||b.srcElement,h=g.style,i=0;if(\"IMG\"===g.nodeName){for(;e>i;i++)c=d[i],h[c]&&(g.setAttribute(c,parseInt(h[c],10)),h[c]=\"\");a.quirks.redraw(f)}})}},_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function d(a){var c=b.getParentElement(a,{query:\"p, div\"},2);c&&b.contains(e.element,c)&&e.selection.executeAndRestore(function(){e.config.useLineBreaks?b.replaceWithChildNodes(c):\"P\"!==c.nodeName&&b.renameElement(c,\"p\")})}var e=this,f=\"li, p, h1, h2, h3, h4, h5, h6\",g=\"ul, ol, menu\";this.config.useLineBreaks||b.observe(this.element,[\"focus\",\"keydown\"],function(){if(e.isEmpty()){var a=e.doc.createElement(\"P\");e.element.innerHTML=\"\",e.element.appendChild(a),c.displaysCaretInEmptyContentEditableCorrectly()?e.selection.selectNode(a,!0):(a.innerHTML=\"<br>\",e.selection.setBefore(a.firstChild))}}),b.observe(this.element,\"keydown\",function(c){var h=c.keyCode;if(!c.shiftKey&&(h===a.ENTER_KEY||h===a.BACKSPACE_KEY)){var i=b.getParentElement(e.selection.getSelectedNode(),{query:f},4);return i?void setTimeout(function(){var c,f=e.selection.getSelectedNode();if(\"LI\"===i.nodeName){if(!f)return;c=b.getParentElement(f,{query:g},2),c||d(f)}h===a.ENTER_KEY&&i.nodeName.match(/^H[1-6]$/)&&d(f)},0):void(e.config.useLineBreaks&&h===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(c.preventDefault(),e.commands.exec(\"insertLineBreak\")))}})}})}(wysihtml5),function(a){var b=a.dom,c=document,d=window,e=c.createElement(\"div\"),f=[\"background-color\",\"color\",\"cursor\",\"font-family\",\"font-size\",\"font-style\",\"font-variant\",\"font-weight\",\"line-height\",\"letter-spacing\",\"text-align\",\"text-decoration\",\"text-indent\",\"text-rendering\",\"word-break\",\"word-wrap\",\"word-spacing\"],g=[\"background-color\",\"border-collapse\",\"border-bottom-color\",\"border-bottom-style\",\"border-bottom-width\",\"border-left-color\",\"border-left-style\",\"border-left-width\",\"border-right-color\",\"border-right-style\",\"border-right-width\",\"border-top-color\",\"border-top-style\",\"border-top-width\",\"clear\",\"display\",\"float\",\"margin-bottom\",\"margin-left\",\"margin-right\",\"margin-top\",\"outline-color\",\"outline-offset\",\"outline-width\",\"outline-style\",\"padding-left\",\"padding-right\",\"padding-top\",\"padding-bottom\",\"position\",\"top\",\"left\",\"right\",\"bottom\",\"z-index\",\"vertical-align\",\"text-align\",\"-webkit-box-sizing\",\"-moz-box-sizing\",\"-ms-box-sizing\",\"box-sizing\",\"-webkit-box-shadow\",\"-moz-box-shadow\",\"-ms-box-shadow\",\"box-shadow\",\"-webkit-border-top-right-radius\",\"-moz-border-radius-topright\",\"border-top-right-radius\",\"-webkit-border-bottom-right-radius\",\"-moz-border-radius-bottomright\",\"border-bottom-right-radius\",\"-webkit-border-bottom-left-radius\",\"-moz-border-radius-bottomleft\",\"border-bottom-left-radius\",\"-webkit-border-top-left-radius\",\"-moz-border-radius-topleft\",\"border-top-left-radius\",\"width\",\"height\"],h=[\"html                 { height: 100%; }\",\"body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }\",\"body > p:first-child { margin-top: 0; }\",\"._wysihtml5-temp     { display: none; }\",a.browser.isGecko?\"body.placeholder { color: graytext !important; }\":\"body.placeholder { color: #a9a9a9 !important; }\",\"img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }\"],i=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.scrollLeft||c.body.scrollLeft,i={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};b.setStyles({position:\"absolute\",top:\"-99999px\",left:\"-99999px\",WebkitUserSelect:\"none\"}).on(a),a.focus(),b.setStyles(i).on(a),d.scrollTo&&d.scrollTo(h,g)}};a.views.Composer.prototype.style=function(){var d,j=this,k=c.querySelector(\":focus\"),l=this.textarea.element,m=l.hasAttribute(\"placeholder\"),n=m&&l.getAttribute(\"placeholder\"),o=l.style.display,p=l.disabled;this.focusStylesHost=e.cloneNode(!1),this.blurStylesHost=e.cloneNode(!1),this.disabledStylesHost=e.cloneNode(!1),m&&l.removeAttribute(\"placeholder\"),l===k&&l.blur(),l.disabled=!1,l.style.display=d=\"none\",(l.getAttribute(\"rows\")&&\"auto\"===b.getStyle(\"height\").from(l)||l.getAttribute(\"cols\")&&\"auto\"===b.getStyle(\"width\").from(l))&&(l.style.display=d=o),b.copyStyles(g).from(l).to(this.editableArea).andTo(this.blurStylesHost),b.copyStyles(f).from(l).to(this.element).andTo(this.blurStylesHost),b.insertCSS(h).into(this.element.ownerDocument),l.disabled=!0,b.copyStyles(g).from(l).to(this.disabledStylesHost),b.copyStyles(f).from(l).to(this.disabledStylesHost),l.disabled=p,l.style.display=o,i(l),l.style.display=d,b.copyStyles(g).from(l).to(this.focusStylesHost),b.copyStyles(f).from(l).to(this.focusStylesHost),l.style.display=o,b.copyStyles([\"display\"]).from(l).to(this.editableArea);var q=a.lang.array(g).without([\"display\"]);return k?k.focus():l.blur(),m&&l.setAttribute(\"placeholder\",n),this.parent.on(\"focus:composer\",function(){b.copyStyles(q).from(j.focusStylesHost).to(j.editableArea),b.copyStyles(f).from(j.focusStylesHost).to(j.element)}),this.parent.on(\"blur:composer\",function(){b.copyStyles(q).from(j.blurStylesHost).to(j.editableArea),b.copyStyles(f).from(j.blurStylesHost).to(j.element)}),this.parent.observe(\"disable:composer\",function(){b.copyStyles(q).from(j.disabledStylesHost).to(j.editableArea),b.copyStyles(f).from(j.disabledStylesHost).to(j.element)}),this.parent.observe(\"enable:composer\",function(){b.copyStyles(q).from(j.blurStylesHost).to(j.editableArea),b.copyStyles(f).from(j.blurStylesHost).to(j.element)}),this}}(wysihtml5),function(a){var b=a.dom,c=a.browser,d={66:\"bold\",73:\"italic\",85:\"underline\"},e=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a.addEventListener(b[d],c,!1)},f=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a.removeEventListener(b[d],c,!1)},g=function(b,c){if(b.selection.caretIsLastInSelection()){var d=b.selection.getSelection(),e=d.anchorNode;if(e&&1===e.nodeType&&(a.dom.getParentElement(e,{query:\"td, th\"},!1,b.element)||c)){var f=e.childNodes[d.anchorOffset];if(f&&1===f.nodeType&\"BR\"===f.nodeName)return f.parentNode.removeChild(f),!0}}return!1},h=function(a){var b=a.selection.getBeforeSelection(!0);if(b&&(\"element\"===b.type||\"leafnode\"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(g(a,!0))return!0;try{var c=new CustomEvent(\"wysihtml5:uneditable:delete\");b.node.dispatchEvent(c)}catch(d){}return b.node.parentNode.removeChild(b.node),!0}return!1},i=function(b){var c=b.selection,d=c.getPreviousNode();if(c.caretIsFirstInSelection()&&d&&1===d.nodeType&&/block/.test(b.win.getComputedStyle(d).display)){if(/^\\s*$/.test(d.textContent||d.innerText))return d.parentNode.removeChild(d),!0;if(d.lastChild){var e=d.lastChild,f=c.getSelectedNode(),g=a.dom.domNode(d).commonAncestor(f,b.element);if(curNode=g?a.dom.getParentElement(f,{query:\"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote\"},!1,g):null,curNode){for(;curNode.firstChild;)d.appendChild(curNode.firstChild);return c.setAfter(e),!0}if(3===f.nodeType)return d.appendChild(f),c.setAfter(e),!0}}return!1},j=function(a,b){var c=b.selection;b.element;if(c.isCollapsed()){if(i(b))return void a.preventDefault();if(g(b))return void a.preventDefault();if(h(b))return void a.preventDefault()}else c.containsUneditable()&&(a.preventDefault(),c.deleteContents())},k=function(a,b,c){if(a.selection.isCollapsed()){if(a.selection.caretIsInTheBeginnig(\"li\"))if(c){if(a.commands.exec(\"outdentList\"))return}else if(a.commands.exec(\"indentList\"))return}else a.selection.deleteContents();a.commands.exec(\"insertHTML\",\"&emsp;\")},l=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval),this.parent.fire(\"destroy:composer\")},m=function(a){this.parent.fire(\"beforeinteraction\",a).fire(\"beforeinteraction:composer\",a),setTimeout(function(){this.parent.fire(\"interaction\",a).fire(\"interaction:composer\",a)}.bind(this),0)},n=function(a){this.parent.fire(\"focus\",a).fire(\"focus:composer\",a),setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},o=function(a){if(this.focusState!==this.getValue(!1,!1)){var b=a;\"function\"==typeof Object.create&&(b=Object.create(a,{type:{value:\"change\"}})),this.parent.fire(\"change\",b).fire(\"change:composer\",b)}this.parent.fire(\"blur\",a).fire(\"blur:composer\",a)},p=function(a){this.parent.fire(a.type,a).fire(a.type+\":composer\",a),\"paste\"===a.type&&setTimeout(function(){this.parent.fire(\"newword:composer\")}.bind(this),0)},q=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData(\"text/html\",this.config.copyedFromMarking+this.selection.getHtml()),b.clipboardData.setData(\"text/plain\",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+\":composer\",b))},r=function(b){var c=b.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&&this.parent.fire(\"newword:composer\")},s=function(b){if(!c.canSelectImagesInContentEditable()){var d=b.target,e=this.element.querySelectorAll(\"img\"),f=this.element.querySelectorAll(\".\"+this.config.classNames.uneditableContainer+\" img\"),g=a.lang.array(e).without(f);\"IMG\"===d.nodeName&&a.lang.array(g).contains(d)&&this.selection.selectNode(d)}},t=function(a){var b,c={IMG:\"Image: \",A:\"Link: \"},d=a.target,e=d.nodeName;(\"A\"===e||\"IMG\"===e)&&(d.hasAttribute(\"title\")||(b=c[e]+(d.getAttribute(\"href\")||d.getAttribute(\"src\")),d.setAttribute(\"title\",b)))},u=function(b){if(this.config.classNames.uneditableContainer){var c=a.dom.getParentElement(b.target,{query:\".\"+this.config.classNames.uneditableContainer},!1,this.element);c&&this.selection.setAfter(c)}},v=function(a){c.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},w=function(b){var c,e,f=b.keyCode,g=d[f];return!b.ctrlKey&&!b.metaKey||b.altKey||65!==f?((b.ctrlKey||b.metaKey)&&!b.altKey&&g&&(this.commands.exec(g),b.preventDefault()),f===a.BACKSPACE_KEY&&j(b,this),(f===a.BACKSPACE_KEY||f===a.DELETE_KEY)&&(c=this.selection.getSelectedNode(!0),c&&\"IMG\"===c.nodeName&&(b.preventDefault(),e=c.parentNode,e.removeChild(c),\"A\"!==e.nodeName||e.firstChild||e.parentNode.removeChild(e),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0))),void(this.config.handleTabKey&&f===a.TAB_KEY&&(b.preventDefault(),k(this,this.element,b.shiftKey)))):(this.selection.selectAll(),void b.preventDefault())},x=function(){var b=function(){window.removeEventListener(\"load\",b),this.doc.execCommand(\"enableObjectResizing\",!1,\"false\"),this.doc.execCommand(\"enableInlineTableEditing\",!1,\"false\")}.bind(this),c=function(){b.call(this),f(this.sandbox.getIframe(),[\"focus\",\"mouseup\",\"mouseover\"],c)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,\"enableObjectResizing\")&&a.browser.supportsCommand(this.doc,\"enableInlineTableEditing\")&&(this.sandbox.getIframe?e(this.sandbox.getIframe(),[\"focus\",\"mouseup\",\"mouseover\"],c):window.addEventListener(\"load\",b)),this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)};a.views.Composer.prototype.observe=function(){var a=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),d=(this.element,c.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow());this.focusState=this.getValue(!1,!1),a.addEventListener([\"DOMNodeRemoved\"],l.bind(this),!1),c.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){b.contains(document.documentElement,a)||l.call(this)},250)),this.config.handleTables&&x.call(this),e(d,[\"drop\",\"paste\",\"mouseup\",\"focus\",\"keyup\"],m.bind(this)),d.addEventListener(\"focus\",n.bind(this),!1),d.addEventListener(\"blur\",o.bind(this),!1),e(this.element,[\"drop\",\"paste\",\"beforepaste\"],p.bind(this),!1),this.element.addEventListener(\"copy\",q.bind(this),!1),this.element.addEventListener(\"mousedown\",s.bind(this),!1),this.element.addEventListener(\"mouseover\",t.bind(this),!1),this.element.addEventListener(\"click\",u.bind(this),!1),this.element.addEventListener(\"drop\",v.bind(this),!1),this.element.addEventListener(\"keyup\",r.bind(this),!1),this.element.addEventListener(\"keydown\",w.bind(this),!1),this.element.addEventListener(\"dragenter\",function(){this.parent.fire(\"unset_placeholder\")}.bind(this),!1)}}(wysihtml5),function(a){var b=400;a.views.Synchronizer=Base.extend({constructor:function(a,b,c){this.editor=a,this.textarea=b,this.composer=c,this._observe()},fromComposerToTextarea:function(b){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),b)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(\"set_placeholder\"))},sync:function(a){\"textarea\"===this.editor.currentView.name?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},_observe:function(){var c,d=this,e=this.textarea.element.form,f=function(){c=setInterval(function(){d.fromComposerToTextarea()},b)},g=function(){clearInterval(c),c=null};f(),e&&(a.dom.observe(e,\"submit\",function(){d.sync(!0)}),a.dom.observe(e,\"reset\",function(){setTimeout(function(){d.fromTextareaToComposer()},0)})),this.editor.on(\"change_view\",function(a){\"composer\"!==a||c?\"textarea\"===a&&(d.fromComposerToTextarea(!0),g()):(d.fromTextareaToComposer(!0),f())}),this.editor.on(\"destroy:composer\",g)}})}(wysihtml5),function(a){a.views.SourceView=Base.extend({constructor:function(a,b){this.editor=a,this.composer=b,this._observe()},switchToTextarea:function(a){var b=this.composer.win.getComputedStyle(this.composer.element),c=parseFloat(b.width),d=Math.max(parseFloat(b.height),100);this.textarea||(this.textarea=this.composer.doc.createElement(\"textarea\"),this.textarea.className=\"wysihtml5-source-view\"),this.textarea.style.width=c+\"px\",this.textarea.style.height=d+\"px\",this.textarea.value=this.editor.getValue(a,!0),this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element),this.editor.currentView=\"source\",this.composer.element.style.display=\"none\"},switchToComposer:function(a){var b=this.textarea.value;b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(\"set_placeholder\")),this.textarea.parentNode.removeChild(this.textarea),this.editor.currentView=this.composer,this.composer.element.style.display=\"\"},_observe:function(){this.editor.on(\"change_view\",function(a){\"composer\"===a?this.switchToComposer(!0):\"textarea\"===a&&this.switchToTextarea(!0)}.bind(this))}})}(wysihtml5),\nwysihtml5.views.Textarea=wysihtml5.views.View.extend({name:\"textarea\",constructor:function(a,b,c){this.base(a,b,c),this._observe()},clear:function(){this.element.value=\"\"},getValue:function(a){var b=this.isEmpty()?\"\":this.element.value;return a!==!1&&(b=this.parent.parse(b)),b},setValue:function(a,b){b!==!1&&(a=this.parent.parse(a)),this.element.value=a},cleanUp:function(a){var b=this.parent.parse(this.element.value,void 0,a);this.element.value=b},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),b=this.element.getAttribute(\"placeholder\")||null,c=this.element.value,d=!c;return a&&d||c===b},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,b=this.parent,c={focusin:\"focus\",focusout:\"blur\"},d=wysihtml5.browser.supportsEvent(\"focusin\")?[\"focusin\",\"focusout\",\"change\"]:[\"focus\",\"blur\",\"change\"];b.on(\"beforeload\",function(){wysihtml5.dom.observe(a,d,function(a){var d=c[a.type]||a.type;b.fire(d).fire(d+\":textarea\")}),wysihtml5.dom.observe(a,[\"paste\",\"drop\"],function(){setTimeout(function(){b.fire(\"paste\").fire(\"paste:textarea\")},0)})})}}),function(a){var b,c={name:b,style:!0,toolbar:b,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,stylesheets:[],placeholderText:b,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:\"wysihtml5-editor\",body:\"wysihtml5-supported\",sandbox:\"wysihtml5-sandbox\",placeholder:\"wysihtml5-placeholder\",uneditableContainer:\"wysihtml5-uneditable-container\"},copyedFromMarking:'<meta name=\"copied-from\" content=\"wysihtml5\">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,d){if(this.editableElement=\"string\"==typeof b?document.getElementById(b):b,this.config=a.lang.object({}).merge(c).merge(d).get(),this._isCompatible=a.browser.supported(),d&&d.classNames&&a.lang.object(this.config.classNames).merge(d.classNames),\"textarea\"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new a.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var e=this;return void setTimeout(function(){e.fire(\"beforeload\").fire(\"load\")},0)}a.dom.addClass(document.body,this.config.classNames.body),this.composer=new a.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,\"function\"==typeof this.config.parser&&this._initParser(),this.on(\"beforeload\",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(a,b){return this.currentView.getValue(a,b)},setValue:function(a,b){return this.fire(\"unset_placeholder\"),a?(this.currentView.setValue(a,b),this):this.clear()},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){return this.currentView.focus(a),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy(),this.toolbar&&this.toolbar.destroy(),this.off()},parse:function(b,c,d){var e=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,f=this.config.parser(b,{rules:d||this.config.parserRules,cleanUp:this.config.cleanUp,context:e,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:c});return\"object\"==typeof b&&a.quirks.redraw(b),f},_initParser:function(){var b;a.browser.supportsModernPaste()?this.on(\"paste:composer\",function(c){c.preventDefault(),b=a.dom.getPastedHtml(c),b&&this._cleanAndPaste(b)}.bind(this)):this.on(\"beforepaste:composer\",function(b){b.preventDefault();var c=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a),this.composer.setScrollPos(c)}.bind(this))}.bind(this))},_cleanAndPaste:function(b){var c=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(c)}})}(wysihtml5),function(a){var b=a.dom,c=\"wysihtml5-command-dialog-opened\",d=\"input, select, textarea\",e=\"[data-wysihtml5-dialog-field]\",f=\"data-wysihtml5-dialog-field\";a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a,this.container=b},_observe:function(){if(!this._observed){var d=this,e=function(a){var b=d._serialize();d.fire(\"save\",b),d.hide(),a.preventDefault(),a.stopPropagation()};b.observe(d.link,\"click\",function(){b.hasClass(d.link,c)&&setTimeout(function(){d.hide()},0)}),b.observe(this.container,\"keydown\",function(b){var c=b.keyCode;c===a.ENTER_KEY&&e(b),c===a.ESCAPE_KEY&&d.cancel()}),b.delegate(this.container,\"[data-wysihtml5-dialog-action=save]\",\"click\",e),b.delegate(this.container,\"[data-wysihtml5-dialog-action=cancel]\",\"click\",function(a){d.cancel(),a.preventDefault(),a.stopPropagation()}),this._observed=!0}},_serialize:function(){for(var a={},b=this.container.querySelectorAll(e),c=b.length,d=0;c>d;d++)a[b[d].getAttribute(f)]=b[d].value;return a},_interpolate:function(a){for(var b,c,d,g=document.querySelector(\":focus\"),h=this.container.querySelectorAll(e),i=h.length,j=0;i>j;j++)b=h[j],b!==g&&(a&&\"hidden\"===b.type||(c=b.getAttribute(f),d=this.elementToChange&&\"boolean\"!=typeof this.elementToChange?this.elementToChange.getAttribute(c)||\"\":b.defaultValue,b.value=d))},update:function(a){this.elementToChange=a?a:this.elementToChange,this._interpolate()},show:function(a){var e=this.container.querySelector(d);if(this._observe(),this.update(a),b.addClass(this.link,c),this.container.style.display=\"\",this.isOpen=!0,this.fire(\"show\"),e&&!a)try{e.focus()}catch(f){}},_hide:function(a){this.elementToChange=null,b.removeClass(this.link,c),this.container.style.display=\"none\",this.isOpen=!1},hide:function(){this._hide(),this.fire(\"hide\")},cancel:function(){this._hide(),this.fire(\"cancel\")}})}(wysihtml5),function(a){var b=a.dom,c={position:\"relative\"},d={left:0,margin:0,opacity:0,overflow:\"hidden\",padding:0,position:\"absolute\",top:0,zIndex:1},e={cursor:\"inherit\",fontSize:\"50px\",height:\"50px\",marginTop:\"-25px\",outline:0,padding:0,position:\"absolute\",right:\"-4px\",top:\"50%\"},f={\"x-webkit-speech\":\"\",speech:\"\"};a.toolbar.Speech=function(g,h){var i=document.createElement(\"input\");if(!a.browser.supportsSpeechApiOn(i))return void(h.style.display=\"none\");var j=g.editor.textarea.element.getAttribute(\"lang\");j&&(f.lang=j);var k=document.createElement(\"div\");a.lang.object(d).merge({width:h.offsetWidth+\"px\",height:h.offsetHeight+\"px\"}),b.insert(i).into(k),b.insert(k).into(h),b.setStyles(e).on(i),b.setAttributes(f).on(i),b.setStyles(d).on(k),b.setStyles(c).on(h);var l=\"onwebkitspeechchange\"in i?\"webkitspeechchange\":\"speechchange\";b.observe(i,l,function(){g.execCommand(\"insertText\",i.value),i.value=\"\"}),b.observe(i,\"click\",function(a){b.hasClass(h,\"wysihtml5-command-disabled\")&&a.preventDefault(),a.stopPropagation()})}}(wysihtml5),function(a){function b(b,c){var d=b.commands.state(c.name,c.value);return!c.dialog.multiselect&&a.lang.object(d).isArray()&&(d=1===d.length?d[0]:!0),d}var c=\"wysihtml5-command-disabled\",d=\"wysihtml5-commands-disabled\",e=\"wysihtml5-command-active\",f=\"wysihtml5-action-active\",g=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(b,g,h){this.editor=b,this.container=\"string\"==typeof g?document.getElementById(g):g,this.composer=b.composer,this._getLinks(\"command\"),this._getLinks(\"action\"),this._observe(),h&&this.show(),null!=b.config.classNameCommandDisabled&&(c=b.config.classNameCommandDisabled),null!=b.config.classNameCommandsDisabled&&(d=b.config.classNameCommandsDisabled),null!=b.config.classNameCommandActive&&(e=b.config.classNameCommandActive),null!=b.config.classNameActionActive&&(f=b.config.classNameActionActive);for(var i=this.container.querySelectorAll(\"[data-wysihtml5-command=insertSpeech]\"),j=i.length,k=0;j>k;k++)new a.toolbar.Speech(this,i[k])},_getLinks:function(b){for(var c,d,e,f,g,h,i=this[b+\"Links\"]=a.lang.array(this.container.querySelectorAll(\"[data-wysihtml5-\"+b+\"]\")).get(),j=i.length,k=0,l=this[b+\"Mapping\"]={};j>k;k++)c=i[k],e=c.getAttribute(\"data-wysihtml5-\"+b),f=c.getAttribute(\"data-wysihtml5-\"+b+\"-value\"),h=c.getAttribute(\"data-wysihtml5-\"+b+\"-blank-value\"),d=this.container.querySelector(\"[data-wysihtml5-\"+b+\"-group='\"+e+\"']\"),g=this._getDialog(c,e),l[e+\":\"+f]={link:c,group:d,name:e,value:f,tracksBlankValue:h,dialog:g,state:!1}},_getDialog:function(b,c){var d,e,f=this,g=this.container.querySelector(\"[data-wysihtml5-dialog='\"+c+\"']\");return g&&(d=a.toolbar[\"Dialog_\"+c]?new a.toolbar[\"Dialog_\"+c](b,g):new a.toolbar.Dialog(b,g),d.on(\"show\",function(){e=f.composer.selection.getBookmark(),f.editor.fire(\"show:dialog\",{command:c,dialogContainer:g,commandLink:b})}),d.on(\"save\",function(a){e&&f.composer.selection.setBookmark(e),f._execCommand(c,a),f.editor.fire(\"save:dialog\",{command:c,dialogContainer:g,commandLink:b}),f._hideAllDialogs(),f._preventInstantFocus(),e=void 0}),d.on(\"cancel\",function(){e&&f.composer.selection.setBookmark(e),f.editor.fire(\"cancel:dialog\",{command:c,dialogContainer:g,commandLink:b}),e=void 0,f._preventInstantFocus()}),d.on(\"hide\",function(){f.editor.fire(\"hide:dialog\",{command:c,dialogContainer:g,commandLink:b}),e=void 0})),d},execCommand:function(a,b){this.commandsDisabled||this._execCommand(a,b)},_execCommand:function(a,b){this.editor.focus(!1),this.composer.commands.exec(a,b),this._updateLinkStates()},execAction:function(a){var b=this.editor;\"change_view\"===a&&(b.currentView===b.textarea||\"source\"===b.currentView?b.fire(\"change_view\",\"composer\"):b.fire(\"change_view\",\"textarea\")),\"showSource\"==a&&b.fire(\"showSource\")},_observe:function(){for(var c=this,e=this.editor,f=this.container,h=this.commandLinks.concat(this.actionLinks),i=h.length,j=0;i>j;j++)\"A\"===h[j].nodeName?g.setAttributes({href:\"javascript:;\",unselectable:\"on\"}).on(h[j]):g.setAttributes({unselectable:\"on\"}).on(h[j]);g.delegate(f,\"[data-wysihtml5-command], [data-wysihtml5-action]\",\"mousedown\",function(a){a.preventDefault()}),g.delegate(f,\"[data-wysihtml5-command]\",\"click\",function(a){var d,e=this,f=e.getAttribute(\"data-wysihtml5-command\"),g=e.getAttribute(\"data-wysihtml5-command-value\"),h=c.commandMapping[f+\":\"+g];g||!h.dialog?c.execCommand(f,g):(d=b(c.composer,h),h.dialog.show(d)),a.preventDefault()}),g.delegate(f,\"[data-wysihtml5-action]\",\"click\",function(a){var b=this.getAttribute(\"data-wysihtml5-action\");c.execAction(b),a.preventDefault()}),e.on(\"interaction:composer\",function(a){c.preventFocus||c._updateLinkStates()}),this._ownerDocumentClick=function(b){a.dom.contains(c.container,b.target)||a.dom.contains(c.composer.element,b.target)||(c._updateLinkStates(),c._preventInstantFocus())},this.container.ownerDocument.addEventListener(\"click\",this._ownerDocumentClick,!1),this.editor.on(\"destroy:composer\",this.destroy.bind(this)),this.editor.config.handleTables&&(e.on(\"tableselect:composer\",function(){c.container.querySelectorAll('[data-wysihtml5-hiddentools=\"table\"]')[0].style.display=\"\"}),e.on(\"tableunselect:composer\",function(){c.container.querySelectorAll('[data-wysihtml5-hiddentools=\"table\"]')[0].style.display=\"none\"})),e.on(\"change_view\",function(a){setTimeout(function(){c.commandsDisabled=\"composer\"!==a,c._updateLinkStates(),c.commandsDisabled?g.addClass(f,d):g.removeClass(f,d)},0)})},destroy:function(){this.container.ownerDocument.removeEventListener(\"click\",this._ownerDocumentClick,!1)},_hideAllDialogs:function(){var a=this.commandMapping;for(var b in a)a[b].dialog&&a[b].dialog.hide()},_preventInstantFocus:function(){this.preventFocus=!0,setTimeout(function(){this.preventFocus=!1}.bind(this),0)},_updateLinkStates:function(){var a,d,h,i,j,k=this.commandMapping,l=this.composer,m=this.actionMapping;for(a in k)i=k[a],this.commandsDisabled?(d=!1,g.removeClass(i.link,e),i.group&&g.removeClass(i.group,e),i.dialog&&i.dialog.hide()):(d=this.composer.commands.state(i.name,i.value),g.removeClass(i.link,c),i.group&&g.removeClass(i.group,c)),(i.state!==d||i.tracksBlankValue)&&(i.state=d,d?i.tracksBlankValue?g.removeClass(i.link,e):(g.addClass(i.link,e),i.group&&g.addClass(i.group,e),!i.dialog||\"undefined\"!=typeof i.value&&null!==i.value||(d&&\"object\"==typeof d?(d=b(l,i),i.state=d,j=i.dialog.container.dataset?i.dialog.container.dataset.showdialogonselection:!1,l.config.showToolbarDialogsOnSelection||j?i.dialog.show(d):i.dialog.update(d)):i.dialog.hide())):i.tracksBlankValue?g.addClass(i.link,e):(g.removeClass(i.link,e),i.group&&g.removeClass(i.group,e),i.dialog&&!i.value&&i.dialog.hide()));for(a in m)h=m[a],\"change_view\"===h.name&&(h.state=this.editor.currentView===this.editor.textarea||\"source\"===this.editor.currentView,h.state?g.addClass(h.link,f):g.removeClass(h.link,f))},show:function(){this.container.style.display=\"\"},hide:function(){this.container.style.display=\"none\"}})}(wysihtml5),function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})}(wysihtml5),function(a){var b=\"[data-wysihtml5-dialog-field]\",c=\"data-wysihtml5-dialog-field\";a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var a={},d=this.container.querySelectorAll(b),e=d.length,f=0;e>f;f++)a[d[f].getAttribute(c)]=d[f].value;return a},_interpolate:function(d){for(var e,f,g=a.quirks.styleParser,h=document.querySelector(\":focus\"),i=this.container.querySelectorAll(b),j=i.length,k=0,l=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,m=l?l.getAttribute(\"style\"):null,n=m?g.parseColor(m,\"color\"):null;j>k;k++)e=i[k],e!==h&&(d&&\"hidden\"===e.type||\"color\"===e.getAttribute(c)&&(f=(e.dataset.colormode||\"rgb\").toLowerCase(),f=\"hex\"===f?\"hash\":f,n?e.value=g.unparseColor(n,f):e.value=g.unparseColor([0,0,0],f)))}})}(wysihtml5),function(a){a.dom;a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field=\"size\"]').value}},_interpolate:function(b){var c=document.querySelector(\":focus\"),d=this.container.querySelector(\"[data-wysihtml5-dialog-field='size']\"),e=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,f=e?e.getAttribute(\"style\"):null,g=f?a.quirks.styleParser.parseFontSize(f):null;d&&d!==c&&g&&!/^\\s*$/.test(g)&&(d.value=g)}})}(wysihtml5);\n/**\n * Full HTML5 compatibility rule set\n * Loosened and extended ruleset. Allows more freedom on user side\n * These rules define which tags and CSS classes are supported and which tags should be specially treated.\n */\n\nvar wysihtml5ParserRulesDefaults = {\n    \"blockLevelEl\": {\n        \"keep_styles\": {\n            \"textAlign\": /^((left)|(right)|(center)|(justify))$/i,\n            \"float\": 1\n        },\n        \"add_style\": {\n            \"align\": \"align_text\"\n        },\n        \"check_attributes\": {\n            \"id\": \"any\"\n        }\n    },\n\n    \"makeDiv\": {\n        \"rename_tag\": \"div\",\n        \"one_of_type\": {\n            \"alignment_object\": 1\n        },\n        \"remove_action\": \"unwrap\",\n        \"keep_styles\": {\n            \"textAlign\": 1,\n            \"float\": 1\n        },\n        \"add_style\": {\n            \"align\": \"align_text\"\n        },\n        \"check_attributes\": {\n            \"id\": \"any\"\n        }\n    }\n};\n\nvar wysihtml5ParserRules = {\n    /**\n     * CSS Class white-list\n     * Following CSS classes won't be removed when parsed by the wysihtml5 HTML parser\n     * If all classes should pass \"any\" as classes value. Ex: \"classes\": \"any\"\n     */\n    \"classes\": \"any\",\n\n    /* blacklist of classes is only available if classes is set to any */\n    \"classes_blacklist\": {\n        \"Apple-interchange-newline\": 1,\n        \"MsoNormal\": 1,\n        \"MsoPlainText\": 1\n    },\n\n    \"type_definitions\": {\n\n        \"alignment_object\": {\n            \"classes\": {\n                \"wysiwyg-text-align-center\": 1,\n                \"wysiwyg-text-align-justify\": 1,\n                \"wysiwyg-text-align-left\": 1,\n                \"wysiwyg-text-align-right\": 1,\n                \"wysiwyg-float-left\": 1,\n                \"wysiwyg-float-right\": 1\n            },\n            \"styles\": {\n                \"float\": [\"left\", \"right\"],\n                \"text-align\": [\"left\", \"right\", \"center\"]\n            }\n        },\n\n        \"valid_image_src\": {\n            \"attrs\": {\n                \"src\": /^[^data\\:]/i\n            }\n        },\n\n        \"text_color_object\": {\n          \"styles\": {\n            \"color\": true,\n            \"background-color\": true\n          }\n        },\n\n        \"text_fontsize_object\": {\n          \"styles\": {\n            \"font-size\": false\n          }\n        },\n\n        \"text_formatting_object\": {\n            \"classes\": {\n                \"wysiwyg-color-aqua\": 1,\n                \"wysiwyg-color-black\": 1,\n                \"wysiwyg-color-blue\": 1,\n                \"wysiwyg-color-fuchsia\": 1,\n                \"wysiwyg-color-gray\": 1,\n                \"wysiwyg-color-green\": 1,\n                \"wysiwyg-color-lime\": 1,\n                \"wysiwyg-color-maroon\": 1,\n                \"wysiwyg-color-navy\": 1,\n                \"wysiwyg-color-olive\": 1,\n                \"wysiwyg-color-purple\": 1,\n                \"wysiwyg-color-red\": 1,\n                \"wysiwyg-color-silver\": 1,\n                \"wysiwyg-color-teal\": 1,\n                \"wysiwyg-color-white\": 1,\n                \"wysiwyg-color-yellow\": 1,\n                \"wysiwyg-font-size-large\": 1,\n                \"wysiwyg-font-size-larger\": 1,\n                \"wysiwyg-font-size-medium\": 1,\n                \"wysiwyg-font-size-small\": 1,\n                \"wysiwyg-font-size-smaller\": 1,\n                \"wysiwyg-font-size-x-large\": 1,\n                \"wysiwyg-font-size-x-small\": 1,\n                \"wysiwyg-font-size-xx-large\": 1,\n                \"wysiwyg-font-size-xx-small\": 1,\n                \"wysiwyg-font-size-xx-h1\": 1,\n                \"wysiwyg-font-size-xx-h2\": 1,\n                \"wysiwyg-font-size-xx-h3\": 1,\n                \"wysiwyg-font-size-xx-h4\": 1,\n                \"wysiwyg-font-size-xx-h5\": 1,\n                \"wysiwyg-font-size-xx-h6\": 1,\n                \"wysiwyg-font-size-h6\": 1,\n                \"wysiwyg-font-size-h5\": 1,\n                \"wysiwyg-font-size-h4\": 1,\n                \"wysiwyg-font-size-h3\": 1,\n                \"wysiwyg-font-size-h2\": 1,\n                \"wysiwyg-font-size-h1\": 1\n            }\n        }\n    },\n\n    \"comments\": 1, // if set allows comments to pass\n\n    /**\n     * Tag list\n     *\n     * The following options are available:\n     *\n     *    - add_class:        converts and deletes the given HTML4 attribute (align, clear, ...) via the given method to a css class\n     *                        The following methods are implemented in wysihtml5.dom.parse:\n     *                          - align_text:  converts align attribute values (right/left/center/justify) to their corresponding css class \"wysiwyg-text-align-*\")\n     *                            <p align=\"center\">foo</p> ... becomes ... <p> class=\"wysiwyg-text-align-center\">foo</p>\n     *                          - clear_br:    converts clear attribute values left/right/all/both to their corresponding css class \"wysiwyg-clear-*\"\n     *                            <br clear=\"all\"> ... becomes ... <br class=\"wysiwyg-clear-both\">\n     *                          - align_img:    converts align attribute values (right/left) on <img> to their corresponding css class \"wysiwyg-float-*\"\n     *\n     *    - remove:             removes the element and its content\n     *\n     *    - unwrap              removes element but leaves content\n     *\n     *    - rename_tag:         renames the element to the given tag\n     *\n     *    - set_class:          adds the given class to the element (note: make sure that the class is in the \"classes\" white list above)\n     *\n     *    - set_attributes:     sets/overrides the given attributes\n     *\n     *    - check_attributes:   checks the given HTML attribute via the given method\n     *                            - url:            allows only valid urls (starting with http:// or https://)\n     *                            - src:            allows something like \"/foobar.jpg\", \"http://google.com\", ...\n     *                            - href:           allows something like \"mailto:bert@foo.com\", \"http://google.com\", \"/foobar.jpg\"\n     *                            - alt:            strips unwanted characters. if the attribute is not set, then it gets set (to ensure valid and compatible HTML)\n     *                            - numbers:  ensures that the attribute only contains numeric characters\n     *                            - any:            allows anything to pass\n     */\n    \"tags\": {\n        \"tr\": {\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"strike\": {\n            \"unwrap\": 1\n        },\n        \"form\": {\n            \"unwrap\": 1\n        },\n        \"rt\": {\n            \"rename_tag\": \"span\"\n        },\n        \"code\": {},\n        \"acronym\": {\n            \"rename_tag\": \"span\"\n        },\n        \"br\": {\n            \"add_class\": {\n                \"clear\": \"clear_br\"\n            }\n        },\n        \"details\": {\n            \"unwrap\": 1\n        },\n        \"h4\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"em\": {},\n        \"title\": {\n            \"remove\": 1\n        },\n        \"multicol\": {\n            \"unwrap\": 1\n        },\n        \"figure\": {\n            \"unwrap\": 1\n        },\n        \"xmp\": {\n            \"unwrap\": 1\n        },\n        \"small\": {\n            \"rename_tag\": \"span\",\n            \"set_class\": \"wysiwyg-font-size-smaller\"\n        },\n        \"area\": {\n            \"remove\": 1\n        },\n        \"time\": {\n            \"unwrap\": 1\n        },\n        \"dir\": {\n            \"rename_tag\": \"ul\"\n        },\n        \"bdi\": {\n            \"unwrap\": 1\n        },\n        \"command\": {\n            \"unwrap\": 1\n        },\n        \"ul\": {\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"progress\": {\n            \"rename_tag\": \"span\"\n        },\n        \"dfn\": {\n            \"unwrap\": 1\n        },\n        \"iframe\": {\n            \"check_attributes\": {\n                \"src\": \"any\",\n                \"width\": \"any\",\n                \"height\": \"any\",\n                \"frameborder\": \"any\",\n                \"style\": \"any\",\n                \"id\": \"any\"\n            }\n        },\n        \"figcaption\": {\n            \"unwrap\": 1\n        },\n        \"a\": {\n            \"check_attributes\": {\n                \"href\": \"href\", // if you compiled master manually then change this from 'url' to 'href'\n                \"rel\": \"any\",\n                \"target\": \"any\",\n                \"id\": \"any\"\n            }\n        },\n        \"img\": {\n            \"one_of_type\": {\n                \"valid_image_src\": 1\n            },\n            \"check_attributes\": {\n                \"width\": \"numbers\",\n                \"alt\": \"alt\",\n                \"src\": \"src\", // if you compiled master manually then change this from 'url' to 'src'\n                \"height\": \"numbers\",\n                \"id\": \"any\"\n            },\n            \"add_class\": {\n                \"align\": \"align_img\"\n            }\n        },\n        \"rb\": {\n            \"unwrap\": 1\n        },\n        \"footer\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"noframes\": {\n            \"remove\": 1\n        },\n        \"abbr\": {\n            \"unwrap\": 1\n        },\n        \"u\": {},\n        \"bgsound\": {\n            \"remove\": 1\n        },\n        \"sup\": {\n            \"unwrap\": 1\n        },\n        \"address\": {\n            \"unwrap\": 1\n        },\n        \"basefont\": {\n            \"remove\": 1\n        },\n        \"nav\": {\n            \"unwrap\": 1\n        },\n        \"h1\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"head\": {\n            \"unwrap\": 1\n        },\n        \"tbody\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"dd\": {\n            \"unwrap\": 1\n        },\n        \"s\": {\n            \"unwrap\": 1\n        },\n        \"li\": {},\n        \"td\": {\n            \"check_attributes\": {\n                \"rowspan\": \"numbers\",\n                \"colspan\": \"numbers\",\n                \"valign\": \"any\",\n                \"align\": \"any\",\n                \"id\": \"any\",\n                \"class\": \"any\"\n            },\n            \"keep_styles\": {\n                \"backgroundColor\": 1,\n                \"width\": 1,\n                \"height\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            }\n        },\n        \"object\": {\n            \"remove\": 1\n        },\n\n        \"div\": {\n            \"one_of_type\": {\n                \"alignment_object\": 1\n            },\n            \"remove_action\": \"unwrap\",\n            \"keep_styles\": {\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\",\n                \"contenteditable\": \"any\"\n            }\n        },\n\n        \"option\": {\n            \"remove\":1\n        },\n        \"select\": {\n            \"remove\":1\n        },\n        \"i\": {},\n        \"track\": {\n            \"remove\": 1\n        },\n        \"wbr\": {\n            \"remove\": 1\n        },\n        \"fieldset\": {\n            \"unwrap\": 1\n        },\n        \"big\": {\n            \"rename_tag\": \"span\",\n            \"set_class\": \"wysiwyg-font-size-larger\"\n        },\n        \"button\": {\n            \"unwrap\": 1\n        },\n        \"noscript\": {\n            \"remove\": 1\n        },\n        \"svg\": {\n            \"remove\": 1\n        },\n        \"input\": {\n            \"remove\": 1\n        },\n        \"table\": {\n            \"keep_styles\": {\n                \"width\": 1,\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"keygen\": {\n            \"remove\": 1\n        },\n        \"h5\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"meta\": {\n            \"remove\": 1\n        },\n        \"map\": {\n            \"remove\": 1\n        },\n        \"isindex\": {\n            \"remove\": 1\n        },\n        \"mark\": {\n            \"unwrap\": 1\n        },\n        \"caption\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"tfoot\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"base\": {\n            \"remove\": 1\n        },\n        \"video\": {\n            \"remove\": 1\n        },\n        \"strong\": {},\n        \"canvas\": {\n            \"remove\": 1\n        },\n        \"output\": {\n            \"unwrap\": 1\n        },\n        \"marquee\": {\n            \"unwrap\": 1\n        },\n        \"b\": {},\n        \"q\": {\n            \"check_attributes\": {\n                \"cite\": \"url\",\n                \"id\": \"any\"\n            }\n        },\n        \"applet\": {\n            \"remove\": 1\n        },\n        \"span\": {\n            \"one_of_type\": {\n                \"text_formatting_object\": 1,\n                \"text_color_object\": 1,\n                \"text_fontsize_object\": 1\n            },\n            \"keep_styles\": {\n                \"color\": 1,\n                \"backgroundColor\": 1,\n                \"fontSize\": 1\n            },\n            \"remove_action\": \"unwrap\",\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"rp\": {\n            \"unwrap\": 1\n        },\n        \"spacer\": {\n            \"remove\": 1\n        },\n        \"source\": {\n            \"remove\": 1\n        },\n        \"aside\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"frame\": {\n            \"remove\": 1\n        },\n        \"section\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"body\": {\n            \"unwrap\": 1\n        },\n        \"ol\": {},\n        \"nobr\": {\n            \"unwrap\": 1\n        },\n        \"html\": {\n            \"unwrap\": 1\n        },\n        \"summary\": {\n            \"unwrap\": 1\n        },\n        \"var\": {\n            \"unwrap\": 1\n        },\n        \"del\": {\n            \"unwrap\": 1\n        },\n        \"blockquote\": {\n            \"keep_styles\": {\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"cite\": \"url\",\n                \"id\": \"any\"\n            }\n        },\n        \"style\": {\n            \"check_attributes\": {\n                \"type\": \"any\",\n                \"src\": \"any\",\n                \"charset\": \"any\"\n            }\n        },\n        \"device\": {\n            \"remove\": 1\n        },\n        \"meter\": {\n            \"unwrap\": 1\n        },\n        \"h3\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"textarea\": {\n            \"unwrap\": 1\n        },\n        \"embed\": {\n            \"remove\": 1\n        },\n        \"hgroup\": {\n            \"unwrap\": 1\n        },\n        \"font\": {\n            \"rename_tag\": \"span\",\n            \"add_class\": {\n                \"size\": \"size_font\"\n            }\n        },\n        \"tt\": {\n            \"unwrap\": 1\n        },\n        \"noembed\": {\n            \"remove\": 1\n        },\n        \"thead\": {\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"blink\": {\n            \"unwrap\": 1\n        },\n        \"plaintext\": {\n            \"unwrap\": 1\n        },\n        \"xml\": {\n            \"remove\": 1\n        },\n        \"h6\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"param\": {\n            \"remove\": 1\n        },\n        \"th\": {\n            \"check_attributes\": {\n                \"rowspan\": \"numbers\",\n                \"colspan\": \"numbers\",\n                \"valign\": \"any\",\n                \"align\": \"any\",\n                \"id\": \"any\"\n            },\n            \"keep_styles\": {\n                \"backgroundColor\": 1,\n                \"width\": 1,\n                \"height\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            }\n        },\n        \"legend\": {\n            \"unwrap\": 1\n        },\n        \"hr\": {},\n        \"label\": {\n            \"unwrap\": 1\n        },\n        \"dl\": {\n            \"unwrap\": 1\n        },\n        \"kbd\": {\n            \"unwrap\": 1\n        },\n        \"listing\": {\n            \"unwrap\": 1\n        },\n        \"dt\": {\n            \"unwrap\": 1\n        },\n        \"nextid\": {\n            \"remove\": 1\n        },\n        \"pre\": {},\n        \"center\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"audio\": {\n            \"remove\": 1\n        },\n        \"datalist\": {\n            \"unwrap\": 1\n        },\n        \"samp\": {\n            \"unwrap\": 1\n        },\n        \"col\": {\n            \"remove\": 1\n        },\n        \"article\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"cite\": {},\n        \"link\": {\n            \"remove\": 1\n        },\n        \"script\": {\n            \"check_attributes\": {\n                \"type\": \"any\",\n                \"src\": \"any\",\n                \"charset\": \"any\"\n            }\n        },\n        \"bdo\": {\n            \"unwrap\": 1\n        },\n        \"menu\": {\n            \"rename_tag\": \"ul\"\n        },\n        \"colgroup\": {\n            \"remove\": 1\n        },\n        \"ruby\": {\n            \"unwrap\": 1\n        },\n        \"h2\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"ins\": {\n            \"unwrap\": 1\n        },\n        \"p\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"sub\": {\n            \"unwrap\": 1\n        },\n        \"comment\": {\n            \"remove\": 1\n        },\n        \"frameset\": {\n            \"remove\": 1\n        },\n        \"optgroup\": {\n            \"unwrap\": 1\n        },\n        \"header\": wysihtml5ParserRulesDefaults.makeDiv\n    }\n};\n\n\n(function() {\n    // Paste cleanup rules universal for all rules (also applied to content copied from editor)\n    var commonRules = wysihtml5.lang.object(wysihtml5ParserRules).clone(true);\n    commonRules.comments    = false;\n    commonRules.selectors   = { \"a u\": \"unwrap\"};\n    commonRules.tags.style  = { \"remove\": 1 };\n    commonRules.tags.script = { \"remove\": 1 };\n    commonRules.tags.head = { \"remove\": 1 };\n\n    // Paste cleanup for unindentified source\n    var universalRules = wysihtml5.lang.object(commonRules).clone(true);\n    universalRules.tags.div.one_of_type.alignment_object = 1;\n    universalRules.tags.div.remove_action = \"unwrap\";\n    universalRules.tags.div.check_attributes.style = false;\n    universalRules.tags.div.keep_styles = {\n        \"textAlign\": /^((left)|(right)|(center)|(justify))$/i,\n        \"float\": 1\n    };\n    universalRules.tags.span.keep_styles = false;\n\n    // Paste cleanup for MS Office\n    // TODO: should be extended to stricter ruleset, as current set will probably not cover all Office bizarreness\n    var msOfficeRules = wysihtml5.lang.object(universalRules).clone(true);\n    msOfficeRules.classes = {};\n\n    window.wysihtml5ParserPasteRulesets = [\n        {\n            condition: /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument|class=\"OutlineElement|id=\"?docs\\-internal\\-guid\\-/i,\n            set: msOfficeRules\n        },{\n            condition: /<meta name=\"copied-from\" content=\"wysihtml5\">/i,\n            set: commonRules\n        },{\n            set: universalRules\n        }\n    ];\n\n})();\n\nexports[\"wysihtml5\"] = wysihtml5;\nexports[\"wysihtml5ParserRules\"] = wysihtml5ParserRules;\n\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = wysihtml5ParserRules;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/exports-loader?wysihtml5ParserRules!./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js\n// module id = ../node_modules/exports-loader/index.js?wysihtml5ParserRules!./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js\n// module chunks = 0","/**\r\n * Rangy, a cross-browser JavaScript range and selection library\r\n * https://github.com/timdown/rangy\r\n *\r\n * Copyright 2015, Tim Down\r\n * Licensed under the MIT license.\r\n * Version: 1.3.0\r\n * Build date: 10 May 2015\r\n */\r\n\r\n(function(factory, root) {\r\n    if (typeof define == \"function\" && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(factory);\r\n    } else if (typeof module != \"undefined\" && typeof exports == \"object\") {\r\n        // Node/CommonJS style\r\n        module.exports = factory();\r\n    } else {\r\n        // No AMD or CommonJS support so we place Rangy in (probably) the global variable\r\n        root.rangy = factory();\r\n    }\r\n})(function() {\r\n\r\n    var OBJECT = \"object\", FUNCTION = \"function\", UNDEFINED = \"undefined\";\r\n\r\n    // Minimal set of properties required for DOM Level 2 Range compliance. Comparison constants such as START_TO_START\r\n    // are omitted because ranges in KHTML do not have them but otherwise work perfectly well. See issue 113.\r\n    var domRangeProperties = [\"startContainer\", \"startOffset\", \"endContainer\", \"endOffset\", \"collapsed\",\r\n        \"commonAncestorContainer\"];\r\n\r\n    // Minimal set of methods required for DOM Level 2 Range compliance\r\n    var domRangeMethods = [\"setStart\", \"setStartBefore\", \"setStartAfter\", \"setEnd\", \"setEndBefore\",\r\n        \"setEndAfter\", \"collapse\", \"selectNode\", \"selectNodeContents\", \"compareBoundaryPoints\", \"deleteContents\",\r\n        \"extractContents\", \"cloneContents\", \"insertNode\", \"surroundContents\", \"cloneRange\", \"toString\", \"detach\"];\r\n\r\n    var textRangeProperties = [\"boundingHeight\", \"boundingLeft\", \"boundingTop\", \"boundingWidth\", \"htmlText\", \"text\"];\r\n\r\n    // Subset of TextRange's full set of methods that we're interested in\r\n    var textRangeMethods = [\"collapse\", \"compareEndPoints\", \"duplicate\", \"moveToElementText\", \"parentElement\", \"select\",\r\n        \"setEndPoint\", \"getBoundingClientRect\"];\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Trio of functions taken from Peter Michaux's article:\r\n    // http://peter.michaux.ca/articles/feature-detection-state-of-the-art-browser-scripting\r\n    function isHostMethod(o, p) {\r\n        var t = typeof o[p];\r\n        return t == FUNCTION || (!!(t == OBJECT && o[p])) || t == \"unknown\";\r\n    }\r\n\r\n    function isHostObject(o, p) {\r\n        return !!(typeof o[p] == OBJECT && o[p]);\r\n    }\r\n\r\n    function isHostProperty(o, p) {\r\n        return typeof o[p] != UNDEFINED;\r\n    }\r\n\r\n    // Creates a convenience function to save verbose repeated calls to tests functions\r\n    function createMultiplePropertyTest(testFunc) {\r\n        return function(o, props) {\r\n            var i = props.length;\r\n            while (i--) {\r\n                if (!testFunc(o, props[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n    }\r\n\r\n    // Next trio of functions are a convenience to save verbose repeated calls to previous two functions\r\n    var areHostMethods = createMultiplePropertyTest(isHostMethod);\r\n    var areHostObjects = createMultiplePropertyTest(isHostObject);\r\n    var areHostProperties = createMultiplePropertyTest(isHostProperty);\r\n\r\n    function isTextRange(range) {\r\n        return range && areHostMethods(range, textRangeMethods) && areHostProperties(range, textRangeProperties);\r\n    }\r\n\r\n    function getBody(doc) {\r\n        return isHostObject(doc, \"body\") ? doc.body : doc.getElementsByTagName(\"body\")[0];\r\n    }\r\n\r\n    var forEach = [].forEach ?\r\n        function(arr, func) {\r\n            arr.forEach(func);\r\n        } :\r\n        function(arr, func) {\r\n            for (var i = 0, len = arr.length; i < len; ++i) {\r\n                func(arr[i], i);\r\n            }\r\n        };\r\n\r\n    var modules = {};\r\n\r\n    var isBrowser = (typeof window != UNDEFINED && typeof document != UNDEFINED);\r\n\r\n    var util = {\r\n        isHostMethod: isHostMethod,\r\n        isHostObject: isHostObject,\r\n        isHostProperty: isHostProperty,\r\n        areHostMethods: areHostMethods,\r\n        areHostObjects: areHostObjects,\r\n        areHostProperties: areHostProperties,\r\n        isTextRange: isTextRange,\r\n        getBody: getBody,\r\n        forEach: forEach\r\n    };\r\n\r\n    var api = {\r\n        version: \"1.3.0\",\r\n        initialized: false,\r\n        isBrowser: isBrowser,\r\n        supported: true,\r\n        util: util,\r\n        features: {},\r\n        modules: modules,\r\n        config: {\r\n            alertOnFail: false,\r\n            alertOnWarn: false,\r\n            preferTextRange: false,\r\n            autoInitialize: (typeof rangyAutoInitialize == UNDEFINED) ? true : rangyAutoInitialize\r\n        }\r\n    };\r\n\r\n    function consoleLog(msg) {\r\n        if (typeof console != UNDEFINED && isHostMethod(console, \"log\")) {\r\n            console.log(msg);\r\n        }\r\n    }\r\n\r\n    function alertOrLog(msg, shouldAlert) {\r\n        if (isBrowser && shouldAlert) {\r\n            alert(msg);\r\n        } else  {\r\n            consoleLog(msg);\r\n        }\r\n    }\r\n\r\n    function fail(reason) {\r\n        api.initialized = true;\r\n        api.supported = false;\r\n        alertOrLog(\"Rangy is not supported in this environment. Reason: \" + reason, api.config.alertOnFail);\r\n    }\r\n\r\n    api.fail = fail;\r\n\r\n    function warn(msg) {\r\n        alertOrLog(\"Rangy warning: \" + msg, api.config.alertOnWarn);\r\n    }\r\n\r\n    api.warn = warn;\r\n\r\n    // Add utility extend() method\r\n    var extend;\r\n    if ({}.hasOwnProperty) {\r\n        util.extend = extend = function(obj, props, deep) {\r\n            var o, p;\r\n            for (var i in props) {\r\n                if (props.hasOwnProperty(i)) {\r\n                    o = obj[i];\r\n                    p = props[i];\r\n                    if (deep && o !== null && typeof o == \"object\" && p !== null && typeof p == \"object\") {\r\n                        extend(o, p, true);\r\n                    }\r\n                    obj[i] = p;\r\n                }\r\n            }\r\n            // Special case for toString, which does not show up in for...in loops in IE <= 8\r\n            if (props.hasOwnProperty(\"toString\")) {\r\n                obj.toString = props.toString;\r\n            }\r\n            return obj;\r\n        };\r\n\r\n        util.createOptions = function(optionsParam, defaults) {\r\n            var options = {};\r\n            extend(options, defaults);\r\n            if (optionsParam) {\r\n                extend(options, optionsParam);\r\n            }\r\n            return options;\r\n        };\r\n    } else {\r\n        fail(\"hasOwnProperty not supported\");\r\n    }\r\n\r\n    // Test whether we're in a browser and bail out if not\r\n    if (!isBrowser) {\r\n        fail(\"Rangy can only run in a browser\");\r\n    }\r\n\r\n    // Test whether Array.prototype.slice can be relied on for NodeLists and use an alternative toArray() if not\r\n    (function() {\r\n        var toArray;\r\n\r\n        if (isBrowser) {\r\n            var el = document.createElement(\"div\");\r\n            el.appendChild(document.createElement(\"span\"));\r\n            var slice = [].slice;\r\n            try {\r\n                if (slice.call(el.childNodes, 0)[0].nodeType == 1) {\r\n                    toArray = function(arrayLike) {\r\n                        return slice.call(arrayLike, 0);\r\n                    };\r\n                }\r\n            } catch (e) {}\r\n        }\r\n\r\n        if (!toArray) {\r\n            toArray = function(arrayLike) {\r\n                var arr = [];\r\n                for (var i = 0, len = arrayLike.length; i < len; ++i) {\r\n                    arr[i] = arrayLike[i];\r\n                }\r\n                return arr;\r\n            };\r\n        }\r\n\r\n        util.toArray = toArray;\r\n    })();\r\n\r\n    // Very simple event handler wrapper function that doesn't attempt to solve issues such as \"this\" handling or\r\n    // normalization of event properties\r\n    var addListener;\r\n    if (isBrowser) {\r\n        if (isHostMethod(document, \"addEventListener\")) {\r\n            addListener = function(obj, eventType, listener) {\r\n                obj.addEventListener(eventType, listener, false);\r\n            };\r\n        } else if (isHostMethod(document, \"attachEvent\")) {\r\n            addListener = function(obj, eventType, listener) {\r\n                obj.attachEvent(\"on\" + eventType, listener);\r\n            };\r\n        } else {\r\n            fail(\"Document does not have required addEventListener or attachEvent method\");\r\n        }\r\n\r\n        util.addListener = addListener;\r\n    }\r\n\r\n    var initListeners = [];\r\n\r\n    function getErrorDesc(ex) {\r\n        return ex.message || ex.description || String(ex);\r\n    }\r\n\r\n    // Initialization\r\n    function init() {\r\n        if (!isBrowser || api.initialized) {\r\n            return;\r\n        }\r\n        var testRange;\r\n        var implementsDomRange = false, implementsTextRange = false;\r\n\r\n        // First, perform basic feature tests\r\n\r\n        if (isHostMethod(document, \"createRange\")) {\r\n            testRange = document.createRange();\r\n            if (areHostMethods(testRange, domRangeMethods) && areHostProperties(testRange, domRangeProperties)) {\r\n                implementsDomRange = true;\r\n            }\r\n        }\r\n\r\n        var body = getBody(document);\r\n        if (!body || body.nodeName.toLowerCase() != \"body\") {\r\n            fail(\"No body element found\");\r\n            return;\r\n        }\r\n\r\n        if (body && isHostMethod(body, \"createTextRange\")) {\r\n            testRange = body.createTextRange();\r\n            if (isTextRange(testRange)) {\r\n                implementsTextRange = true;\r\n            }\r\n        }\r\n\r\n        if (!implementsDomRange && !implementsTextRange) {\r\n            fail(\"Neither Range nor TextRange are available\");\r\n            return;\r\n        }\r\n\r\n        api.initialized = true;\r\n        api.features = {\r\n            implementsDomRange: implementsDomRange,\r\n            implementsTextRange: implementsTextRange\r\n        };\r\n\r\n        // Initialize modules\r\n        var module, errorMessage;\r\n        for (var moduleName in modules) {\r\n            if ( (module = modules[moduleName]) instanceof Module ) {\r\n                module.init(module, api);\r\n            }\r\n        }\r\n\r\n        // Call init listeners\r\n        for (var i = 0, len = initListeners.length; i < len; ++i) {\r\n            try {\r\n                initListeners[i](api);\r\n            } catch (ex) {\r\n                errorMessage = \"Rangy init listener threw an exception. Continuing. Detail: \" + getErrorDesc(ex);\r\n                consoleLog(errorMessage);\r\n            }\r\n        }\r\n    }\r\n\r\n    function deprecationNotice(deprecated, replacement, module) {\r\n        if (module) {\r\n            deprecated += \" in module \" + module.name;\r\n        }\r\n        api.warn(\"DEPRECATED: \" + deprecated + \" is deprecated. Please use \" +\r\n        replacement + \" instead.\");\r\n    }\r\n\r\n    function createAliasForDeprecatedMethod(owner, deprecated, replacement, module) {\r\n        owner[deprecated] = function() {\r\n            deprecationNotice(deprecated, replacement, module);\r\n            return owner[replacement].apply(owner, util.toArray(arguments));\r\n        };\r\n    }\r\n\r\n    util.deprecationNotice = deprecationNotice;\r\n    util.createAliasForDeprecatedMethod = createAliasForDeprecatedMethod;\r\n\r\n    // Allow external scripts to initialize this library in case it's loaded after the document has loaded\r\n    api.init = init;\r\n\r\n    // Execute listener immediately if already initialized\r\n    api.addInitListener = function(listener) {\r\n        if (api.initialized) {\r\n            listener(api);\r\n        } else {\r\n            initListeners.push(listener);\r\n        }\r\n    };\r\n\r\n    var shimListeners = [];\r\n\r\n    api.addShimListener = function(listener) {\r\n        shimListeners.push(listener);\r\n    };\r\n\r\n    function shim(win) {\r\n        win = win || window;\r\n        init();\r\n\r\n        // Notify listeners\r\n        for (var i = 0, len = shimListeners.length; i < len; ++i) {\r\n            shimListeners[i](win);\r\n        }\r\n    }\r\n\r\n    if (isBrowser) {\r\n        api.shim = api.createMissingNativeApi = shim;\r\n        createAliasForDeprecatedMethod(api, \"createMissingNativeApi\", \"shim\");\r\n    }\r\n\r\n    function Module(name, dependencies, initializer) {\r\n        this.name = name;\r\n        this.dependencies = dependencies;\r\n        this.initialized = false;\r\n        this.supported = false;\r\n        this.initializer = initializer;\r\n    }\r\n\r\n    Module.prototype = {\r\n        init: function() {\r\n            var requiredModuleNames = this.dependencies || [];\r\n            for (var i = 0, len = requiredModuleNames.length, requiredModule, moduleName; i < len; ++i) {\r\n                moduleName = requiredModuleNames[i];\r\n\r\n                requiredModule = modules[moduleName];\r\n                if (!requiredModule || !(requiredModule instanceof Module)) {\r\n                    throw new Error(\"required module '\" + moduleName + \"' not found\");\r\n                }\r\n\r\n                requiredModule.init();\r\n\r\n                if (!requiredModule.supported) {\r\n                    throw new Error(\"required module '\" + moduleName + \"' not supported\");\r\n                }\r\n            }\r\n\r\n            // Now run initializer\r\n            this.initializer(this);\r\n        },\r\n\r\n        fail: function(reason) {\r\n            this.initialized = true;\r\n            this.supported = false;\r\n            throw new Error(reason);\r\n        },\r\n\r\n        warn: function(msg) {\r\n            api.warn(\"Module \" + this.name + \": \" + msg);\r\n        },\r\n\r\n        deprecationNotice: function(deprecated, replacement) {\r\n            api.warn(\"DEPRECATED: \" + deprecated + \" in module \" + this.name + \" is deprecated. Please use \" +\r\n                replacement + \" instead\");\r\n        },\r\n\r\n        createError: function(msg) {\r\n            return new Error(\"Error in Rangy \" + this.name + \" module: \" + msg);\r\n        }\r\n    };\r\n\r\n    function createModule(name, dependencies, initFunc) {\r\n        var newModule = new Module(name, dependencies, function(module) {\r\n            if (!module.initialized) {\r\n                module.initialized = true;\r\n                try {\r\n                    initFunc(api, module);\r\n                    module.supported = true;\r\n                } catch (ex) {\r\n                    var errorMessage = \"Module '\" + name + \"' failed to load: \" + getErrorDesc(ex);\r\n                    consoleLog(errorMessage);\r\n                    if (ex.stack) {\r\n                        consoleLog(ex.stack);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        modules[name] = newModule;\r\n        return newModule;\r\n    }\r\n\r\n    api.createModule = function(name) {\r\n        // Allow 2 or 3 arguments (second argument is an optional array of dependencies)\r\n        var initFunc, dependencies;\r\n        if (arguments.length == 2) {\r\n            initFunc = arguments[1];\r\n            dependencies = [];\r\n        } else {\r\n            initFunc = arguments[2];\r\n            dependencies = arguments[1];\r\n        }\r\n\r\n        var module = createModule(name, dependencies, initFunc);\r\n\r\n        // Initialize the module immediately if the core is already initialized\r\n        if (api.initialized && api.supported) {\r\n            module.init();\r\n        }\r\n    };\r\n\r\n    api.createCoreModule = function(name, dependencies, initFunc) {\r\n        createModule(name, dependencies, initFunc);\r\n    };\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Ensure rangy.rangePrototype and rangy.selectionPrototype are available immediately\r\n\r\n    function RangePrototype() {}\r\n    api.RangePrototype = RangePrototype;\r\n    api.rangePrototype = new RangePrototype();\r\n\r\n    function SelectionPrototype() {}\r\n    api.selectionPrototype = new SelectionPrototype();\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // DOM utility methods used by Rangy\n    api.createCoreModule(\"DomUtil\", [], function(api, module) {\n        var UNDEF = \"undefined\";\n        var util = api.util;\n        var getBody = util.getBody;\n\n        // Perform feature tests\n        if (!util.areHostMethods(document, [\"createDocumentFragment\", \"createElement\", \"createTextNode\"])) {\n            module.fail(\"document missing a Node creation method\");\n        }\n\n        if (!util.isHostMethod(document, \"getElementsByTagName\")) {\n            module.fail(\"document missing getElementsByTagName method\");\n        }\n\n        var el = document.createElement(\"div\");\n        if (!util.areHostMethods(el, [\"insertBefore\", \"appendChild\", \"cloneNode\"] ||\n                !util.areHostObjects(el, [\"previousSibling\", \"nextSibling\", \"childNodes\", \"parentNode\"]))) {\n            module.fail(\"Incomplete Element implementation\");\n        }\n\n        // innerHTML is required for Range's createContextualFragment method\n        if (!util.isHostProperty(el, \"innerHTML\")) {\n            module.fail(\"Element is missing innerHTML property\");\n        }\n\n        var textNode = document.createTextNode(\"test\");\n        if (!util.areHostMethods(textNode, [\"splitText\", \"deleteData\", \"insertData\", \"appendData\", \"cloneNode\"] ||\n                !util.areHostObjects(el, [\"previousSibling\", \"nextSibling\", \"childNodes\", \"parentNode\"]) ||\n                !util.areHostProperties(textNode, [\"data\"]))) {\n            module.fail(\"Incomplete Text Node implementation\");\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Removed use of indexOf because of a bizarre bug in Opera that is thrown in one of the Acid3 tests. I haven't been\n        // able to replicate it outside of the test. The bug is that indexOf returns -1 when called on an Array that\n        // contains just the document as a single element and the value searched for is the document.\n        var arrayContains = /*Array.prototype.indexOf ?\n            function(arr, val) {\n                return arr.indexOf(val) > -1;\n            }:*/\n\n            function(arr, val) {\n                var i = arr.length;\n                while (i--) {\n                    if (arr[i] === val) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n\n        // Opera 11 puts HTML elements in the null namespace, it seems, and IE 7 has undefined namespaceURI\n        function isHtmlNamespace(node) {\n            var ns;\n            return typeof node.namespaceURI == UNDEF || ((ns = node.namespaceURI) === null || ns == \"http://www.w3.org/1999/xhtml\");\n        }\n\n        function parentElement(node) {\n            var parent = node.parentNode;\n            return (parent.nodeType == 1) ? parent : null;\n        }\n\n        function getNodeIndex(node) {\n            var i = 0;\n            while( (node = node.previousSibling) ) {\n                ++i;\n            }\n            return i;\n        }\n\n        function getNodeLength(node) {\n            switch (node.nodeType) {\n                case 7:\n                case 10:\n                    return 0;\n                case 3:\n                case 8:\n                    return node.length;\n                default:\n                    return node.childNodes.length;\n            }\n        }\n\n        function getCommonAncestor(node1, node2) {\n            var ancestors = [], n;\n            for (n = node1; n; n = n.parentNode) {\n                ancestors.push(n);\n            }\n\n            for (n = node2; n; n = n.parentNode) {\n                if (arrayContains(ancestors, n)) {\n                    return n;\n                }\n            }\n\n            return null;\n        }\n\n        function isAncestorOf(ancestor, descendant, selfIsAncestor) {\n            var n = selfIsAncestor ? descendant : descendant.parentNode;\n            while (n) {\n                if (n === ancestor) {\n                    return true;\n                } else {\n                    n = n.parentNode;\n                }\n            }\n            return false;\n        }\n\n        function isOrIsAncestorOf(ancestor, descendant) {\n            return isAncestorOf(ancestor, descendant, true);\n        }\n\n        function getClosestAncestorIn(node, ancestor, selfIsAncestor) {\n            var p, n = selfIsAncestor ? node : node.parentNode;\n            while (n) {\n                p = n.parentNode;\n                if (p === ancestor) {\n                    return n;\n                }\n                n = p;\n            }\n            return null;\n        }\n\n        function isCharacterDataNode(node) {\n            var t = node.nodeType;\n            return t == 3 || t == 4 || t == 8 ; // Text, CDataSection or Comment\n        }\n\n        function isTextOrCommentNode(node) {\n            if (!node) {\n                return false;\n            }\n            var t = node.nodeType;\n            return t == 3 || t == 8 ; // Text or Comment\n        }\n\n        function insertAfter(node, precedingNode) {\n            var nextNode = precedingNode.nextSibling, parent = precedingNode.parentNode;\n            if (nextNode) {\n                parent.insertBefore(node, nextNode);\n            } else {\n                parent.appendChild(node);\n            }\n            return node;\n        }\n\n        // Note that we cannot use splitText() because it is bugridden in IE 9.\n        function splitDataNode(node, index, positionsToPreserve) {\n            var newNode = node.cloneNode(false);\n            newNode.deleteData(0, index);\n            node.deleteData(index, node.length - index);\n            insertAfter(newNode, node);\n\n            // Preserve positions\n            if (positionsToPreserve) {\n                for (var i = 0, position; position = positionsToPreserve[i++]; ) {\n                    // Handle case where position was inside the portion of node after the split point\n                    if (position.node == node && position.offset > index) {\n                        position.node = newNode;\n                        position.offset -= index;\n                    }\n                    // Handle the case where the position is a node offset within node's parent\n                    else if (position.node == node.parentNode && position.offset > getNodeIndex(node)) {\n                        ++position.offset;\n                    }\n                }\n            }\n            return newNode;\n        }\n\n        function getDocument(node) {\n            if (node.nodeType == 9) {\n                return node;\n            } else if (typeof node.ownerDocument != UNDEF) {\n                return node.ownerDocument;\n            } else if (typeof node.document != UNDEF) {\n                return node.document;\n            } else if (node.parentNode) {\n                return getDocument(node.parentNode);\n            } else {\n                throw module.createError(\"getDocument: no document found for node\");\n            }\n        }\n\n        function getWindow(node) {\n            var doc = getDocument(node);\n            if (typeof doc.defaultView != UNDEF) {\n                return doc.defaultView;\n            } else if (typeof doc.parentWindow != UNDEF) {\n                return doc.parentWindow;\n            } else {\n                throw module.createError(\"Cannot get a window object for node\");\n            }\n        }\n\n        function getIframeDocument(iframeEl) {\n            if (typeof iframeEl.contentDocument != UNDEF) {\n                return iframeEl.contentDocument;\n            } else if (typeof iframeEl.contentWindow != UNDEF) {\n                return iframeEl.contentWindow.document;\n            } else {\n                throw module.createError(\"getIframeDocument: No Document object found for iframe element\");\n            }\n        }\n\n        function getIframeWindow(iframeEl) {\n            if (typeof iframeEl.contentWindow != UNDEF) {\n                return iframeEl.contentWindow;\n            } else if (typeof iframeEl.contentDocument != UNDEF) {\n                return iframeEl.contentDocument.defaultView;\n            } else {\n                throw module.createError(\"getIframeWindow: No Window object found for iframe element\");\n            }\n        }\n\n        // This looks bad. Is it worth it?\n        function isWindow(obj) {\n            return obj && util.isHostMethod(obj, \"setTimeout\") && util.isHostObject(obj, \"document\");\n        }\n\n        function getContentDocument(obj, module, methodName) {\n            var doc;\n\n            if (!obj) {\n                doc = document;\n            }\n\n            // Test if a DOM node has been passed and obtain a document object for it if so\n            else if (util.isHostProperty(obj, \"nodeType\")) {\n                doc = (obj.nodeType == 1 && obj.tagName.toLowerCase() == \"iframe\") ?\n                    getIframeDocument(obj) : getDocument(obj);\n            }\n\n            // Test if the doc parameter appears to be a Window object\n            else if (isWindow(obj)) {\n                doc = obj.document;\n            }\n\n            if (!doc) {\n                throw module.createError(methodName + \"(): Parameter must be a Window object or DOM node\");\n            }\n\n            return doc;\n        }\n\n        function getRootContainer(node) {\n            var parent;\n            while ( (parent = node.parentNode) ) {\n                node = parent;\n            }\n            return node;\n        }\n\n        function comparePoints(nodeA, offsetA, nodeB, offsetB) {\n            // See http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Comparing\n            var nodeC, root, childA, childB, n;\n            if (nodeA == nodeB) {\n                // Case 1: nodes are the same\n                return offsetA === offsetB ? 0 : (offsetA < offsetB) ? -1 : 1;\n            } else if ( (nodeC = getClosestAncestorIn(nodeB, nodeA, true)) ) {\n                // Case 2: node C (container B or an ancestor) is a child node of A\n                return offsetA <= getNodeIndex(nodeC) ? -1 : 1;\n            } else if ( (nodeC = getClosestAncestorIn(nodeA, nodeB, true)) ) {\n                // Case 3: node C (container A or an ancestor) is a child node of B\n                return getNodeIndex(nodeC) < offsetB  ? -1 : 1;\n            } else {\n                root = getCommonAncestor(nodeA, nodeB);\n                if (!root) {\n                    throw new Error(\"comparePoints error: nodes have no common ancestor\");\n                }\n\n                // Case 4: containers are siblings or descendants of siblings\n                childA = (nodeA === root) ? root : getClosestAncestorIn(nodeA, root, true);\n                childB = (nodeB === root) ? root : getClosestAncestorIn(nodeB, root, true);\n\n                if (childA === childB) {\n                    // This shouldn't be possible\n                    throw module.createError(\"comparePoints got to case 4 and childA and childB are the same!\");\n                } else {\n                    n = root.firstChild;\n                    while (n) {\n                        if (n === childA) {\n                            return -1;\n                        } else if (n === childB) {\n                            return 1;\n                        }\n                        n = n.nextSibling;\n                    }\n                }\n            }\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Test for IE's crash (IE 6/7) or exception (IE >= 8) when a reference to garbage-collected text node is queried\n        var crashyTextNodes = false;\n\n        function isBrokenNode(node) {\n            var n;\n            try {\n                n = node.parentNode;\n                return false;\n            } catch (e) {\n                return true;\n            }\n        }\n\n        (function() {\n            var el = document.createElement(\"b\");\n            el.innerHTML = \"1\";\n            var textNode = el.firstChild;\n            el.innerHTML = \"<br />\";\n            crashyTextNodes = isBrokenNode(textNode);\n\n            api.features.crashyTextNodes = crashyTextNodes;\n        })();\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        function inspectNode(node) {\n            if (!node) {\n                return \"[No node]\";\n            }\n            if (crashyTextNodes && isBrokenNode(node)) {\n                return \"[Broken node]\";\n            }\n            if (isCharacterDataNode(node)) {\n                return '\"' + node.data + '\"';\n            }\n            if (node.nodeType == 1) {\n                var idAttr = node.id ? ' id=\"' + node.id + '\"' : \"\";\n                return \"<\" + node.nodeName + idAttr + \">[index:\" + getNodeIndex(node) + \",length:\" + node.childNodes.length + \"][\" + (node.innerHTML || \"[innerHTML not supported]\").slice(0, 25) + \"]\";\n            }\n            return node.nodeName;\n        }\n\n        function fragmentFromNodeChildren(node) {\n            var fragment = getDocument(node).createDocumentFragment(), child;\n            while ( (child = node.firstChild) ) {\n                fragment.appendChild(child);\n            }\n            return fragment;\n        }\n\n        var getComputedStyleProperty;\n        if (typeof window.getComputedStyle != UNDEF) {\n            getComputedStyleProperty = function(el, propName) {\n                return getWindow(el).getComputedStyle(el, null)[propName];\n            };\n        } else if (typeof document.documentElement.currentStyle != UNDEF) {\n            getComputedStyleProperty = function(el, propName) {\n                return el.currentStyle ? el.currentStyle[propName] : \"\";\n            };\n        } else {\n            module.fail(\"No means of obtaining computed style properties found\");\n        }\n\n        function createTestElement(doc, html, contentEditable) {\n            var body = getBody(doc);\n            var el = doc.createElement(\"div\");\n            el.contentEditable = \"\" + !!contentEditable;\n            if (html) {\n                el.innerHTML = html;\n            }\n\n            // Insert the test element at the start of the body to prevent scrolling to the bottom in iOS (issue #292)\n            var bodyFirstChild = body.firstChild;\n            if (bodyFirstChild) {\n                body.insertBefore(el, bodyFirstChild);\n            } else {\n                body.appendChild(el);\n            }\n\n            return el;\n        }\n\n        function removeNode(node) {\n            return node.parentNode.removeChild(node);\n        }\n\n        function NodeIterator(root) {\n            this.root = root;\n            this._next = root;\n        }\n\n        NodeIterator.prototype = {\n            _current: null,\n\n            hasNext: function() {\n                return !!this._next;\n            },\n\n            next: function() {\n                var n = this._current = this._next;\n                var child, next;\n                if (this._current) {\n                    child = n.firstChild;\n                    if (child) {\n                        this._next = child;\n                    } else {\n                        next = null;\n                        while ((n !== this.root) && !(next = n.nextSibling)) {\n                            n = n.parentNode;\n                        }\n                        this._next = next;\n                    }\n                }\n                return this._current;\n            },\n\n            detach: function() {\n                this._current = this._next = this.root = null;\n            }\n        };\n\n        function createIterator(root) {\n            return new NodeIterator(root);\n        }\n\n        function DomPosition(node, offset) {\n            this.node = node;\n            this.offset = offset;\n        }\n\n        DomPosition.prototype = {\n            equals: function(pos) {\n                return !!pos && this.node === pos.node && this.offset == pos.offset;\n            },\n\n            inspect: function() {\n                return \"[DomPosition(\" + inspectNode(this.node) + \":\" + this.offset + \")]\";\n            },\n\n            toString: function() {\n                return this.inspect();\n            }\n        };\n\n        function DOMException(codeName) {\n            this.code = this[codeName];\n            this.codeName = codeName;\n            this.message = \"DOMException: \" + this.codeName;\n        }\n\n        DOMException.prototype = {\n            INDEX_SIZE_ERR: 1,\n            HIERARCHY_REQUEST_ERR: 3,\n            WRONG_DOCUMENT_ERR: 4,\n            NO_MODIFICATION_ALLOWED_ERR: 7,\n            NOT_FOUND_ERR: 8,\n            NOT_SUPPORTED_ERR: 9,\n            INVALID_STATE_ERR: 11,\n            INVALID_NODE_TYPE_ERR: 24\n        };\n\n        DOMException.prototype.toString = function() {\n            return this.message;\n        };\n\n        api.dom = {\n            arrayContains: arrayContains,\n            isHtmlNamespace: isHtmlNamespace,\n            parentElement: parentElement,\n            getNodeIndex: getNodeIndex,\n            getNodeLength: getNodeLength,\n            getCommonAncestor: getCommonAncestor,\n            isAncestorOf: isAncestorOf,\n            isOrIsAncestorOf: isOrIsAncestorOf,\n            getClosestAncestorIn: getClosestAncestorIn,\n            isCharacterDataNode: isCharacterDataNode,\n            isTextOrCommentNode: isTextOrCommentNode,\n            insertAfter: insertAfter,\n            splitDataNode: splitDataNode,\n            getDocument: getDocument,\n            getWindow: getWindow,\n            getIframeWindow: getIframeWindow,\n            getIframeDocument: getIframeDocument,\n            getBody: getBody,\n            isWindow: isWindow,\n            getContentDocument: getContentDocument,\n            getRootContainer: getRootContainer,\n            comparePoints: comparePoints,\n            isBrokenNode: isBrokenNode,\n            inspectNode: inspectNode,\n            getComputedStyleProperty: getComputedStyleProperty,\n            createTestElement: createTestElement,\n            removeNode: removeNode,\n            fragmentFromNodeChildren: fragmentFromNodeChildren,\n            createIterator: createIterator,\n            DomPosition: DomPosition\n        };\n\n        api.DOMException = DOMException;\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Pure JavaScript implementation of DOM Range\n    api.createCoreModule(\"DomRange\", [\"DomUtil\"], function(api, module) {\n        var dom = api.dom;\n        var util = api.util;\n        var DomPosition = dom.DomPosition;\n        var DOMException = api.DOMException;\n\n        var isCharacterDataNode = dom.isCharacterDataNode;\n        var getNodeIndex = dom.getNodeIndex;\n        var isOrIsAncestorOf = dom.isOrIsAncestorOf;\n        var getDocument = dom.getDocument;\n        var comparePoints = dom.comparePoints;\n        var splitDataNode = dom.splitDataNode;\n        var getClosestAncestorIn = dom.getClosestAncestorIn;\n        var getNodeLength = dom.getNodeLength;\n        var arrayContains = dom.arrayContains;\n        var getRootContainer = dom.getRootContainer;\n        var crashyTextNodes = api.features.crashyTextNodes;\n\n        var removeNode = dom.removeNode;\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Utility functions\n\n        function isNonTextPartiallySelected(node, range) {\n            return (node.nodeType != 3) &&\n                   (isOrIsAncestorOf(node, range.startContainer) || isOrIsAncestorOf(node, range.endContainer));\n        }\n\n        function getRangeDocument(range) {\n            return range.document || getDocument(range.startContainer);\n        }\n\n        function getRangeRoot(range) {\n            return getRootContainer(range.startContainer);\n        }\n\n        function getBoundaryBeforeNode(node) {\n            return new DomPosition(node.parentNode, getNodeIndex(node));\n        }\n\n        function getBoundaryAfterNode(node) {\n            return new DomPosition(node.parentNode, getNodeIndex(node) + 1);\n        }\n\n        function insertNodeAtPosition(node, n, o) {\n            var firstNodeInserted = node.nodeType == 11 ? node.firstChild : node;\n            if (isCharacterDataNode(n)) {\n                if (o == n.length) {\n                    dom.insertAfter(node, n);\n                } else {\n                    n.parentNode.insertBefore(node, o == 0 ? n : splitDataNode(n, o));\n                }\n            } else if (o >= n.childNodes.length) {\n                n.appendChild(node);\n            } else {\n                n.insertBefore(node, n.childNodes[o]);\n            }\n            return firstNodeInserted;\n        }\n\n        function rangesIntersect(rangeA, rangeB, touchingIsIntersecting) {\n            assertRangeValid(rangeA);\n            assertRangeValid(rangeB);\n\n            if (getRangeDocument(rangeB) != getRangeDocument(rangeA)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n\n            var startComparison = comparePoints(rangeA.startContainer, rangeA.startOffset, rangeB.endContainer, rangeB.endOffset),\n                endComparison = comparePoints(rangeA.endContainer, rangeA.endOffset, rangeB.startContainer, rangeB.startOffset);\n\n            return touchingIsIntersecting ? startComparison <= 0 && endComparison >= 0 : startComparison < 0 && endComparison > 0;\n        }\n\n        function cloneSubtree(iterator) {\n            var partiallySelected;\n            for (var node, frag = getRangeDocument(iterator.range).createDocumentFragment(), subIterator; node = iterator.next(); ) {\n                partiallySelected = iterator.isPartiallySelectedSubtree();\n                node = node.cloneNode(!partiallySelected);\n                if (partiallySelected) {\n                    subIterator = iterator.getSubtreeIterator();\n                    node.appendChild(cloneSubtree(subIterator));\n                    subIterator.detach();\n                }\n\n                if (node.nodeType == 10) { // DocumentType\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n                frag.appendChild(node);\n            }\n            return frag;\n        }\n\n        function iterateSubtree(rangeIterator, func, iteratorState) {\n            var it, n;\n            iteratorState = iteratorState || { stop: false };\n            for (var node, subRangeIterator; node = rangeIterator.next(); ) {\n                if (rangeIterator.isPartiallySelectedSubtree()) {\n                    if (func(node) === false) {\n                        iteratorState.stop = true;\n                        return;\n                    } else {\n                        // The node is partially selected by the Range, so we can use a new RangeIterator on the portion of\n                        // the node selected by the Range.\n                        subRangeIterator = rangeIterator.getSubtreeIterator();\n                        iterateSubtree(subRangeIterator, func, iteratorState);\n                        subRangeIterator.detach();\n                        if (iteratorState.stop) {\n                            return;\n                        }\n                    }\n                } else {\n                    // The whole node is selected, so we can use efficient DOM iteration to iterate over the node and its\n                    // descendants\n                    it = dom.createIterator(node);\n                    while ( (n = it.next()) ) {\n                        if (func(n) === false) {\n                            iteratorState.stop = true;\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n\n        function deleteSubtree(iterator) {\n            var subIterator;\n            while (iterator.next()) {\n                if (iterator.isPartiallySelectedSubtree()) {\n                    subIterator = iterator.getSubtreeIterator();\n                    deleteSubtree(subIterator);\n                    subIterator.detach();\n                } else {\n                    iterator.remove();\n                }\n            }\n        }\n\n        function extractSubtree(iterator) {\n            for (var node, frag = getRangeDocument(iterator.range).createDocumentFragment(), subIterator; node = iterator.next(); ) {\n\n                if (iterator.isPartiallySelectedSubtree()) {\n                    node = node.cloneNode(false);\n                    subIterator = iterator.getSubtreeIterator();\n                    node.appendChild(extractSubtree(subIterator));\n                    subIterator.detach();\n                } else {\n                    iterator.remove();\n                }\n                if (node.nodeType == 10) { // DocumentType\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n                frag.appendChild(node);\n            }\n            return frag;\n        }\n\n        function getNodesInRange(range, nodeTypes, filter) {\n            var filterNodeTypes = !!(nodeTypes && nodeTypes.length), regex;\n            var filterExists = !!filter;\n            if (filterNodeTypes) {\n                regex = new RegExp(\"^(\" + nodeTypes.join(\"|\") + \")$\");\n            }\n\n            var nodes = [];\n            iterateSubtree(new RangeIterator(range, false), function(node) {\n                if (filterNodeTypes && !regex.test(node.nodeType)) {\n                    return;\n                }\n                if (filterExists && !filter(node)) {\n                    return;\n                }\n                // Don't include a boundary container if it is a character data node and the range does not contain any\n                // of its character data. See issue 190.\n                var sc = range.startContainer;\n                if (node == sc && isCharacterDataNode(sc) && range.startOffset == sc.length) {\n                    return;\n                }\n\n                var ec = range.endContainer;\n                if (node == ec && isCharacterDataNode(ec) && range.endOffset == 0) {\n                    return;\n                }\n\n                nodes.push(node);\n            });\n            return nodes;\n        }\n\n        function inspect(range) {\n            var name = (typeof range.getName == \"undefined\") ? \"Range\" : range.getName();\n            return \"[\" + name + \"(\" + dom.inspectNode(range.startContainer) + \":\" + range.startOffset + \", \" +\n                    dom.inspectNode(range.endContainer) + \":\" + range.endOffset + \")]\";\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // RangeIterator code partially borrows from IERange by Tim Ryan (http://github.com/timcameronryan/IERange)\n\n        function RangeIterator(range, clonePartiallySelectedTextNodes) {\n            this.range = range;\n            this.clonePartiallySelectedTextNodes = clonePartiallySelectedTextNodes;\n\n\n            if (!range.collapsed) {\n                this.sc = range.startContainer;\n                this.so = range.startOffset;\n                this.ec = range.endContainer;\n                this.eo = range.endOffset;\n                var root = range.commonAncestorContainer;\n\n                if (this.sc === this.ec && isCharacterDataNode(this.sc)) {\n                    this.isSingleCharacterDataNode = true;\n                    this._first = this._last = this._next = this.sc;\n                } else {\n                    this._first = this._next = (this.sc === root && !isCharacterDataNode(this.sc)) ?\n                        this.sc.childNodes[this.so] : getClosestAncestorIn(this.sc, root, true);\n                    this._last = (this.ec === root && !isCharacterDataNode(this.ec)) ?\n                        this.ec.childNodes[this.eo - 1] : getClosestAncestorIn(this.ec, root, true);\n                }\n            }\n        }\n\n        RangeIterator.prototype = {\n            _current: null,\n            _next: null,\n            _first: null,\n            _last: null,\n            isSingleCharacterDataNode: false,\n\n            reset: function() {\n                this._current = null;\n                this._next = this._first;\n            },\n\n            hasNext: function() {\n                return !!this._next;\n            },\n\n            next: function() {\n                // Move to next node\n                var current = this._current = this._next;\n                if (current) {\n                    this._next = (current !== this._last) ? current.nextSibling : null;\n\n                    // Check for partially selected text nodes\n                    if (isCharacterDataNode(current) && this.clonePartiallySelectedTextNodes) {\n                        if (current === this.ec) {\n                            (current = current.cloneNode(true)).deleteData(this.eo, current.length - this.eo);\n                        }\n                        if (this._current === this.sc) {\n                            (current = current.cloneNode(true)).deleteData(0, this.so);\n                        }\n                    }\n                }\n\n                return current;\n            },\n\n            remove: function() {\n                var current = this._current, start, end;\n\n                if (isCharacterDataNode(current) && (current === this.sc || current === this.ec)) {\n                    start = (current === this.sc) ? this.so : 0;\n                    end = (current === this.ec) ? this.eo : current.length;\n                    if (start != end) {\n                        current.deleteData(start, end - start);\n                    }\n                } else {\n                    if (current.parentNode) {\n                        removeNode(current);\n                    } else {\n                    }\n                }\n            },\n\n            // Checks if the current node is partially selected\n            isPartiallySelectedSubtree: function() {\n                var current = this._current;\n                return isNonTextPartiallySelected(current, this.range);\n            },\n\n            getSubtreeIterator: function() {\n                var subRange;\n                if (this.isSingleCharacterDataNode) {\n                    subRange = this.range.cloneRange();\n                    subRange.collapse(false);\n                } else {\n                    subRange = new Range(getRangeDocument(this.range));\n                    var current = this._current;\n                    var startContainer = current, startOffset = 0, endContainer = current, endOffset = getNodeLength(current);\n\n                    if (isOrIsAncestorOf(current, this.sc)) {\n                        startContainer = this.sc;\n                        startOffset = this.so;\n                    }\n                    if (isOrIsAncestorOf(current, this.ec)) {\n                        endContainer = this.ec;\n                        endOffset = this.eo;\n                    }\n\n                    updateBoundaries(subRange, startContainer, startOffset, endContainer, endOffset);\n                }\n                return new RangeIterator(subRange, this.clonePartiallySelectedTextNodes);\n            },\n\n            detach: function() {\n                this.range = this._current = this._next = this._first = this._last = this.sc = this.so = this.ec = this.eo = null;\n            }\n        };\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var beforeAfterNodeTypes = [1, 3, 4, 5, 7, 8, 10];\n        var rootContainerNodeTypes = [2, 9, 11];\n        var readonlyNodeTypes = [5, 6, 10, 12];\n        var insertableNodeTypes = [1, 3, 4, 5, 7, 8, 10, 11];\n        var surroundNodeTypes = [1, 3, 4, 5, 7, 8];\n\n        function createAncestorFinder(nodeTypes) {\n            return function(node, selfIsAncestor) {\n                var t, n = selfIsAncestor ? node : node.parentNode;\n                while (n) {\n                    t = n.nodeType;\n                    if (arrayContains(nodeTypes, t)) {\n                        return n;\n                    }\n                    n = n.parentNode;\n                }\n                return null;\n            };\n        }\n\n        var getDocumentOrFragmentContainer = createAncestorFinder( [9, 11] );\n        var getReadonlyAncestor = createAncestorFinder(readonlyNodeTypes);\n        var getDocTypeNotationEntityAncestor = createAncestorFinder( [6, 10, 12] );\n\n        function assertNoDocTypeNotationEntityAncestor(node, allowSelf) {\n            if (getDocTypeNotationEntityAncestor(node, allowSelf)) {\n                throw new DOMException(\"INVALID_NODE_TYPE_ERR\");\n            }\n        }\n\n        function assertValidNodeType(node, invalidTypes) {\n            if (!arrayContains(invalidTypes, node.nodeType)) {\n                throw new DOMException(\"INVALID_NODE_TYPE_ERR\");\n            }\n        }\n\n        function assertValidOffset(node, offset) {\n            if (offset < 0 || offset > (isCharacterDataNode(node) ? node.length : node.childNodes.length)) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            }\n        }\n\n        function assertSameDocumentOrFragment(node1, node2) {\n            if (getDocumentOrFragmentContainer(node1, true) !== getDocumentOrFragmentContainer(node2, true)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n        }\n\n        function assertNodeNotReadOnly(node) {\n            if (getReadonlyAncestor(node, true)) {\n                throw new DOMException(\"NO_MODIFICATION_ALLOWED_ERR\");\n            }\n        }\n\n        function assertNode(node, codeName) {\n            if (!node) {\n                throw new DOMException(codeName);\n            }\n        }\n\n        function isValidOffset(node, offset) {\n            return offset <= (isCharacterDataNode(node) ? node.length : node.childNodes.length);\n        }\n\n        function isRangeValid(range) {\n            return (!!range.startContainer && !!range.endContainer &&\n                    !(crashyTextNodes && (dom.isBrokenNode(range.startContainer) || dom.isBrokenNode(range.endContainer))) &&\n                    getRootContainer(range.startContainer) == getRootContainer(range.endContainer) &&\n                    isValidOffset(range.startContainer, range.startOffset) &&\n                    isValidOffset(range.endContainer, range.endOffset));\n        }\n\n        function assertRangeValid(range) {\n            if (!isRangeValid(range)) {\n                throw new Error(\"Range error: Range is not valid. This usually happens after DOM mutation. Range: (\" + range.inspect() + \")\");\n            }\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Test the browser's innerHTML support to decide how to implement createContextualFragment\n        var styleEl = document.createElement(\"style\");\n        var htmlParsingConforms = false;\n        try {\n            styleEl.innerHTML = \"<b>x</b>\";\n            htmlParsingConforms = (styleEl.firstChild.nodeType == 3); // Opera incorrectly creates an element node\n        } catch (e) {\n            // IE 6 and 7 throw\n        }\n\n        api.features.htmlParsingConforms = htmlParsingConforms;\n\n        var createContextualFragment = htmlParsingConforms ?\n\n            // Implementation as per HTML parsing spec, trusting in the browser's implementation of innerHTML. See\n            // discussion and base code for this implementation at issue 67.\n            // Spec: http://html5.org/specs/dom-parsing.html#extensions-to-the-range-interface\n            // Thanks to Aleks Williams.\n            function(fragmentStr) {\n                // \"Let node the context object's start's node.\"\n                var node = this.startContainer;\n                var doc = getDocument(node);\n\n                // \"If the context object's start's node is null, raise an INVALID_STATE_ERR\n                // exception and abort these steps.\"\n                if (!node) {\n                    throw new DOMException(\"INVALID_STATE_ERR\");\n                }\n\n                // \"Let element be as follows, depending on node's interface:\"\n                // Document, Document Fragment: null\n                var el = null;\n\n                // \"Element: node\"\n                if (node.nodeType == 1) {\n                    el = node;\n\n                // \"Text, Comment: node's parentElement\"\n                } else if (isCharacterDataNode(node)) {\n                    el = dom.parentElement(node);\n                }\n\n                // \"If either element is null or element's ownerDocument is an HTML document\n                // and element's local name is \"html\" and element's namespace is the HTML\n                // namespace\"\n                if (el === null || (\n                    el.nodeName == \"HTML\" &&\n                    dom.isHtmlNamespace(getDocument(el).documentElement) &&\n                    dom.isHtmlNamespace(el)\n                )) {\n\n                // \"let element be a new Element with \"body\" as its local name and the HTML\n                // namespace as its namespace.\"\"\n                    el = doc.createElement(\"body\");\n                } else {\n                    el = el.cloneNode(false);\n                }\n\n                // \"If the node's document is an HTML document: Invoke the HTML fragment parsing algorithm.\"\n                // \"If the node's document is an XML document: Invoke the XML fragment parsing algorithm.\"\n                // \"In either case, the algorithm must be invoked with fragment as the input\n                // and element as the context element.\"\n                el.innerHTML = fragmentStr;\n\n                // \"If this raises an exception, then abort these steps. Otherwise, let new\n                // children be the nodes returned.\"\n\n                // \"Let fragment be a new DocumentFragment.\"\n                // \"Append all new children to fragment.\"\n                // \"Return fragment.\"\n                return dom.fragmentFromNodeChildren(el);\n            } :\n\n            // In this case, innerHTML cannot be trusted, so fall back to a simpler, non-conformant implementation that\n            // previous versions of Rangy used (with the exception of using a body element rather than a div)\n            function(fragmentStr) {\n                var doc = getRangeDocument(this);\n                var el = doc.createElement(\"body\");\n                el.innerHTML = fragmentStr;\n\n                return dom.fragmentFromNodeChildren(el);\n            };\n\n        function splitRangeBoundaries(range, positionsToPreserve) {\n            assertRangeValid(range);\n\n            var sc = range.startContainer, so = range.startOffset, ec = range.endContainer, eo = range.endOffset;\n            var startEndSame = (sc === ec);\n\n            if (isCharacterDataNode(ec) && eo > 0 && eo < ec.length) {\n                splitDataNode(ec, eo, positionsToPreserve);\n            }\n\n            if (isCharacterDataNode(sc) && so > 0 && so < sc.length) {\n                sc = splitDataNode(sc, so, positionsToPreserve);\n                if (startEndSame) {\n                    eo -= so;\n                    ec = sc;\n                } else if (ec == sc.parentNode && eo >= getNodeIndex(sc)) {\n                    eo++;\n                }\n                so = 0;\n            }\n            range.setStartAndEnd(sc, so, ec, eo);\n        }\n\n        function rangeToHtml(range) {\n            assertRangeValid(range);\n            var container = range.commonAncestorContainer.parentNode.cloneNode(false);\n            container.appendChild( range.cloneContents() );\n            return container.innerHTML;\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var rangeProperties = [\"startContainer\", \"startOffset\", \"endContainer\", \"endOffset\", \"collapsed\",\n            \"commonAncestorContainer\"];\n\n        var s2s = 0, s2e = 1, e2e = 2, e2s = 3;\n        var n_b = 0, n_a = 1, n_b_a = 2, n_i = 3;\n\n        util.extend(api.rangePrototype, {\n            compareBoundaryPoints: function(how, range) {\n                assertRangeValid(this);\n                assertSameDocumentOrFragment(this.startContainer, range.startContainer);\n\n                var nodeA, offsetA, nodeB, offsetB;\n                var prefixA = (how == e2s || how == s2s) ? \"start\" : \"end\";\n                var prefixB = (how == s2e || how == s2s) ? \"start\" : \"end\";\n                nodeA = this[prefixA + \"Container\"];\n                offsetA = this[prefixA + \"Offset\"];\n                nodeB = range[prefixB + \"Container\"];\n                offsetB = range[prefixB + \"Offset\"];\n                return comparePoints(nodeA, offsetA, nodeB, offsetB);\n            },\n\n            insertNode: function(node) {\n                assertRangeValid(this);\n                assertValidNodeType(node, insertableNodeTypes);\n                assertNodeNotReadOnly(this.startContainer);\n\n                if (isOrIsAncestorOf(node, this.startContainer)) {\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n\n                // No check for whether the container of the start of the Range is of a type that does not allow\n                // children of the type of node: the browser's DOM implementation should do this for us when we attempt\n                // to add the node\n\n                var firstNodeInserted = insertNodeAtPosition(node, this.startContainer, this.startOffset);\n                this.setStartBefore(firstNodeInserted);\n            },\n\n            cloneContents: function() {\n                assertRangeValid(this);\n\n                var clone, frag;\n                if (this.collapsed) {\n                    return getRangeDocument(this).createDocumentFragment();\n                } else {\n                    if (this.startContainer === this.endContainer && isCharacterDataNode(this.startContainer)) {\n                        clone = this.startContainer.cloneNode(true);\n                        clone.data = clone.data.slice(this.startOffset, this.endOffset);\n                        frag = getRangeDocument(this).createDocumentFragment();\n                        frag.appendChild(clone);\n                        return frag;\n                    } else {\n                        var iterator = new RangeIterator(this, true);\n                        clone = cloneSubtree(iterator);\n                        iterator.detach();\n                    }\n                    return clone;\n                }\n            },\n\n            canSurroundContents: function() {\n                assertRangeValid(this);\n                assertNodeNotReadOnly(this.startContainer);\n                assertNodeNotReadOnly(this.endContainer);\n\n                // Check if the contents can be surrounded. Specifically, this means whether the range partially selects\n                // no non-text nodes.\n                var iterator = new RangeIterator(this, true);\n                var boundariesInvalid = (iterator._first && (isNonTextPartiallySelected(iterator._first, this)) ||\n                        (iterator._last && isNonTextPartiallySelected(iterator._last, this)));\n                iterator.detach();\n                return !boundariesInvalid;\n            },\n\n            surroundContents: function(node) {\n                assertValidNodeType(node, surroundNodeTypes);\n\n                if (!this.canSurroundContents()) {\n                    throw new DOMException(\"INVALID_STATE_ERR\");\n                }\n\n                // Extract the contents\n                var content = this.extractContents();\n\n                // Clear the children of the node\n                if (node.hasChildNodes()) {\n                    while (node.lastChild) {\n                        node.removeChild(node.lastChild);\n                    }\n                }\n\n                // Insert the new node and add the extracted contents\n                insertNodeAtPosition(node, this.startContainer, this.startOffset);\n                node.appendChild(content);\n\n                this.selectNode(node);\n            },\n\n            cloneRange: function() {\n                assertRangeValid(this);\n                var range = new Range(getRangeDocument(this));\n                var i = rangeProperties.length, prop;\n                while (i--) {\n                    prop = rangeProperties[i];\n                    range[prop] = this[prop];\n                }\n                return range;\n            },\n\n            toString: function() {\n                assertRangeValid(this);\n                var sc = this.startContainer;\n                if (sc === this.endContainer && isCharacterDataNode(sc)) {\n                    return (sc.nodeType == 3 || sc.nodeType == 4) ? sc.data.slice(this.startOffset, this.endOffset) : \"\";\n                } else {\n                    var textParts = [], iterator = new RangeIterator(this, true);\n                    iterateSubtree(iterator, function(node) {\n                        // Accept only text or CDATA nodes, not comments\n                        if (node.nodeType == 3 || node.nodeType == 4) {\n                            textParts.push(node.data);\n                        }\n                    });\n                    iterator.detach();\n                    return textParts.join(\"\");\n                }\n            },\n\n            // The methods below are all non-standard. The following batch were introduced by Mozilla but have since\n            // been removed from Mozilla.\n\n            compareNode: function(node) {\n                assertRangeValid(this);\n\n                var parent = node.parentNode;\n                var nodeIndex = getNodeIndex(node);\n\n                if (!parent) {\n                    throw new DOMException(\"NOT_FOUND_ERR\");\n                }\n\n                var startComparison = this.comparePoint(parent, nodeIndex),\n                    endComparison = this.comparePoint(parent, nodeIndex + 1);\n\n                if (startComparison < 0) { // Node starts before\n                    return (endComparison > 0) ? n_b_a : n_b;\n                } else {\n                    return (endComparison > 0) ? n_a : n_i;\n                }\n            },\n\n            comparePoint: function(node, offset) {\n                assertRangeValid(this);\n                assertNode(node, \"HIERARCHY_REQUEST_ERR\");\n                assertSameDocumentOrFragment(node, this.startContainer);\n\n                if (comparePoints(node, offset, this.startContainer, this.startOffset) < 0) {\n                    return -1;\n                } else if (comparePoints(node, offset, this.endContainer, this.endOffset) > 0) {\n                    return 1;\n                }\n                return 0;\n            },\n\n            createContextualFragment: createContextualFragment,\n\n            toHtml: function() {\n                return rangeToHtml(this);\n            },\n\n            // touchingIsIntersecting determines whether this method considers a node that borders a range intersects\n            // with it (as in WebKit) or not (as in Gecko pre-1.9, and the default)\n            intersectsNode: function(node, touchingIsIntersecting) {\n                assertRangeValid(this);\n                if (getRootContainer(node) != getRangeRoot(this)) {\n                    return false;\n                }\n\n                var parent = node.parentNode, offset = getNodeIndex(node);\n                if (!parent) {\n                    return true;\n                }\n\n                var startComparison = comparePoints(parent, offset, this.endContainer, this.endOffset),\n                    endComparison = comparePoints(parent, offset + 1, this.startContainer, this.startOffset);\n\n                return touchingIsIntersecting ? startComparison <= 0 && endComparison >= 0 : startComparison < 0 && endComparison > 0;\n            },\n\n            isPointInRange: function(node, offset) {\n                assertRangeValid(this);\n                assertNode(node, \"HIERARCHY_REQUEST_ERR\");\n                assertSameDocumentOrFragment(node, this.startContainer);\n\n                return (comparePoints(node, offset, this.startContainer, this.startOffset) >= 0) &&\n                       (comparePoints(node, offset, this.endContainer, this.endOffset) <= 0);\n            },\n\n            // The methods below are non-standard and invented by me.\n\n            // Sharing a boundary start-to-end or end-to-start does not count as intersection.\n            intersectsRange: function(range) {\n                return rangesIntersect(this, range, false);\n            },\n\n            // Sharing a boundary start-to-end or end-to-start does count as intersection.\n            intersectsOrTouchesRange: function(range) {\n                return rangesIntersect(this, range, true);\n            },\n\n            intersection: function(range) {\n                if (this.intersectsRange(range)) {\n                    var startComparison = comparePoints(this.startContainer, this.startOffset, range.startContainer, range.startOffset),\n                        endComparison = comparePoints(this.endContainer, this.endOffset, range.endContainer, range.endOffset);\n\n                    var intersectionRange = this.cloneRange();\n                    if (startComparison == -1) {\n                        intersectionRange.setStart(range.startContainer, range.startOffset);\n                    }\n                    if (endComparison == 1) {\n                        intersectionRange.setEnd(range.endContainer, range.endOffset);\n                    }\n                    return intersectionRange;\n                }\n                return null;\n            },\n\n            union: function(range) {\n                if (this.intersectsOrTouchesRange(range)) {\n                    var unionRange = this.cloneRange();\n                    if (comparePoints(range.startContainer, range.startOffset, this.startContainer, this.startOffset) == -1) {\n                        unionRange.setStart(range.startContainer, range.startOffset);\n                    }\n                    if (comparePoints(range.endContainer, range.endOffset, this.endContainer, this.endOffset) == 1) {\n                        unionRange.setEnd(range.endContainer, range.endOffset);\n                    }\n                    return unionRange;\n                } else {\n                    throw new DOMException(\"Ranges do not intersect\");\n                }\n            },\n\n            containsNode: function(node, allowPartial) {\n                if (allowPartial) {\n                    return this.intersectsNode(node, false);\n                } else {\n                    return this.compareNode(node) == n_i;\n                }\n            },\n\n            containsNodeContents: function(node) {\n                return this.comparePoint(node, 0) >= 0 && this.comparePoint(node, getNodeLength(node)) <= 0;\n            },\n\n            containsRange: function(range) {\n                var intersection = this.intersection(range);\n                return intersection !== null && range.equals(intersection);\n            },\n\n            containsNodeText: function(node) {\n                var nodeRange = this.cloneRange();\n                nodeRange.selectNode(node);\n                var textNodes = nodeRange.getNodes([3]);\n                if (textNodes.length > 0) {\n                    nodeRange.setStart(textNodes[0], 0);\n                    var lastTextNode = textNodes.pop();\n                    nodeRange.setEnd(lastTextNode, lastTextNode.length);\n                    return this.containsRange(nodeRange);\n                } else {\n                    return this.containsNodeContents(node);\n                }\n            },\n\n            getNodes: function(nodeTypes, filter) {\n                assertRangeValid(this);\n                return getNodesInRange(this, nodeTypes, filter);\n            },\n\n            getDocument: function() {\n                return getRangeDocument(this);\n            },\n\n            collapseBefore: function(node) {\n                this.setEndBefore(node);\n                this.collapse(false);\n            },\n\n            collapseAfter: function(node) {\n                this.setStartAfter(node);\n                this.collapse(true);\n            },\n\n            getBookmark: function(containerNode) {\n                var doc = getRangeDocument(this);\n                var preSelectionRange = api.createRange(doc);\n                containerNode = containerNode || dom.getBody(doc);\n                preSelectionRange.selectNodeContents(containerNode);\n                var range = this.intersection(preSelectionRange);\n                var start = 0, end = 0;\n                if (range) {\n                    preSelectionRange.setEnd(range.startContainer, range.startOffset);\n                    start = preSelectionRange.toString().length;\n                    end = start + range.toString().length;\n                }\n\n                return {\n                    start: start,\n                    end: end,\n                    containerNode: containerNode\n                };\n            },\n\n            moveToBookmark: function(bookmark) {\n                var containerNode = bookmark.containerNode;\n                var charIndex = 0;\n                this.setStart(containerNode, 0);\n                this.collapse(true);\n                var nodeStack = [containerNode], node, foundStart = false, stop = false;\n                var nextCharIndex, i, childNodes;\n\n                while (!stop && (node = nodeStack.pop())) {\n                    if (node.nodeType == 3) {\n                        nextCharIndex = charIndex + node.length;\n                        if (!foundStart && bookmark.start >= charIndex && bookmark.start <= nextCharIndex) {\n                            this.setStart(node, bookmark.start - charIndex);\n                            foundStart = true;\n                        }\n                        if (foundStart && bookmark.end >= charIndex && bookmark.end <= nextCharIndex) {\n                            this.setEnd(node, bookmark.end - charIndex);\n                            stop = true;\n                        }\n                        charIndex = nextCharIndex;\n                    } else {\n                        childNodes = node.childNodes;\n                        i = childNodes.length;\n                        while (i--) {\n                            nodeStack.push(childNodes[i]);\n                        }\n                    }\n                }\n            },\n\n            getName: function() {\n                return \"DomRange\";\n            },\n\n            equals: function(range) {\n                return Range.rangesEqual(this, range);\n            },\n\n            isValid: function() {\n                return isRangeValid(this);\n            },\n\n            inspect: function() {\n                return inspect(this);\n            },\n\n            detach: function() {\n                // In DOM4, detach() is now a no-op.\n            }\n        });\n\n        function copyComparisonConstantsToObject(obj) {\n            obj.START_TO_START = s2s;\n            obj.START_TO_END = s2e;\n            obj.END_TO_END = e2e;\n            obj.END_TO_START = e2s;\n\n            obj.NODE_BEFORE = n_b;\n            obj.NODE_AFTER = n_a;\n            obj.NODE_BEFORE_AND_AFTER = n_b_a;\n            obj.NODE_INSIDE = n_i;\n        }\n\n        function copyComparisonConstants(constructor) {\n            copyComparisonConstantsToObject(constructor);\n            copyComparisonConstantsToObject(constructor.prototype);\n        }\n\n        function createRangeContentRemover(remover, boundaryUpdater) {\n            return function() {\n                assertRangeValid(this);\n\n                var sc = this.startContainer, so = this.startOffset, root = this.commonAncestorContainer;\n\n                var iterator = new RangeIterator(this, true);\n\n                // Work out where to position the range after content removal\n                var node, boundary;\n                if (sc !== root) {\n                    node = getClosestAncestorIn(sc, root, true);\n                    boundary = getBoundaryAfterNode(node);\n                    sc = boundary.node;\n                    so = boundary.offset;\n                }\n\n                // Check none of the range is read-only\n                iterateSubtree(iterator, assertNodeNotReadOnly);\n\n                iterator.reset();\n\n                // Remove the content\n                var returnValue = remover(iterator);\n                iterator.detach();\n\n                // Move to the new position\n                boundaryUpdater(this, sc, so, sc, so);\n\n                return returnValue;\n            };\n        }\n\n        function createPrototypeRange(constructor, boundaryUpdater) {\n            function createBeforeAfterNodeSetter(isBefore, isStart) {\n                return function(node) {\n                    assertValidNodeType(node, beforeAfterNodeTypes);\n                    assertValidNodeType(getRootContainer(node), rootContainerNodeTypes);\n\n                    var boundary = (isBefore ? getBoundaryBeforeNode : getBoundaryAfterNode)(node);\n                    (isStart ? setRangeStart : setRangeEnd)(this, boundary.node, boundary.offset);\n                };\n            }\n\n            function setRangeStart(range, node, offset) {\n                var ec = range.endContainer, eo = range.endOffset;\n                if (node !== range.startContainer || offset !== range.startOffset) {\n                    // Check the root containers of the range and the new boundary, and also check whether the new boundary\n                    // is after the current end. In either case, collapse the range to the new position\n                    if (getRootContainer(node) != getRootContainer(ec) || comparePoints(node, offset, ec, eo) == 1) {\n                        ec = node;\n                        eo = offset;\n                    }\n                    boundaryUpdater(range, node, offset, ec, eo);\n                }\n            }\n\n            function setRangeEnd(range, node, offset) {\n                var sc = range.startContainer, so = range.startOffset;\n                if (node !== range.endContainer || offset !== range.endOffset) {\n                    // Check the root containers of the range and the new boundary, and also check whether the new boundary\n                    // is after the current end. In either case, collapse the range to the new position\n                    if (getRootContainer(node) != getRootContainer(sc) || comparePoints(node, offset, sc, so) == -1) {\n                        sc = node;\n                        so = offset;\n                    }\n                    boundaryUpdater(range, sc, so, node, offset);\n                }\n            }\n\n            // Set up inheritance\n            var F = function() {};\n            F.prototype = api.rangePrototype;\n            constructor.prototype = new F();\n\n            util.extend(constructor.prototype, {\n                setStart: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n\n                    setRangeStart(this, node, offset);\n                },\n\n                setEnd: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n\n                    setRangeEnd(this, node, offset);\n                },\n\n                /**\n                 * Convenience method to set a range's start and end boundaries. Overloaded as follows:\n                 * - Two parameters (node, offset) creates a collapsed range at that position\n                 * - Three parameters (node, startOffset, endOffset) creates a range contained with node starting at\n                 *   startOffset and ending at endOffset\n                 * - Four parameters (startNode, startOffset, endNode, endOffset) creates a range starting at startOffset in\n                 *   startNode and ending at endOffset in endNode\n                 */\n                setStartAndEnd: function() {\n                    var args = arguments;\n                    var sc = args[0], so = args[1], ec = sc, eo = so;\n\n                    switch (args.length) {\n                        case 3:\n                            eo = args[2];\n                            break;\n                        case 4:\n                            ec = args[2];\n                            eo = args[3];\n                            break;\n                    }\n\n                    boundaryUpdater(this, sc, so, ec, eo);\n                },\n\n                setBoundary: function(node, offset, isStart) {\n                    this[\"set\" + (isStart ? \"Start\" : \"End\")](node, offset);\n                },\n\n                setStartBefore: createBeforeAfterNodeSetter(true, true),\n                setStartAfter: createBeforeAfterNodeSetter(false, true),\n                setEndBefore: createBeforeAfterNodeSetter(true, false),\n                setEndAfter: createBeforeAfterNodeSetter(false, false),\n\n                collapse: function(isStart) {\n                    assertRangeValid(this);\n                    if (isStart) {\n                        boundaryUpdater(this, this.startContainer, this.startOffset, this.startContainer, this.startOffset);\n                    } else {\n                        boundaryUpdater(this, this.endContainer, this.endOffset, this.endContainer, this.endOffset);\n                    }\n                },\n\n                selectNodeContents: function(node) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n\n                    boundaryUpdater(this, node, 0, node, getNodeLength(node));\n                },\n\n                selectNode: function(node) {\n                    assertNoDocTypeNotationEntityAncestor(node, false);\n                    assertValidNodeType(node, beforeAfterNodeTypes);\n\n                    var start = getBoundaryBeforeNode(node), end = getBoundaryAfterNode(node);\n                    boundaryUpdater(this, start.node, start.offset, end.node, end.offset);\n                },\n\n                extractContents: createRangeContentRemover(extractSubtree, boundaryUpdater),\n\n                deleteContents: createRangeContentRemover(deleteSubtree, boundaryUpdater),\n\n                canSurroundContents: function() {\n                    assertRangeValid(this);\n                    assertNodeNotReadOnly(this.startContainer);\n                    assertNodeNotReadOnly(this.endContainer);\n\n                    // Check if the contents can be surrounded. Specifically, this means whether the range partially selects\n                    // no non-text nodes.\n                    var iterator = new RangeIterator(this, true);\n                    var boundariesInvalid = (iterator._first && isNonTextPartiallySelected(iterator._first, this) ||\n                            (iterator._last && isNonTextPartiallySelected(iterator._last, this)));\n                    iterator.detach();\n                    return !boundariesInvalid;\n                },\n\n                splitBoundaries: function() {\n                    splitRangeBoundaries(this);\n                },\n\n                splitBoundariesPreservingPositions: function(positionsToPreserve) {\n                    splitRangeBoundaries(this, positionsToPreserve);\n                },\n\n                normalizeBoundaries: function() {\n                    assertRangeValid(this);\n\n                    var sc = this.startContainer, so = this.startOffset, ec = this.endContainer, eo = this.endOffset;\n\n                    var mergeForward = function(node) {\n                        var sibling = node.nextSibling;\n                        if (sibling && sibling.nodeType == node.nodeType) {\n                            ec = node;\n                            eo = node.length;\n                            node.appendData(sibling.data);\n                            removeNode(sibling);\n                        }\n                    };\n\n                    var mergeBackward = function(node) {\n                        var sibling = node.previousSibling;\n                        if (sibling && sibling.nodeType == node.nodeType) {\n                            sc = node;\n                            var nodeLength = node.length;\n                            so = sibling.length;\n                            node.insertData(0, sibling.data);\n                            removeNode(sibling);\n                            if (sc == ec) {\n                                eo += so;\n                                ec = sc;\n                            } else if (ec == node.parentNode) {\n                                var nodeIndex = getNodeIndex(node);\n                                if (eo == nodeIndex) {\n                                    ec = node;\n                                    eo = nodeLength;\n                                } else if (eo > nodeIndex) {\n                                    eo--;\n                                }\n                            }\n                        }\n                    };\n\n                    var normalizeStart = true;\n                    var sibling;\n\n                    if (isCharacterDataNode(ec)) {\n                        if (eo == ec.length) {\n                            mergeForward(ec);\n                        } else if (eo == 0) {\n                            sibling = ec.previousSibling;\n                            if (sibling && sibling.nodeType == ec.nodeType) {\n                                eo = sibling.length;\n                                if (sc == ec) {\n                                    normalizeStart = false;\n                                }\n                                sibling.appendData(ec.data);\n                                removeNode(ec);\n                                ec = sibling;\n                            }\n                        }\n                    } else {\n                        if (eo > 0) {\n                            var endNode = ec.childNodes[eo - 1];\n                            if (endNode && isCharacterDataNode(endNode)) {\n                                mergeForward(endNode);\n                            }\n                        }\n                        normalizeStart = !this.collapsed;\n                    }\n\n                    if (normalizeStart) {\n                        if (isCharacterDataNode(sc)) {\n                            if (so == 0) {\n                                mergeBackward(sc);\n                            } else if (so == sc.length) {\n                                sibling = sc.nextSibling;\n                                if (sibling && sibling.nodeType == sc.nodeType) {\n                                    if (ec == sibling) {\n                                        ec = sc;\n                                        eo += sc.length;\n                                    }\n                                    sc.appendData(sibling.data);\n                                    removeNode(sibling);\n                                }\n                            }\n                        } else {\n                            if (so < sc.childNodes.length) {\n                                var startNode = sc.childNodes[so];\n                                if (startNode && isCharacterDataNode(startNode)) {\n                                    mergeBackward(startNode);\n                                }\n                            }\n                        }\n                    } else {\n                        sc = ec;\n                        so = eo;\n                    }\n\n                    boundaryUpdater(this, sc, so, ec, eo);\n                },\n\n                collapseToPoint: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n                    this.setStartAndEnd(node, offset);\n                }\n            });\n\n            copyComparisonConstants(constructor);\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Updates commonAncestorContainer and collapsed after boundary change\n        function updateCollapsedAndCommonAncestor(range) {\n            range.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\n            range.commonAncestorContainer = range.collapsed ?\n                range.startContainer : dom.getCommonAncestor(range.startContainer, range.endContainer);\n        }\n\n        function updateBoundaries(range, startContainer, startOffset, endContainer, endOffset) {\n            range.startContainer = startContainer;\n            range.startOffset = startOffset;\n            range.endContainer = endContainer;\n            range.endOffset = endOffset;\n            range.document = dom.getDocument(startContainer);\n\n            updateCollapsedAndCommonAncestor(range);\n        }\n\n        function Range(doc) {\n            this.startContainer = doc;\n            this.startOffset = 0;\n            this.endContainer = doc;\n            this.endOffset = 0;\n            this.document = doc;\n            updateCollapsedAndCommonAncestor(this);\n        }\n\n        createPrototypeRange(Range, updateBoundaries);\n\n        util.extend(Range, {\n            rangeProperties: rangeProperties,\n            RangeIterator: RangeIterator,\n            copyComparisonConstants: copyComparisonConstants,\n            createPrototypeRange: createPrototypeRange,\n            inspect: inspect,\n            toHtml: rangeToHtml,\n            getRangeDocument: getRangeDocument,\n            rangesEqual: function(r1, r2) {\n                return r1.startContainer === r2.startContainer &&\n                    r1.startOffset === r2.startOffset &&\n                    r1.endContainer === r2.endContainer &&\n                    r1.endOffset === r2.endOffset;\n            }\n        });\n\n        api.DomRange = Range;\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Wrappers for the browser's native DOM Range and/or TextRange implementation\n    api.createCoreModule(\"WrappedRange\", [\"DomRange\"], function(api, module) {\n        var WrappedRange, WrappedTextRange;\n        var dom = api.dom;\n        var util = api.util;\n        var DomPosition = dom.DomPosition;\n        var DomRange = api.DomRange;\n        var getBody = dom.getBody;\n        var getContentDocument = dom.getContentDocument;\n        var isCharacterDataNode = dom.isCharacterDataNode;\n\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        if (api.features.implementsDomRange) {\n            // This is a wrapper around the browser's native DOM Range. It has two aims:\n            // - Provide workarounds for specific browser bugs\n            // - provide convenient extensions, which are inherited from Rangy's DomRange\n\n            (function() {\n                var rangeProto;\n                var rangeProperties = DomRange.rangeProperties;\n\n                function updateRangeProperties(range) {\n                    var i = rangeProperties.length, prop;\n                    while (i--) {\n                        prop = rangeProperties[i];\n                        range[prop] = range.nativeRange[prop];\n                    }\n                    // Fix for broken collapsed property in IE 9.\n                    range.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\n                }\n\n                function updateNativeRange(range, startContainer, startOffset, endContainer, endOffset) {\n                    var startMoved = (range.startContainer !== startContainer || range.startOffset != startOffset);\n                    var endMoved = (range.endContainer !== endContainer || range.endOffset != endOffset);\n                    var nativeRangeDifferent = !range.equals(range.nativeRange);\n\n                    // Always set both boundaries for the benefit of IE9 (see issue 35)\n                    if (startMoved || endMoved || nativeRangeDifferent) {\n                        range.setEnd(endContainer, endOffset);\n                        range.setStart(startContainer, startOffset);\n                    }\n                }\n\n                var createBeforeAfterNodeSetter;\n\n                WrappedRange = function(range) {\n                    if (!range) {\n                        throw module.createError(\"WrappedRange: Range must be specified\");\n                    }\n                    this.nativeRange = range;\n                    updateRangeProperties(this);\n                };\n\n                DomRange.createPrototypeRange(WrappedRange, updateNativeRange);\n\n                rangeProto = WrappedRange.prototype;\n\n                rangeProto.selectNode = function(node) {\n                    this.nativeRange.selectNode(node);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.cloneContents = function() {\n                    return this.nativeRange.cloneContents();\n                };\n\n                // Due to a long-standing Firefox bug that I have not been able to find a reliable way to detect,\n                // insertNode() is never delegated to the native range.\n\n                rangeProto.surroundContents = function(node) {\n                    this.nativeRange.surroundContents(node);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.collapse = function(isStart) {\n                    this.nativeRange.collapse(isStart);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.cloneRange = function() {\n                    return new WrappedRange(this.nativeRange.cloneRange());\n                };\n\n                rangeProto.refresh = function() {\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.toString = function() {\n                    return this.nativeRange.toString();\n                };\n\n                // Create test range and node for feature detection\n\n                var testTextNode = document.createTextNode(\"test\");\n                getBody(document).appendChild(testTextNode);\n                var range = document.createRange();\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for Firefox 2 bug that prevents moving the start of a Range to a point after its current end and\n                // correct for it\n\n                range.setStart(testTextNode, 0);\n                range.setEnd(testTextNode, 0);\n\n                try {\n                    range.setStart(testTextNode, 1);\n\n                    rangeProto.setStart = function(node, offset) {\n                        this.nativeRange.setStart(node, offset);\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.setEnd = function(node, offset) {\n                        this.nativeRange.setEnd(node, offset);\n                        updateRangeProperties(this);\n                    };\n\n                    createBeforeAfterNodeSetter = function(name) {\n                        return function(node) {\n                            this.nativeRange[name](node);\n                            updateRangeProperties(this);\n                        };\n                    };\n\n                } catch(ex) {\n\n                    rangeProto.setStart = function(node, offset) {\n                        try {\n                            this.nativeRange.setStart(node, offset);\n                        } catch (ex) {\n                            this.nativeRange.setEnd(node, offset);\n                            this.nativeRange.setStart(node, offset);\n                        }\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.setEnd = function(node, offset) {\n                        try {\n                            this.nativeRange.setEnd(node, offset);\n                        } catch (ex) {\n                            this.nativeRange.setStart(node, offset);\n                            this.nativeRange.setEnd(node, offset);\n                        }\n                        updateRangeProperties(this);\n                    };\n\n                    createBeforeAfterNodeSetter = function(name, oppositeName) {\n                        return function(node) {\n                            try {\n                                this.nativeRange[name](node);\n                            } catch (ex) {\n                                this.nativeRange[oppositeName](node);\n                                this.nativeRange[name](node);\n                            }\n                            updateRangeProperties(this);\n                        };\n                    };\n                }\n\n                rangeProto.setStartBefore = createBeforeAfterNodeSetter(\"setStartBefore\", \"setEndBefore\");\n                rangeProto.setStartAfter = createBeforeAfterNodeSetter(\"setStartAfter\", \"setEndAfter\");\n                rangeProto.setEndBefore = createBeforeAfterNodeSetter(\"setEndBefore\", \"setStartBefore\");\n                rangeProto.setEndAfter = createBeforeAfterNodeSetter(\"setEndAfter\", \"setStartAfter\");\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Always use DOM4-compliant selectNodeContents implementation: it's simpler and less code than testing\n                // whether the native implementation can be trusted\n                rangeProto.selectNodeContents = function(node) {\n                    this.setStartAndEnd(node, 0, dom.getNodeLength(node));\n                };\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for and correct WebKit bug that has the behaviour of compareBoundaryPoints round the wrong way for\n                // constants START_TO_END and END_TO_START: https://bugs.webkit.org/show_bug.cgi?id=20738\n\n                range.selectNodeContents(testTextNode);\n                range.setEnd(testTextNode, 3);\n\n                var range2 = document.createRange();\n                range2.selectNodeContents(testTextNode);\n                range2.setEnd(testTextNode, 4);\n                range2.setStart(testTextNode, 2);\n\n                if (range.compareBoundaryPoints(range.START_TO_END, range2) == -1 &&\n                        range.compareBoundaryPoints(range.END_TO_START, range2) == 1) {\n                    // This is the wrong way round, so correct for it\n\n                    rangeProto.compareBoundaryPoints = function(type, range) {\n                        range = range.nativeRange || range;\n                        if (type == range.START_TO_END) {\n                            type = range.END_TO_START;\n                        } else if (type == range.END_TO_START) {\n                            type = range.START_TO_END;\n                        }\n                        return this.nativeRange.compareBoundaryPoints(type, range);\n                    };\n                } else {\n                    rangeProto.compareBoundaryPoints = function(type, range) {\n                        return this.nativeRange.compareBoundaryPoints(type, range.nativeRange || range);\n                    };\n                }\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for IE deleteContents() and extractContents() bug and correct it. See issue 107.\n\n                var el = document.createElement(\"div\");\n                el.innerHTML = \"123\";\n                var textNode = el.firstChild;\n                var body = getBody(document);\n                body.appendChild(el);\n\n                range.setStart(textNode, 1);\n                range.setEnd(textNode, 2);\n                range.deleteContents();\n\n                if (textNode.data == \"13\") {\n                    // Behaviour is correct per DOM4 Range so wrap the browser's implementation of deleteContents() and\n                    // extractContents()\n                    rangeProto.deleteContents = function() {\n                        this.nativeRange.deleteContents();\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.extractContents = function() {\n                        var frag = this.nativeRange.extractContents();\n                        updateRangeProperties(this);\n                        return frag;\n                    };\n                } else {\n                }\n\n                body.removeChild(el);\n                body = null;\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for existence of createContextualFragment and delegate to it if it exists\n                if (util.isHostMethod(range, \"createContextualFragment\")) {\n                    rangeProto.createContextualFragment = function(fragmentStr) {\n                        return this.nativeRange.createContextualFragment(fragmentStr);\n                    };\n                }\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Clean up\n                getBody(document).removeChild(testTextNode);\n\n                rangeProto.getName = function() {\n                    return \"WrappedRange\";\n                };\n\n                api.WrappedRange = WrappedRange;\n\n                api.createNativeRange = function(doc) {\n                    doc = getContentDocument(doc, module, \"createNativeRange\");\n                    return doc.createRange();\n                };\n            })();\n        }\n\n        if (api.features.implementsTextRange) {\n            /*\n            This is a workaround for a bug where IE returns the wrong container element from the TextRange's parentElement()\n            method. For example, in the following (where pipes denote the selection boundaries):\n\n            <ul id=\"ul\"><li id=\"a\">| a </li><li id=\"b\"> b |</li></ul>\n\n            var range = document.selection.createRange();\n            alert(range.parentElement().id); // Should alert \"ul\" but alerts \"b\"\n\n            This method returns the common ancestor node of the following:\n            - the parentElement() of the textRange\n            - the parentElement() of the textRange after calling collapse(true)\n            - the parentElement() of the textRange after calling collapse(false)\n            */\n            var getTextRangeContainerElement = function(textRange) {\n                var parentEl = textRange.parentElement();\n                var range = textRange.duplicate();\n                range.collapse(true);\n                var startEl = range.parentElement();\n                range = textRange.duplicate();\n                range.collapse(false);\n                var endEl = range.parentElement();\n                var startEndContainer = (startEl == endEl) ? startEl : dom.getCommonAncestor(startEl, endEl);\n\n                return startEndContainer == parentEl ? startEndContainer : dom.getCommonAncestor(parentEl, startEndContainer);\n            };\n\n            var textRangeIsCollapsed = function(textRange) {\n                return textRange.compareEndPoints(\"StartToEnd\", textRange) == 0;\n            };\n\n            // Gets the boundary of a TextRange expressed as a node and an offset within that node. This function started\n            // out as an improved version of code found in Tim Cameron Ryan's IERange (http://code.google.com/p/ierange/)\n            // but has grown, fixing problems with line breaks in preformatted text, adding workaround for IE TextRange\n            // bugs, handling for inputs and images, plus optimizations.\n            var getTextRangeBoundaryPosition = function(textRange, wholeRangeContainerElement, isStart, isCollapsed, startInfo) {\n                var workingRange = textRange.duplicate();\n                workingRange.collapse(isStart);\n                var containerElement = workingRange.parentElement();\n\n                // Sometimes collapsing a TextRange that's at the start of a text node can move it into the previous node, so\n                // check for that\n                if (!dom.isOrIsAncestorOf(wholeRangeContainerElement, containerElement)) {\n                    containerElement = wholeRangeContainerElement;\n                }\n\n\n                // Deal with nodes that cannot \"contain rich HTML markup\". In practice, this means form inputs, images and\n                // similar. See http://msdn.microsoft.com/en-us/library/aa703950%28VS.85%29.aspx\n                if (!containerElement.canHaveHTML) {\n                    var pos = new DomPosition(containerElement.parentNode, dom.getNodeIndex(containerElement));\n                    return {\n                        boundaryPosition: pos,\n                        nodeInfo: {\n                            nodeIndex: pos.offset,\n                            containerElement: pos.node\n                        }\n                    };\n                }\n\n                var workingNode = dom.getDocument(containerElement).createElement(\"span\");\n\n                // Workaround for HTML5 Shiv's insane violation of document.createElement(). See Rangy issue 104 and HTML5\n                // Shiv issue 64: https://github.com/aFarkas/html5shiv/issues/64\n                if (workingNode.parentNode) {\n                    dom.removeNode(workingNode);\n                }\n\n                var comparison, workingComparisonType = isStart ? \"StartToStart\" : \"StartToEnd\";\n                var previousNode, nextNode, boundaryPosition, boundaryNode;\n                var start = (startInfo && startInfo.containerElement == containerElement) ? startInfo.nodeIndex : 0;\n                var childNodeCount = containerElement.childNodes.length;\n                var end = childNodeCount;\n\n                // Check end first. Code within the loop assumes that the endth child node of the container is definitely\n                // after the range boundary.\n                var nodeIndex = end;\n\n                while (true) {\n                    if (nodeIndex == childNodeCount) {\n                        containerElement.appendChild(workingNode);\n                    } else {\n                        containerElement.insertBefore(workingNode, containerElement.childNodes[nodeIndex]);\n                    }\n                    workingRange.moveToElementText(workingNode);\n                    comparison = workingRange.compareEndPoints(workingComparisonType, textRange);\n                    if (comparison == 0 || start == end) {\n                        break;\n                    } else if (comparison == -1) {\n                        if (end == start + 1) {\n                            // We know the endth child node is after the range boundary, so we must be done.\n                            break;\n                        } else {\n                            start = nodeIndex;\n                        }\n                    } else {\n                        end = (end == start + 1) ? start : nodeIndex;\n                    }\n                    nodeIndex = Math.floor((start + end) / 2);\n                    containerElement.removeChild(workingNode);\n                }\n\n\n                // We've now reached or gone past the boundary of the text range we're interested in\n                // so have identified the node we want\n                boundaryNode = workingNode.nextSibling;\n\n                if (comparison == -1 && boundaryNode && isCharacterDataNode(boundaryNode)) {\n                    // This is a character data node (text, comment, cdata). The working range is collapsed at the start of\n                    // the node containing the text range's boundary, so we move the end of the working range to the\n                    // boundary point and measure the length of its text to get the boundary's offset within the node.\n                    workingRange.setEndPoint(isStart ? \"EndToStart\" : \"EndToEnd\", textRange);\n\n                    var offset;\n\n                    if (/[\\r\\n]/.test(boundaryNode.data)) {\n                        /*\n                        For the particular case of a boundary within a text node containing rendered line breaks (within a\n                        <pre> element, for example), we need a slightly complicated approach to get the boundary's offset in\n                        IE. The facts:\n\n                        - Each line break is represented as \\r in the text node's data/nodeValue properties\n                        - Each line break is represented as \\r\\n in the TextRange's 'text' property\n                        - The 'text' property of the TextRange does not contain trailing line breaks\n\n                        To get round the problem presented by the final fact above, we can use the fact that TextRange's\n                        moveStart() and moveEnd() methods return the actual number of characters moved, which is not\n                        necessarily the same as the number of characters it was instructed to move. The simplest approach is\n                        to use this to store the characters moved when moving both the start and end of the range to the\n                        start of the document body and subtracting the start offset from the end offset (the\n                        \"move-negative-gazillion\" method). However, this is extremely slow when the document is large and\n                        the range is near the end of it. Clearly doing the mirror image (i.e. moving the range boundaries to\n                        the end of the document) has the same problem.\n\n                        Another approach that works is to use moveStart() to move the start boundary of the range up to the\n                        end boundary one character at a time and incrementing a counter with the value returned by the\n                        moveStart() call. However, the check for whether the start boundary has reached the end boundary is\n                        expensive, so this method is slow (although unlike \"move-negative-gazillion\" is largely unaffected\n                        by the location of the range within the document).\n\n                        The approach used below is a hybrid of the two methods above. It uses the fact that a string\n                        containing the TextRange's 'text' property with each \\r\\n converted to a single \\r character cannot\n                        be longer than the text of the TextRange, so the start of the range is moved that length initially\n                        and then a character at a time to make up for any trailing line breaks not contained in the 'text'\n                        property. This has good performance in most situations compared to the previous two methods.\n                        */\n                        var tempRange = workingRange.duplicate();\n                        var rangeLength = tempRange.text.replace(/\\r\\n/g, \"\\r\").length;\n\n                        offset = tempRange.moveStart(\"character\", rangeLength);\n                        while ( (comparison = tempRange.compareEndPoints(\"StartToEnd\", tempRange)) == -1) {\n                            offset++;\n                            tempRange.moveStart(\"character\", 1);\n                        }\n                    } else {\n                        offset = workingRange.text.length;\n                    }\n                    boundaryPosition = new DomPosition(boundaryNode, offset);\n                } else {\n\n                    // If the boundary immediately follows a character data node and this is the end boundary, we should favour\n                    // a position within that, and likewise for a start boundary preceding a character data node\n                    previousNode = (isCollapsed || !isStart) && workingNode.previousSibling;\n                    nextNode = (isCollapsed || isStart) && workingNode.nextSibling;\n                    if (nextNode && isCharacterDataNode(nextNode)) {\n                        boundaryPosition = new DomPosition(nextNode, 0);\n                    } else if (previousNode && isCharacterDataNode(previousNode)) {\n                        boundaryPosition = new DomPosition(previousNode, previousNode.data.length);\n                    } else {\n                        boundaryPosition = new DomPosition(containerElement, dom.getNodeIndex(workingNode));\n                    }\n                }\n\n                // Clean up\n                dom.removeNode(workingNode);\n\n                return {\n                    boundaryPosition: boundaryPosition,\n                    nodeInfo: {\n                        nodeIndex: nodeIndex,\n                        containerElement: containerElement\n                    }\n                };\n            };\n\n            // Returns a TextRange representing the boundary of a TextRange expressed as a node and an offset within that\n            // node. This function started out as an optimized version of code found in Tim Cameron Ryan's IERange\n            // (http://code.google.com/p/ierange/)\n            var createBoundaryTextRange = function(boundaryPosition, isStart) {\n                var boundaryNode, boundaryParent, boundaryOffset = boundaryPosition.offset;\n                var doc = dom.getDocument(boundaryPosition.node);\n                var workingNode, childNodes, workingRange = getBody(doc).createTextRange();\n                var nodeIsDataNode = isCharacterDataNode(boundaryPosition.node);\n\n                if (nodeIsDataNode) {\n                    boundaryNode = boundaryPosition.node;\n                    boundaryParent = boundaryNode.parentNode;\n                } else {\n                    childNodes = boundaryPosition.node.childNodes;\n                    boundaryNode = (boundaryOffset < childNodes.length) ? childNodes[boundaryOffset] : null;\n                    boundaryParent = boundaryPosition.node;\n                }\n\n                // Position the range immediately before the node containing the boundary\n                workingNode = doc.createElement(\"span\");\n\n                // Making the working element non-empty element persuades IE to consider the TextRange boundary to be within\n                // the element rather than immediately before or after it\n                workingNode.innerHTML = \"&#feff;\";\n\n                // insertBefore is supposed to work like appendChild if the second parameter is null. However, a bug report\n                // for IERange suggests that it can crash the browser: http://code.google.com/p/ierange/issues/detail?id=12\n                if (boundaryNode) {\n                    boundaryParent.insertBefore(workingNode, boundaryNode);\n                } else {\n                    boundaryParent.appendChild(workingNode);\n                }\n\n                workingRange.moveToElementText(workingNode);\n                workingRange.collapse(!isStart);\n\n                // Clean up\n                boundaryParent.removeChild(workingNode);\n\n                // Move the working range to the text offset, if required\n                if (nodeIsDataNode) {\n                    workingRange[isStart ? \"moveStart\" : \"moveEnd\"](\"character\", boundaryOffset);\n                }\n\n                return workingRange;\n            };\n\n            /*------------------------------------------------------------------------------------------------------------*/\n\n            // This is a wrapper around a TextRange, providing full DOM Range functionality using rangy's DomRange as a\n            // prototype\n\n            WrappedTextRange = function(textRange) {\n                this.textRange = textRange;\n                this.refresh();\n            };\n\n            WrappedTextRange.prototype = new DomRange(document);\n\n            WrappedTextRange.prototype.refresh = function() {\n                var start, end, startBoundary;\n\n                // TextRange's parentElement() method cannot be trusted. getTextRangeContainerElement() works around that.\n                var rangeContainerElement = getTextRangeContainerElement(this.textRange);\n\n                if (textRangeIsCollapsed(this.textRange)) {\n                    end = start = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, true,\n                        true).boundaryPosition;\n                } else {\n                    startBoundary = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, true, false);\n                    start = startBoundary.boundaryPosition;\n\n                    // An optimization used here is that if the start and end boundaries have the same parent element, the\n                    // search scope for the end boundary can be limited to exclude the portion of the element that precedes\n                    // the start boundary\n                    end = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, false, false,\n                        startBoundary.nodeInfo).boundaryPosition;\n                }\n\n                this.setStart(start.node, start.offset);\n                this.setEnd(end.node, end.offset);\n            };\n\n            WrappedTextRange.prototype.getName = function() {\n                return \"WrappedTextRange\";\n            };\n\n            DomRange.copyComparisonConstants(WrappedTextRange);\n\n            var rangeToTextRange = function(range) {\n                if (range.collapsed) {\n                    return createBoundaryTextRange(new DomPosition(range.startContainer, range.startOffset), true);\n                } else {\n                    var startRange = createBoundaryTextRange(new DomPosition(range.startContainer, range.startOffset), true);\n                    var endRange = createBoundaryTextRange(new DomPosition(range.endContainer, range.endOffset), false);\n                    var textRange = getBody( DomRange.getRangeDocument(range) ).createTextRange();\n                    textRange.setEndPoint(\"StartToStart\", startRange);\n                    textRange.setEndPoint(\"EndToEnd\", endRange);\n                    return textRange;\n                }\n            };\n\n            WrappedTextRange.rangeToTextRange = rangeToTextRange;\n\n            WrappedTextRange.prototype.toTextRange = function() {\n                return rangeToTextRange(this);\n            };\n\n            api.WrappedTextRange = WrappedTextRange;\n\n            // IE 9 and above have both implementations and Rangy makes both available. The next few lines sets which\n            // implementation to use by default.\n            if (!api.features.implementsDomRange || api.config.preferTextRange) {\n                // Add WrappedTextRange as the Range property of the global object to allow expression like Range.END_TO_END to work\n                var globalObj = (function(f) { return f(\"return this;\")(); })(Function);\n                if (typeof globalObj.Range == \"undefined\") {\n                    globalObj.Range = WrappedTextRange;\n                }\n\n                api.createNativeRange = function(doc) {\n                    doc = getContentDocument(doc, module, \"createNativeRange\");\n                    return getBody(doc).createTextRange();\n                };\n\n                api.WrappedRange = WrappedTextRange;\n            }\n        }\n\n        api.createRange = function(doc) {\n            doc = getContentDocument(doc, module, \"createRange\");\n            return new api.WrappedRange(api.createNativeRange(doc));\n        };\n\n        api.createRangyRange = function(doc) {\n            doc = getContentDocument(doc, module, \"createRangyRange\");\n            return new DomRange(doc);\n        };\n\n        util.createAliasForDeprecatedMethod(api, \"createIframeRange\", \"createRange\");\n        util.createAliasForDeprecatedMethod(api, \"createIframeRangyRange\", \"createRangyRange\");\n\n        api.addShimListener(function(win) {\n            var doc = win.document;\n            if (typeof doc.createRange == \"undefined\") {\n                doc.createRange = function() {\n                    return api.createRange(doc);\n                };\n            }\n            doc = win = null;\n        });\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // This module creates a selection object wrapper that conforms as closely as possible to the Selection specification\n    // in the HTML Editing spec (http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#selections)\n    api.createCoreModule(\"WrappedSelection\", [\"DomRange\", \"WrappedRange\"], function(api, module) {\n        api.config.checkSelectionRanges = true;\n\n        var BOOLEAN = \"boolean\";\n        var NUMBER = \"number\";\n        var dom = api.dom;\n        var util = api.util;\n        var isHostMethod = util.isHostMethod;\n        var DomRange = api.DomRange;\n        var WrappedRange = api.WrappedRange;\n        var DOMException = api.DOMException;\n        var DomPosition = dom.DomPosition;\n        var getNativeSelection;\n        var selectionIsCollapsed;\n        var features = api.features;\n        var CONTROL = \"Control\";\n        var getDocument = dom.getDocument;\n        var getBody = dom.getBody;\n        var rangesEqual = DomRange.rangesEqual;\n\n\n        // Utility function to support direction parameters in the API that may be a string (\"backward\", \"backwards\",\n        // \"forward\" or \"forwards\") or a Boolean (true for backwards).\n        function isDirectionBackward(dir) {\n            return (typeof dir == \"string\") ? /^backward(s)?$/i.test(dir) : !!dir;\n        }\n\n        function getWindow(win, methodName) {\n            if (!win) {\n                return window;\n            } else if (dom.isWindow(win)) {\n                return win;\n            } else if (win instanceof WrappedSelection) {\n                return win.win;\n            } else {\n                var doc = dom.getContentDocument(win, module, methodName);\n                return dom.getWindow(doc);\n            }\n        }\n\n        function getWinSelection(winParam) {\n            return getWindow(winParam, \"getWinSelection\").getSelection();\n        }\n\n        function getDocSelection(winParam) {\n            return getWindow(winParam, \"getDocSelection\").document.selection;\n        }\n\n        function winSelectionIsBackward(sel) {\n            var backward = false;\n            if (sel.anchorNode) {\n                backward = (dom.comparePoints(sel.anchorNode, sel.anchorOffset, sel.focusNode, sel.focusOffset) == 1);\n            }\n            return backward;\n        }\n\n        // Test for the Range/TextRange and Selection features required\n        // Test for ability to retrieve selection\n        var implementsWinGetSelection = isHostMethod(window, \"getSelection\"),\n            implementsDocSelection = util.isHostObject(document, \"selection\");\n\n        features.implementsWinGetSelection = implementsWinGetSelection;\n        features.implementsDocSelection = implementsDocSelection;\n\n        var useDocumentSelection = implementsDocSelection && (!implementsWinGetSelection || api.config.preferTextRange);\n\n        if (useDocumentSelection) {\n            getNativeSelection = getDocSelection;\n            api.isSelectionValid = function(winParam) {\n                var doc = getWindow(winParam, \"isSelectionValid\").document, nativeSel = doc.selection;\n\n                // Check whether the selection TextRange is actually contained within the correct document\n                return (nativeSel.type != \"None\" || getDocument(nativeSel.createRange().parentElement()) == doc);\n            };\n        } else if (implementsWinGetSelection) {\n            getNativeSelection = getWinSelection;\n            api.isSelectionValid = function() {\n                return true;\n            };\n        } else {\n            module.fail(\"Neither document.selection or window.getSelection() detected.\");\n            return false;\n        }\n\n        api.getNativeSelection = getNativeSelection;\n\n        var testSelection = getNativeSelection();\n\n        // In Firefox, the selection is null in an iframe with display: none. See issue #138.\n        if (!testSelection) {\n            module.fail(\"Native selection was null (possibly issue 138?)\");\n            return false;\n        }\n\n        var testRange = api.createNativeRange(document);\n        var body = getBody(document);\n\n        // Obtaining a range from a selection\n        var selectionHasAnchorAndFocus = util.areHostProperties(testSelection,\n            [\"anchorNode\", \"focusNode\", \"anchorOffset\", \"focusOffset\"]);\n\n        features.selectionHasAnchorAndFocus = selectionHasAnchorAndFocus;\n\n        // Test for existence of native selection extend() method\n        var selectionHasExtend = isHostMethod(testSelection, \"extend\");\n        features.selectionHasExtend = selectionHasExtend;\n\n        // Test if rangeCount exists\n        var selectionHasRangeCount = (typeof testSelection.rangeCount == NUMBER);\n        features.selectionHasRangeCount = selectionHasRangeCount;\n\n        var selectionSupportsMultipleRanges = false;\n        var collapsedNonEditableSelectionsSupported = true;\n\n        var addRangeBackwardToNative = selectionHasExtend ?\n            function(nativeSelection, range) {\n                var doc = DomRange.getRangeDocument(range);\n                var endRange = api.createRange(doc);\n                endRange.collapseToPoint(range.endContainer, range.endOffset);\n                nativeSelection.addRange(getNativeRange(endRange));\n                nativeSelection.extend(range.startContainer, range.startOffset);\n            } : null;\n\n        if (util.areHostMethods(testSelection, [\"addRange\", \"getRangeAt\", \"removeAllRanges\"]) &&\n                typeof testSelection.rangeCount == NUMBER && features.implementsDomRange) {\n\n            (function() {\n                // Previously an iframe was used but this caused problems in some circumstances in IE, so tests are\n                // performed on the current document's selection. See issue 109.\n\n                // Note also that if a selection previously existed, it is wiped and later restored by these tests. This\n                // will result in the selection direction begin reversed if the original selection was backwards and the\n                // browser does not support setting backwards selections (Internet Explorer, I'm looking at you).\n                var sel = window.getSelection();\n                if (sel) {\n                    // Store the current selection\n                    var originalSelectionRangeCount = sel.rangeCount;\n                    var selectionHasMultipleRanges = (originalSelectionRangeCount > 1);\n                    var originalSelectionRanges = [];\n                    var originalSelectionBackward = winSelectionIsBackward(sel);\n                    for (var i = 0; i < originalSelectionRangeCount; ++i) {\n                        originalSelectionRanges[i] = sel.getRangeAt(i);\n                    }\n\n                    // Create some test elements\n                    var testEl = dom.createTestElement(document, \"\", false);\n                    var textNode = testEl.appendChild( document.createTextNode(\"\\u00a0\\u00a0\\u00a0\") );\n\n                    // Test whether the native selection will allow a collapsed selection within a non-editable element\n                    var r1 = document.createRange();\n\n                    r1.setStart(textNode, 1);\n                    r1.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(r1);\n                    collapsedNonEditableSelectionsSupported = (sel.rangeCount == 1);\n                    sel.removeAllRanges();\n\n                    // Test whether the native selection is capable of supporting multiple ranges.\n                    if (!selectionHasMultipleRanges) {\n                        // Doing the original feature test here in Chrome 36 (and presumably later versions) prints a\n                        // console error of \"Discontiguous selection is not supported.\" that cannot be suppressed. There's\n                        // nothing we can do about this while retaining the feature test so we have to resort to a browser\n                        // sniff. I'm not happy about it. See\n                        // https://code.google.com/p/chromium/issues/detail?id=399791\n                        var chromeMatch = window.navigator.appVersion.match(/Chrome\\/(.*?) /);\n                        if (chromeMatch && parseInt(chromeMatch[1]) >= 36) {\n                            selectionSupportsMultipleRanges = false;\n                        } else {\n                            var r2 = r1.cloneRange();\n                            r1.setStart(textNode, 0);\n                            r2.setEnd(textNode, 3);\n                            r2.setStart(textNode, 2);\n                            sel.addRange(r1);\n                            sel.addRange(r2);\n                            selectionSupportsMultipleRanges = (sel.rangeCount == 2);\n                        }\n                    }\n\n                    // Clean up\n                    dom.removeNode(testEl);\n                    sel.removeAllRanges();\n\n                    for (i = 0; i < originalSelectionRangeCount; ++i) {\n                        if (i == 0 && originalSelectionBackward) {\n                            if (addRangeBackwardToNative) {\n                                addRangeBackwardToNative(sel, originalSelectionRanges[i]);\n                            } else {\n                                api.warn(\"Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend\");\n                                sel.addRange(originalSelectionRanges[i]);\n                            }\n                        } else {\n                            sel.addRange(originalSelectionRanges[i]);\n                        }\n                    }\n                }\n            })();\n        }\n\n        features.selectionSupportsMultipleRanges = selectionSupportsMultipleRanges;\n        features.collapsedNonEditableSelectionsSupported = collapsedNonEditableSelectionsSupported;\n\n        // ControlRanges\n        var implementsControlRange = false, testControlRange;\n\n        if (body && isHostMethod(body, \"createControlRange\")) {\n            testControlRange = body.createControlRange();\n            if (util.areHostProperties(testControlRange, [\"item\", \"add\"])) {\n                implementsControlRange = true;\n            }\n        }\n        features.implementsControlRange = implementsControlRange;\n\n        // Selection collapsedness\n        if (selectionHasAnchorAndFocus) {\n            selectionIsCollapsed = function(sel) {\n                return sel.anchorNode === sel.focusNode && sel.anchorOffset === sel.focusOffset;\n            };\n        } else {\n            selectionIsCollapsed = function(sel) {\n                return sel.rangeCount ? sel.getRangeAt(sel.rangeCount - 1).collapsed : false;\n            };\n        }\n\n        function updateAnchorAndFocusFromRange(sel, range, backward) {\n            var anchorPrefix = backward ? \"end\" : \"start\", focusPrefix = backward ? \"start\" : \"end\";\n            sel.anchorNode = range[anchorPrefix + \"Container\"];\n            sel.anchorOffset = range[anchorPrefix + \"Offset\"];\n            sel.focusNode = range[focusPrefix + \"Container\"];\n            sel.focusOffset = range[focusPrefix + \"Offset\"];\n        }\n\n        function updateAnchorAndFocusFromNativeSelection(sel) {\n            var nativeSel = sel.nativeSelection;\n            sel.anchorNode = nativeSel.anchorNode;\n            sel.anchorOffset = nativeSel.anchorOffset;\n            sel.focusNode = nativeSel.focusNode;\n            sel.focusOffset = nativeSel.focusOffset;\n        }\n\n        function updateEmptySelection(sel) {\n            sel.anchorNode = sel.focusNode = null;\n            sel.anchorOffset = sel.focusOffset = 0;\n            sel.rangeCount = 0;\n            sel.isCollapsed = true;\n            sel._ranges.length = 0;\n        }\n\n        function getNativeRange(range) {\n            var nativeRange;\n            if (range instanceof DomRange) {\n                nativeRange = api.createNativeRange(range.getDocument());\n                nativeRange.setEnd(range.endContainer, range.endOffset);\n                nativeRange.setStart(range.startContainer, range.startOffset);\n            } else if (range instanceof WrappedRange) {\n                nativeRange = range.nativeRange;\n            } else if (features.implementsDomRange && (range instanceof dom.getWindow(range.startContainer).Range)) {\n                nativeRange = range;\n            }\n            return nativeRange;\n        }\n\n        function rangeContainsSingleElement(rangeNodes) {\n            if (!rangeNodes.length || rangeNodes[0].nodeType != 1) {\n                return false;\n            }\n            for (var i = 1, len = rangeNodes.length; i < len; ++i) {\n                if (!dom.isAncestorOf(rangeNodes[0], rangeNodes[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        function getSingleElementFromRange(range) {\n            var nodes = range.getNodes();\n            if (!rangeContainsSingleElement(nodes)) {\n                throw module.createError(\"getSingleElementFromRange: range \" + range.inspect() + \" did not consist of a single element\");\n            }\n            return nodes[0];\n        }\n\n        // Simple, quick test which only needs to distinguish between a TextRange and a ControlRange\n        function isTextRange(range) {\n            return !!range && typeof range.text != \"undefined\";\n        }\n\n        function updateFromTextRange(sel, range) {\n            // Create a Range from the selected TextRange\n            var wrappedRange = new WrappedRange(range);\n            sel._ranges = [wrappedRange];\n\n            updateAnchorAndFocusFromRange(sel, wrappedRange, false);\n            sel.rangeCount = 1;\n            sel.isCollapsed = wrappedRange.collapsed;\n        }\n\n        function updateControlSelection(sel) {\n            // Update the wrapped selection based on what's now in the native selection\n            sel._ranges.length = 0;\n            if (sel.docSelection.type == \"None\") {\n                updateEmptySelection(sel);\n            } else {\n                var controlRange = sel.docSelection.createRange();\n                if (isTextRange(controlRange)) {\n                    // This case (where the selection type is \"Control\" and calling createRange() on the selection returns\n                    // a TextRange) can happen in IE 9. It happens, for example, when all elements in the selected\n                    // ControlRange have been removed from the ControlRange and removed from the document.\n                    updateFromTextRange(sel, controlRange);\n                } else {\n                    sel.rangeCount = controlRange.length;\n                    var range, doc = getDocument(controlRange.item(0));\n                    for (var i = 0; i < sel.rangeCount; ++i) {\n                        range = api.createRange(doc);\n                        range.selectNode(controlRange.item(i));\n                        sel._ranges.push(range);\n                    }\n                    sel.isCollapsed = sel.rangeCount == 1 && sel._ranges[0].collapsed;\n                    updateAnchorAndFocusFromRange(sel, sel._ranges[sel.rangeCount - 1], false);\n                }\n            }\n        }\n\n        function addRangeToControlSelection(sel, range) {\n            var controlRange = sel.docSelection.createRange();\n            var rangeElement = getSingleElementFromRange(range);\n\n            // Create a new ControlRange containing all the elements in the selected ControlRange plus the element\n            // contained by the supplied range\n            var doc = getDocument(controlRange.item(0));\n            var newControlRange = getBody(doc).createControlRange();\n            for (var i = 0, len = controlRange.length; i < len; ++i) {\n                newControlRange.add(controlRange.item(i));\n            }\n            try {\n                newControlRange.add(rangeElement);\n            } catch (ex) {\n                throw module.createError(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\");\n            }\n            newControlRange.select();\n\n            // Update the wrapped selection based on what's now in the native selection\n            updateControlSelection(sel);\n        }\n\n        var getSelectionRangeAt;\n\n        if (isHostMethod(testSelection, \"getRangeAt\")) {\n            // try/catch is present because getRangeAt() must have thrown an error in some browser and some situation.\n            // Unfortunately, I didn't write a comment about the specifics and am now scared to take it out. Let that be a\n            // lesson to us all, especially me.\n            getSelectionRangeAt = function(sel, index) {\n                try {\n                    return sel.getRangeAt(index);\n                } catch (ex) {\n                    return null;\n                }\n            };\n        } else if (selectionHasAnchorAndFocus) {\n            getSelectionRangeAt = function(sel) {\n                var doc = getDocument(sel.anchorNode);\n                var range = api.createRange(doc);\n                range.setStartAndEnd(sel.anchorNode, sel.anchorOffset, sel.focusNode, sel.focusOffset);\n\n                // Handle the case when the selection was selected backwards (from the end to the start in the\n                // document)\n                if (range.collapsed !== this.isCollapsed) {\n                    range.setStartAndEnd(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset);\n                }\n\n                return range;\n            };\n        }\n\n        function WrappedSelection(selection, docSelection, win) {\n            this.nativeSelection = selection;\n            this.docSelection = docSelection;\n            this._ranges = [];\n            this.win = win;\n            this.refresh();\n        }\n\n        WrappedSelection.prototype = api.selectionPrototype;\n\n        function deleteProperties(sel) {\n            sel.win = sel.anchorNode = sel.focusNode = sel._ranges = null;\n            sel.rangeCount = sel.anchorOffset = sel.focusOffset = 0;\n            sel.detached = true;\n        }\n\n        var cachedRangySelections = [];\n\n        function actOnCachedSelection(win, action) {\n            var i = cachedRangySelections.length, cached, sel;\n            while (i--) {\n                cached = cachedRangySelections[i];\n                sel = cached.selection;\n                if (action == \"deleteAll\") {\n                    deleteProperties(sel);\n                } else if (cached.win == win) {\n                    if (action == \"delete\") {\n                        cachedRangySelections.splice(i, 1);\n                        return true;\n                    } else {\n                        return sel;\n                    }\n                }\n            }\n            if (action == \"deleteAll\") {\n                cachedRangySelections.length = 0;\n            }\n            return null;\n        }\n\n        var getSelection = function(win) {\n            // Check if the parameter is a Rangy Selection object\n            if (win && win instanceof WrappedSelection) {\n                win.refresh();\n                return win;\n            }\n\n            win = getWindow(win, \"getNativeSelection\");\n\n            var sel = actOnCachedSelection(win);\n            var nativeSel = getNativeSelection(win), docSel = implementsDocSelection ? getDocSelection(win) : null;\n            if (sel) {\n                sel.nativeSelection = nativeSel;\n                sel.docSelection = docSel;\n                sel.refresh();\n            } else {\n                sel = new WrappedSelection(nativeSel, docSel, win);\n                cachedRangySelections.push( { win: win, selection: sel } );\n            }\n            return sel;\n        };\n\n        api.getSelection = getSelection;\n\n        util.createAliasForDeprecatedMethod(api, \"getIframeSelection\", \"getSelection\");\n\n        var selProto = WrappedSelection.prototype;\n\n        function createControlSelection(sel, ranges) {\n            // Ensure that the selection becomes of type \"Control\"\n            var doc = getDocument(ranges[0].startContainer);\n            var controlRange = getBody(doc).createControlRange();\n            for (var i = 0, el, len = ranges.length; i < len; ++i) {\n                el = getSingleElementFromRange(ranges[i]);\n                try {\n                    controlRange.add(el);\n                } catch (ex) {\n                    throw module.createError(\"setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)\");\n                }\n            }\n            controlRange.select();\n\n            // Update the wrapped selection based on what's now in the native selection\n            updateControlSelection(sel);\n        }\n\n        // Selecting a range\n        if (!useDocumentSelection && selectionHasAnchorAndFocus && util.areHostMethods(testSelection, [\"removeAllRanges\", \"addRange\"])) {\n            selProto.removeAllRanges = function() {\n                this.nativeSelection.removeAllRanges();\n                updateEmptySelection(this);\n            };\n\n            var addRangeBackward = function(sel, range) {\n                addRangeBackwardToNative(sel.nativeSelection, range);\n                sel.refresh();\n            };\n\n            if (selectionHasRangeCount) {\n                selProto.addRange = function(range, direction) {\n                    if (implementsControlRange && implementsDocSelection && this.docSelection.type == CONTROL) {\n                        addRangeToControlSelection(this, range);\n                    } else {\n                        if (isDirectionBackward(direction) && selectionHasExtend) {\n                            addRangeBackward(this, range);\n                        } else {\n                            var previousRangeCount;\n                            if (selectionSupportsMultipleRanges) {\n                                previousRangeCount = this.rangeCount;\n                            } else {\n                                this.removeAllRanges();\n                                previousRangeCount = 0;\n                            }\n                            // Clone the native range so that changing the selected range does not affect the selection.\n                            // This is contrary to the spec but is the only way to achieve consistency between browsers. See\n                            // issue 80.\n                            var clonedNativeRange = getNativeRange(range).cloneRange();\n                            try {\n                                this.nativeSelection.addRange(clonedNativeRange);\n                            } catch (ex) {\n                            }\n\n                            // Check whether adding the range was successful\n                            this.rangeCount = this.nativeSelection.rangeCount;\n\n                            if (this.rangeCount == previousRangeCount + 1) {\n                                // The range was added successfully\n\n                                // Check whether the range that we added to the selection is reflected in the last range extracted from\n                                // the selection\n                                if (api.config.checkSelectionRanges) {\n                                    var nativeRange = getSelectionRangeAt(this.nativeSelection, this.rangeCount - 1);\n                                    if (nativeRange && !rangesEqual(nativeRange, range)) {\n                                        // Happens in WebKit with, for example, a selection placed at the start of a text node\n                                        range = new WrappedRange(nativeRange);\n                                    }\n                                }\n                                this._ranges[this.rangeCount - 1] = range;\n                                updateAnchorAndFocusFromRange(this, range, selectionIsBackward(this.nativeSelection));\n                                this.isCollapsed = selectionIsCollapsed(this);\n                            } else {\n                                // The range was not added successfully. The simplest thing is to refresh\n                                this.refresh();\n                            }\n                        }\n                    }\n                };\n            } else {\n                selProto.addRange = function(range, direction) {\n                    if (isDirectionBackward(direction) && selectionHasExtend) {\n                        addRangeBackward(this, range);\n                    } else {\n                        this.nativeSelection.addRange(getNativeRange(range));\n                        this.refresh();\n                    }\n                };\n            }\n\n            selProto.setRanges = function(ranges) {\n                if (implementsControlRange && implementsDocSelection && ranges.length > 1) {\n                    createControlSelection(this, ranges);\n                } else {\n                    this.removeAllRanges();\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        this.addRange(ranges[i]);\n                    }\n                }\n            };\n        } else if (isHostMethod(testSelection, \"empty\") && isHostMethod(testRange, \"select\") &&\n                   implementsControlRange && useDocumentSelection) {\n\n            selProto.removeAllRanges = function() {\n                // Added try/catch as fix for issue #21\n                try {\n                    this.docSelection.empty();\n\n                    // Check for empty() not working (issue #24)\n                    if (this.docSelection.type != \"None\") {\n                        // Work around failure to empty a control selection by instead selecting a TextRange and then\n                        // calling empty()\n                        var doc;\n                        if (this.anchorNode) {\n                            doc = getDocument(this.anchorNode);\n                        } else if (this.docSelection.type == CONTROL) {\n                            var controlRange = this.docSelection.createRange();\n                            if (controlRange.length) {\n                                doc = getDocument( controlRange.item(0) );\n                            }\n                        }\n                        if (doc) {\n                            var textRange = getBody(doc).createTextRange();\n                            textRange.select();\n                            this.docSelection.empty();\n                        }\n                    }\n                } catch(ex) {}\n                updateEmptySelection(this);\n            };\n\n            selProto.addRange = function(range) {\n                if (this.docSelection.type == CONTROL) {\n                    addRangeToControlSelection(this, range);\n                } else {\n                    api.WrappedTextRange.rangeToTextRange(range).select();\n                    this._ranges[0] = range;\n                    this.rangeCount = 1;\n                    this.isCollapsed = this._ranges[0].collapsed;\n                    updateAnchorAndFocusFromRange(this, range, false);\n                }\n            };\n\n            selProto.setRanges = function(ranges) {\n                this.removeAllRanges();\n                var rangeCount = ranges.length;\n                if (rangeCount > 1) {\n                    createControlSelection(this, ranges);\n                } else if (rangeCount) {\n                    this.addRange(ranges[0]);\n                }\n            };\n        } else {\n            module.fail(\"No means of selecting a Range or TextRange was found\");\n            return false;\n        }\n\n        selProto.getRangeAt = function(index) {\n            if (index < 0 || index >= this.rangeCount) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            } else {\n                // Clone the range to preserve selection-range independence. See issue 80.\n                return this._ranges[index].cloneRange();\n            }\n        };\n\n        var refreshSelection;\n\n        if (useDocumentSelection) {\n            refreshSelection = function(sel) {\n                var range;\n                if (api.isSelectionValid(sel.win)) {\n                    range = sel.docSelection.createRange();\n                } else {\n                    range = getBody(sel.win.document).createTextRange();\n                    range.collapse(true);\n                }\n\n                if (sel.docSelection.type == CONTROL) {\n                    updateControlSelection(sel);\n                } else if (isTextRange(range)) {\n                    updateFromTextRange(sel, range);\n                } else {\n                    updateEmptySelection(sel);\n                }\n            };\n        } else if (isHostMethod(testSelection, \"getRangeAt\") && typeof testSelection.rangeCount == NUMBER) {\n            refreshSelection = function(sel) {\n                if (implementsControlRange && implementsDocSelection && sel.docSelection.type == CONTROL) {\n                    updateControlSelection(sel);\n                } else {\n                    sel._ranges.length = sel.rangeCount = sel.nativeSelection.rangeCount;\n                    if (sel.rangeCount) {\n                        for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                            sel._ranges[i] = new api.WrappedRange(sel.nativeSelection.getRangeAt(i));\n                        }\n                        updateAnchorAndFocusFromRange(sel, sel._ranges[sel.rangeCount - 1], selectionIsBackward(sel.nativeSelection));\n                        sel.isCollapsed = selectionIsCollapsed(sel);\n                    } else {\n                        updateEmptySelection(sel);\n                    }\n                }\n            };\n        } else if (selectionHasAnchorAndFocus && typeof testSelection.isCollapsed == BOOLEAN && typeof testRange.collapsed == BOOLEAN && features.implementsDomRange) {\n            refreshSelection = function(sel) {\n                var range, nativeSel = sel.nativeSelection;\n                if (nativeSel.anchorNode) {\n                    range = getSelectionRangeAt(nativeSel, 0);\n                    sel._ranges = [range];\n                    sel.rangeCount = 1;\n                    updateAnchorAndFocusFromNativeSelection(sel);\n                    sel.isCollapsed = selectionIsCollapsed(sel);\n                } else {\n                    updateEmptySelection(sel);\n                }\n            };\n        } else {\n            module.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\");\n            return false;\n        }\n\n        selProto.refresh = function(checkForChanges) {\n            var oldRanges = checkForChanges ? this._ranges.slice(0) : null;\n            var oldAnchorNode = this.anchorNode, oldAnchorOffset = this.anchorOffset;\n\n            refreshSelection(this);\n            if (checkForChanges) {\n                // Check the range count first\n                var i = oldRanges.length;\n                if (i != this._ranges.length) {\n                    return true;\n                }\n\n                // Now check the direction. Checking the anchor position is the same is enough since we're checking all the\n                // ranges after this\n                if (this.anchorNode != oldAnchorNode || this.anchorOffset != oldAnchorOffset) {\n                    return true;\n                }\n\n                // Finally, compare each range in turn\n                while (i--) {\n                    if (!rangesEqual(oldRanges[i], this._ranges[i])) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        };\n\n        // Removal of a single range\n        var removeRangeManually = function(sel, range) {\n            var ranges = sel.getAllRanges();\n            sel.removeAllRanges();\n            for (var i = 0, len = ranges.length; i < len; ++i) {\n                if (!rangesEqual(range, ranges[i])) {\n                    sel.addRange(ranges[i]);\n                }\n            }\n            if (!sel.rangeCount) {\n                updateEmptySelection(sel);\n            }\n        };\n\n        if (implementsControlRange && implementsDocSelection) {\n            selProto.removeRange = function(range) {\n                if (this.docSelection.type == CONTROL) {\n                    var controlRange = this.docSelection.createRange();\n                    var rangeElement = getSingleElementFromRange(range);\n\n                    // Create a new ControlRange containing all the elements in the selected ControlRange minus the\n                    // element contained by the supplied range\n                    var doc = getDocument(controlRange.item(0));\n                    var newControlRange = getBody(doc).createControlRange();\n                    var el, removed = false;\n                    for (var i = 0, len = controlRange.length; i < len; ++i) {\n                        el = controlRange.item(i);\n                        if (el !== rangeElement || removed) {\n                            newControlRange.add(controlRange.item(i));\n                        } else {\n                            removed = true;\n                        }\n                    }\n                    newControlRange.select();\n\n                    // Update the wrapped selection based on what's now in the native selection\n                    updateControlSelection(this);\n                } else {\n                    removeRangeManually(this, range);\n                }\n            };\n        } else {\n            selProto.removeRange = function(range) {\n                removeRangeManually(this, range);\n            };\n        }\n\n        // Detecting if a selection is backward\n        var selectionIsBackward;\n        if (!useDocumentSelection && selectionHasAnchorAndFocus && features.implementsDomRange) {\n            selectionIsBackward = winSelectionIsBackward;\n\n            selProto.isBackward = function() {\n                return selectionIsBackward(this);\n            };\n        } else {\n            selectionIsBackward = selProto.isBackward = function() {\n                return false;\n            };\n        }\n\n        // Create an alias for backwards compatibility. From 1.3, everything is \"backward\" rather than \"backwards\"\n        selProto.isBackwards = selProto.isBackward;\n\n        // Selection stringifier\n        // This is conformant to the old HTML5 selections draft spec but differs from WebKit and Mozilla's implementation.\n        // The current spec does not yet define this method.\n        selProto.toString = function() {\n            var rangeTexts = [];\n            for (var i = 0, len = this.rangeCount; i < len; ++i) {\n                rangeTexts[i] = \"\" + this._ranges[i];\n            }\n            return rangeTexts.join(\"\");\n        };\n\n        function assertNodeInSameDocument(sel, node) {\n            if (sel.win.document != getDocument(node)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n        }\n\n        // No current browser conforms fully to the spec for this method, so Rangy's own method is always used\n        selProto.collapse = function(node, offset) {\n            assertNodeInSameDocument(this, node);\n            var range = api.createRange(node);\n            range.collapseToPoint(node, offset);\n            this.setSingleRange(range);\n            this.isCollapsed = true;\n        };\n\n        selProto.collapseToStart = function() {\n            if (this.rangeCount) {\n                var range = this._ranges[0];\n                this.collapse(range.startContainer, range.startOffset);\n            } else {\n                throw new DOMException(\"INVALID_STATE_ERR\");\n            }\n        };\n\n        selProto.collapseToEnd = function() {\n            if (this.rangeCount) {\n                var range = this._ranges[this.rangeCount - 1];\n                this.collapse(range.endContainer, range.endOffset);\n            } else {\n                throw new DOMException(\"INVALID_STATE_ERR\");\n            }\n        };\n\n        // The spec is very specific on how selectAllChildren should be implemented and not all browsers implement it as\n        // specified so the native implementation is never used by Rangy.\n        selProto.selectAllChildren = function(node) {\n            assertNodeInSameDocument(this, node);\n            var range = api.createRange(node);\n            range.selectNodeContents(node);\n            this.setSingleRange(range);\n        };\n\n        selProto.deleteFromDocument = function() {\n            // Sepcial behaviour required for IE's control selections\n            if (implementsControlRange && implementsDocSelection && this.docSelection.type == CONTROL) {\n                var controlRange = this.docSelection.createRange();\n                var element;\n                while (controlRange.length) {\n                    element = controlRange.item(0);\n                    controlRange.remove(element);\n                    dom.removeNode(element);\n                }\n                this.refresh();\n            } else if (this.rangeCount) {\n                var ranges = this.getAllRanges();\n                if (ranges.length) {\n                    this.removeAllRanges();\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        ranges[i].deleteContents();\n                    }\n                    // The spec says nothing about what the selection should contain after calling deleteContents on each\n                    // range. Firefox moves the selection to where the final selected range was, so we emulate that\n                    this.addRange(ranges[len - 1]);\n                }\n            }\n        };\n\n        // The following are non-standard extensions\n        selProto.eachRange = function(func, returnValue) {\n            for (var i = 0, len = this._ranges.length; i < len; ++i) {\n                if ( func( this.getRangeAt(i) ) ) {\n                    return returnValue;\n                }\n            }\n        };\n\n        selProto.getAllRanges = function() {\n            var ranges = [];\n            this.eachRange(function(range) {\n                ranges.push(range);\n            });\n            return ranges;\n        };\n\n        selProto.setSingleRange = function(range, direction) {\n            this.removeAllRanges();\n            this.addRange(range, direction);\n        };\n\n        selProto.callMethodOnEachRange = function(methodName, params) {\n            var results = [];\n            this.eachRange( function(range) {\n                results.push( range[methodName].apply(range, params || []) );\n            } );\n            return results;\n        };\n\n        function createStartOrEndSetter(isStart) {\n            return function(node, offset) {\n                var range;\n                if (this.rangeCount) {\n                    range = this.getRangeAt(0);\n                    range[\"set\" + (isStart ? \"Start\" : \"End\")](node, offset);\n                } else {\n                    range = api.createRange(this.win.document);\n                    range.setStartAndEnd(node, offset);\n                }\n                this.setSingleRange(range, this.isBackward());\n            };\n        }\n\n        selProto.setStart = createStartOrEndSetter(true);\n        selProto.setEnd = createStartOrEndSetter(false);\n\n        // Add select() method to Range prototype. Any existing selection will be removed.\n        api.rangePrototype.select = function(direction) {\n            getSelection( this.getDocument() ).setSingleRange(this, direction);\n        };\n\n        selProto.changeEachRange = function(func) {\n            var ranges = [];\n            var backward = this.isBackward();\n\n            this.eachRange(function(range) {\n                func(range);\n                ranges.push(range);\n            });\n\n            this.removeAllRanges();\n            if (backward && ranges.length == 1) {\n                this.addRange(ranges[0], \"backward\");\n            } else {\n                this.setRanges(ranges);\n            }\n        };\n\n        selProto.containsNode = function(node, allowPartial) {\n            return this.eachRange( function(range) {\n                return range.containsNode(node, allowPartial);\n            }, true ) || false;\n        };\n\n        selProto.getBookmark = function(containerNode) {\n            return {\n                backward: this.isBackward(),\n                rangeBookmarks: this.callMethodOnEachRange(\"getBookmark\", [containerNode])\n            };\n        };\n\n        selProto.moveToBookmark = function(bookmark) {\n            var selRanges = [];\n            for (var i = 0, rangeBookmark, range; rangeBookmark = bookmark.rangeBookmarks[i++]; ) {\n                range = api.createRange(this.win);\n                range.moveToBookmark(rangeBookmark);\n                selRanges.push(range);\n            }\n            if (bookmark.backward) {\n                this.setSingleRange(selRanges[0], \"backward\");\n            } else {\n                this.setRanges(selRanges);\n            }\n        };\n\n        selProto.saveRanges = function() {\n            return {\n                backward: this.isBackward(),\n                ranges: this.callMethodOnEachRange(\"cloneRange\")\n            };\n        };\n\n        selProto.restoreRanges = function(selRanges) {\n            this.removeAllRanges();\n            for (var i = 0, range; range = selRanges.ranges[i]; ++i) {\n                this.addRange(range, (selRanges.backward && i == 0));\n            }\n        };\n\n        selProto.toHtml = function() {\n            var rangeHtmls = [];\n            this.eachRange(function(range) {\n                rangeHtmls.push( DomRange.toHtml(range) );\n            });\n            return rangeHtmls.join(\"\");\n        };\n\n        if (features.implementsTextRange) {\n            selProto.getNativeTextRange = function() {\n                var sel, textRange;\n                if ( (sel = this.docSelection) ) {\n                    var range = sel.createRange();\n                    if (isTextRange(range)) {\n                        return range;\n                    } else {\n                        throw module.createError(\"getNativeTextRange: selection is a control selection\");\n                    }\n                } else if (this.rangeCount > 0) {\n                    return api.WrappedTextRange.rangeToTextRange( this.getRangeAt(0) );\n                } else {\n                    throw module.createError(\"getNativeTextRange: selection contains no range\");\n                }\n            };\n        }\n\n        function inspect(sel) {\n            var rangeInspects = [];\n            var anchor = new DomPosition(sel.anchorNode, sel.anchorOffset);\n            var focus = new DomPosition(sel.focusNode, sel.focusOffset);\n            var name = (typeof sel.getName == \"function\") ? sel.getName() : \"Selection\";\n\n            if (typeof sel.rangeCount != \"undefined\") {\n                for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                    rangeInspects[i] = DomRange.inspect(sel.getRangeAt(i));\n                }\n            }\n            return \"[\" + name + \"(Ranges: \" + rangeInspects.join(\", \") +\n                    \")(anchor: \" + anchor.inspect() + \", focus: \" + focus.inspect() + \"]\";\n        }\n\n        selProto.getName = function() {\n            return \"WrappedSelection\";\n        };\n\n        selProto.inspect = function() {\n            return inspect(this);\n        };\n\n        selProto.detach = function() {\n            actOnCachedSelection(this.win, \"delete\");\n            deleteProperties(this);\n        };\n\n        WrappedSelection.detachAll = function() {\n            actOnCachedSelection(null, \"deleteAll\");\n        };\n\n        WrappedSelection.inspect = inspect;\n        WrappedSelection.isDirectionBackward = isDirectionBackward;\n\n        api.Selection = WrappedSelection;\n\n        api.selectionPrototype = selProto;\n\n        api.addShimListener(function(win) {\n            if (typeof win.getSelection == \"undefined\") {\n                win.getSelection = function() {\n                    return getSelection(win);\n                };\n            }\n            win = null;\n        });\n    });\n    \r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Wait for document to load before initializing\r\n    var docReady = false;\r\n\r\n    var loadHandler = function(e) {\r\n        if (!docReady) {\r\n            docReady = true;\r\n            if (!api.initialized && api.config.autoInitialize) {\r\n                init();\r\n            }\r\n        }\r\n    };\r\n\r\n    if (isBrowser) {\r\n        // Test whether the document has already been loaded and initialize immediately if so\r\n        if (document.readyState == \"complete\") {\r\n            loadHandler();\r\n        } else {\r\n            if (isHostMethod(document, \"addEventListener\")) {\r\n                document.addEventListener(\"DOMContentLoaded\", loadHandler, false);\r\n            }\r\n\r\n            // Add a fallback in case the DOMContentLoaded event isn't supported\r\n            addListener(window, \"load\", loadHandler);\r\n        }\r\n    }\r\n\r\n    return api;\r\n}, this);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rangy/lib/rangy-core.js\n// module id = ../node_modules/rangy/lib/rangy-core.js\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _ChildMapping = require('./utils/ChildMapping');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar propTypes = {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: _propTypes2.default.any,\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   */\n  children: _propTypes2.default.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: _propTypes2.default.bool,\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: _propTypes2.default.bool,\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: _propTypes2.default.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: _propTypes2.default.func\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n\n  /**\n   * The `<TransitionGroup>` component manages a set of `<Transition>` components\n   * in a list. Like with the `<Transition>` component, `<TransitionGroup>`, is a\n   * state machine for managing the mounting and unmounting of components over\n   * time.\n   *\n   * Consider the example below using the `Fade` CSS transition from before.\n   * As items are removed or added to the TodoList the `in` prop is toggled\n   * automatically by the `<TransitionGroup>`. You can use _any_ `<Transition>`\n   * component in a `<TransitionGroup>`, not just css.\n   *\n   * ## Example\n   *\n   * <iframe src=\"https://codesandbox.io/embed/00rqyo26kn?fontsize=14\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n   *\n   * Note that `<TransitionGroup>`  does not define any animation behavior!\n   * Exactly _how_ a list item animates is up to the individual `<Transition>`\n   * components. This means you can mix and match animations across different\n   * list items.\n   */\n};\nvar TransitionGroup = function (_React$Component) {\n  _inherits(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    _classCallCheck(this, TransitionGroup);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    var handleExited = _this.handleExited.bind(_this);\n\n    // Initial children should all be entering, dependent on appear\n    _this.state = {\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  TransitionGroup.prototype.getChildContext = function getChildContext() {\n    return {\n      transitionGroup: { isMounting: !this.appeared }\n    };\n  };\n\n  TransitionGroup.prototype.componentDidMount = function componentDidMount() {\n    this.appeared = true;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n\n    return {\n      children: firstRender ? (0, _ChildMapping.getInitialChildMapping)(nextProps, handleExited) : (0, _ChildMapping.getNextChildMapping)(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  };\n\n  TransitionGroup.prototype.handleExited = function handleExited(child, node) {\n    var currentChildMapping = (0, _ChildMapping.getChildMapping)(this.props.children);\n\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    this.setState(function (state) {\n      var children = _extends({}, state.children);\n\n      delete children[child.key];\n      return { children: children };\n    });\n  };\n\n  TransitionGroup.prototype.render = function render() {\n    var _props = this.props,\n        Component = _props.component,\n        childFactory = _props.childFactory,\n        props = _objectWithoutProperties(_props, ['component', 'childFactory']);\n\n    var children = values(this.state.children).map(childFactory);\n\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return children;\n    }\n    return _react2.default.createElement(\n      Component,\n      props,\n      children\n    );\n  };\n\n  return TransitionGroup;\n}(_react2.default.Component);\n\nTransitionGroup.childContextTypes = {\n  transitionGroup: _propTypes2.default.object.isRequired\n};\n\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nTransitionGroup.defaultProps = defaultProps;\n\nexports.default = (0, _reactLifecyclesCompat.polyfill)(TransitionGroup);\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-transition-group/TransitionGroup.js\n// module id = ../node_modules/react-transition-group/TransitionGroup.js\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.getChildMapping = getChildMapping;\nexports.mergeChildMappings = mergeChildMappings;\nexports.getInitialChildMapping = getInitialChildMapping;\nexports.getNextChildMapping = getNextChildMapping;\n\nvar _react = require('react');\n\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\nfunction getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && (0, _react.isValidElement)(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) _react.Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\nfunction mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  }\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  var nextKeysPending = Object.create(null);\n\n  var pendingKeys = [];\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i = void 0;\n  var childMapping = {};\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n    childMapping[nextKey] = getValueForKey(nextKey);\n  }\n\n  // Finally, add the keys which didn't appear before any key in `next`\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nfunction getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return (0, _react.cloneElement)(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\n\nfunction getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n\n    if (!(0, _react.isValidElement)(child)) return;\n\n    var hasPrev = key in prevChildMapping;\n    var hasNext = key in nextChildMapping;\n\n    var prevChild = prevChildMapping[key];\n    var isLeaving = (0, _react.isValidElement)(prevChild) && !prevChild.props.in;\n\n    // item is new (entering)\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = (0, _react.cloneElement)(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = (0, _react.cloneElement)(child, { in: false });\n    } else if (hasNext && hasPrev && (0, _react.isValidElement)(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = (0, _react.cloneElement)(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n\n  return children;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-transition-group/utils/ChildMapping.js\n// module id = ../node_modules/react-transition-group/utils/ChildMapping.js\n// module chunks = 0","const config = {\n  sentryDsn: process.env.SENTRY_DSN || 'https://1111:2222@sentry.io/86182',\n  nodeEnv: process.env.NODE_ENV,\n  webConcurrency: process.env.WEB_CONCURRENCY || 1,\n  port: process.env.PORT || 1337,\n  apiUrl: process.env.REACT_APP_DOMAIN_API_REST || 'http://localhost:3000',\n  graphqlUrl: process.env.REACT_APP_DOMAIN_API_GRAPHQL || 'http://localhost:3003/graphql',\n  appDomain: process.env.REACT_APP_DOMAIN_PUBLIC || 'localhost',\n  timeout: 120000,\n  defaultLocale: process.env.DEFAULT_LOCALE || 'pt-BR',\n  locales: ['pt-BR', 'en', 'es']\n}\n\nmodule.exports = config\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../server/config.js\n// module id = ../server/config.js\n// module chunks = 0","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default user => (dispatch, getState, { api }) => {\n  dispatch(createAction(t.ADD_USER_REQUEST))\n  return api.post('/users', { user })\n    .then(res => {\n      if (res.status === 200 && res.data.errors) {\n        // Reject request on redux-form\n        return Promise.reject({ ...res.data.errors })\n      } else if (res.status === 201) {\n        dispatch(createAction(t.ADD_USER_SUCCESS, res.data))\n        return Promise.resolve()\n      }\n    })\n    .catch(ex => {\n      dispatch(createAction(t.ADD_USER_FAILURE))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/async-add-user.js","/* eslint-disable prefer-promise-reject-errors */\nimport { addNotification as notify } from 'reapop'\nimport { accountPasswordRetrieveSuccess } from '~client/utils/notifications'\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default user => (dispatch, getState, { api, intl }) => {\n  const endpoint = '/retrieve'\n  const body = { user }\n\n  dispatch(createAction(t.ASYNC_RETRIEVE_PASSWORD_REQUEST))\n  return api.post(endpoint, body)\n    .then(res => {\n      if (res.status === 200 && res.data.errors) {\n        // Reject request on redux-form\n        return Promise.reject({ ...res.data.errors })\n      } else if (res.status === 200) {\n        dispatch(createAction(t.ASYNC_RETRIEVE_PASSWORD_SUCCESS, res.data))\n        dispatch(notify(accountPasswordRetrieveSuccess(intl)))\n        return Promise.resolve()\n      }\n    })\n    .catch(ex => {\n      dispatch(createAction(t.ASYNC_RETRIEVE_PASSWORD_FAILURE))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/async-retrieve-password.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '../selectors'\n\nexport default ({ id, ...user }) => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n\n  dispatch(createAction(t.UPDATE_USER_REQUEST))\n  return api.put(`/users/${id}`, { user }, { headers })\n    .then(res => {\n      dispatch(createAction(t.UPDATE_USER_SUCCESS, {\n        id: res.data.id,\n        firstName: res.data.first_name,\n        lastName: res.data.last_name,\n        email: res.data.email,\n        avatar: res.data.avatar_url\n      }))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_USER_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/async-update-user.js","export const createAction = (type, payload) => {\n  return {\n    type,\n    payload\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/create-action.js","export { default as load } from './load'\nexport { default as login } from './login'\nexport { default as logout } from './logout'\nexport { default as asyncUpdateUser } from './async-update-user'\nexport { default as asyncAddUser } from './async-add-user'\nexport { default as asyncRetrievePassword } from './async-retrieve-password'\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/index.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default user => (dispatch, getState) => {\n  return dispatch(createAction(t.LOAD_SUCCESS, { user }))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/load.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default ({ email, password }) => (dispatch, getState, { api, auth, intl }) => {\n  dispatch(createAction(t.LOGIN_REQUEST))\n  return api.post('/auth/sign_in', { email, password })\n    .then(({ headers, ...res }) => {\n      const { data: user } = res.data\n      const credentials = {\n        'Access-Token': headers['access-token'],\n        'Token-Type': headers['token-type'],\n        'Expiry': headers['expiry'],\n        'Uid': headers['uid'],\n        'Client': headers['client']\n      }\n      dispatch(createAction(t.LOGIN_SUCCESS, { user, credentials }))\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      const errorMessage = intl.formatMessage({\n        id: 'page--account-login.auth.error-message',\n        defaultMessage: 'Senha incorreta.'\n      })\n      dispatch(createAction(t.LOGIN_FAILURE, errorMessage))\n      return Promise.reject(new Error(failure))\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/login.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default () => (dispatch) => {\n  return new Promise((resolve, reject) => {\n    window.localStorage.removeItem('auth')\n    window.localStorage.removeItem('community')\n    dispatch(createAction(t.LOGOUT_SUCCESS))\n    resolve()\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/logout.js","export const LOAD_SUCCESS = 'authenticate/LOAD_SUCCESS'\n\nexport const LOGIN_REQUEST = 'authenticate/LOGIN_REQUEST'\nexport const LOGIN_SUCCESS = 'authenticate/LOGIN_SUCCESS'\nexport const LOGIN_FAILURE = 'authenticate/LOGIN_FAILURE'\n\nexport const LOGOUT_REQUEST = 'authenticate/LOGOUT_REQUEST'\nexport const LOGOUT_SUCCESS = 'authenticate/LOGOUT_SUCCESS'\nexport const LOGOUT_FAILURE = 'authenticate/LOGOUT_FAILURE'\n\nexport const UPDATE_USER_REQUEST = 'account/UPDATE_USER_REQUEST'\nexport const UPDATE_USER_SUCCESS = 'account/UPDATE_USER_SUCCESS'\nexport const UPDATE_USER_FAILURE = 'account/UPDATE_USER_FAILURE'\n\nexport const ADD_USER_REQUEST = 'account/ADD_USER_REQUEST'\nexport const ADD_USER_SUCCESS = 'account/ADD_USER_SUCCESS'\nexport const ADD_USER_FAILURE = 'account/ADD_USER_FAILURE'\n\nexport const ASYNC_RETRIEVE_PASSWORD_REQUEST = 'ASYNC_RETRIEVE_PASSWORD_REQUEST'\nexport const ASYNC_RETRIEVE_PASSWORD_SUCCESS = 'ASYNC_RETRIEVE_PASSWORD_SUCCESS'\nexport const ASYNC_RETRIEVE_PASSWORD_FAILURE = 'ASYNC_RETRIEVE_PASSWORD_FAILURE'\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-types.js","import cookie from 'react-cookie'\nimport * as t from './action-types'\n\nexport const initialState = {\n  isLoaded: false,\n  isLoading: false,\n  saving: false,\n  user: undefined,\n  credentials: undefined,\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.LOAD_SUCCESS:\n      return { ...state, isLoaded: true, isLoading: false, ...action.payload }\n\n    case t.LOGIN_REQUEST:\n      return { ...state, isLoading: true }\n    case t.LOGIN_SUCCESS:\n      return { ...state, isLoading: false, error: undefined, ...action.payload }\n    case t.LOGIN_FAILURE:\n      return { ...state, isLoading: false, error: action.payload }\n\n    case t.LOGOUT_SUCCESS:\n      return initialState\n\n    case t.UPDATE_USER_REQUEST:\n      return { ...state, saving: true }\n    case t.UPDATE_USER_SUCCESS:\n      cookie.save('auth', {\n        auth: {\n          credentials: state.credentials,\n          user: action.payload\n        }\n      })\n      return { ...state, saving: false, user: action.payload }\n    case t.UPDATE_USER_FAILURE:\n      return { ...state, saving: false, error: action.payload }\n\n    case t.ASYNC_RETRIEVE_PASSWORD_REQUEST:\n      return { ...state, saving: false }\n    case t.ASYNC_RETRIEVE_PASSWORD_SUCCESS:\n      return { ...state, saving: true, user: action.payload }\n    case t.ASYNC_RETRIEVE_PASSWORD_FAILURE:\n      return { ...state, saving: false, error: action.payload }\n\n    default:\n      return { ...state }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/reducers.js","export default (state) => ({\n  isLoaded: () => state.auth.isLoaded,\n  getCredentials: () => state.auth.credentials,\n  getUser: () => state.auth.user,\n  getError: () => state.auth.error\n})\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/selectors.js","export const FETCH = 'community/FETCH'\n\nexport const FETCH_SUCCESS = 'community/FETCH_SUCCESS'\n\nexport const FETCH_FAIL = 'community/FETCH_FAIL'\n\nexport const ADD = 'community/ADD'\n\nexport const EDIT = 'community/EDIT'\n\nexport const SELECT = 'community/SELECT'\n\nexport const UNSET = 'community/UNSET'\n\nexport const FETCH_DNS_HOSTED_ZONES_REQUEST = 'FETCH_DNS_HOSTED_ZONES_REQUEST'\nexport const FETCH_DNS_HOSTED_ZONES_SUCCESS = 'FETCH_DNS_HOSTED_ZONES_SUCCESS'\nexport const FETCH_DNS_HOSTED_ZONES_FAILURE = 'FETCH_DNS_HOSTED_ZONES_FAILURE'\n\nexport const ADD_DNS_HOSTED_ZONE_REQUEST = 'ADD_DNS_HOSTED_ZONE_REQUEST'\nexport const ADD_DNS_HOSTED_ZONE_SUCCESS = 'ADD_DNS_HOSTED_ZONE_SUCCESS'\nexport const ADD_DNS_HOSTED_ZONE_FAILURE = 'ADD_DNS_HOSTED_ZONE_FAILURE'\n\nexport const FETCH_DNS_RECORDS_REQUEST = 'FETCH_DNS_RECORDS_REQUEST'\nexport const FETCH_DNS_RECORDS_SUCCESS = 'FETCH_DNS_RECORDS_SUCCESS'\nexport const FETCH_DNS_RECORDS_FAILURE = 'FETCH_DNS_RECORDS_FAILURE'\n\nexport const DELETE_DNS_HOSTED_ZONE_REQUEST = 'DELETE_DNS_HOSTED_ZONE_REQUEST'\nexport const DELETE_DNS_HOSTED_ZONE_SUCCESS = 'DELETE_DNS_HOSTED_ZONE_SUCCESS'\nexport const DELETE_DNS_HOSTED_ZONE_FAILURE = 'DELETE_DNS_HOSTED_ZONE_FAILURE'\n\nexport const ADD_DNS_RECORD_REQUEST = 'ADD_DNS_RECORD_REQUEST'\nexport const ADD_DNS_RECORD_SUCCESS = 'ADD_DNS_RECORD_SUCCESS'\nexport const ADD_DNS_RECORD_FAILURE = 'ADD_DNS_RECORD_FAILURE'\n\nexport const DELETE_DNS_RECORD_REQUEST = 'DELETE_DNS_RECORD_REQUEST'\nexport const DELETE_DNS_RECORD_SUCCESS = 'DELETE_DNS_RECORD_SUCCESS'\nexport const DELETE_DNS_RECORD_FAILURE = 'DELETE_DNS_RECORD_FAILURE'\n\nexport const CHECK_DNS_HOSTED_ZONE_REQUEST = 'CHECK_DNS_HOSTED_ZONE_REQUEST'\nexport const CHECK_DNS_HOSTED_ZONE_SUCCESS = 'CHECK_DNS_HOSTED_ZONE_SUCCESS'\nexport const CHECK_DNS_HOSTED_ZONE_FAILURE = 'CHECK_DNS_HOSTED_ZONE_FAILURE'\n\nexport const ASYNC_INVITE_REQUEST = 'ASYNC_INVITE_REQUEST'\nexport const ASYNC_INVITE_SUCCESS = 'ASYNC_INVITE_SUCCESS'\nexport const ASYNC_INVITE_FAILURE = 'ASYNC_INVITE_FAILURE'\n\nexport const SET_FORCED_SUBMIT = 'SET_FORCED_SUBMIT'\n\n\n\n// WEBPACK FOOTER //\n// ./community/action-types.js","const namespace = '/community'\n\nexport const communityAdd = () => `/communities/new`\nexport const communityDomain = () => `${namespace}/domain`\nexport const communityDomainCreate = next => `${namespace}/domain/add${next || ''}`\nexport const communityDomainEdit = domain => `${namespace}/domain/${domain.id}/edit`\nexport const communityInfo = () => `${namespace}/info`\nexport const communityInvite = () => `${namespace}/invite`\nexport const communityList = () => `/communities`\nexport const communityMailchimp = () => `${namespace}/mailchimp`\nexport const communityRecipient = () => `${namespace}/recipient`\nexport const communityReport = () => `${namespace}/report`\nexport const communityTwilio = () => `${namespace}/twilio`\n\n\n\n// WEBPACK FOOTER //\n// ./community/paths.js","import cookie from 'react-cookie'\nimport * as t from '../action-types'\n\n// Dependency module\nimport * as authT from '~client/account/redux/action-types'\n\nexport const initialState = {\n  loading: false,\n  isLoaded: false,\n  data: [],\n  currentId: undefined,\n  error: undefined,\n  forcedSubmit: false\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.FETCH:\n      return {\n        ...state,\n        loading: true\n      }\n    case t.FETCH_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        isLoaded: true,\n        data: action.data\n      }\n    case t.FETCH_FAIL:\n      return {\n        ...state,\n        loading: false,\n        isLoaded: false,\n        error: action.error\n      }\n    case t.ADD:\n      return {\n        ...state,\n        data: [...state.data, action.community]\n      }\n    case t.EDIT:\n      // state saved on storages to hydrate\n      const hydrateState = {\n        list: {\n          currentId: action.community.id,\n          data: [action.community]\n        }\n      }\n      window.localStorage.setItem('community', JSON.stringify(hydrateState))\n      cookie.save('community', hydrateState)\n\n      return {\n        ...state,\n        data: state.data.map(\n          c => c.id === action.community.id ? action.community : c\n        )\n      }\n    case t.SELECT:\n      return { ...state, currentId: action.id }\n    case t.UNSET:\n      return {\n        ...state,\n        currentId: null\n      }\n    case authT.LOGOUT_SUCCESS:\n      // reset info to make redirect correctly\n      return initialState\n\n    case t.ASYNC_INVITE_REQUEST:\n      return { ...state }\n    case t.ASYNC_INVITE_SUCCESS:\n      return { ...state }\n    case t.ASYNC_INVITE_FAILURE:\n      return { ...state, error: action.payload }\n\n    case t.SET_FORCED_SUBMIT:\n      return { ...state, forcedSubmit: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./community/reducers/communities.js","import * as t from '../action-types'\n\nconst initialState = {\n  isLoaded: false,\n  fetching: false,\n  saving: false,\n  data: [],\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.FETCH_DNS_HOSTED_ZONES_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.FETCH_DNS_HOSTED_ZONES_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload\n      }\n    case t.FETCH_DNS_HOSTED_ZONES_FAILURE:\n      return {...state,\n        fetching: false,\n        error: action.payload\n      }\n    case t.ADD_DNS_HOSTED_ZONE_REQUEST:\n    case t.DELETE_DNS_HOSTED_ZONE_REQUEST:\n    case t.CHECK_DNS_HOSTED_ZONE_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.ADD_DNS_HOSTED_ZONE_SUCCESS:\n      return {...state,\n        saving: false,\n        data: [action.payload, ...state.data]\n      }\n    case t.CHECK_DNS_HOSTED_ZONE_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.map(d => d.id === action.payload.id ? action.payload : d)\n      }\n    case t.DELETE_DNS_HOSTED_ZONE_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.filter(d => d.id !== action.payload.id)\n      }\n    case t.ADD_DNS_HOSTED_ZONE_FAILURE:\n    case t.DELETE_DNS_HOSTED_ZONE_FAILURE:\n    case t.CHECK_DNS_HOSTED_ZONE_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    case t.SELECT:\n      // Force reload community when select new community\n      return {...state,\n        isLoaded: false\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./community/reducers/dns-hosted-zones.js","import * as t from '../action-types'\n\nconst initialState = {\n  fetching: false,\n  saving: false,\n  data: [],\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.FETCH_DNS_RECORDS_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.ADD_DNS_RECORD_REQUEST:\n    case t.DELETE_DNS_RECORD_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.FETCH_DNS_RECORDS_SUCCESS:\n      return {...state,\n        fetching: false,\n        data: action.payload\n      }\n    case t.ADD_DNS_RECORD_SUCCESS:\n      return {...state,\n        saving: false,\n        data: [...state.data, action.payload]\n      }\n    case t.DELETE_DNS_RECORD_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.filter(d => d.id !== action.payload.id)\n      }\n    case t.FETCH_DNS_RECORDS_FAILURE:\n      return {...state,\n        fetching: false,\n        error: action.payload\n      }\n    case t.ADD_DNS_RECORD_FAILURE:\n    case t.DELETE_DNS_RECORD_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./community/reducers/dns-records.js","import { combineReducers } from 'redux'\n\nimport communitiesReducer from './communities'\nimport dnsHostedReducer from './dns-hosted-zones'\nimport dnsRecordsReducer from './dns-records'\n\nexport default combineReducers({\n  list: communitiesReducer,\n  dnsHostedZones: dnsHostedReducer,\n  dnsRecords: dnsRecordsReducer\n})\n\n\n\n// WEBPACK FOOTER //\n// ./community/reducers/index.js","export { default as Loading } from './loading'\nexport { default as Progress } from './progress'\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/index.js","import React from 'react'\nimport classnames from 'classnames'\n\nconst Loading = ({ localized, backgroundColor, loaderColor, className }) => (\n  <div\n    className={classnames(\n      { absolute: localized, fixed: !localized },\n      'top-0 right-0 bottom-0 left-0 z9',\n      className\n    )}\n    style={{ backgroundColor }}\n  >\n    <div className='table col-12 center full-height'>\n      <i\n        className='fa fa-circle-o-notch fa-spin fa-3x fa-w table-cell align-middle'\n        style={{ color: loaderColor }}\n      />\n    </div>\n  </div>\n)\n\nLoading.defaultProps = {\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  loaderColor: 'rgba(255, 255, 255, 1)'\n}\n\nexport default Loading\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/loading.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst Progress = ({ className, style, percent }) => (\n  <div className={classnames('progress col-12 border rounded border-darken-4')} >\n    <div\n      className={className}\n      style={{ ...style, width: `${percent}%` }} >\n      <br />\n    </div>\n  </div>\n)\n\nProgress.propTypes = {\n  percent: PropTypes.number.isRequired,\n  className: PropTypes.string,\n  style: PropTypes.object\n}\n\nexport default Progress\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/progress.js","const t = type => `components/await/${type}`\n\nexport const SET_LOADING = t('SET_LOADING')\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/redux/action-types.js","import * as t from './action-types'\n\nexport const initialState = {\n  loading: false\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.SET_LOADING:\n      return { ...state, loading: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/redux/reducers.js","//\n// Constants\n//\nexport const SET_SELECTED_COLOR = 'SET_SELECTED_COLOR'\n\n//\n// Actions\n//\nexport const setSelectedColor = color => ({ type: SET_SELECTED_COLOR, color })\n\n\n\n// WEBPACK FOOTER //\n// ./components/color-picker/actions.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { SketchPicker } from 'react-color'\nimport classnames from 'classnames'\n\nimport themes from './themes'\nimport * as ColorPickerActions from './actions'\n\nexport const ColorPicker = ({\n  className,\n  theme,\n  showColorPicker,\n  onChangeColor,\n  selectedColor,\n  color\n}) => {\n  const hasTheme = theme && themes[theme]\n  const colorStrategy = selectedColor || (hasTheme ? themes[theme][0] : '#333')\n\n  return !showColorPicker ? null : (\n    <div className={classnames('color-picker-container', className)}>\n      <SketchPicker\n        color={color || colorStrategy}\n        onChangeComplete={onChangeColor}\n        presetColors={hasTheme ? themes[theme] : []}\n      />\n    </div>\n  )\n}\n\nColorPicker.propTypes = {\n  showColorPicker: PropTypes.bool.isRequired,\n  onChangeColor: PropTypes.func,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  theme: PropTypes.string,\n  color: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n}\n\nColorPicker.defaultProps = {\n  showColorPicker: true\n}\n\nconst mapStateToProps = state => ({\n  selectedColor: state.colorPicker.color || '#333'\n})\n\nexport default connect(mapStateToProps, ColorPickerActions)(ColorPicker)\n\n\n\n// WEBPACK FOOTER //\n// ./components/color-picker/index.js","import {\n  SET_SELECTED_COLOR\n} from './actions'\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  color: undefined\n}\n\nconst ColorPickerReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case SET_SELECTED_COLOR:\n      return {\n        ...state,\n        color: action.color\n      }\n    default:\n      return state\n  }\n}\n\nexport default ColorPickerReducer\n\n\n\n// WEBPACK FOOTER //\n// ./components/color-picker/reducers.js","export default {\n  meurio: [\n    '#039046',\n    '#2BBAE2',\n    '#FFCF01',\n    '#EF7F3A',\n    '#DF499A',\n    '#8C78B7',\n    '#353A3D'\n  ],\n  meurecife: [\n    '#0FA7AC',\n    '#F0593E',\n    '#F4ED2F'\n  ],\n  minhablumenau: [\n    '#05A9CC',\n    '#D6DF21',\n    '#4B4C4D'\n  ],\n  minhacampinas: [\n    '#12868B',\n    '#FCB814',\n    '#D01F53'\n  ],\n  minhacuritiba: [\n    '#F9A51B',\n    '#1EABB4',\n    '#3C4F56'\n  ],\n  minhagaropaba: [\n    '#00ABCD',\n    '#BBD76A',\n    '#353B40'\n  ],\n  minhaouropreto: [\n    '#FDC93B',\n    '#47928D',\n    '#45494D'\n  ],\n  minhaportoalegre: [\n    '#F68B1F',\n    '#F15622',\n    '#1A9CAC'\n  ],\n  minhasampa: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627'\n  ],\n  nossascidades: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ],\n  nuestrasciudades: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ],\n  ourcities: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/color-picker/themes.js","import React from 'react'\n\n// Exported from redux-devtools\nimport { createDevTools } from 'redux-devtools'\n\n// Monitors are separate packages, and you can make a custom one\nimport LogMonitor from 'redux-devtools-log-monitor'\nimport DockMonitor from 'redux-devtools-dock-monitor'\n\n// createDevTools takes a monitor and produces a DevTools component\nconst DevTools = createDevTools(\n  // Monitors are individually adjustable with props.\n  // Consult their repositories to learn about those props.\n  // Here, we put LogMonitor inside a DockMonitor.\n  // Note: DockMonitor is visible by default.\n  <DockMonitor toggleVisibilityKey='ctrl-h'\n    changePositionKey='ctrl-q'\n    defaultIsVisible={false}>\n    <LogMonitor theme='tomorrow' />\n  </DockMonitor>\n)\n\nexport default DevTools\n\n\n\n// WEBPACK FOOTER //\n// ./components/dev-tools/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst DropdownMenuItem = props => {\n  const handleClick = event => {\n    (props.onClick || props.disabled) && event && event.preventDefault()\n    if (!props.disabled) {\n      props.onItemClick && props.onItemClick()\n      props.onClick && props.onClick()\n    }\n  }\n\n  const { className, disabled, href, children } = props\n\n  return (\n    <a\n      className={classnames(className, (disabled ? 'muted' : ''))}\n      disabled={disabled}\n      onClick={handleClick}\n      href={href}>\n      {children}\n    </a>\n  )\n}\n\nDropdownMenuItem.propTypes = {\n  href: PropTypes.string,\n  children: PropTypes.object,\n  onClick: PropTypes.func,\n  onItemClick: PropTypes.func,\n  disabled: PropTypes.bool,\n  className: PropTypes.string\n}\n\nexport default DropdownMenuItem\n\n\n\n// WEBPACK FOOTER //\n// ./components/dropdown-menu/dropdown-menu-item.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nclass DropdownMenu extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = { open: false }\n  }\n\n  handleClick () {\n    this.setState({ open: !this.state.open })\n  }\n\n  handleOverlayClick () {\n    this.setState({ open: false })\n  }\n\n  renderIcon () {\n    return !this.props.icon ? null : (\n      <i ref='icon' className={classnames('icon fa', `fa-${this.props.icon}`)} />\n    )\n  }\n\n  renderOverlay () {\n    return !this.state.open ? null : (\n      <div\n        className='overlay fixed top-0 right-0 bottom-0 left-0 z1'\n        onClick={::this.handleOverlayClick}\n      />\n    )\n  }\n\n  renderChildren () {\n    return this.props.children.map((child, index) => {\n      const props = child.type !== 'div' ? { onItemClick: ::this.handleOverlayClick } : {}\n      return React.cloneElement(child, {\n        key: 'item-' + index,\n        ...props\n      })\n    })\n  }\n\n  render () {\n    const {\n      wrapperClassName,\n      buttonClassName,\n      menuClassName,\n      menuStyle,\n      text,\n      children\n    } = this.props\n\n    return (\n      <div style={{ marginTop: '5px' }} className={classnames('relative', wrapperClassName)}>\n        <button ref='button' className={buttonClassName} onClick={::this.handleClick}>\n          {this.renderIcon()} {text}\n        </button>\n        <div\n          className={classnames(\n            'absolute nowrap z2',\n            menuClassName,\n            (this.state.open ? '' : 'display-none')\n          )}\n          style={menuStyle}\n        >\n          {children.length > 0 && this.renderChildren()}\n        </div>\n        {this.renderOverlay()}\n      </div>\n    )\n  }\n}\n\nDropdownMenu.propTypes = {\n  className: PropTypes.string,\n  menuClassName: PropTypes.string,\n  menuStyle: PropTypes.object,\n  wrapperClassName: PropTypes.string,\n  buttonClassName: PropTypes.string,\n  text: PropTypes.string,\n  children: PropTypes.array,\n  icon: PropTypes.string\n}\n\nexport default DropdownMenu\n\n\n\n// WEBPACK FOOTER //\n// ./components/dropdown-menu/dropdown-menu.js","export { default as DropdownMenu } from './dropdown-menu'\nexport { default as DropdownMenuItem } from './dropdown-menu-item'\n\n\n\n// WEBPACK FOOTER //\n// ./components/dropdown-menu/index.js","export default block => {\n  let style = 'left'\n  block.findStyleRanges(e => {\n    if (e.hasStyle('center')) style = 'center'\n    if (e.hasStyle('right')) style = 'right'\n  })\n  return style\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/AlignmentControls/getBlockAlignment.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\nimport styleWholeSelectedBlocksModifier from './styleWholeSelectedBlocksModifier'\n\nconst alignments = ['left', 'center', 'right']\n\nexport default class AlignmentControls extends Component {\n  handleToggleAlign (alignment) {\n    const { editorState, setEditorState } = this.props\n    const editorStateWithAlignment = styleWholeSelectedBlocksModifier(\n      editorState,\n      alignment,\n      alignments.filter(align => alignment !== align)\n    )\n    setEditorState(editorStateWithAlignment)\n\n    this.props.focusEditor()\n  }\n\n  hasAlignmentStyle (alignment) {\n    const { editorState } = this.props\n    const selectionState = editorState.getSelection()\n\n    const block = editorState.getCurrentContent().getBlockForKey(selectionState.getStartKey())\n\n    let alignmentStyle = 'left'\n    block.findStyleRanges(e => {\n      if (e.hasStyle('center')) alignmentStyle = 'center'\n      if (e.hasStyle('right')) alignmentStyle = 'right'\n    })\n\n    return alignmentStyle === alignment ? 'active' : null\n  }\n\n  render () {\n    const { buttonClassName } = this.props\n\n    return (\n      <div className='alignmentControls'>\n        <button\n          className={classnames(buttonClassName, this.hasAlignmentStyle('left'))}\n          onClick={() => this.handleToggleAlign('left')}\n        >\n          <i className='fa fa-align-left' />\n        </button>\n        <button\n          className={classnames(buttonClassName, this.hasAlignmentStyle('center'))}\n          onClick={() => this.handleToggleAlign('center')}\n        >\n          <i className='fa fa-align-center' />\n        </button>\n        <button\n          className={classnames(buttonClassName, this.hasAlignmentStyle('right'))}\n          onClick={() => this.handleToggleAlign('right')}\n        >\n          <i className='fa fa-align-right' />\n        </button>\n      </div>\n    )\n  }\n}\n\nAlignmentControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/AlignmentControls/index.js","import { EditorState, Modifier } from 'draft-js'\n\n//\n// USAGE\n// style = alignment you want (e.g. \"left\")\n// removeStyles = alignments to remove ([\"center\", \"right\"])\n//\n\nexport default (editorState, style, removeStyles = []) => {\n  let currentContent = editorState.getCurrentContent()\n  let selection = editorState.getSelection()\n  let focusBlock = currentContent.getBlockForKey(selection.getFocusKey())\n  let anchorBlock = currentContent.getBlockForKey(selection.getAnchorKey())\n  let selectionIsBackward = selection.getIsBackward()\n\n  let changes = {\n    anchorOffset: 0,\n    focusOffset: focusBlock.getLength()\n  }\n\n  if (selectionIsBackward) {\n    changes = {\n      focusOffset: 0,\n      anchorOffset: anchorBlock.getLength()\n    }\n  }\n  let selectWholeBlocks = selection.merge(changes)\n  let modifiedContent = Modifier.applyInlineStyle(currentContent, selectWholeBlocks, style)\n  let finalContent = removeStyles.reduce(function (content, style) {\n    return Modifier.removeInlineStyle(content, selectWholeBlocks, style)\n  }, modifiedContent)\n  return EditorState.push(editorState, finalContent, 'change-inline-style')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/AlignmentControls/styleWholeSelectedBlocksModifier.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { SketchPicker } from 'react-color'\n\nimport themes from '../themes'\n\nclass ColorPickerButton extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { showColorPicker: false }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { color } = nextProps\n    if (this.props.color !== color) {\n      this.setState({ color })\n    }\n  }\n\n  toggleColorPicker (e) {\n    this.setState({ showColorPicker: !this.state.showColorPicker })\n  }\n\n  handleChange (color) {\n    const { onChangeColor } = this.props\n    this.setState({ color: color.rgb })\n    onChangeColor(this.state.color)\n  }\n\n  handleChangeColor (color) {\n    this.setState({ showColorPicker: false })\n    this.props.focusEditor()\n  }\n\n  render () {\n    const { showColorPicker, color } = this.state\n    const { className, theme } = this.props\n\n    const presetColors = theme ? themes[theme] : []\n\n    const colorPickerProps = {\n      color,\n      presetColors,\n      onChangeComplete: this.handleChange.bind(this)\n    }\n\n    return (\n      <div>\n        <button type='button' className={className} onClick={this.toggleColorPicker.bind(this)}>\n          <i className='fa fa-eyedropper' />\n        </button>\n        {(showColorPicker ? (\n          <div className='absolute left-0'>\n            <SketchPicker {...colorPickerProps} />\n            <button\n              className='btn bg-darken-4 white col-12 rounded-bottom'\n              onClick={this.handleChangeColor.bind(this)}\n            >\n              Fechar\n            </button>\n          </div>\n        ) : null)}\n      </div>\n    )\n  }\n}\n\nColorPickerButton.propTypes = {\n  color: PropTypes.string,\n  onRemoveColor: PropTypes.func.isRequired,\n  onChangeColor: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  className: PropTypes.string,\n  theme: PropTypes.string\n}\n\nexport default ColorPickerButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/ColorControls/ColorPickerButton.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nimport EditorUtils from '../EditorUtils'\nimport ColorPickerButton from './ColorPickerButton'\n\nexport default class ColorControls extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { color: null }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { editorState } = nextProps\n    if (editorState !== this.props.editorState) {\n      const currentStyle = editorState.getCurrentInlineStyle()\n      const color = currentStyle.filter(value => value.startsWith('color')).last()\n      if (color) {\n        this.setState({\n          color: color\n            .replace('color:')\n            .replace(';', '')\n            .trim()\n        })\n      }\n    }\n  }\n\n  onChangeColor (color) {\n    const { editorState, setEditorState } = this.props\n\n    const targetSelection = editorState.getSelection()\n    if (!targetSelection.isCollapsed()) {\n      const editorStateWithColor = EditorUtils.toggleInlineStyle(\n        editorState,\n        `color: rgba(${color.r},${color.g},${color.b},${color.a});`\n      )\n      setEditorState(editorStateWithColor)\n    }\n  }\n\n  hasColorStyle () {\n    const { editorState } = this.props\n    const hasStyle = editorState.getCurrentInlineStyle().filter(style => style.startsWith('color'))\n    return hasStyle.size > 0 ? 'active' : null\n  }\n\n  render () {\n    const { buttonClassName, theme } = this.props\n\n    return (\n      <div className='colorControls'>\n        <ColorPickerButton\n          theme={theme}\n          className={classnames(buttonClassName, this.hasColorStyle())}\n          color={this.state.color}\n          onRemoveColor={() => {}}\n          onChangeColor={this.onChangeColor.bind(this)}\n          focusEditor={this.props.focusEditor}\n        />\n      </div>\n    )\n  }\n}\n\nColorControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string,\n  theme: PropTypes.string\n}\n\nexport const customStyleFn = (style) => {\n  const output = {}\n  const color = style.filter(value => value.startsWith('color')).last()\n  if (color) {\n    output.color = color\n      .replace('color:', '')\n      .replace(';', '')\n      .trim()\n  }\n  return output\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/ColorControls/index.js","import { EditorState, Entity, Modifier, RichUtils, SelectionState } from 'draft-js'\n\nimport getSelectionEntities from './getSelectionEntities'\n\nexport const getEntitySelectionState = (editorState, selectionState, entityType) => {\n  // Selection cursor\n  const currentContent = editorState.getCurrentContent()\n  const endOffset = selectionState.getEndOffset()\n\n  const block = currentContent.getBlockForKey(selectionState.getStartKey())\n\n  let entitySelectionState\n\n  block.findEntityRanges(character => {\n    const entityKey = character.getEntity()\n    return entityKey && Entity.get(entityKey).getType() === entityType\n  }, (start, end) => {\n    const isSelected = end >= endOffset && start <= endOffset\n\n    if (isSelected) {\n      entitySelectionState = selectionState.merge({\n        anchorOffset: start,\n        focusOffset: end\n      })\n    }\n  })\n\n  return entitySelectionState\n}\n\n/*\n * getSelectedBlocks\n */\nexport const getSelectedBlocks = (contentState, selectionState) => {\n  const anchorKey = selectionState.getStartKey()\n  const focusKey = selectionState.getEndKey()\n\n  const isSameBlock = anchorKey === focusKey\n  const startingBlock = contentState.getBlockForKey(anchorKey)\n\n  if (!startingBlock) {\n    return []\n  }\n\n  let selectedBlocks = [startingBlock]\n\n  if (!isSameBlock) {\n    let blockKey = anchorKey\n\n    while (blockKey !== focusKey) {\n      const nextBlock = contentState.getBlockAfter(blockKey)\n      if (!nextBlock) {\n        selectedBlocks = []\n        break\n      }\n      selectedBlocks.push(nextBlock)\n      blockKey = nextBlock.getKey()\n    }\n  }\n\n  return selectedBlocks\n}\n\nconst getBlockSelectionState = (contentBlock, selectionState) => {\n  const anchorKey = selectionState.getStartKey()\n  const focusKey = selectionState.getEndKey()\n\n  // Selection for this block\n  const blockKey = contentBlock.getKey()\n  const startOffset = blockKey === anchorKey ? selectionState.getStartOffset() : 0\n  const endOffset = blockKey === focusKey ? selectionState.getEndOffset() : contentBlock.getText().length\n\n  return SelectionState.createEmpty(blockKey).merge({\n    anchorOffset: startOffset,\n    focusOffset: endOffset\n  })\n}\n\n/*\n * Utils.js\n *\n * - toggleLink(editorState: EditorState, data: object)\n */\nexport default {\n\n  toggleInlineStyle: (editorState, inlineStyle) => {\n    if (inlineStyle.indexOf(':') > 0) {  // remove and add new custom inline style\n      let contentWithoutStyle = editorState.getCurrentContent()\n\n      const prefix = inlineStyle.split(':')[0]\n      const styles = editorState.getCurrentInlineStyle().filter(style => style.startsWith(prefix))\n      if (styles.size > 0) {\n        styles.forEach(style => {\n          contentWithoutStyle = Modifier.removeInlineStyle(\n            contentWithoutStyle,\n            editorState.getSelection(),\n            style\n          )\n        })\n        return RichUtils.toggleInlineStyle(\n          // apply custom inline style in content without style\n          EditorState.push(editorState, contentWithoutStyle, 'change-inline-style'),\n          inlineStyle\n        )\n      }\n    }\n\n    return RichUtils.toggleInlineStyle(editorState, inlineStyle)\n  },\n\n  toggleLink: (editorState, data) => {\n    /* This code need refactor */\n    // Save editorState then apply link in loop\n    let editorStateMutable = editorState\n\n    const selection = editorState.getSelection()\n    if (!selection.isCollapsed()) {\n      const contentState = editorState.getCurrentContent()\n\n      const arrayBlocks = getSelectedBlocks(contentState, selection)\n\n      // Should create entity when text select\n      // and merge entity data when block type selected is atomic\n      let entityKey\n\n      arrayBlocks.forEach(block => {\n        const entity = block.getEntityAt(0)\n        if (entity) {  // When has entity selected\n          if (block.getType() === 'atomic') {\n            if (!data) {  // Remove\n              Entity.mergeData(entity, { href: null })\n            } else {  // Update\n              Entity.mergeData(entity, data)\n            }\n          } else {\n            const blockSelectionState = getBlockSelectionState(block, selection)\n            const entitySelectionState = getEntitySelectionState(editorState, blockSelectionState, 'LINK')\n\n            if (entitySelectionState && data) {\n              editorStateMutable = RichUtils.toggleLink(\n                editorStateMutable,\n                blockSelectionState,\n                Entity.create('LINK', 'MUTABLE', data)\n              )\n            } else {\n              editorStateMutable = RichUtils.toggleLink(\n                editorStateMutable,\n                blockSelectionState,\n                null\n              )\n            }\n          }\n        } else if (block.getText().length > 0) {\n          if (!entityKey) {\n            // Ensure only a entity been created\n            entityKey = data ? Entity.create('LINK', 'MUTABLE', data) : null\n          }\n\n          // Toggle link\n          const blockSelectionState = getBlockSelectionState(block, selection)\n          editorStateMutable = RichUtils.toggleLink(\n            // Apply entity in content mutable to ensure\n            // that link before loop has been applied\n            editorStateMutable,\n            blockSelectionState,\n            entityKey\n          )\n        }\n      })\n\n      return editorStateMutable\n    } else {\n      const selectionEntity = getSelectionEntities(editorState, 'LINK').last()\n      if (selectionEntity) {\n        Entity.mergeData(selectionEntity.entityKey, data)\n      }\n      return editorState\n    }\n  },\n\n  getEntityInstance: (editorState, selectionState, entityType) => {\n    const entitySelectionState = getEntitySelectionState(\n      editorState,\n      selectionState,\n      entityType\n    )\n\n    if (entitySelectionState) {\n      const block = editorState\n        .getCurrentContent()\n        .getBlockForKey(\n          entitySelectionState.getStartKey()\n        )\n\n      const entityKey = block.getEntityAt(entitySelectionState.getStartOffset())\n      return entityKey ? Entity.get(entityKey) : undefined\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/EditorUtils.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst fonts = [\n  'Abel', 'Anton', 'Archivo Narrow', 'Asap', 'Bree Serif',\n  'Crimson Text', 'Cuprum', 'Exo', 'Exo 2', 'Fira Sans',\n  'Francois One', 'Josefin Sans', 'Karla', 'Libre Baskerville',\n  'Merriweather Sans', 'Pacifico', 'Poiret One', 'Quicksand',\n  'Signika', 'Varela Round', 'Arvo', 'Bitter', 'Cabin',\n  'Catamaran', 'Dosis', 'Fjalla One', 'Hind', 'Inconsolata',\n  'Indie Flower', 'Lobster', 'Muli', 'Noto Serif', 'Nunito',\n  'Oxygen', 'PT Serif', 'Playfair Display', 'Poppins',\n  'Titillium Web', 'Ubuntu Condensed', 'Yanone Kaffeesatz',\n  'Baloo Bhai', 'David Libre', 'Droid Sans', 'Gidugu',\n  'Lalezar', 'Lato', 'Lora', 'Montserrat', 'Open Sans',\n  'Open Sans Condensed', 'Oswald', 'PT Sans', 'Raleway',\n  'Roboto', 'Roboto Condensed', 'Roboto Slab', 'Ruslan Display',\n  'Slabo 27px', 'Source Sans Pro', 'Ubuntu'\n]\n\nconst SelectFontFamily = props => (\n  <select {...props} className='font-controls-family select col col-8 h5'>\n    <option value=''>Selecione uma fonte</option>\n    {fonts.map(\n      font => <option key={font} value={font}>{font}</option>\n    )}\n  </select>\n)\n\nSelectFontFamily.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n}\n\nexport default SelectFontFamily\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/FontControls/SelectFontFamily.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\nimport EditorUtils from '../EditorUtils'\n\nimport SelectFontFamily from './SelectFontFamily'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nexport default class FontControls extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { ...this.props.initialValue }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { editorState } = nextProps\n\n    const hasChangeInlineStyle = (\n      editorState.getCurrentInlineStyle() !== this.props.editorState.getCurrentInlineStyle()\n    )\n    if (hasChangeInlineStyle) {\n      const currentStyle = editorState.getCurrentInlineStyle()\n\n      const initialValue = {\n        ...this.props.initialValue\n      }\n\n      const fontSize = currentStyle.filter(value => value.startsWith('font-size')).last()\n      if (fontSize) {\n        initialValue.fontSize = fontSize\n          .replace('font-size:', '')\n          .replace('px', '')\n          .replace(';', '')\n          .trim()\n      }\n\n      const fontFamily = currentStyle.filter(value => value.startsWith('font-family')).last()\n      if (fontFamily) {\n        initialValue.fontFamily = fontFamily\n          .replace('font-family:', '')\n          .replace(';', '')\n          .trim()\n      }\n\n      if (initialValue) {\n        this.setState({ ...initialValue })\n      }\n    }\n  }\n\n  handleChangeSize (e) {\n    const { editorState, setEditorState } = this.props\n    const fontSize = e.target.value\n\n    if (fontSize) {\n      const editorStateWithFontSize = EditorUtils.toggleInlineStyle(\n        editorState,\n        `font-size: ${fontSize}px;`\n      )\n      setEditorState(editorStateWithFontSize)\n      this.setState({ fontSize })\n    }\n  }\n\n  handleChangeFont (e) {\n    const { editorState, setEditorState } = this.props\n    const fontFamily = e.target.value\n\n    const editorStateWithFontFamily = EditorUtils.toggleInlineStyle(\n      editorState,\n      `font-family: ${fontFamily};`\n    )\n    setEditorState(editorStateWithFontFamily)\n    this.setState({ fontFamily })\n  }\n\n  handleMouseOut () {\n    this.props.focusEditor()\n  }\n\n  render () {\n    return (\n      <div className='font-controls'>\n        <input\n          type='number'\n          value={this.state.fontSize}\n          onChange={this.handleChangeSize.bind(this)}\n          onMouseOut={this.handleMouseOut.bind(this)}\n          className='font-controls-size input col col-3 h5 mx1'\n        />\n        <SelectFontFamily\n          onChange={this.handleChangeFont.bind(this)}\n          value={this.state.fontFamily}\n          onMouseOut={this.handleMouseOut.bind(this)}\n        />\n      </div>\n    )\n  }\n}\n\nFontControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  initialValue: PropTypes.shape({\n    fontSize: PropTypes.number,\n    fontFamily: PropTypes.string\n  })\n\n}\n\nexport const customStyleFn = (style) => {\n  const output = {}\n  const fontSize = style.filter(value => value.startsWith('font-size')).last()\n  if (fontSize) {\n    output.fontSize = fontSize\n      .replace('font-size:', '')\n      .replace(';', '')\n      .trim()\n  }\n  const fontFamily = style.filter(value => value.startsWith('font-family')).last()\n  if (fontFamily) {\n    output.fontFamily = fontFamily\n      .replace('font-family:', '')\n      .replace(';', '')\n      .trim()\n  }\n  return output\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/FontControls/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-draft-js/Toolbar/FontControls/styles.scss\n// module id = ./components/editor-draft-js/Toolbar/FontControls/styles.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { EditorState } from 'draft-js'\n\nexport default class HistoryControls extends Component {\n  handleUndoClick () {\n    const { editorState, setEditorState } = this.props\n\n    if (!editorState.getUndoStack().isEmpty()) {\n      setEditorState(EditorState.undo(editorState))\n      this.props.focusEditor()\n    }\n  }\n\n  handleRedoClick () {\n    const { editorState, setEditorState } = this.props\n    if (!editorState.getRedoStack().isEmpty()) {\n      setEditorState(EditorState.redo(editorState))\n      this.props.focusEditor()\n    }\n  }\n\n  render () {\n    const { buttonClassName } = this.props\n\n    return (\n      <div className='historyControls'>\n        <button type='button' className={buttonClassName} onClick={this.handleUndoClick.bind(this)}>\n          <i className='fa fa-undo regular' />\n        </button>\n        <button type='button' className={buttonClassName} onClick={this.handleRedoClick.bind(this)}>\n          <i className='fa fa-repeat regular' />\n        </button>\n      </div>\n    )\n  }\n}\n\nHistoryControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/HistoryControls/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { Entity } from 'draft-js'\n\nconst Link = ({ children, entityKey }) => {\n  const { href, target } = Entity.get(entityKey).getData()\n\n  return (\n    <a href={href} target={target}>{children}</a>\n  )\n}\n\nLink.propTypes = {\n  entityKey: PropTypes.string.isRequired\n}\n\nexport default Link\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/LinkControls/Link.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\nimport { Entity } from 'draft-js'\n\nimport Link from './Link'\nimport linkStrategy from './linkStrategy'\n\nimport EditorUtils from '../EditorUtils'\nimport getSelectionEntities from '../getSelectionEntities'\n\nconst getSelectionLink = (editorState) => {\n  // Return entity when one and only one selected\n  return getSelectionEntities(editorState, 'LINK').last()\n}\n\nexport default class LinkControls extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      showInput: false,\n      href: '',\n      target: '_self'\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { editorState } = nextProps\n    if (editorState !== this.props.editorState) {\n      const entityLink = getSelectionLink(this.props.editorState)\n      const nextEntityLink = getSelectionLink(editorState)\n      if (nextEntityLink && nextEntityLink !== entityLink) {\n        const entityInstance = Entity.get(nextEntityLink.entityKey)\n        const { href, target } = entityInstance.getData()\n        this.setState({ href, target, hasLink: true })\n      } else {\n        this.setState({ href: '', target: '_self', hasLink: false })\n      }\n    }\n  }\n\n  handleToggleInput () {\n    this.setState({ showInput: !this.state.showInput })\n  }\n\n  confirmLink () {\n    const { editorState, setEditorState } = this.props\n\n    if (this.state.href) {\n      const { href, target } = this.state\n      setEditorState(EditorUtils.toggleLink(editorState, { href, target }))\n    } else {\n      setEditorState(EditorUtils.toggleLink(editorState, null))\n    }\n\n    this.setState({ showInput: false })\n    this.props.focusEditor()\n  }\n\n  removeLink () {\n    const { editorState, setEditorState } = this.props\n    setEditorState(EditorUtils.toggleLink(editorState, null))\n    this.props.focusEditor()\n  }\n\n  handleChangeTarget (e) {\n    this.setState({ target: e.target.checked ? '_blank' : '_self' })\n  }\n\n  render () {\n    const { buttonClassName, popoverClassName } = this.props\n\n    return (\n      <div className='linkControls'>\n        <button className={classnames(buttonClassName, this.state.hasLink ? 'active' : null)} onClick={this.handleToggleInput.bind(this)}>\n          <i className='fa fa-link' />\n        </button>\n        {this.state.showInput && (\n          <div className={popoverClassName}>\n            <div className='flex flex-wrap'>\n              <input\n                type='text'\n                value={this.state.href}\n                onChange={e => this.setState({ href: e.target.value })}\n                className='input col-8 m0'\n              />\n              <button\n                className='btn btn-outline white mx1'\n                onClick={this.confirmLink.bind(this)}\n              >\n                <i className='fa fa-check' />\n              </button>\n            </div>\n            <div className='flex flex-wrap mt1'>\n              <input\n                id='targetId'\n                type='checkbox'\n                onChange={this.handleChangeTarget.bind(this)}\n                value={this.state.target}\n                checked={this.state.target === '_blank'}\n                data-wysihtml5-dialog-field='target'\n              />\n              <label htmlFor='targetId' style={{ cursor: 'pointer', lineHeight: 'normal' }}>Abrir link em nova aba</label>\n            </div>\n          </div>\n        )}\n        <button className={buttonClassName} onClick={this.removeLink.bind(this)}>\n          <i className='fa fa-unlink' />\n        </button>\n      </div>\n    )\n  }\n}\n\nLinkControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string\n}\n\nexport const decorator = {\n  strategy: linkStrategy,\n  component: Link\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/LinkControls/index.js","import { Entity } from 'draft-js'\n\nexport default (contentBlock, callback) => {\n  contentBlock.findEntityRanges(character => {\n    const entityKey = character.getEntity()\n    if (entityKey) {\n      const entityInstance = Entity.get(entityKey)\n      return (\n          entityInstance !== null &&\n          entityInstance.getType() === 'LINK'\n      )\n    }\n    return false\n  }, callback)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/LinkControls/linkStrategy.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport ReactS3Uploader from 'react-s3-uploader'\n\nclass InsertImageButton extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { showInsertDialog: false, isLoading: false, image: null }\n  }\n\n  handleToggleDialog (e) {\n    this.setState({ showInsertDialog: !this.state.showInsertDialog })\n  }\n\n  handleUploadProgress () {\n    this.setState({ isLoading: true })\n  }\n\n  handleUploadError () {\n    this.setState({ isLoading: false })\n  }\n\n  handleUploadFinish (e) {\n    const { handleUploadFinish } = this.props\n    const imgUrl = e.signedUrl.substring(0, e.signedUrl.indexOf('?'))\n    this.setState({ isLoading: false, image: imgUrl })\n\n    handleUploadFinish(imgUrl)\n  }\n\n  handleOpenDialog () {\n    ReactDOM.findDOMNode(this.inputFile).click()\n  }\n\n  render () {\n    const { buttonClassName } = this.props\n\n    return (\n      <div>\n        <button className={buttonClassName} onClick={this.handleOpenDialog.bind(this)}>\n          <i className='fa fa-image' />\n        </button>\n        <ReactS3Uploader\n          signingUrl={`${process.env.API_URL}/uploads`}\n          accept='image/*'\n          onProgress={::this.handleUploadProgress}\n          onError={::this.handleUploadError}\n          onFinish={::this.handleUploadFinish}\n          ref={input => { this.inputFile = input }}\n          style={{\n            position: 'absolute',\n            visibility: 'hidden'\n          }}\n        />\n      </div>\n    )\n  }\n}\n\nInsertImageButton.propTypes = {\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string,\n  handleUploadFinish: PropTypes.func.isRequired\n}\n\nexport default InsertImageButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/MediaControls/InsertImageButton.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\nclass InsertScriptButton extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { showInputDialog: false, script: '' }\n  }\n\n  getTagName (script) {\n    if (script.startsWith('<iframe')) {\n      return 'iframe'\n    } else if (script.startsWith('<script')) {\n      return 'script'\n    }\n    throw new Error('Sorry, script name not permitted')\n  }\n\n  handleInsertScript () {\n    const { handleInsertScript } = this.props\n    const { script } = this.state\n\n    handleInsertScript(this.getTagName(script), script)\n    this.setState({ script: '', showInputDialog: false })\n  }\n\n  render () {\n    const { buttonClassName, popoverClassName } = this.props\n\n    return (\n      <div>\n        <button\n          className={buttonClassName}\n          onClick={e => this.setState({ showInputDialog: !this.state.showInputDialog })}\n        >\n          <i className='fa fa-code' />\n        </button>\n        {!this.state.showInputDialog ? null : (\n          <div className={popoverClassName}>\n            <input\n              type='text'\n              value={this.state.script}\n              onChange={e => this.setState({ script: e.target.value })}\n            />\n            <button\n              className='btn btn-outline white mx1'\n              onClick={this.handleInsertScript.bind(this)}\n            >\n              <i className='fa fa-check' />\n            </button>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nInsertScriptButton.propTypes = {\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string,\n  handleInsertScript: PropTypes.func.isRequired\n}\n\nexport default InsertScriptButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/MediaControls/InsertScriptButton.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { Entity } from 'draft-js'\n\nclass Media extends Component {\n  render () {\n    const { block } = this.props\n\n    const entityKey = block.getEntityAt(0)\n    const entity = entityKey ? Entity.get(entityKey) : undefined\n\n    if (!entity) {\n      // TODO: Remove behavior this code implemented because wasn't\n      // control for media block\n      return <span className='remove-block' />\n    }\n\n    const {\n      // Inside tag a\n      href,\n      target,\n      // Image or Iframe\n      ...mediaProps\n    } = entity.getData()\n\n    const entityType = entity.getType().toLowerCase()\n\n    if (entityType === 'image') {\n      const media = <img {...mediaProps} />\n\n      if (href) {\n        return (\n          <a href={href} target={target || '_blank'}>{media}</a>\n        )\n      }\n      return media\n    } else if (entityType === 'iframe' || entityType === 'script') {\n      // insert script or iframe in div\n      return <div className='noscript' dangerouslySetInnerHTML={{ __html: mediaProps.src }} />\n    } else {\n      throw new Error('Sorry, media type not found.')\n    }\n  }\n}\n\nMedia.propTypes = {\n  // Injected by draft-js in blockRendererFn\n  block: PropTypes.object.isRequired\n}\n\nexport default Media\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/MediaControls/Media.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\nimport { Entity, AtomicBlockUtils } from 'draft-js'\nimport Media from './Media'\n\nimport InsertImageButton from './InsertImageButton'\nimport InsertScriptButton from './InsertScriptButton'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nexport default class MediaControls extends Component {\n  handleInsertMedia (mediaType, source) {\n    const { editorState, setEditorState } = this.props\n\n    const entityKey = Entity.create(mediaType, 'IMMUTABLE', { src: source })\n    const editorStateWithMedia = AtomicBlockUtils.insertAtomicBlock(editorState, entityKey, ' ')\n    setEditorState(editorStateWithMedia)\n\n    this.props.focusEditor()\n  }\n\n  render () {\n    const { buttonClassName, popoverClassName } = this.props\n\n    return (\n      <div className='mediaControls'>\n        <InsertImageButton\n          buttonClassName={buttonClassName}\n          popoverClassName={popoverClassName}\n          handleUploadFinish={source => this.handleInsertMedia('image', source)}\n        />\n        <InsertScriptButton\n          buttonClassName={buttonClassName}\n          popoverClassName={popoverClassName}\n          handleInsertScript={this.handleInsertMedia.bind(this)}\n        />\n      </div>\n    )\n  }\n}\n\nMediaControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string\n}\n\nexport const blockRendererFn = (block) => {\n  if (block.getType() === 'atomic') {\n    return {\n      component: Media\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/MediaControls/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-draft-js/Toolbar/MediaControls/styles.scss\n// module id = ./components/editor-draft-js/Toolbar/MediaControls/styles.scss\n// module chunks = 0","import { Entity } from 'draft-js'\nimport { OrderedSet } from 'immutable'\n\nconst getSelectionEntities = (editorState, entityType) => {\n  // Selection cursor\n  const targetSelection = editorState.getSelection()\n  const endOffset = targetSelection.getEndOffset()\n\n  const currentContent = editorState.getCurrentContent()\n\n  const block = currentContent.getBlockForKey(targetSelection.getStartKey())\n\n  let selectionEntitySet = new OrderedSet()\n\n  block.findEntityRanges(character => {\n    const entityKey = character.getEntity()\n    return entityKey !== null && Entity.get(entityKey).getType() === entityType\n  }, (start, end) => {\n    const isSelected = end >= endOffset && start <= endOffset\n\n    if (isSelected) {\n      selectionEntitySet = selectionEntitySet.add({\n        blockKey: block.getKey(),\n        entityKey: block.getEntityAt(start),\n        start,\n        end\n      })\n    }\n  })\n\n  return selectionEntitySet\n}\n\nexport default getSelectionEntities\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/getSelectionEntities.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nimport { RichUtils, CompositeDecorator } from 'draft-js'\n\nimport ColorControls, { customStyleFn as colorCustomStyleFn } from './ColorControls'\nimport FontControls, { customStyleFn as fontCustomStyleFn } from './FontControls'\nimport HistoryControls from './HistoryControls'\nimport LinkControls, { decorator as linkDecorator } from './LinkControls'\nimport AlignmentControls from './AlignmentControls'\nimport MediaControls, { blockRendererFn as mediaBlockRendererFn } from './MediaControls'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nclass Toolbar extends Component {\n  toggleInlineStyle (style) {\n    const { editorState, setEditorState } = this.props\n    setEditorState(RichUtils.toggleInlineStyle(editorState, style))\n    this.props.focusEditor()\n  }\n\n  toggleBlockType (blockType) {\n    const { editorState, setEditorState } = this.props\n    setEditorState(RichUtils.toggleBlockType(editorState, blockType))\n    this.props.focusEditor()\n  }\n\n  hasInlineStyle (inlineStyle) {\n    const { editorState } = this.props\n    const hasStyle = editorState.getCurrentInlineStyle().filter(style => style === inlineStyle)\n    return hasStyle.size > 0 ? 'active' : null\n  }\n\n  hasBlockType (blockType) {\n    const { editorState } = this.props\n    const selectionState = editorState.getSelection()\n    const block = editorState.getCurrentContent().getBlockForKey(selectionState.getStartKey())\n    return block.getType() === blockType ? 'active' : null\n  }\n\n  render () {\n    const {\n      editorState,\n      setEditorState,\n      focusEditor,\n      buttonClassName,\n      popoverClassName,\n      theme,\n      style\n    } = this.props\n    const controlsProps = { editorState, setEditorState, focusEditor }\n\n    return (\n      <div\n        className='toolbar absolute full-width top-0 left-0 bg-darken-4 flex flex-wrap'\n        style={style}\n      >\n        <div>\n          {/* InlineStyle buttons */}\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasInlineStyle('BOLD'))}\n            onClick={() => this.toggleInlineStyle('BOLD')}\n          >\n            <i className='fa fa-bold' />\n          </button>\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasInlineStyle('ITALIC'))}\n            onClick={() => this.toggleInlineStyle('ITALIC')}\n          >\n            <i className='fa fa-italic' />\n          </button>\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasInlineStyle('UNDERLINE'))}\n            onClick={() => this.toggleInlineStyle('UNDERLINE')}\n          >\n            <i className='fa fa-underline' />\n          </button>\n          {/* BlockType buttons */}\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasBlockType('ordered-list-item'))}\n            onClick={() => this.toggleBlockType('ordered-list-item')}\n          >\n            <i className='fa fa-list-ol' />\n          </button>\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasBlockType('unordered-list-item'))}\n            onClick={() => this.toggleBlockType('unordered-list-item')}\n          >\n            <i className='fa fa-list-ul' />\n          </button>\n        </div>\n        <LinkControls\n          buttonClassName={buttonClassName}\n          popoverClassName={popoverClassName}\n          {...controlsProps}\n        />\n        <ColorControls\n          theme={theme}\n          buttonClassName={buttonClassName}\n          {...controlsProps}\n        />\n        <FontControls\n          initialValue={{ fontSize: 15, fontFamily: '' }}\n          {...controlsProps}\n        />\n        <HistoryControls\n          buttonClassName={buttonClassName}\n          {...controlsProps}\n        />\n        <AlignmentControls\n          buttonClassName={buttonClassName}\n          {...controlsProps}\n        />\n        <MediaControls\n          buttonClassName={buttonClassName}\n          popoverClassName={popoverClassName}\n          {...controlsProps}\n        />\n      </div>\n    )\n  }\n}\n\nToolbar.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string,\n  theme: PropTypes.string\n}\n\nexport const toolbarEditorProps = {\n  blockRendererFn: mediaBlockRendererFn,\n  customStyleFn: (style) => {\n    return {\n      ...fontCustomStyleFn(style),\n      ...colorCustomStyleFn(style)\n    }\n  }\n}\n\nexport const decorator = new CompositeDecorator([\n  linkDecorator\n])\n\nexport { default as getBlockAlignment } from './AlignmentControls/getBlockAlignment'\n\nexport default Toolbar\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-draft-js/Toolbar/styles.scss\n// module id = ./components/editor-draft-js/Toolbar/styles.scss\n// module chunks = 0","export default {\n  meurio: [\n    '#039046',\n    '#2BBAE2',\n    '#FFCF01',\n    '#EF7F3A',\n    '#DF499A',\n    '#8C78B7',\n    '#353A3D'\n  ],\n  meurecife: [\n    '#0FA7AC',\n    '#F0593E',\n    '#F4ED2F'\n  ],\n  minhablumenau: [\n    '#05A9CC',\n    '#D6DF21',\n    '#4B4C4D'\n  ],\n  minhacampinas: [\n    '#12868B',\n    '#FCB814',\n    '#D01F53'\n  ],\n  minhacuritiba: [\n    '#F9A51B',\n    '#1EABB4',\n    '#3C4F56'\n  ],\n  minhagaropaba: [\n    '#00ABCD',\n    '#BBD76A',\n    '#353B40'\n  ],\n  minhaouropreto: [\n    '#FDC93B',\n    '#47928D',\n    '#45494D'\n  ],\n  minhaportoalegre: [\n    '#F68B1F',\n    '#F15622',\n    '#1A9CAC'\n  ],\n  minhasampa: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627'\n  ],\n  nossascidades: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ],\n  nuestrasciudades: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ],\n  ourcities: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/themes.js","import { ContentState, convertToRaw } from 'draft-js'\n\nexport default text => {\n  const contentState = ContentState.createFromText(text)\n  const rawContentState = convertToRaw(contentState)\n  return JSON.stringify(rawContentState)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/create-editor-content.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { OrderedMap } from 'immutable'\nimport {\n  Editor,\n  EditorState,\n  ContentBlock,\n  ContentState,\n  convertFromHTML,\n  convertToRaw,\n  convertFromRaw,\n  genKey\n} from 'draft-js'\n\n// Current module dependencies\nimport Toolbar, {\n  toolbarEditorProps,\n  decorator,\n  getBlockAlignment\n} from './Toolbar'\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nclass RebooEditor extends Component {\n  constructor (props) {\n    super(props)\n\n    let editorState = EditorState.createEmpty(decorator)\n    if (this.props.value) {\n      let contentState\n      if (typeof this.props.value === 'string') {\n        // initialValue is a string with syntax HTML, we need transform in contentState\n        contentState = ContentState.createFromBlockArray(convertFromHTML(this.props.value))\n      } else if (typeof this.props.value === 'object') {\n        contentState = convertFromRaw(this.props.value)\n      } else {\n        throw new Error('Value invalid')\n      }\n\n      editorState = EditorState.createWithContent(contentState, decorator)\n    }\n\n    this.state = { editorState, hasFocus: false }\n  }\n\n  focus () {\n    this.setState({\n      hasFocus: true\n    }, () => setTimeout(() => this.refs.editor.focus()))\n  }\n\n  onChangeEditorState (editorState) {\n    this.setState({ editorState })\n  }\n\n  handleKeyCommand (command) {\n    const { editorState } = this.state\n    const currentBlock = editorState\n      .getCurrentContent()\n      .getBlockForKey(editorState.getSelection().getStartKey())\n    // Modify behavior to insert new line\n    if (command === 'split-block' && currentBlock.getType() === 'atomic') {\n      // Create a contentBlock done to be insert\n      const contentBlock = new ContentBlock({\n        key: genKey(),\n        type: 'unstyled'\n      })\n      const contentBlockMap = new OrderedMap([\n        [contentBlock.getKey(), contentBlock]\n      ])\n\n      const currentContent = editorState.getCurrentContent()\n      const currentBlockMap = currentContent.getBlockMap()\n\n      // split blocks with current block\n      const skipCurrent = block => block === currentBlock\n      const beforeBlocks = currentBlockMap.toSeq().takeUntil(skipCurrent)\n      const afterBlocks = currentBlockMap\n        .toSeq()\n        .skipUntil(skipCurrent)\n        .rest()\n\n      let blockMap\n      if (editorState.getSelection().getAnchorOffset() < editorState.getSelection().getFocusOffset()) {\n        // mount block map with new block to insert in place of old block\n        blockMap = beforeBlocks.concat(\n          contentBlockMap.toSeq(),\n          afterBlocks\n        ).toOrderedMap()\n      } else {\n        // mount block map with new block to insert before\n        blockMap = beforeBlocks.concat(\n          new OrderedMap([[currentBlock.getKey(), currentBlock]]).toSeq(),\n          contentBlockMap.toSeq(),\n          afterBlocks\n        ).toOrderedMap()\n      }\n\n      const content = currentContent.merge({ blockMap })\n      const editorStateWithLineBreak = EditorState.push(editorState, content, 'insert-new-line')\n\n      this.onChangeEditorState(EditorState.forceSelection(\n        editorStateWithLineBreak,\n        editorStateWithLineBreak.getSelection().merge({\n          anchorKey: contentBlock.getKey(),\n          anchorOffset: 0,\n          isBackward: false\n        })\n      ))\n\n      return true\n    }\n    return false\n  }\n\n  blockStyleFn (block) {\n    // TODO: Move to control and receive like plugin\n    const { editorState } = this.state\n\n    let alignment = getBlockAlignment(block)\n    if (!block.getText()) {\n      let previousBlock = editorState.getCurrentContent().getBlockBefore(block.getKey())\n      if (previousBlock) {\n        alignment = getBlockAlignment(previousBlock)\n      }\n    }\n    return `alignment--${alignment}`\n  }\n\n  handleBeforeInput (chars) {\n    const { editorState } = this.state\n    const selection = editorState.getSelection()\n    const block = editorState.getCurrentContent().getBlockForKey(selection.getStartKey())\n    if (chars === ' ' && block.getType() === 'atomic') {\n      this.handleKeyCommand('split-block')\n      return true\n    }\n    return false\n  }\n\n  save () {\n    this.props.handleSave(convertToRaw(this.state.editorState.getCurrentContent()))\n    this.setState({ hasFocus: false })\n  }\n\n  render () {\n    // Injected root container props\n    const { containerStyle } = this.props\n    // Injected Toolbar props\n    const { toolbarStyle, toolbarContainerStyle, theme } = this.props\n    // Injected Editor props\n    const { editorStyle, focusStyle, readOnly } = this.props\n\n    const hasFocusStyle = this.state.hasFocus && !readOnly\n      ? focusStyle || { outline: '1px solid blue' }\n      : {}\n\n    return (\n      <div className='reboo-editor' style={containerStyle}>\n        {!readOnly ? (\n          <div\n            className='toolbar-container'\n            style={{ ...toolbarContainerStyle, display: this.state.hasFocus ? 'block' : 'none' }}\n          >\n            <Toolbar\n              theme={theme}\n              buttonClassName='btn white p2'\n              popoverClassName='absolute white p2 bg-darken-4 rounded-bottom'\n              editorState={this.state.editorState}\n              setEditorState={this.onChangeEditorState.bind(this)}\n              focusEditor={this.focus.bind(this)}\n              style={toolbarStyle}\n            />\n            <div className='outside' onClick={::this.save} />\n          </div>\n        ) : null}\n        <div\n          className='editor'\n          style={{ ...editorStyle, ...hasFocusStyle }}\n        >\n          <div onClick={this.focus.bind(this)}>\n            <Editor\n              ref='editor'\n              readOnly={readOnly}\n              editorState={this.state.editorState}\n              onChange={this.onChangeEditorState.bind(this)}\n              blockStyleFn={this.blockStyleFn.bind(this)}\n              handleKeyCommand={this.handleKeyCommand.bind(this)}\n              handleBeforeInput={this.handleBeforeInput.bind(this)}\n              {...toolbarEditorProps}\n            />\n            <div style={{ 'clear': 'both' }} />\n          </div>\n          {!readOnly ? (\n            <div\n              className='right mt1'\n              style={{\n                display: this.state.hasFocus ? 'block' : 'none',\n                width: '100%',\n                position: 'relative'\n              }}\n            >\n              <button\n                className='btn caps bg-darken-4 white rounded'\n                onClick={::this.save}\n              >\n                Salvar\n              </button>\n              <button\n                className='btn bg-darken-4 white rounded'\n                style={{\n                  position: 'absolute',\n                  right: '0'\n                }}\n                onClick={this.props.handleDelete}\n              >\n                <i className='fa fa-trash' />\n              </button>\n            </div>\n          ) : null}\n        </div>\n\n      </div>\n    )\n  }\n}\n\nRebooEditor.propTypes = {\n  handleSave: PropTypes.func,\n  readOnly: PropTypes.bool.isRequired,\n  value: PropTypes.any,\n  theme: PropTypes.string\n}\n\nRebooEditor.defaultProps = {\n  readOnly: false\n}\n\nexport default RebooEditor\n\nexport { default as createEditorContent } from './create-editor-content'\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-draft-js/styles.scss\n// module id = ./components/editor-draft-js/styles.scss\n// module chunks = 0","//\n// Toolbar\n//\nexport { default as WYSIHTMLToolbar } from './wysihtml-toolbar'\nexport { default as WYSIHTMLToolbarColorPicker } from './wysihtml-toolbar-color-picker'\nexport { default as WYSIHTMLToolbarCreateLink } from './wysihtml-toolbar-create-link'\nexport { default as WYSIHTMLToolbarInsertHTML } from './wysihtml-toolbar-insert-html'\nexport { default as WYSIHTMLToolbarInsertImage } from './wysihtml-toolbar-insert-image'\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/index.js","import React from 'react'\n\nimport { ColorPicker } from '~client/components/color-picker'\n\nif (require('exenv').canUseDOM) require('./wysihtml-toolbar-color-picker.scss')\n\nclass WYSIHTMLToolbarColorPicker extends React.Component {\n  constructor () {\n    super()\n    this.state = { color: '#000000' }\n  }\n  handleChange ({ hex }) {\n    this.setState({ color: hex })\n  }\n\n  render () {\n    return (\n      <div\n        data-wysihtml5-dialog='foreColorStyle'\n        style={{ display: 'none', top: '36px', right: '105px' }}\n        className='white p2 absolute'\n      >\n        <input\n          type='text'\n          data-wysihtml5-dialog-field='color'\n          value={this.state.color}\n          onChange={::this.handleChange}\n          className='hide'\n        />\n        <ColorPicker\n          onChangeColor={::this.handleChange}\n          color={this.state.color}\n        />\n\n        <div className='save-button bg-atomic p1'>\n          <a\n            data-wysihtml5-dialog-action='save'\n            className='btn block center bg-aqua caps rounded'\n          >\n            Aplicar cor\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WYSIHTMLToolbarColorPicker\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar-color-picker.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-wysihtml/wysihtml-toolbar-color-picker.scss\n// module id = ./components/editor-wysihtml/wysihtml-toolbar-color-picker.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\n\n//\n// The content widget module it is not the perfect module to provide these actions.\n// Needs to refact to more abstract component like global reusable components module.\n//\nimport * as ContentActions from '~client/mobilizations/widgets/__plugins__/content/action-creators'\n\n// You may will see the warning below:\n// Warning: Stateless function components cannot be given refs (See ref \"wrappedInstance\" in\n// WYSIHTMLToolbarCreateLink created by Connect(WYSIHTMLToolbarCreateLink)). Attempts to\n// access this ref will fail.\n//\n// Upgrade React Redux to version 4 will should go away this warning.\n// See: https://github.com/reactjs/react-redux/issues/141#issuecomment-148358733\n\nexport const WYSIHTMLToolbarCreateLink = ({ editorLinkTargetType, setEditorLinkTargetType }) => (\n  <div\n    data-wysihtml5-dialog='createLink'\n    className='white p2 bg-darken-3'\n    style={{ display: 'none' }}\n  >\n    <input\n      type='text'\n      data-wysihtml5-dialog-field='href'\n      defaultValue='http://'\n      className='input mr1'\n    />\n    <a data-wysihtml5-dialog-action='save' className='btn btn-outline'>\n      Inserir\n    </a>\n    <span className='ml2'>\n      <input\n        type='checkbox'\n        name='editorLinkTargetType'\n        onChange={e => setEditorLinkTargetType(e.target.checked ? '_blank' : '_self')}\n        value={editorLinkTargetType}\n        data-wysihtml5-dialog-field='target'\n      />\n      <label htmlFor='editorLinkTargetType'>\n        Abrir link em nova aba\n      </label>\n    </span>\n  </div>\n)\n\nWYSIHTMLToolbarCreateLink.propTypes = {\n  editorLinkTargetType: PropTypes.string.isRequired\n}\n// TODO: Replace by selectors\nconst mapStateToProps = state => ({\n  editorLinkTargetType: state.mobilizations.plugins.content.editorLinkTargetType\n})\n\nexport default connect(mapStateToProps, ContentActions)(WYSIHTMLToolbarCreateLink)\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar-create-link.js","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nclass WYSIHTMLToolbarInsertHTML extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = { insertHTMLContent: null }\n  }\n\n  handleInsertHTMLChange (e) {\n    this.setState({ insertHTMLContent: e.target.value })\n  }\n\n  handleInsertHTMLClick () {\n    // When the insert button is pressed, the insertHTML dialog is not being closed. So we are forcing it\n    // by simulating a click in the cancel button\n    ReactDOM.findDOMNode(this.refs.cancelButton).click()\n  }\n\n  render () {\n    return (\n      <div\n        data-wysihtml5-dialog='insertHTMLForm'\n        style={{ display: 'none' }}\n        className='white p2 bg-darken-3'\n      >\n        <label className='col mr1' htmlFor='embed' style={{ lineHeight: '40px' }}>\n          Incorporar\n        </label>\n        <input\n          type='text'\n          name='embed'\n          className='input mr2 ml1 col col-7'\n          value={this.state.insertHTMLContent}\n          onChange={::this.handleInsertHTMLChange}\n        />\n        <a\n          data-wysihtml5-command='insertHTML'\n          data-wysihtml5-command-value={this.state.insertHTMLContent}\n          onClick={::this.handleInsertHTMLClick}\n          className='btn btn-outline mr1'>\n          Inserir\n        </a>\n        <a\n          ref='cancelButton'\n          data-wysihtml5-dialog-action='cancel'\n          className='btn btn-transparent'>\n          Cancelar\n        </a>\n      </div>\n    )\n  }\n}\n\nexport default WYSIHTMLToolbarInsertHTML\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar-insert-html.js","import React from 'react'\nimport ReactS3Uploader from 'react-s3-uploader'\n\nclass WYSIHTMLToolbarInsertImage extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      image: null,\n      isLoading: false\n    }\n  }\n\n  handleUploadProgress () {\n    this.setState({ isLoading: true })\n  }\n\n  handleUploadError () {\n    this.setState({ isLoading: false })\n  }\n\n  handleUploadFinish (e) {\n    this.setState({\n      image: e.signedUrl.substring(0, e.signedUrl.indexOf('?')),\n      isLoading: false\n    })\n  }\n\n  render () {\n    return (\n      <div\n        data-wysihtml5-dialog='insertImage'\n        style={{ display: 'none' }}\n        className='white p2 bg-darken-3'\n      >\n        <div>\n          <ReactS3Uploader\n            className='input col-11 inline-block'\n            signingUrl={`${process.env.API_URL}/uploads`}\n            accept='image/*'\n            onProgress={::this.handleUploadProgress}\n            onError={::this.handleUploadError}\n            onFinish={::this.handleUploadFinish}\n          />\n          <div\n            className='col-1 center'\n            style={{ display: this.state.isLoading ? 'inline-block' : 'none' }}\n          >\n            <i className='fa fa-refresh fa-spin fa-w white' />\n          </div>\n        </div>\n\n        <input data-wysihtml5-dialog-field='src' value={this.state.image} type='hidden' />\n        <label>\n          <span className='mr1'>Alinhamento</span>\n          <select\n            data-wysihtml5-dialog-field='className'\n            className='select inline-block col-2 mr2 mb0'\n          >\n            <option value='' />\n            <option value='left'>Esquerda</option>\n            <option value='right'>Direita</option>\n          </select>\n        </label>\n        <a data-wysihtml5-dialog-action='save' className='btn btn-outline white mr1'>Inserir</a>\n        <a data-wysihtml5-dialog-action='cancel' className='btn btn-transparent white'>Cancelar</a>\n      </div>\n    )\n  }\n}\n\nexport default WYSIHTMLToolbarInsertImage\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar-insert-image.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nimport WYSIHTMLToolbarInsertImage from './wysihtml-toolbar-insert-image'\nimport WYSIHTMLToolbarInsertHTML from './wysihtml-toolbar-insert-html'\nimport WYSIHTMLToolbarCreateLink from './wysihtml-toolbar-create-link'\nimport WYSIHTMLToolbarColorPicker from './wysihtml-toolbar-color-picker'\n\nimport { DropdownMenu, DropdownMenuItem } from '~client/components/dropdown-menu'\n\nconst renderFontsizeDropdownMenuItem = (size, className) => (\n  <DropdownMenuItem>\n    <span\n      className={classnames('block button button-transparent white p2', className)}\n      data-wysihtml5-command='fontSize'\n      data-wysihtml5-command-value={className}\n    >\n      {size}\n    </span>\n  </DropdownMenuItem>\n)\n\nclass WYSIHTMLToolbar extends React.Component {\n  render () {\n    const { elementId, className, style, buttonClassName } = this.props\n\n    return (\n      <div id={elementId} className={className} style={style}>\n        <a data-wysihtml5-command='createLink' className={buttonClassName}>\n          <i className='fa fa-link' />\n        </a>\n        <a data-wysihtml5-command='removeLink' className={buttonClassName}>\n          <i className='fa fa-unlink' />\n        </a>\n        <a data-wysihtml5-command='insertImage' className={buttonClassName}>\n          <i className='fa fa-image' />\n        </a>\n        <a data-wysihtml5-command='insertHTMLForm' className={buttonClassName}>\n          <i className='fa fa-code' />\n        </a>\n        <a data-wysihtml5-command='insertUnorderedList' className={buttonClassName}>\n          <i className='fa fa-list-ul' />\n        </a>\n        <a data-wysihtml5-command='insertOrderedList' className={buttonClassName}>\n          <i className='fa fa-list-ol' />\n        </a>\n        <a data-wysihtml5-command='alignLeftStyle' className={buttonClassName}>\n          <i className='fa fa-align-left' />\n        </a>\n        <a data-wysihtml5-command='alignCenterStyle' className={buttonClassName}>\n          <i className='fa fa-align-center' />\n        </a>\n        <a data-wysihtml5-command='alignRightStyle' className={buttonClassName}>\n          <i className='fa fa-align-right regular' />\n        </a>\n        <a data-wysihtml5-command='undo' className={buttonClassName}>\n          <i className='fa fa-undo regular' />\n        </a>\n        <a data-wysihtml5-command='redo' className={buttonClassName}>\n          <i className='fa fa-repeat regular' />\n        </a>\n        <a data-wysihtml5-command='bold' className={buttonClassName}>\n          <i className='fa fa-bold' />\n        </a>\n        <a data-wysihtml5-command='italic' className={buttonClassName}>\n          <i className='fa fa-italic' />\n        </a>\n        <DropdownMenu\n          icon='text-height'\n          wrapperClassName='inline'\n          buttonClassName='btn btn-transparent white p2'\n          menuClassName='bg-darken-4 left-0'\n        >\n          {renderFontsizeDropdownMenuItem(8, 'h6')}\n          {renderFontsizeDropdownMenuItem(16, 'h5')}\n          {renderFontsizeDropdownMenuItem(24, 'h4')}\n          {renderFontsizeDropdownMenuItem(48, 'h3')}\n          {renderFontsizeDropdownMenuItem(72, 'h2')}\n          {renderFontsizeDropdownMenuItem(80, 'h1')}\n        </DropdownMenu>\n        <a data-wysihtml5-command='foreColorStyle' className={buttonClassName}>\n          <i className='fa fa-eyedropper' />\n        </a>\n        <WYSIHTMLToolbarInsertImage />\n        <WYSIHTMLToolbarCreateLink />\n        <WYSIHTMLToolbarInsertHTML />\n        <WYSIHTMLToolbarColorPicker />\n      </div>\n    )\n  }\n}\n\nWYSIHTMLToolbar.propTypes = {\n  elementId: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  buttonClassName: PropTypes.string\n}\n\nexport default WYSIHTMLToolbar\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar.js","export { default as ZendeskWidget } from './zendesk-widget'\nexport { default as Pagarme } from './pagarme'\n\n\n\n// WEBPACK FOOTER //\n// ./components/external-services/index.js","import React, { Component } from 'react'\nimport exenv from 'exenv'\n\nclass Pagarme extends Component {\n  componentWillMount () {\n    if (exenv.canUseDOM) {\n      const script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.src = 'https://assets.pagar.me/js/pagarme.js'\n      script.async = true\n      document.body.appendChild(script)\n    }\n  }\n\n  render () {\n    return <span />\n  }\n}\n\nexport default Pagarme\n\n\n\n// WEBPACK FOOTER //\n// ./components/external-services/pagarme.js","import React, { Component } from 'react'\nimport exenv from 'exenv'\n\nclass ZendeskWidget extends Component {\n  componentWillMount () {\n    if (exenv.canUseDOM) {\n      const script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.text = `\nwindow.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement(\"iframe\");\nwindow.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,\nr.src=\"javascript:false\",r.title=\"\",r.role=\"presentation\",(r.frameElement||r).style\n.cssText=\"display: none\",d=document.getElementsByTagName(\"script\"),d=d[d.length-1],d.parentNode\n.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(e){n=document.domain,r\n.src='javascript:var d=document.open();d.domain=\"'+n+'\";void(0);',o=s}o.open()._l=function(){\nvar o=this.createElement(\"script\");n&&(this.domain=n),o.id=\"js-iframe-async\",o.src=e,\nthis.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write(\n'<body onload=\"document._l();\">'),o.close()}(\n\"https://assets.zendesk.com/embeddable_framework/main.js\",\"nossas.zendesk.com\")`\n      document.body.appendChild(script)\n    }\n  }\n\n  render () {\n    return <span />\n  }\n}\n\nexport default ZendeskWidget\n\n\n\n// WEBPACK FOOTER //\n// ./components/external-services/zendesk-widget.js","export const FILTERABLE_SEARCH_BAR_SET_LIST = 'FILTERABLE_SEARCH_BAR_SET_LIST'\nexport const setFilterableSearchBarList = list => ({ type: FILTERABLE_SEARCH_BAR_SET_LIST, list })\n\n\n\n// WEBPACK FOOTER //\n// ./components/filterable-search-bar/actions.js","import { FILTERABLE_SEARCH_BAR_SET_LIST } from './actions'\n\nexport const initialState = {\n  list: []\n}\n\n//\n// @todo: Make this reducer reusable, accepting a parameter with a prefix of\n//        action to differs each other. For now, it will be used only inside\n//        mobilization's templates reducers.\n//\nconst FilterableSearchBarReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case FILTERABLE_SEARCH_BAR_SET_LIST:\n      return { ...state, list: action.list }\n    default:\n      return state\n  }\n}\n\nexport default FilterableSearchBarReducer\n\n\n\n// WEBPACK FOOTER //\n// ./components/filterable-search-bar/reducers.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst Error = ({ message, classes, styles }) => (\n  <div\n    className={classnames('p1 border-left border-red mb1 rounded-right red bold', classes)}\n    style={{ ...styles }}>\n    {message}\n  </div>\n)\n\nError.propTypes = {\n  message: PropTypes.string.isRequired,\n  classes: PropTypes.array,\n  styles: PropTypes.object\n}\n\nError.defaultProps = {\n  classes: [],\n  styles: { backgroundColor: '#f9cace', borderWidth: '8px' }\n}\n\nexport default Error\n\n\n\n// WEBPACK FOOTER //\n// ./components/form-util/error.js","export { default as Error } from './error'\nexport { default as Input } from './input'\nexport { default as InputCounter } from './input-counter'\n\n\n\n// WEBPACK FOOTER //\n// ./components/form-util/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst InputCounter = ({ maxLength, length, className }) => {\n  const diff = maxLength - length\n\n  return (\n    <span className={classnames(className, { red: diff < 11 })}>\n      {diff}\n    </span>\n  )\n}\n\nInputCounter.propTypes = {\n  maxLength: PropTypes.number.isRequired,\n  length: PropTypes.number,\n  className: PropTypes.oneOfType([PropTypes.array, PropTypes.string])\n}\n\nexport default InputCounter\n\n\n\n// WEBPACK FOOTER //\n// ./components/form-util/input-counter.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst Input = ({ uid, type, label, placeholder, onChange, required, show, classes }) => (\n  <div className='mb2 form-group' style={{ display: !show ? 'none' : 'block' }}>\n    <label\n      className='caps bold mb1 inline-block white'\n      style={{\n        fontSize: '.75rem',\n        fontWeight: 600,\n        marginBottom: '1rem',\n        color: 'white'\n      }}\n    >\n      {label}{required ? ' *' : ''}\n    </label>\n    <input\n      id={'input-' + uid}\n      className={classnames('input block border border-gray94', classes)}\n      onChange={onChange}\n      placeholder={placeholder}\n      type={type}\n      required={required}\n    />\n  </div>\n)\n\nInput.propTypes = {\n  uid: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  required: PropTypes.bool,\n  show: PropTypes.bool,\n  classes: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}\n\nInput.defaultProps = {\n  onChange: () => {},\n  required: false,\n  show: true,\n  classes: []\n}\n\nexport default Input\n\n\n\n// WEBPACK FOOTER //\n// ./components/form-util/input.js","import React from 'react'\n\nconst Button = ({ children, type, className, pristine, submitting }) => (\n  <button\n    type={type}\n    className={className}\n    disabled={type === 'submit' ? pristine || submitting : false}\n  >\n    {children}\n  </button>\n)\n\nButton.defaultProps = {\n  type: 'button'\n}\n\nexport default Button\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/button.js","import React from 'react'\n\nexport const cloneElement = (children, props) => {\n  if (children.length > 1) {\n    return children.map(child => React.cloneElement(child, props))\n  }\n  return React.cloneElement(children, props)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/clone-element.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\nimport ColorPickerTheme from '~client/components/color-picker'\n\nclass ColorPicker extends Component {\n  getRGBA (color) {\n    if (typeof color === 'object') {\n      const { rgb: { r, g, b, a } } = color\n      return `rgba(${r},${g},${b},${a})`\n    } else if (typeof color === 'string') {\n      const regex = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/\n      const rgba = color.match(regex)\n      if (rgba) {\n        return { r: rgba[1], g: rgba[2], b: rgba[3], a: rgba[4] }\n      }\n    }\n    return color\n  }\n\n  render () {\n    const formGroup = this.context.$formGroup\n    const { value, onChange } = formGroup || {}\n    const { className, ...props } = this.props\n\n    return (\n      <div className={classnames('mt1 mb3', className)}>\n        <ColorPickerTheme\n          {...props}\n          onChangeColor={color => onChange(this.getRGBA(color))}\n          color={this.getRGBA(value)}\n        />\n      </div>\n    )\n  }\n}\n\nColorPicker.contextTypes = {\n  $formGroup: PropTypes.object\n}\n\nColorPicker.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  theme: PropTypes.string,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}\n\nexport default ColorPicker\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/color-picker.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { FormattedMessage, intlShape, injectIntl } from 'react-intl'\nimport classnames from 'classnames'\n\nexport class ControlButtons extends Component {\n  render () {\n    const { $formRedux: { floatButton, successMessage } } = this.context\n    const { onCancel, submitting, submitted, dirty, formInline, valid, intl } = this.props\n    return (\n      <div className={classnames(\n          'control-buttons',\n          formInline ? 'inline-block ml1' : 'flex flex-wrap mt1'\n      )}>\n        {onCancel && (\n          <div className='col-5 col mt1 mb2 px2'>\n            <button\n              className='btn h3 white p2 rounded bg-gray col-12'\n              onClick={onCancel}\n            >\n              <FormattedMessage\n                id='components--control-buttons.cancel'\n                defaultMessage='Voltar'\n              />\n            </button>\n          </div>\n        )}\n        <div className={classnames(\n          onCancel ? 'col-7' : 'col-12',\n          'col mt1 mb2 px2'\n        )}>\n          <input\n            type='submit'\n            className={classnames(\n              'btn h3 white p2 rounded col-12',\n              !valid ? 'bg-gray95' : 'bg-pagenta'\n            )}\n            disabled={!valid || submitting || !dirty}\n            value={(submitting\n              ? intl.formatMessage({\n                id: 'components--control-buttons.input.value.saving',\n                defaultMessage: 'Salvando...'\n              })\n              : floatButton || intl.formatMessage({\n                id: 'components--control-buttons.input.value.default',\n                defaultMessage: 'Continuar'\n              })\n            )}\n          />\n        </div>\n        {submitted && !!successMessage && (\n          <div className='success-message olive h4 px2 mt2'>\n            {successMessage}\n            <i className='fa fa-check-circle olive' />\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nControlButtons.contextTypes = {\n  $formRedux: PropTypes.object\n}\n\nControlButtons.propTypes = {\n  submitting: PropTypes.bool,\n  submitted: PropTypes.bool.isRequired,\n  dirty: PropTypes.bool,\n  valid: PropTypes.bool,\n  formInline: PropTypes.bool.isRequired,\n  intl: intlShape.isRequired\n}\n\nControlButtons.defaultProps = {\n  formInline: false\n}\n\nexport default injectIntl(ControlButtons)\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/control-buttons.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\n// Global module dependencies\nimport { InputCounter } from '~client/components/form-util'\n\n// Current module dependencies\nimport { Raise } from '~client/components/forms'\n\nclass ControlLabel extends Component {\n  render () {\n    const formGroup = this.context.$formGroup\n    const controlId = formGroup && formGroup.controlId\n    const error = formGroup && formGroup.error\n    const touched = formGroup && formGroup.touched\n\n    const { children, htmlFor = controlId, className, maxLength, hideError, ...props } = this.props\n\n    return (\n      <label style={{ cursor: 'pointer' }} htmlFor={htmlFor} {...props}>\n        <span className={classnames('caps', className)}>{children}</span>\n        {!maxLength ? null : (\n          <InputCounter\n            className='right regular'\n            maxLength={maxLength}\n            length={formGroup.value ? formGroup.value.length : 0}\n          />\n        )}\n        {error && touched && !hideError && <Raise error={error} />}\n      </label>\n    )\n  }\n}\n\nControlLabel.contextTypes = {\n  $formGroup: PropTypes.object\n}\n\nControlLabel.propTypes = {\n  htmlFor: PropTypes.string\n}\n\nexport default ControlLabel\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/control-label.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nimport { ControlButtons } from './'\n\nconst tagsShouldCleanup = ['input', 'textarea', 'select']\n\nclass FormControl extends Component {\n  render () {\n    const {\n      componentClass: Component,\n      containerClassName,\n      className,\n      style,\n      submitted,\n      addonText,\n      children,\n      content,\n      ...props\n    } = this.props\n    const {\n      $formRedux: { formInline, submitting, dirty },\n      $formGroup: { controlId, ...field }\n    } = this.context\n\n    const fieldProps = Object.assign({}, field)\n    if (tagsShouldCleanup.indexOf(Component) !== -1) {\n      delete fieldProps.layout\n      delete fieldProps.error\n      delete fieldProps.touched\n      delete fieldProps.valid\n    }\n\n    return (\n      <div className={classnames(\n        containerClassName,\n        addonText !== undefined ? 'input-group' : ''\n      )}>\n        <Component\n          {...props}\n          {...fieldProps}\n          id={controlId}\n          className={classnames(\n            'form-control-input block lightestgray',\n            Component,\n            formInline ? 'inline-block' : '',\n            addonText !== undefined ? 'form-control-input-addon' : '',\n            className\n          )}\n          style={style}\n        >\n          {children}\n        </Component>\n        {addonText && <span className='text-addon'>{addonText}</span>}\n        {content}\n        {formInline && (\n          <ControlButtons {...{ submitted, submitting, dirty, showCancel: false, formInline }} />\n        )}\n      </div>\n    )\n  }\n}\n\nFormControl.contextTypes = {\n  $formRedux: PropTypes.shape({\n    formInline: PropTypes.bool,\n    submitting: PropTypes.bool,\n    dirty: PropTypes.bool\n  }),\n  $formGroup: PropTypes.shape({\n    controlId: PropTypes.string\n  })\n}\n\nFormControl.propTypes = {\n  submitted: PropTypes.bool.isRequired,\n  componentClass: PropTypes.string.isRequired,\n  style: PropTypes.object\n}\n\nFormControl.defaultProps = {\n  componentClass: 'input',\n  submitted: false\n}\n\nexport default FormControl\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-control.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass FormDropdown extends Component {\n  render () {\n    const formGroup = this.context.$formGroup\n    const { controlId, ...field } = formGroup || {}\n    const { className, children, ...props } = this.props\n\n    delete field.layout\n    delete field.error\n    delete field.touched\n    delete field.valid\n\n    return (\n      <select\n        id={controlId}\n        className={classnames('select col-12', className)}\n        {...field}\n        {...props}\n      >\n        {!!children && children}\n      </select>\n    )\n  }\n}\n\nFormDropdown.contextTypes = {\n  $formGroup: PropTypes.object\n}\n\nFormDropdown.propTypes = {\n  id: PropTypes.string,\n  className: PropTypes.oneOfType([PropTypes.array, PropTypes.string])\n}\n\nexport default FormDropdown\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-dropdown.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass FormError extends Component {\n  render () {\n    const { $formRedux: { error } } = this.context\n    const { className } = this.props\n\n    return !error ? null : (\n      <div className={classnames('h5 white bold center animated shake', className)}>\n        {error}\n      </div>\n    )\n  }\n}\n\nFormError.contextTypes = {\n  $formRedux: PropTypes.object\n}\n\nFormError.propTypes = {\n  className: PropTypes.string\n}\n\nexport default FormError\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-error.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass FormGroup extends Component {\n  getChildContext () {\n    const { controlId, layout, value, onChange, onBlur, error, touched, valid } = this.props\n    return {\n      $formGroup: { controlId, layout, value, onChange, onBlur, error, touched, valid }\n    }\n  }\n\n  render () {\n    const { children, className, layout, style } = this.props\n    const styleGroup = layout === 'inline' ? { paddingRight: '1rem' } : {}\n\n    return (\n      <div\n        className={classnames('form-group', className)}\n        style={Object.assign(styleGroup, style)}\n      >\n        {children}\n      </div>\n    )\n  }\n}\n\nFormGroup.contextTypes = {\n  $formRedux: PropTypes.object\n}\n\nFormGroup.propTypes = {\n  controlId: PropTypes.string,\n  className: PropTypes.string,\n  error: PropTypes.string,\n  touched: PropTypes.bool,\n  layout: PropTypes.oneOf(['inline', 'block'])\n}\n\nFormGroup.defaultProps = {\n  layout: 'block'\n}\n\nFormGroup.childContextTypes = {\n  $formGroup: PropTypes.object.isRequired\n}\n\nexport default FormGroup\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-group.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\n// Current module dependencies\nimport { ControlButtons } from '../'\nif (require('exenv').canUseDOM) require('./index.scss')\n\nclass FormRedux extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { submitted: false }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { onFinishSubmit, submitting, forceFinishSubmit } = this.props\n    const naturalSubmitTransition = (\n      submitting &&\n      !nextProps.submitting &&\n      !nextProps.submitFailed\n    )\n    const forcedSubmitTransition = !forceFinishSubmit && nextProps.forceFinishSubmit\n\n    if (naturalSubmitTransition || forcedSubmitTransition) {\n      this.setState({ submitted: true })\n      onFinishSubmit && onFinishSubmit()\n    }\n  }\n\n  getChildContext () {\n    const { inline, floatButton, successMessage, ...rest } = this.props\n    return {\n      $formRedux: {\n        ...rest,\n        formInline: inline,\n        floatButton,\n        successMessage,\n        submitted: this.state.submitted\n      }\n    }\n  }\n\n  render () {\n    const {\n      children,\n      onSubmit,\n      submit,\n      handleSubmit,\n      submitting,\n      dirty,\n      valid,\n      inline,\n      className,\n      floatButton,\n      nosubmit,\n      style,\n      onCancel\n    } = this.props\n    const { submitted } = this.state\n\n    return (\n      <form\n        style={style}\n        onSubmit={handleSubmit(submit || onSubmit)}\n        className={classnames(\n          'form-redux form',\n          floatButton ? 'btn-float' : null,\n          className || 'transparent'\n        )}\n      >\n        {children}\n        {!inline && !nosubmit && <ControlButtons {...{ submitted, submitting, dirty, valid, onCancel }} />}\n      </form>\n    )\n  }\n}\n\nFormRedux.propTypes = {\n  className: PropTypes.string,\n  onSubmit: PropTypes.func,\n  submit: PropTypes.func,\n  // redux-form props\n  handleSubmit: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired,\n  submitFailed: PropTypes.bool.isRequired,\n  dirty: PropTypes.bool.isRequired,\n  valid: PropTypes.bool.isRequired,\n  inline: PropTypes.bool.isRequired,\n  floatButton: PropTypes.string.isRequired,\n  successMessage: PropTypes.string\n}\n\nFormRedux.defaultProps = {\n  submitting: false,\n  inline: false,\n  className: '',\n  floatButton: ''\n}\n\nFormRedux.childContextTypes = {\n  $formRedux: PropTypes.object.isRequired\n}\n\nexport default FormRedux\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-redux/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/forms/form-redux/index.scss\n// module id = ./components/forms/form-redux/index.scss\n// module chunks = 0","import React from 'react'\nimport { cloneElement } from './clone-element'\n\nconst Form = ({ children, handleSubmit, pristine, submitting }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      {children && cloneElement(children, { pristine, submitting })}\n    </form>\n  )\n}\n\nexport default Form\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst HelpBlock = ({ children, className }) => (\n  <div className={classnames('muted my2', className)}>\n    <small className='block'>\n      <dfn>{children}</dfn>\n    </small>\n  </div>\n)\n\nHelpBlock.propTypes = {\n  className: PropTypes.string\n}\n\nexport default HelpBlock\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/help-block.js","export { default as ColorPicker } from './color-picker'\nexport { default as ControlButtons } from './control-buttons'\nexport { default as ControlLabel } from './control-label'\nexport { default as FormControl } from './form-control'\nexport { default as FormDropdown } from './form-dropdown'\nexport { default as FormError } from './form-error'\nexport { default as FormGroup } from './form-group'\nexport { default as FormRedux } from './form-redux'\nexport { default as HelpBlock } from './help-block'\nexport { default as Radio } from './radio'\nexport { default as RadioGroup } from './radio-group'\nexport { default as Raise } from './raise'\nexport { default as Input } from './input'\nexport { default as SuccessMessage } from './success-message'\nexport { default as UploadImageField } from './upload-image-field'\nexport { default as Form } from './form'\nexport { default as Button } from './button'\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/index.js","import React from 'react'\n\nconst Input = ({ input, label, placeholder, type, meta: { touched, error, warning } }) => (\n  <div>\n    {label && <label>{label}</label>}\n    <input {...input} type={type} placeholder={placeholder} />\n    {touched && ((error && <span>{error}</span>) || (warning && <span>{warning}</span>))}\n  </div>\n)\n\nexport default Input\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/input.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass RadioGroup extends Component {\n  render () {\n    const formGroup = this.context.$formGroup\n    const { value, ...field } = formGroup || {}\n    const { children, className, layout, style } = this.props\n\n    return (\n      <p className={classnames('mt1', className)} style={style}>\n        {children && children.map((child, index) => {\n          return React.cloneElement(child, {\n            key: `radio-${index}`,\n            checked: value,\n            alignment: layout,\n            ...field\n          })\n        })}\n      </p>\n    )\n  }\n}\n\nRadioGroup.contextTypes = {\n  $formGroup: PropTypes.object\n}\n\nRadioGroup.propTypes = {\n  layout: PropTypes.oneOf(['horizontal', 'vertical']),\n  style: PropTypes.object\n}\n\nRadioGroup.defaultProps = {\n  layout: 'horizontal'\n}\n\nexport default RadioGroup\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/radio-group.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass Radio extends Component {\n  render () {\n    const { children, alignment, className, checked, value, onChange } = this.props\n    const id = `radio-${value}-id`\n    const current = {\n      horizontal: { classes: 'pr2' },\n      vertical: { classes: 'block pb1' }\n    }[alignment]\n\n    const style = { cursor: 'pointer' }\n    if (alignment === 'vertical') {\n      style.display = 'block'\n    }\n\n    return (\n      <label\n        className={classnames('form-radio', className, current.classes)}\n        style={style}\n        htmlFor={id}\n      >\n        <input\n          type='radio'\n          id={id}\n          className='mr1'\n          value={value}\n          onChange={onChange}\n          checked={checked === value}\n        />\n        {children}\n      </label>\n    )\n  }\n}\n\nRadio.propTypes = {\n  checked: PropTypes.any,\n  alignment: PropTypes.oneOf(['horizontal', 'vertical'])\n}\n\nRadio.defaultProps = {\n  alignment: 'horizontal'\n}\n\nexport default Radio\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/radio.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst Raise = ({ className, error, componentClass, ...props }) => {\n  const Component = componentClass !== undefined ? componentClass : 'span'\n  return (\n    <Component className={classnames('red', className)} {...props}>{` - ${error}`}</Component>\n  )\n}\n\nRaise.propTypes = {\n  error: PropTypes.string.isRequired\n}\n\nexport default Raise\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/raise.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\nclass SuccessMessage extends Component {\n  render () {\n    const { $formRedux: { submitted } } = this.context\n    const { text } = this.props\n    return submitted ? (\n      <div className='success-message olive h4 mt2'>\n        {text}\n        <i className='fa fa-check-circle olive ml1' />\n      </div>\n    ) : <noscript />\n  }\n}\n\nSuccessMessage.contextTypes = {\n  $formRedux: PropTypes.object\n}\n\nSuccessMessage.propTypes = {\n  text: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]).isRequired\n}\n\nexport default SuccessMessage\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/success-message.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport ReactS3Uploader from 'react-s3-uploader'\n\nclass UploadImageField extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { loading: false }\n  }\n\n  onProgress () {\n    if (!this.state.loading) {\n      this.setState({ loading: true })\n    }\n  }\n\n  onError () {\n    this.setState({ loading: false })\n  }\n\n  onFinish (image) {\n    this.setState({ loading: false })\n    const { $formGroup: { onChange } } = this.context\n    const e = {\n      value: image.signedUrl.substring(0, image.signedUrl.indexOf('?'))\n    }\n    onChange(e)\n  }\n\n  onClick () {\n    ReactDOM.findDOMNode(this.refs.inputFile).click()\n  }\n\n  render () {\n    const { loading } = this.state\n    const { className, signingUrl, theme } = this.props\n    const { $formGroup: { value } } = this.context\n\n    let content = (<i className='fa fa-image' />)\n    if (loading) {\n      content = <i className='fa fa-circle-o-notch fa-spin fa-w' />\n    } else if (value) {\n      content = <img src={value} role='presentation' />\n    }\n\n    if (theme === 'icon') {\n      return (\n        <div className='upload-image-file'>\n          <button\n            type='button'\n            disabled={loading}\n            className={className}\n            onClick={this.onClick.bind(this)}\n          >\n            {content}\n          </button>\n          <ReactS3Uploader\n            signingUrl={signingUrl}\n            accept='image/*'\n            onProgress={this.onProgress.bind(this)}\n            onError={this.onError.bind(this)}\n            onFinish={this.onFinish.bind(this)}\n            ref='inputFile'\n          />\n        </div>\n      )\n    }\n    // if theme === 'classic'\n    return loading ? <i className='fa fa-spin fa-refresh' /> : (\n      <ReactS3Uploader\n        signingUrl={signingUrl}\n        accept='image/*'\n        onProgress={this.onProgress.bind(this)}\n        onError={this.onError.bind(this)}\n        onFinish={this.onFinish.bind(this)}\n        ref='inputFile'\n        className='border-none bg-darken-4 rounded p1 white'\n        style={{\n          position: 'absolute',\n          left: '50%',\n          bottom: '1rem',\n          width: '80%',\n          marginLeft: '-40%'\n        }}\n      />\n    )\n  }\n}\n\nUploadImageField.contextTypes = {\n  $formGroup: PropTypes.shape({\n    value: PropTypes.any,\n    onChange: PropTypes.func.isRequired\n  })\n}\n\nUploadImageField.propTypes = {\n  className: PropTypes.string,\n  signingUrl: PropTypes.string.isRequired,\n  theme: PropTypes.oneOf(['classic', 'icon'])\n}\n\nUploadImageField.defaultProps = {\n  theme: 'icon'\n}\n\nexport default UploadImageField\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/upload-image-field.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) require('./index.scss')\n\nconst Background = ({ children, contentSize, image, alignment }) => {\n  const flexAlignments = {\n    center: 'center',\n    'top': 'flex-start',\n    'bottom': 'flex-end'\n  }\n  const justifyContent = flexAlignments[alignment.x]\n  const alignItems = flexAlignments[alignment.y]\n\n  const bgStyle = {\n    backgroundImage: image ? `url('${image}')` : undefined,\n    overflow: 'auto',\n    alignItems,\n    justifyContent\n  }\n\n  return (\n    <div\n      className='bg-reboo bg-center bg-cover absolute top-0 right-0 bottom-0 left-0'\n      style={bgStyle}\n    >\n      <div className={classnames(`content col-${contentSize}`)}>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nBackground.propTypes = {\n  contentSize: PropTypes.number,\n  image: PropTypes.string,\n  alignment: PropTypes.shape({\n    x: PropTypes.string,\n    y: PropTypes.string\n  }).isRequired\n}\n\nBackground.defaultProps = {\n  contentSize: 3,\n  alignment: { x: 'center', y: 'center' }\n}\n\nexport const BondeBackground = ({ children, ...props }) => (\n  <Background\n    image={require('exenv').canUseDOM ? require('~client/images/bg-login.png') : ''}\n    contentSize={12}\n    {...props}\n  >\n    {children}\n  </Background>\n)\n\nexport default Background\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/background/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/layout/background/index.scss\n// module id = ./components/layout/background/index.scss\n// module chunks = 0","export { default as SettingsPageLayout } from './settings-page-layout'\nexport { default as SettingsPageContentLayout } from './settings-page-content-layout'\nexport { default as SettingsPageMenuLayout } from './settings-page-menu-layout'\nexport { default as Background } from './background'\n\nexport * from './page-centralized-layout'\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/index.js","export { default as PageCentralizedLayout } from './page'\nexport { default as PageCentralizedLayoutTitle } from './title'\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/page-centralized-layout/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport {\n  SettingsPageLayout,\n  SettingsPageContentLayout\n} from '~client/components/layout'\n\nif (require('exenv').canUseDOM) require('./page.scss')\n\nconst PageCentralizedLayout = ({ children }) => {\n  return (\n    <SettingsPageLayout className='page-centralized-layout'>\n      <SettingsPageContentLayout\n        className='table col-12 full-height center'\n        wrapClassName='table-cell align-middle'\n      >\n        {children}\n      </SettingsPageContentLayout>\n    </SettingsPageLayout>\n  )\n}\n\nPageCentralizedLayout.propTypes = {\n  children: PropTypes.node\n}\n\nexport default PageCentralizedLayout\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/page-centralized-layout/page.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/layout/page-centralized-layout/page.scss\n// module id = ./components/layout/page-centralized-layout/page.scss\n// module chunks = 0","import React from 'react'\n\nconst PageCentralizedLayoutTitle = ({ children }) => (\n  <h2 className='h1 mt0 mb3'>\n    {children}\n  </h2>\n)\n\nexport default PageCentralizedLayoutTitle\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/page-centralized-layout/title.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst SettingsPageContentLayout = ({\n  children,\n  className,\n  containerClassName,\n  wrapClassName,\n  overflow\n}) => (\n  <div\n    className={classnames(\n      'settings-page-content-layout clearfix py3 pr4 pl3 border-box',\n      `overflow-${overflow}`,\n      className\n    )}\n  >\n    <div\n      className={classnames(\n        'settings-page-content-layout-container',\n        'clearfix',\n        containerClassName,\n        wrapClassName || 'md-col-12 lg-col-9'\n      )}\n    >\n      {children}\n    </div>\n  </div>\n)\n\nSettingsPageContentLayout.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  containerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  wrapClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}\n\nSettingsPageContentLayout.defaultProps = {\n  overflow: 'auto'\n}\n\nexport default SettingsPageContentLayout\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/settings-page-content-layout.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst SettingsPageLayout = ({ children, className }) => (\n  <div\n    className={classnames(\n      'settings-page-layout flex-auto flex flex-column bg-silver relative',\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nSettingsPageLayout.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}\n\nexport default SettingsPageLayout\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/settings-page-layout.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst SettingsPageMenuLayout = ({ children, title, className }) => (\n  <div\n    className={classnames(\n      'settings-page-menu-layout bg-white pt3 pr4 pl3 border-only-bottom border-gray94',\n      className\n    )}\n  >\n    <h1 className='h1 mt0 mb3'>{title}</h1>\n    {children}\n  </div>\n)\n\nSettingsPageMenuLayout.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  title: PropTypes.any.isRequired\n}\n\nexport default SettingsPageMenuLayout\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/settings-page-menu-layout.js","export { default as NavbarButton } from './navbar-button'\nexport { default as NavbarForm } from './navbar-form'\nexport { default as NavbarEditionWrapper } from './navbar-edition-wrapper'\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/navbar/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport $ from 'jquery'\n\nconst NavbarButton = props => {\n  const handleClick = e => {\n    e.preventDefault()\n    const { targetId, scrollableId } = props\n    const target = $(`#${targetId}`)\n    const scrollable = $(`#${scrollableId}`)\n    const yPosition = target.position().top + scrollable.scrollTop() - scrollable.position().top\n\n    scrollable.stop().animate({scrollTop: yPosition}, 500, () => {\n      window.location.hash = targetId\n    })\n  }\n\n  const {className, children, hidden} = props\n  return (\n    <a\n      className={classnames(className, 'navbar-button relative')}\n      onClick={handleClick}>\n      <span style={{ opacity: hidden ? '.25' : '1' }}>\n        {children}\n      </span>\n      {hidden && (\n        <div className='h2 absolute top-0 bottom-0 left-0 right-0 center flex flex-center'>\n          <i className='fa fa-eye-slash flex-auto' />\n        </div>\n      )}\n    </a>\n  )\n}\n\nNavbarButton.propTypes = {\n  targetId: PropTypes.string.isRequired,\n  scrollableId: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  children: PropTypes.string,\n  hidden: PropTypes.bool\n}\n\nexport default NavbarButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/navbar/navbar-button.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { injectIntl, intlShape } from 'react-intl'\nimport classnames from 'classnames'\n\nimport { NavbarButton, NavbarForm } from '~client/components/navigation/navbar'\n\nexport class NavbarEditionWrapper extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      isEditing: false,\n      isMouseOver: false\n    }\n  }\n\n  handleEditButtonClick () {\n    this.setState({\n      isEditing: true,\n      isMouseOver: false\n    })\n  }\n\n  handleHideButtonClick () {\n    this.refs.hideButton.blur()\n    const { blockUpdate, block } = this.props\n    blockUpdate({ ...block, menu_hidden: !block.menu_hidden })\n  }\n\n  handleCloseForm () {\n    this.setState({isEditing: false})\n  }\n\n  handleMouseOver () {\n    this.setState({isMouseOver: true})\n  }\n\n  handleMouseOut () {\n    this.setState({isMouseOver: false})\n  }\n\n  renderEditingButtons () {\n    const buttonsWrapperClassName = classnames(\n      'absolute z1 right-align full-width top-0',\n      { hide: this.state && !this.state.isMouseOver }\n    )\n\n    const editingButtonsStyle = {\n      width: '27px',\n      height: '27px',\n      padding: 0,\n      marginLeft: '4px',\n      marginTop: '4px'\n    }\n\n    const editingButtonsClassName = 'btn white bg-darken-4 circle'\n\n    const hideButtonClassName = classnames(\n      'fa',\n      {'fa-eye-slash': !this.props.block.menu_hidden},\n      {'fa-eye': this.props.block.menu_hidden}\n    )\n\n    return (\n      <div className='relative'>\n        <div className={buttonsWrapperClassName}>\n          <button\n            className={editingButtonsClassName}\n            style={editingButtonsStyle}\n            onClick={::this.handleEditButtonClick}\n          >\n            <i className='fa fa-pencil' />\n          </button>\n          <button\n            ref='hideButton'\n            className={editingButtonsClassName}\n            style={editingButtonsStyle}\n            onClick={::this.handleHideButtonClick}\n          >\n            <i className={hideButtonClassName} />\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  blockName (block) {\n    return block.name || this.props.intl.formatMessage({\n      id: 'components.navigation--navbar-edition-wrapper.block',\n      defaultMessage: 'Bloco {position}'\n    }, { position: block.position })\n  }\n\n  renderNavbarButton () {\n    const { block, className } = this.props\n\n    return (\n      <div\n        onMouseOver={::this.handleMouseOver}\n        onMouseOut={::this.handleMouseOut}>\n        <NavbarButton\n          targetId={'block-' + block.id}\n          scrollableId='blocks-list'\n          hidden={block.menu_hidden}\n          className={className}>\n          {this.blockName(block)}\n        </NavbarButton>\n        {this.props.editable && this.renderEditingButtons()}\n      </div>\n    )\n  }\n\n  renderNavbarForm () {\n    const { block } = this.props\n\n    return (\n      <NavbarForm\n        {...this.props}\n        defaultValue={this.blockName(block)}\n        handleCloseForm={::this.handleCloseForm}\n      />\n    )\n  }\n\n  render () {\n    return (\n      this.state.isEditing ? this.renderNavbarForm() : this.renderNavbarButton()\n    )\n  }\n}\n\nNavbarEditionWrapper.propTypes = {\n  block: PropTypes.object.isRequired,\n  dispatch: PropTypes.func,\n  auth: PropTypes.object,\n  className: PropTypes.string,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(NavbarEditionWrapper)\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/navbar/navbar-edition-wrapper.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nclass NavbarForm extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      name: props.defaultValue\n    }\n  }\n\n  componentDidMount () {\n    this.refs.nameInput.focus()\n    this.refs.nameInput.select()\n    window.addEventListener('keyup', this.handleKeyUp)\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp)\n  }\n\n  handleKeyUp (e) {\n    if (e.keyCode === 27) {\n      this.submit(e)\n    }\n  }\n\n  handleChangeName (e) {\n    this.setState({name: e.target.value})\n  }\n\n  submit (e) {\n    e.preventDefault()\n    const {\n      block,\n      blockUpdate,\n      handleCloseForm\n    } = this.props\n\n    blockUpdate({ ...block, name: this.state.name })\n    handleCloseForm()\n  }\n\n  render () {\n    return (\n      <form className='inline-block' onSubmit={::this.submit}>\n        <input\n          type='text'\n          ref='nameInput'\n          className='input z2 relative'\n          value={this.state.name}\n          onChange={::this.handleChangeName}\n        />\n        <div\n          className='fixed top-0 right-0 bottom-0 left-0 z1'\n          onClick={::this.submit} />\n      </form>\n    )\n  }\n}\n\nNavbarForm.propTypes = {\n  handleCloseForm: PropTypes.func.isRequired,\n  mobilization: PropTypes.object.isRequired,\n  block: PropTypes.object.isRequired,\n  blockUpdate: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string\n}\n\nexport default NavbarForm\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/navbar/navbar-form.js","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst LogoIconNoBorder = ({ size }) => (\n  <svg\n    xmlns='http://www.w3.org/2000/svg'\n    width={size}\n    height={size}\n    viewBox='0 0 180 180'\n  >\n    <g transform='matrix(1.66704 0 0 1.66704 -60 -60.6)'>\n      <g>\n        <g><path d='m 128.9,112.7 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.3 12.1,22.4 z M 78,63.8 l 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 0,0 -16.1,0 -16.1,0 z m 28.3,47.2 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 127.2,111.6 c 0,17.6 -14.3,29 -32,29 l -41.7,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.2,12.3 12.2,22.4 z m -51,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 125.4,110.5 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.3 12.1,22.4 z m -51,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.7,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 130.7,113.8 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.3 12.1,22.4 z m -51,-48.9 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 0,0 z m 28.3,47.2 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.7,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 123.6,109.4 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.4 12.1,22.4 z m -50.9,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 0,0 -16.1,0 -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 121.9,108.3 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99 38.7,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.4,4.6 12.2,12.3 12.2,22.3 z m -51,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 0,0 -16.1,0 -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-3.9 9.3,-9.5 z' /></g>\n        <g><path d='m 120.1,107.3 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.3 12.1,22.4 z m -51,-48.9 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 z m 28.4,47.2 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,-0.1 9.3,-4 9.3,-9.5 z' /></g>\n      </g>\n      <g><polygon points='57.9,144.4 58.8,140.6 47.5,133.4 46.5,132.8 46.5,136.3' /></g>\n      <g><polygon fill='#fff' points='58.8,110.8 58.8,106.8 47.5,99.6 46.5,99 46.5,102.7' /></g>\n      <g><polygon fill='#fff' points='58.8,103.9 58.8,90.8 47.5,83.6 46.5,83 46.5,96.2' /></g>\n      <g><polygon fill='#fff' points='46.5,37.2 51.8,37.2 66,44.3 59.8,44.3' /></g>\n      <g>\n        <path fill='#fcfafa' d='m 132.4,114.4 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.4 12.1,22.4 z m -50.9,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-4 9.3,-9.5 z' />\n        <path d='m 100.4,144.5 -42.6,0 0,-101.2 39.8,0 c 18.7,0 32.3,12.4 32.3,29.4 0,7.6 -2.8,14.3 -8,19.3 7.4,5.2 11.5,13.1 11.5,22.5 0.1,17.3 -13.8,30 -33,30 z m -40.5,-2.1 40.6,0 c 17.9,0 30.9,-11.8 30.9,-28 0,-9.1 -4.2,-16.7 -11.7,-21.5 l -1.2,-0.8 1.1,-0.9 c 5.4,-4.7 8.3,-11.1 8.3,-18.6 0,-15.8 -12.7,-27.3 -30.2,-27.3 l -37.8,0 0,97.1 z m 40.5,-19.1 -20,0 0,-21.1 20,0 c 6.1,0 10.4,4.3 10.4,10.5 0,6.2 -4.2,10.6 -10.4,10.6 z m -17.9,-2.2 17.9,0 c 5,0 8.3,-3.4 8.3,-8.4 0,-5 -3.3,-8.4 -8.3,-8.4 l -17.9,0 c 0,0 0,16.8 0,16.8 z m 15.1,-36.9 -17.2,0 0,-19.7 17.2,0 c 5.7,0 9.7,4 9.7,9.8 0,5.7 -4.1,9.9 -9.7,9.9 z m -15.1,-2.1 15.1,0 c 4.5,0 7.6,-3.2 7.6,-7.7 0,-4.6 -3,-7.7 -7.6,-7.7 l -15.1,0 0,15.4 z' />\n      </g>\n    </g>\n  </svg>\n)\n\nconst { oneOfType, string, number } = PropTypes\n\nLogoIconNoBorder.defaultProps = {\n  size: 45\n}\n\nLogoIconNoBorder.propTypes = {\n  size: oneOfType([string, number])\n}\n\nexport default LogoIconNoBorder\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/sidenav/logo-icon-no-border.js","export { default as Tabs } from './tabs'\nexport { default as Tab } from './tab'\nexport { default as TabBorder } from './tab-border'\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/tabs/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) {\n  require('./tab-border.scss')\n}\n\nconst TabBorder = ({ children, Component, path, className, isActive, style }) => {\n  const optionalProps = {}\n\n  if (path) optionalProps.to = path\n\n  return (\n    <Component\n      {...optionalProps}\n      className={classnames(\n        'tab components--tab-border',\n        { 'is-active': isActive },\n        className\n      )}\n      style={style}\n    >\n      {children}\n    </Component>\n  )\n}\n\nTabBorder.propTypes = {\n  children: PropTypes.node.isRequired,\n  Component: PropTypes.node.isRequired,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  path: PropTypes.string,\n  isActive: PropTypes.bool,\n  style: PropTypes.string\n}\n\nexport default TabBorder\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/tabs/tab-border.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/navigation/tabs/tab-border.scss\n// module id = ./components/navigation/tabs/tab-border.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) require('./tab.scss')\n\nclass Tab extends Component {\n  render () {\n    const { text, index, path, isActive, className, style } = this.props\n    if (path) {\n      return (\n        <Link\n          to={path}\n          className={classnames(\n            'tab btn border-only-bottom px0 py2 mr3 inline-block',\n            isActive ? 'h4 is-active' : null,\n            className\n          )}\n          style={style}\n        >\n          {text}\n        </Link>\n      )\n    }\n    return (\n      <span style={style} className={classnames(\n        'tab inline-block py2 mr2',\n        isActive ? 'bold black' : null,\n        className\n      )}>\n        <i className={classnames(\n          'circle center inline-block',\n          isActive ? 'bg-pagenta' : 'bg-gray94',\n        text ? 'mr2' : null\n        )}>\n          {index}\n        </i>\n        {text}\n      </span>\n    )\n  }\n}\n\nTab.propTypes = {\n  text: PropTypes.node,\n  isActive: PropTypes.bool,\n  path: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n  index: PropTypes.number\n}\n\nTab.defaultProps = {\n  isActive: false\n}\n\nexport default Tab\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/tabs/tab.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/navigation/tabs/tab.scss\n// module id = ./components/navigation/tabs/tab.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) {\n  require('./tabs.scss')\n}\n\nconst Tabs = ({ children, className, style }) => (\n  <nav\n    className={classnames('tabs gray20', className)}\n    style={style}\n  >\n    {children}\n  </nav>\n)\n\nTabs.propTypes = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  style: PropTypes.string\n}\n\nexport default Tabs\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/tabs/tabs.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/navigation/tabs/tabs.scss\n// module id = ./components/navigation/tabs/tabs.scss\n// module chunks = 0","export const SELECTABLE_LIST_SET_SELECTED_INDEX = 'SELECTABLE_LIST_SET_SELECTED_INDEX'\nexport const setSelectedIndex = index => ({ type: SELECTABLE_LIST_SET_SELECTED_INDEX, index })\n\n\n\n// WEBPACK FOOTER //\n// ./components/selectable-list/actions.js","import {\n  SELECTABLE_LIST_SET_SELECTED_INDEX\n} from './actions'\n\nexport const initialState = {}\n\n//\n// @todo: Make this reducer reusable, accepting a parameter with a prefix of\n//        action to differs each other. For now, it will be used only inside\n//        mobilization's templates reducers.\n//\nconst SelectableListReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case SELECTABLE_LIST_SET_SELECTED_INDEX:\n      return { ...state, selectedIndex: action.index }\n    default:\n      return state\n  }\n}\n\nexport default SelectableListReducer\n\n\n\n// WEBPACK FOOTER //\n// ./components/selectable-list/reducers.js","module.exports = __webpack_public_path__ + \"../static/images/check-mark-image.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/share/check-mark-image.png\n// module id = ./components/share/check-mark-image.png\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\n\nconst FacebookShareButton = ({ href, intl }) => {\n  const handleClick = () => {\n    window.open(\n      `http://www.facebook.com/sharer.php?u=${href}`,\n      intl.formatMessage({\n        id: 'share.components--facebook-share-button.text',\n        defaultMessage: 'Compartilhar no Facebook'\n      }),\n      'width=800,height=600'\n    )\n  }\n\n  return (\n    <button\n      className='btn white h3 p3 col-12 caps h5 rounded'\n      onClick={handleClick}\n      style={{ backgroundColor: '#2D88ED' }}\n    >\n      <FormattedMessage\n        id='share.components--facebook-share-button.text'\n        defaultMessage='Compartilhar no Facebook'\n      />\n    </button>\n  )\n}\n\nFacebookShareButton.propTypes = {\n  href: PropTypes.string.isRequired,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(FacebookShareButton)\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/facebook-share-button.js","export { default as FacebookShareButton } from './facebook-share-button'\nexport { default as TwitterShareButton } from './twitter-share-button'\nexport { default as WhatsAppShareButton } from './whatsapp-share-button'\nexport { default as TellAFriend } from './tell-a-friend.connected'\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/index.js","import { connect } from 'react-redux'\nimport TellAFriend from './tell-a-friend'\nimport MobSelectors from '~client/mobrender/redux/selectors'\n\nconst mapStateToProps = state => {\n  const { sourceRequest: { protocol, host } } = state\n  const { custom_domain: customDomain } = MobSelectors(state).getMobilization()\n\n  return {\n    href: customDomain || `${protocol}://${host}`\n  }\n}\n\nexport { default as TellAFriend } from './tell-a-friend'\nexport default connect(mapStateToProps)(TellAFriend)\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/tell-a-friend.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport { FacebookShareButton, TwitterShareButton, WhatsAppShareButton } from '~client/components/share'\n\nconst TellAFriend = ({\n  preview,\n  href,\n  message,\n  mobilization: {\n    twitter_share_text: twitterShareText\n  },\n  imageUrl,\n  imageWidth,\n  widget\n}) => {\n  const settings = widget.settings || {}\n\n  return (\n    <div className='center p3 bg-white darkengray rounded'>\n      <div className='m0 h3 bold'>{message}</div>\n      <div className='py2'>\n        <img src={imageUrl} style={{ width: imageWidth || 100 }} />\n      </div>\n      <p>\n        <FormattedMessage\n          id='share.components--tell-a-friend.text'\n          defaultMessage='Agora, compartilhe com seus amigos!'\n        />\n      </p>\n      <p><FacebookShareButton href={href} /></p>\n      <p><TwitterShareButton href={href} text={twitterShareText} /></p>\n      <p><WhatsAppShareButton whatsappText={settings.whatsapp_text || href} preview={preview} /></p>\n    </div>\n  )\n}\n\nTellAFriend.propTypes = {\n  preview: PropTypes.bool,\n  mobilization: PropTypes.shape({\n    twitter_share_text: PropTypes.string\n  }).isRequired,\n  widget: PropTypes.shape({\n    settings: PropTypes.shape({\n      whatsapp_text: PropTypes.string\n    })\n  }).isRequired,\n  message: PropTypes.string.isRequired,\n  href: PropTypes.string.isRequired,\n  imageUrl: PropTypes.string,\n  imageWidth: PropTypes.string\n}\n\nTellAFriend.defaultProps = {\n  imageUrl: require('exenv').canUseDOM ? require('./check-mark-image.png') : null\n}\n\nexport default TellAFriend\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/tell-a-friend.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\n\nconst TwitterShareButton = ({ href, text, intl }) => {\n  const handleClick = () => {\n    // Optional Query params\n    // via: twitter user to associate with the tweet\n    // related: additional users related to the tweet comma-separated\n    // hashtags: comma-separated list without #\n    window.open(\n      `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${href}`,\n      intl.formatMessage({\n        id: 'share.components--twitter-share-button.text',\n        defaultMessage: 'Compartilhar no Twitter'\n      }),\n      'width=800,height=600'\n    )\n  }\n\n  return (\n    <button\n      className='btn white h3 p3 col-12 caps h5 rounded'\n      onClick={handleClick}\n      style={{backgroundColor: '#3DD1F4'}}\n    >\n      <FormattedMessage\n        id='share.components--twitter-share-button.text'\n        defaultMessage='Compartilhar no Twitter'\n      />\n    </button>\n  )\n}\n\nTwitterShareButton.propTypes = {\n  href: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(TwitterShareButton)\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/twitter-share-button.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport classnames from 'classnames'\n\nconst WhatsAppShareButton = ({ preview, whatsappText, mobilization }) => {\n  return (\n    <a\n      className={classnames(\n        'btn white h3 p3 col-12 caps h5 rounded border-box',\n        { 'lg-hide': !preview }\n      )}\n      href={`whatsapp://send?text=${encodeURIComponent(whatsappText)}`}\n      style={{ backgroundColor: '#4CEC68', color: '#fff' }}\n    >\n      <FormattedMessage\n        id='share.components--whatsapp-share-button.text'\n        defaultMessage='Compartilhar no WhatsApp'\n      />\n    </a>\n  )\n}\n\nWhatsAppShareButton.propTypes = {\n  href: PropTypes.string.isRequired,\n  preview: PropTypes.bool,\n  whatsappText: PropTypes.string\n}\n\nexport default WhatsAppShareButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/whatsapp-share-button.js","import { combineReducers } from 'redux'\n\n// Redux Form\nimport { reducer as form } from 'redux-form'\nimport { normalizer as creditCardForm } from '~client/subscriptions/forms/credit-card-form'\nimport { normalizer as recurringForm } from '~client/subscriptions/forms/recurring-form'\n\n// Reapop\nimport { reducer as notificationsReducer } from 'reapop'\n\n// Apollo\nimport { client } from './store'\n\n// Application\nimport auth from '~client/account/redux/reducers'\nimport wait from '~client/components/await/redux/reducers'\nimport mobilizations from '~client/mobrender/redux/reducers'\nimport community from '~client/community/reducers'\nimport colorPicker from '~client/components/color-picker/reducers'\nimport subscriptions from '~client/subscriptions/redux/reducers'\nimport intl from '../intl/redux/reducers'\n\nconst initialState = {\n  host: '',\n  protocol: ''\n}\n\nconst sourceRequest = (state = initialState, action = {}) => state\n\n// Only combine reducers needed for initial render, others will be\n// added async\nexport default function createReducer (asyncReducers) {\n  return combineReducers({\n    sourceRequest,\n    form: form.normalize({\n      creditCardForm,\n      recurringForm\n    }),\n    apollo: client().reducer(),\n    notifications: notificationsReducer(),\n    auth,\n    wait,\n    mobilizations,\n    community,\n    colorPicker,\n    subscriptions,\n    intl,\n    ...asyncReducers\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./createReducer.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  mutation addTwilioCall(\n    $widgetId: Int!\n    $communityId: Int!\n    $from: String!\n    $to: String!\n  ){\n    addTwilioCall(input: {\n      call: {\n        widgetId: $widgetId\n        communityId: $communityId\n        from: $from\n        to: $to\n      }\n    }) {\n      twilioCall {\n        id\n        widgetId\n        activistId\n        twilioAccountSid\n        twilioCallSid\n        from\n        to\n        data\n        createdAt\n        updatedAt\n        communityId\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/mutations/add-twilio-call.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  mutation addTwilioConfiguration(\n    $communityId: Int!\n    $twilioAccountSid: String!\n    $twilioAuthToken: String!\n    $twilioNumber: String!\n  ) {\n    addTwilioConfiguration(input: {\n      config: {\n        communityId: $communityId\n        twilioAccountSid: $twilioAccountSid\n        twilioAuthToken: $twilioAuthToken\n        twilioNumber: $twilioNumber\n      }\n    }) {\n      twilioConfiguration {\n        id\n        communityId\n        twilioAccountSid\n        twilioAuthToken\n        twilioNumber\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/mutations/add-twilio-configuration.js","export { default as addTwilioCall } from './add-twilio-call'\nexport { default as addTwilioConfiguration } from './add-twilio-configuration'\nexport { default as updateTwilioConfiguration } from './update-twilio-configuration'\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/mutations/index.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  mutation updateTwilioConfiguration(\n    $communityId: Int!\n    $twilioAccountSid: String!\n    $twilioAuthToken: String!\n    $twilioNumber: String!\n  ) {\n    updateTwilioConfiguration(input: {\n      config: {\n        communityId: $communityId\n        twilioAccountSid: $twilioAccountSid\n        twilioAuthToken: $twilioAuthToken\n        twilioNumber: $twilioNumber\n      }\n    }) {\n      twilioConfiguration {\n        id\n        communityId\n        twilioAccountSid\n        twilioAuthToken\n        twilioNumber\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/mutations/update-twilio-configuration.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  query CountTwilioCallsByWidget($widgetId: Int!) {\n    allTwilioCalls(condition: {\n      widgetId: $widgetId\n    }) {\n      totalCount\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/count-twilio-calls-by-widget.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  query fetchDonationGoalStats($widgetId: Int!) {\n    data: getWidgetDonationStats(widgetId: $widgetId)\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/fetch-donation-goal-stats.js","import { gql } from 'react-apollo'\n\n//\n// @param Object({ extraFields: Array })\n//\nexport default ({ extraFields = [] }) => gql`\nquery fetchFacebookBotActivistsStrategy(\n  $search: JSON!\n  $first: Int\n) {\n  query: getFacebookBotActivistsStrategy(\n    search: $search,\n    first: $first\n  ) {\n    totalCount\n    activists: nodes {\n      fbContextRecipientId\n      ${extraFields.join(' ')}\n    }\n  }\n}\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/fetch-facebook-bot-activists-strategy.js","import { gql } from 'react-apollo'\n\n//\n// @param Object({ extraFields: Array })\n//\nexport default gql`\nquery fetchFacebookBotCampaignsByCommunityId($communityId: Int!) {\n  query: getFacebookBotCampaignsByCommunityId(ctxCommunityId: $communityId) {\n    campaigns: nodes {\n      id\n      facebookBotConfigurationId\n      name\n      segmentFilters\n      totalImpactedActivists\n      createdAt\n      updatedAt\n    }\n  }\n}\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/fetch-facebook-bot-campaigns-by-community-id.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  query fetchTwilioConfiguration($communityId: Int!) {\n    configs: allTwilioConfigurations(condition: {\n      communityId: $communityId\n    }) {\n      list: nodes {\n        id\n        communityId\n        twilioAccountSid\n        twilioAuthToken\n        twilioNumber\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/fetch-twilio-configuration.js","export { default as CountTwilioCallsByWidget } from './count-twilio-calls-by-widget'\nexport { default as fetchDonationGoalStats } from './fetch-donation-goal-stats'\nexport { default as fetchFacebookBotActivistsStrategy } from './fetch-facebook-bot-activists-strategy'\nexport { default as fetchFacebookBotCampaignsByCommunityId } from './fetch-facebook-bot-campaigns-by-community-id'\nexport { default as fetchTwilioConfiguration } from './fetch-twilio-configuration'\nexport { default as watchTwilioCallTransitions } from './watch-twilio-call-transitions'\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/index.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  query watchTwilioCallTransitions($widgetId: Int! $from: String!) {\n    watchTwilioCallTransitions(call: {\n      widgetId: $widgetId\n      from: $from\n    }) {\n      widgetId\n      activistId\n      twilioCallId\n      twilioCallAccountSid\n      twilioCallCallSid\n      twilioCallFrom\n      twilioCallTo\n      twilioCallTransitionId\n      twilioCallTransitionSequenceNumber\n      twilioCallTransitionStatus\n      twilioCallTransitionCallDuration\n      twilioCallTransitionCreatedAt\n      twilioCallTransitionUpdatedAt\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/watch-twilio-call-transitions.js","module.exports = __webpack_public_path__ + \"../static/images/bg-login.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./images/bg-login.png\n// module id = ./images/bg-login.png\n// module chunks = 0","const namespace = mobilization => `/mobilizations/${mobilization.id}/blocks`\n\nexport const createBlock = mobilization => `${namespace(mobilization)}/create`\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/blocks/paths.js","import DefaultConfigServer from '~server/config'\n\nexport const mobilizations = () => '/mobilizations'\nexport const mobilization = (mobilization, domain = DefaultConfigServer.appDomain) => {\n  if (domain && domain.indexOf('staging') !== -1) {\n    return `http://${mobilization.slug}.${domain}`\n  }\n\n  return mobilization.custom_domain\n    ? `http://${mobilization.custom_domain}`\n    : `http://${mobilization.slug}.${domain}`\n}\nexport const mobilizationLaunch = id => `/mobilizations/${id}/launch`\nexport const mobilizationLaunchEnd = id => `/mobilizations/${id}/launch/end`\nexport const newMobilization = () => '/mobilizations/new'\nexport const editMobilization = id => `/mobilizations/${id}/edit`\nexport const cityMobilization = id => `/mobilizations/${id}/city`\nexport const cityNewMobilization = id => `/mobilizations/${id}/cityNew`\nexport const sharingMobilization = id => `/mobilizations/${id}/settings/sharing`\nexport const basicsMobilization = id => `/mobilizations/${id}/settings/basics`\nexport const analyticsMobilization = id => `/mobilizations/${id}/settings/analytics`\nexport const metricsMobilization = id => `/mobilizations/${id}/settings/metrics`\nexport const customDomainMobilization = id => `/mobilizations/${id}/settings/customDomain`\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/paths.js","export const REQUEST_TEMPLATE_CREATE = 'REQUEST_TEMPLATE_CREATE'\nexport const SUCCESS_TEMPLATE_CREATE = 'SUCCESS_TEMPLATE_CREATE'\nexport const FAILURE_TEMPLATE_CREATE = 'FAILURE_TEMPLATE_CREATE'\n\nexport const REQUEST_TEMPLATE_FETCH = 'REQUEST_TEMPLATE_FETCH'\nexport const SUCCESS_TEMPLATE_FETCH = 'SUCCESS_TEMPLATE_FETCH'\nexport const FAILURE_TEMPLATE_FETCH = 'FAILURE_TEMPLATE_FETCH'\n\nexport const REQUEST_TEMPLATE_DESTROY = 'REQUEST_TEMPLATE_DESTROY'\nexport const SUCCESS_TEMPLATE_DESTROY = 'SUCCESS_TEMPLATE_DESTROY'\nexport const FAILURE_TEMPLATE_DESTROY = 'FAILURE_TEMPLATE_DESTROY'\n\nexport const SELECT_TEMPLATE = 'SELECT_TEMPLATE'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/templates/action-types.js","export const mobilizationTemplatesCreate = mobilization =>\n  `/mobilizations/${mobilization.id}/templates/create`\n\nexport const mobilizationTemplatesList = () =>\n  '/mobilizations/templates/list'\n\nexport const mobilizationTemplatesUpdate = templateId =>\n  `/mobilizations/templates/${templateId}/update`\n\nexport const mobilizationTemplatesDestroy = templateId =>\n  `/mobilizations/templates/${templateId}/destroy`\n\nexport const mobilizationTemplatesChoose = mobilization =>\n  `/mobilizations/${mobilization.id}/templates/choose`\n\nexport const mobilizationTemplatesChooseCustomList = mobilization =>\n  `/mobilizations/${mobilization.id}/templates/choose/custom`\n\nexport const mobilizationTemplatesChooseGlobalList = mobilization =>\n  `/mobilizations/${mobilization.id}/templates/choose/global`\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/templates/paths.js","import { combineReducers } from 'redux'\n\nimport list from '~client/mobilizations/templates/reducers/list'\nimport filterable from '~client/components/filterable-search-bar/reducers'\nimport selectable from '~client/components/selectable-list/reducers'\n\nexport default combineReducers({\n  list,\n  filterable,\n  selectable\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/templates/reducers/index.js","// Current module dependencies\nimport * as t from '~client/mobilizations/templates/action-types'\n\nexport const initialState = {\n  loading: false,\n  loaded: false,\n  global: [],\n  custom: [],\n  templateId: undefined\n}\n\nconst MobilizationTemplatesReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.REQUEST_TEMPLATE_CREATE:\n      return { ...state, loading: true }\n    case t.SUCCESS_TEMPLATE_CREATE:\n      const templates = action.template.global\n        ? { global: [...state.global, action.template] }\n        : { custom: [...state.custom, action.template] }\n      return { ...state, loading: false, loaded: true, ...templates }\n    case t.FAILURE_TEMPLATE_CREATE:\n      return { ...state, loading: false, error: action.error }\n\n    case t.REQUEST_TEMPLATE_FETCH:\n      return { ...state, loading: true }\n    case t.SUCCESS_TEMPLATE_FETCH:\n      if (action.templates) {\n        state.global = action.templates.filter(template => template.global)\n        state.custom = action.templates.filter(template => !template.global)\n      }\n      return { ...state, loading: false, loaded: true }\n    case t.FAILURE_TEMPLATE_FETCH:\n      return { ...state, loading: false, error: action.error }\n\n    case t.REQUEST_TEMPLATE_DESTROY:\n      return { ...state, loading: true }\n    case t.SUCCESS_TEMPLATE_DESTROY:\n      const index = state.custom.findIndex(template => template.id === action.template.id)\n      return {\n        ...state,\n        loading: false,\n        custom: [...state.custom.slice(0, index), ...state.custom.slice(index + 1)]\n      }\n    case t.FAILURE_TEMPLATE_DESTROY:\n      return { ...state, loading: false, error: action.error }\n    case t.SELECT_TEMPLATE:\n      return {\n        ...state,\n        templateId: action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport default MobilizationTemplatesReducer\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/templates/reducers/list.js","export const createAction = (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/action-creators/create-action.js","export { default as setEditorLinkTargetType } from './set-editor-link-target-type'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/action-creators/index.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nconst setEditorLinkTargetType = type => createAction(t.SET_EDITOR_LINK_TARGET_TYPE, type)\n\nexport default setEditorLinkTargetType\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/action-creators/set-editor-link-target-type.js","export const SET_EDITOR_LINK_TARGET_TYPE = 'SET_EDITOR_LINK_TARGET_TYPE'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/action-types.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { injectIntl, intlShape } from 'react-intl'\n\nimport { EditorOld, EditorNew, EditorSlate } from '../components'\n\nexport class Content extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { forceRenderNewEditor: false }\n  }\n\n  handleForceRender () {\n    this.setState({ forceRenderNewEditor: true })\n  }\n\n  deleteWidget () {\n    const message = this.props.intl.formatMessage({\n      id: 'c--content-widget.delete-widget.confirm.message',\n      defaultMessage: 'Deseja remover o widget?'\n    })\n    if (window.confirm(message)) {\n      this.props.update({\n        ...this.props.widget,\n        settings: undefined,\n        kind: 'draft'\n      })\n    }\n  }\n\n  render () {\n    const { widget: { settings }, editable } = this.props\n\n    try {\n      // If parse content is RebooEditor\n      const content = JSON.parse(settings.content)\n      return content.entityMap ? (\n        <EditorNew\n          {...this.props}\n          handleDelete={this.deleteWidget.bind(this)}\n        />\n      ) : (\n        <EditorSlate\n          {...this.props}\n          content={settings.content}\n          readOnly={!editable}\n          handleSave={value => {\n            const raw = JSON.stringify(value.toJSON())\n\n            if (settings.content !== raw) {\n              const { update, widget } = this.props\n              update({\n                ...widget,\n                settings: { content: raw }\n              })\n            }\n          }}\n          handleDelete={this.deleteWidget.bind(this)}\n        />\n      )\n    } catch (e) {\n      // Else is old editor\n      if (this.state.forceRenderNewEditor) {\n        return (\n          <EditorNew\n            {...this.props}\n            handleDelete={this.deleteWidget.bind(this)}\n          />\n        )\n      } else {\n        return (\n          <EditorOld\n            handleForceRender={this.handleForceRender.bind(this)}\n            {...this.props}\n          />\n        )\n      }\n    }\n  }\n}\n\nContent.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  editable: PropTypes.bool.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onCancelEdit: PropTypes.func.isRequired,\n  update: PropTypes.func,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(Content)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/__content__.js","import React from 'react'\nimport classnames from 'classnames'\n\nconst ActionButton = ({ children, editing, changeState, onClick, title, style, className, value }) => (\n  <button\n    className={classnames('btn bg-blacker rounded', className)}\n    onClick={() => onClick(value, changeState)}\n    style={{\n      position: 'relative',\n      display: editing ? 'inline-block' : 'none',\n      ...style\n    }}\n    title={title}\n  >\n    {children}\n  </button>\n)\n\nexport default ActionButton\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/action-button.js","import { connect } from 'react-redux'\nimport EditorNew from './editor-new'\nimport { handleEdit, handleCancelEdit } from '~client/mobrender/redux/action-creators'\n\nconst mapActionsToProps = {\n  onEdit: () => handleEdit('widget'),\n  onCancelEdit: () => handleCancelEdit('widget')\n}\n\nexport default connect(undefined, mapActionsToProps)(EditorNew)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-new.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport { Loading } from '~client/components/await'\nimport Editor from '~client/components/editor-draft-js'\nif (require('exenv').canUseDOM) require('./index.scss')\n\nclass EditorNew extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      editing: false,\n      content: props.widget.settings.content,\n      loading: false\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.state.loading && this.props.widget.settings.content !== nextProps.widget.settings.content) {\n      this.setState({ loading: false })\n    }\n  }\n\n  renderLoading () {\n    if (this.state.loading) {\n      return (\n        <Loading />\n      )\n    }\n  }\n\n  handleSave (rawContent) {\n    const { widget: { settings } } = this.props\n\n    if (settings.content !== rawContent) {\n      const { update, widget } = this.props\n      this.setState({ loading: true })\n\n      update({\n        ...widget,\n        settings: { content: JSON.stringify(rawContent) }\n      })\n    }\n  }\n\n  render () {\n    const { editable, mobilization, widget: { settings } } = this.props\n    const { body_font: bodyFont } = mobilization\n\n    const theme = (\n      mobilization && mobilization.color_scheme\n        ? mobilization.color_scheme.replace('-scheme', '')\n        : null\n    )\n\n    let value\n    try {\n      value = JSON.parse(settings.content)\n    } catch (e) {\n      value = settings.content\n    }\n\n    return (\n      <div className='widgets--content-plugin widget editor-new' style={{ fontFamily: bodyFont }}>\n        <Editor\n          value={value}\n          theme={theme}\n          readOnly={!editable}\n          handleSave={this.handleSave.bind(this)}\n          handleDelete={this.props.handleDelete}\n        />\n      </div>\n    )\n  }\n}\n\nEditorNew.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  editable: PropTypes.bool.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onCancelEdit: PropTypes.func.isRequired,\n  update: PropTypes.func,\n  handleDelete: PropTypes.func\n}\n\nexport default EditorNew\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-new/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/content/components/editor-new/index.scss\n// module id = ./mobilizations/widgets/__plugins__/content/components/editor-new/index.scss\n// module chunks = 0","import { connect } from 'react-redux'\nimport EditorOld from './editor-old'\nimport MobSelectors from '~client/mobrender/redux/selectors'\nimport { handleEdit, handleCancelEdit } from '~client/mobrender/redux/action-creators'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = MobSelectors(state, props)\n  return {\n    mobilization: selectors.getMobilization()\n  }\n}\n\nconst mapActionsToProps = {\n  onEdit: () => handleEdit('widget'),\n  onCancelEdit: () => handleCancelEdit('widget')\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(EditorOld)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-old.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport $ from 'jquery'\nimport classnames from 'classnames'\n\nlet wysihtml5, wysihtml5ParserRules\n/* eslint-disable */\nif (require('exenv').canUseDOM) {\n  window.rangy = require('rangy/lib/rangy-core')\n  wysihtml5 = require('exports-loader?wysihtml5!./wysihtml-toolbar.min.js')\n  wysihtml5ParserRules = require('exports-loader?wysihtml5ParserRules!./wysihtml-toolbar.min.js')\n}\n\n// Global module dependencies\nimport { WYSIHTMLToolbar } from '~client/components/editor-wysihtml'\nimport { Loading } from '~client/components/await'\n\nclass EditorOld extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      editing: false,\n      editor: null,\n      content: props.widget.settings.content,\n      toolbarId: `wysihtml5-toolbar-${this.props.widget.id}`,\n      loading: false\n    }\n  }\n\n  componentDidMount () {\n    if (this.props.editable) {\n      const editor = new wysihtml5.Editor(\n        this.refs.content, {\n          toolbar: this.state.toolbarId,\n          parserRules: wysihtml5ParserRules\n        }\n      ).on('focus', ::this.handleEditorFocus)\n      this.setState({editor: editor})\n    } else {\n      this.setClick()\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.state.loading && this.props.widget.settings.content !== nextProps.widget.settings.content) {\n      this.setState({loading: false})\n    }\n  }\n\n  enableEditor () {\n    this.setState({editing: true})\n    this.props.onEdit && this.props.onEdit()\n    window.addEventListener('keyup', ::this.handleEscapePress)\n  }\n\n  disableEditor () {\n    this.setState({editing: false})\n    this.props.onCancelEdit && this.props.onCancelEdit()\n    window.removeEventListener('keyup', ::this.handleEscapePress)\n    this.refs.content.blur()\n  }\n\n  handleEditorFocus () {\n    this.enableEditor()\n  }\n\n  handleEscapePress (e) {\n    if (e.keyCode === 27) {\n      this.save()\n    }\n  }\n\n  handleOverlayClick () {\n    this.save()\n  }\n\n  setClick () {\n    const links = document.querySelectorAll('.content-widget a:not([target=\"_blank\"])')\n    for (let link of links) {\n      $(link).on('click touchstart', ::this.handleClick)\n    }\n  }\n\n  handleClick (e) {\n    e.preventDefault()\n    const target = $(e.target).closest('a').prop('hash')\n    const scrollable = $('#blocks-list')\n    const yPosition = $(target).offset().top + scrollable.scrollTop() - scrollable.position().top\n\n    scrollable.stop().animate({scrollTop: yPosition}, 500, () => {\n      window.location.hash = target\n    })\n  }\n\n  save () {\n    const { editor, content } = this.state\n    const hasChanged = editor.getValue() !== content\n    this.setState({content: editor.getValue()})\n    this.disableEditor()\n\n    if (hasChanged) {\n      const { update, widget } = this.props\n\n      this.setState({loading: true})\n      update({\n        ...widget,\n        settings: { content: this.state.editor.getValue() }\n      })\n    }\n  }\n\n  renderLoading () {\n    if (this.state.loading) {\n      return (\n        <Loading />\n      )\n    }\n  }\n\n  handleRenderNewEditor () {\n    const { handleForceRender } = this.props\n    if (window.confirm(`Ao converter seu contedo para o novo editor\n      algumas informaes podem ser perdidas,\n      tem certeza que voc quer alterar para o novo editor?`)) {\n      handleForceRender()\n    }\n  }\n\n  render () {\n    const { toolbarId, editing } = this.state\n    const { mobilization: { header_font: headerFont, body_font: bodyFont } } = this.props\n    const { handleForceRender } = this.props\n    return (\n      <div className='widgets--content-plugin'>\n        <div className={classnames('content-widget col-12', {'display-none': !editing})}>\n          <WYSIHTMLToolbar\n            elementId={toolbarId}\n            className='absolute col-12 top-0 bg-darken-4 z7'\n            buttonClassName='btn white p2'\n            style={{ left: 0 }}\n          />\n          <div\n            className='fixed top-0 right-0 bottom-0 left-0 z5'\n            onClick={::this.handleOverlayClick}\n          />\n        </div>\n        <div className={classnames('relative', editing ? 'z6' : 'z0')}>\n          <div\n            className={classnames('widget', `${headerFont}-header`, `${bodyFont}-body`)}\n            dangerouslySetInnerHTML={{__html: this.state.content}}\n            ref='content'\n          />\n          <div className={classnames('right mt1', {'display-none': !editing})}>\n            {handleForceRender ? (\n              <button\n                onClick={this.handleRenderNewEditor.bind(this)}\n                className='btn caps bg-darken-4 white rounded mr1'\n              >\n                Alterar editor\n              </button>\n            ) : null}\n            <button\n              onClick={::this.save}\n              className='btn caps bg-darken-4 white rounded'\n            >\n              Salvar\n            </button>\n          </div>\n        </div>\n        {this.renderLoading()}\n      </div>\n    )\n  }\n}\n\nEditorOld.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  editable: PropTypes.bool.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onCancelEdit: PropTypes.func.isRequired,\n  update: PropTypes.func\n}\n\nexport default EditorOld\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-old.js","import React, { Component } from 'react'\nimport { injectIntl, intlShape, FormattedMessage } from 'react-intl'\nimport Plain from 'slate-plain-serializer'\nimport {\n  SlateEditor, SlateToolbar, SlateContent,\n  AlignmentPlugin, AlignmentButtonBar,\n  BoldPlugin, BoldButton,\n  ColorPlugin, ColorButton, ColorStateModel,\n  EmbedPlugin, EmbedButton,\n  FontFamilyPlugin, FontFamilyDropdown,\n  FontSizePlugin, FontSizeInput,\n  GridPlugin, GridButtonBar,\n  ImagePlugin, ImageButton,\n  ItalicPlugin, ItalicButton,\n  LinkPlugin, LinkButton,\n  ListPlugin, ListButtonBar,\n  StrikethroughPlugin, StrikethroughButton,\n  UnderlinePlugin, UnderlineButton\n} from 'slate-editor'\n\nimport DefaultServerConfig from '~server/config'\nimport { Loading } from '~client/components/await'\nimport { ActionButton, FooterEditor, Layer } from '~client/mobilizations/widgets/__plugins__/content/components'\n\nimport styles from './styles'\n\nif (require('exenv').canUseDOM) require('./index.scss')\n\nconst fontSizePluginOptions = { initialFontSize: 16 }\nconst colorPluginOptions = new ColorStateModel().rgba({ r: 100, g: 100, b: 100, a: 1 }).gen()\n\nconst plugins = [\n  AlignmentPlugin(),\n  BoldPlugin(),\n  ColorPlugin(),\n  EmbedPlugin(),\n  FontFamilyPlugin(),\n  FontSizePlugin(fontSizePluginOptions),\n  GridPlugin(),\n  ImagePlugin(),\n  ItalicPlugin(),\n  LinkPlugin(),\n  ListPlugin(),\n  StrikethroughPlugin(),\n  UnderlinePlugin()\n]\n\nconst classNames = {\n  button: 'btn btn-primary not-rounded border border-gray',\n  dropdown: 'select col-3 inline-block mx1 not-rounded',\n  input: 'input col-3 inline-block mr1',\n  lastButton: 'btn btn-primary not-rounded border border-gray linebreak'\n}\n\nclass EditorSlate extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      editing: false,\n      loading: false,\n      initialState: JSON.parse(props.content)\n    }\n  }\n\n  handleCancelEditionMode (state, setState) {\n    const initialRaw = Plain.serialize(this.state.initialState)\n    const raw = Plain.serialize(state)\n    if (initialRaw !== raw) {\n      if (window.confirm(this.props.intl.formatMessage({\n        id: 'c--editor-slate.button-cancel.message',\n        defaultMessage: 'Deseja mesmo sair do modo edio? Suas alteraes no sero salvas.'\n      }))) {\n        this.setState({ editing: false })\n        setState(this.state.initialState)\n      }\n    } else {\n      this.setState({ editing: false })\n    }\n  }\n\n  handleSave (state) {\n    this.setState({ initialState: state })\n    this.props.handleSave(state)\n  }\n\n  render () {\n    const { handleDelete, readOnly, toolbarStyles, contentStyles } = this.props\n    return (\n      <div className='widgets--content-plugin'>\n        <SlateEditor\n          plugins={plugins}\n          initialState={this.state.initialState}\n          style={{ color: '#fff' }}\n        >\n          <SlateToolbar style={{\n            ...styles.toolbar,\n            display: this.state.editing ? 'block' : 'none',\n            ...toolbarStyles\n          }}>\n            <BoldButton className={classNames.button} />\n            <ItalicButton className={classNames.button} />\n            <UnderlineButton className={classNames.button} />\n            <StrikethroughButton className={classNames.button} />\n            <AlignmentButtonBar className={classNames.button} />\n            <LinkButton className={classNames.button} />\n            <ListButtonBar className={classNames.button} />\n            <FontFamilyDropdown className={classNames.dropdown} style={styles.dropdown} />\n            <FontSizeInput className={classNames.input} {...fontSizePluginOptions} style={styles.input} />\n            <ImageButton className={classNames.button} signingUrl={`${DefaultServerConfig.apiUrl}/uploads`} />\n            <ColorButton className={classNames.button} initialState={colorPluginOptions} pickerDefaultPosition={{ x: 0, y: 17 }} />\n            <GridButtonBar className={classNames.button} />\n            <EmbedButton className={classNames.button} />\n          </SlateToolbar>\n\n          <SlateContent\n            wrapperStyle={{ position: 'relative', zIndex: this.state.editing ? 4 : 'inherit' }}\n            style={{ minHeight: 150, ...contentStyles }}\n            onFocus={() => {\n              if (!readOnly) this.setState({ editing: true })\n            }}\n            onKeyDown={(event, data, state) => {\n              if (data.isMod && data.key === 's') {\n                event.preventDefault()\n                this.handleSave(state)\n              }\n            }}\n            className={!readOnly ? 'editable' : ''}\n            readOnly={readOnly}\n          />\n\n          <FooterEditor>\n            <ActionButton\n              editing={this.state.editing}\n              title='Remover'\n              style={{\n                position: 'absolute',\n                right: 0,\n                bottom: 0\n              }}\n              className='mt2'\n              onClick={handleDelete}\n            >\n              <i className='fa fa-trash' />\n            </ActionButton>\n            <ActionButton\n              editing={this.state.editing}\n              className='mt2 right-align'\n              onClick={this.handleSave.bind(this)}\n            >\n              <FormattedMessage\n                id='c--editor-slate.button-save.text'\n                defaultMessage='Salvar'\n              />\n            </ActionButton>\n            <ActionButton\n              editing={this.state.editing}\n              className='mt2 right-align mx2'\n              onClick={this.handleCancelEditionMode.bind(this)}\n            >\n              <FormattedMessage\n                id='c--editor-slate.button-cancel.text'\n                defaultMessage='Cancelar'\n              />\n            </ActionButton>\n          </FooterEditor>\n          <Layer\n            editing={this.state.editing}\n            onClick={this.handleCancelEditionMode.bind(this)}\n          />\n        </SlateEditor>\n        {this.state.loading && <Loading />}\n      </div>\n    )\n  }\n}\n\nEditorSlate.propTypes = {\n  intl: intlShape.isRequired\n}\n\nEditorSlate.defaultProps = {\n  handleSave: () => {}\n}\n\nexport const createEditorContent = content => JSON.stringify(\n  Plain.deserialize(content).toJSON()\n)\n\nexport default injectIntl(EditorSlate)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-slate/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/content/components/editor-slate/index.scss\n// module id = ./mobilizations/widgets/__plugins__/content/components/editor-slate/index.scss\n// module chunks = 0","export default {\n  button: {\n    borderRight: '1px solid #fff'\n  },\n  dropdown: {\n    position: 'relative',\n    top: 1,\n    backgroundColor: 'white',\n    height: 38,\n    paddingLeft: 20,\n    border: '3px solid #0275d8',\n    color: '#0275d8',\n    margin: '0',\n    WebkitAppearance: 'none',\n    padding: '0 10px 0 15px'\n  },\n  input: {\n    position: 'relative',\n    top: 1,\n    backgroundColor: 'white',\n    borderRadius: 0,\n    height: 16,\n    margin: 0,\n    color: '#0275d8',\n    border: '3px solid #0275d8'\n  },\n  toolbar: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    zIndex: 5,\n    display: 'none'\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: '#222',\n    color: '#fff',\n    borderRadius: 3,\n    opacity: '.82',\n    fontWeight: 300,\n    fontSize: '2.15rem',\n    cursor: 'pointer',\n    display: 'none'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-slate/styles.js","import React from 'react'\n\nexport default ({ children, ...props }) => (\n  <div style={{ position: 'relative', zIndex: 2 }}>\n    {children && children.map(child => React.cloneElement(child, props))}\n  </div>\n)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/footer-editor.js","export { default } from './__content__'\nexport { default as EditorOld } from './editor-old.connected'\nexport { default as EditorNew } from './editor-new.connected'\nexport { default as EditorSlate } from './editor-slate'\nexport { default as ActionButton } from './action-button'\nexport { default as Layer } from './layer'\nexport { default as FooterEditor } from './footer-editor'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/index.js","import React from 'react'\n\nconst Layer = ({ editing, onClick, value, changeState }) => {\n  return (\n    <div\n      style={{\n        display: editing ? 'block' : 'none',\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0,\n        backgroundColor: 'rgba(0,0,0,.3)',\n        zIndex: 1\n      }}\n      onClick={() => onClick(value, changeState)}\n    />\n  )\n}\n\nexport default Layer\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/layer.js","import * as t from './action-types'\n\nexport const initialState = {\n  editorLinkTargetType: '_self'\n}\nexport const initialAction = { type: '' }\n\nexport default (state = initialState, action = initialAction) => {\n  switch (action.type) {\n    case t.SET_EDITOR_LINK_TARGET_TYPE:\n      return { ...state, editorLinkTargetType: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/reducers.js","/* eslint-disable prefer-promise-reject-errors */\nimport { addNotification } from 'reapop'\nimport * as notifications from '~client/utils/notifications'\nimport { createAction } from './create-action'\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport * as t from '../action-types'\nimport { setDonationCustomerData } from '.'\n\nconst asyncDonationTransactionCreate = params => (dispatch, getState, { api, intl }) => {\n  const state = getState()\n  const endpoint = `/mobilizations/${params.mobilization_id}/donations`\n  const body = { donation: genRequestPayload(params) }\n\n  dispatch({ type: t.ASYNC_DONATION_TRANSACTION_CREATE_REQUEST })\n  return api.post(endpoint, body)\n    .then(response => {\n      dispatch({ type: t.ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS })\n\n      if (state.mobilizations.plugins.donation.customerData) {\n        dispatch(setDonationCustomerData(undefined))\n      }\n\n      AnalyticsEvents.donationFinishRequest()\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      dispatch(createAction(t.ASYNC_DONATION_TRANSACTION_CREATE_FAILURE, failure))\n      dispatch(addNotification(notifications.genericRequestError(intl)))\n\n      if (failure.config && failure.config.data) {\n        try {\n          const failureData = JSON.parse(failure.config.data)\n          dispatch(setDonationCustomerData(failureData.donation.customer))\n        } catch (error) {\n          console.error('Customer data is not parsable. Cannot store the customer data.')\n          console.error(error)\n        }\n      }\n\n      return Promise.reject({ _error: `Response ${JSON.stringify(failure)}` })\n    })\n}\n\nexport default asyncDonationTransactionCreate\n\nconst genRequestPayload = params => ({\n  widget_id: params.widget_id,\n  card_hash: params.card_hash,\n  payment_method: params.payment_method,\n  amount: params.amount,\n  customer: params.customer,\n  subscription: params.subscription,\n  period: params.recurring_period\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-creators/async-donation-transaction-create.js","export const createAction = (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-creators/create-action.js","//\n// Asynchronous\n//\nexport { default as asyncDonationTransactionCreate } from './async-donation-transaction-create'\n\n//\n// Synchronous\n//\nexport { default as setDonationCustomerData } from './set-donation-customer-data'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-creators/index.js","import * as t from '../action-types'\nimport { createAction } from '~client/utils/redux'\n\nconst setDonationCustomerData = data => createAction(t.SET_DONATION_CUSTOMER_DATA, data)\n\nexport default setDonationCustomerData\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-creators/set-donation-customer-data.js","//\n// Asynchrounous\n//\nexport const ASYNC_DONATION_TRANSACTION_CREATE_REQUEST = 'ASYNC_DONATION_TRANSACTION_CREATE_REQUEST'\nexport const ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS = 'ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS'\nexport const ASYNC_DONATION_TRANSACTION_CREATE_FAILURE = 'ASYNC_DONATION_TRANSACTION_CREATE_FAILURE'\n\n//\n// Synchrounous\n//\nexport const SET_DONATION_CUSTOMER_DATA = 'SET_DONATION_CUSTOMER_DATA'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-types.js","import { connect } from 'react-redux'\nimport { graphql } from 'react-apollo'\nimport { injectIntl } from 'react-intl'\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport { asyncDonationTransactionCreate } from '../action-creators'\n\nimport * as graphqlQueries from '~client/graphql/queries'\nimport { factoryDonation } from '~client/mobrender-v2/widgets/donation'\nimport { FinishMessageCustom } from '~client/mobilizations/widgets/components'\nimport DonationTellAFriend from './donation-tell-a-friend'\n\nconst Donation = factoryDonation({\n  finishMessageCustom: FinishMessageCustom,\n  tellAFriend: DonationTellAFriend\n})\n\nconst mapStateToProps = state => ({\n  donationCustomerData: state.mobilizations.plugins.donation.customerData\n})\n\nconst mapDispatchToProps = dispatch => ({\n  handleDonationTransactionCreate: ({\n    mobilization,\n    widget,\n    selectedValue,\n    selectedPaymentType,\n    onSucess,\n    onError,\n    storedDonationCustomerData\n  }) => new Promise((resolve, reject) => {\n    const paymentType = widget.settings.payment_type\n    const recurringPeriod = widget.settings.recurring_period\n    const mainColor = widget.settings.main_color\n      ? widget.settings.main_color\n      : '#43a2cc'\n\n    const checkout = new PagarMeCheckout.Checkout({\n      encryption_key: process.env.PAGARME_KEY || 'setup env var',\n      success: (data) => {\n        data.subscription = paymentType === 'users_choice'\n          ? (selectedPaymentType !== 'unique')\n          : data.subscription = (paymentType !== 'unique')\n\n        data.recurring_period = recurringPeriod\n        data.mobilization_id = mobilization.id\n        data.widget_id = widget.id\n        data.amount = widget.settings['donation_value' + selectedValue] + '00'\n\n        dispatch(asyncDonationTransactionCreate(data))\n          .then(resolve)\n          .catch(reject)\n      },\n      error: (err) => { console.error(err) }\n    })\n\n    const customerData = {}\n    if (storedDonationCustomerData) {\n      const d = storedDonationCustomerData\n\n      // reference: https://docs.pagar.me/v2017-07-17/docs/inserindo-o-formulario\n      customerData.customerName = d.name\n      customerData.customerDocumentNumber = d.document_number\n      customerData.customerEmail = d.email\n      customerData.customerPhoneDdd = d.phone.ddd\n      customerData.customerPhoneNumber = d.phone.number\n      customerData.customerAddressZipcode = d.address.zipcode\n      customerData.customerAddressStreet = d.address.street\n      customerData.customerAddressStreetNumber = d.address.street_number\n      customerData.customerAddressComplementary = d.address.complementary\n      customerData.customerAddressNeighborhood = d.address.neighborhood\n      customerData.customerAddressCity = d.address.city\n      customerData.customerAddressState = d.address.state\n    }\n\n    const params = {\n      createToken: 'false',\n      amount: widget.settings['donation_value' + selectedValue] + '00',\n      customerData: 'true',\n      paymentMethods: widget.settings.payment_methods === 'true' ? 'credit_card,boleto' : 'credit_card',\n      uiColor: mainColor,\n      paymentButtonText: widget.settings.button_text,\n      ...customerData\n    }\n\n    AnalyticsEvents.donationSetValue()\n\n    checkout.open(params)\n  })\n})\n\nexport default graphql(\n  graphqlQueries.fetchDonationGoalStats, {\n    name: 'donationGoalStats',\n    options: props => ({ variables: { widgetId: props.widget.id } })\n  })(connect(mapStateToProps, mapDispatchToProps)(injectIntl(Donation)))\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/components/__donation__.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport * as paths from '~client/paths'\nimport { TellAFriend } from '~client/components/share'\n\nconst DonationTellAFriend = ({ preview, mobilization, widget }) => {\n  return (\n    <TellAFriend\n      preview={preview}\n      mobilization={mobilization}\n      widget={widget}\n      message={\n        <FormattedMessage\n          id='donation.components--tell-a-friend.message'\n          defaultMessage='Oba, doao registrada! Sua doao  via boleto? Verifique seu email.'\n        />\n      }\n      href={paths.mobilization(mobilization)}\n    />\n  )\n}\n\nDonationTellAFriend.propTypes = {\n  preview: PropTypes.bool,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired\n}\n\nexport default DonationTellAFriend\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/components/donation-tell-a-friend.js","export { default } from './__donation__.connected'\nexport { default as SettingsMenu } from './settings-menu'\nexport { default as DonationTellAFriend } from './donation-tell-a-friend'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/components/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport * as paths from '~client/paths'\nimport { Tabs, Tab } from '~client/components/navigation/tabs'\nimport { SettingsPageMenuLayout } from '~client/components/layout'\n\nconst SettingsMenu = ({ mobilization, widget, location }) => {\n  const donationPath = paths.donation(mobilization.id, widget.id) + '/settings'\n  const donationAdjustmentsPath = paths.donation(mobilization.id, widget.id)\n  const donationAutofirePath = paths.donationAutofire(mobilization.id, widget.id)\n  const donationFinishPath = paths.donationFinish(mobilization.id, widget.id)\n\n  return (\n    <SettingsPageMenuLayout\n      title={\n        <FormattedMessage\n          id='donation.components--settings-menu.title'\n          defaultMessage='Configure sua caixa de doao'\n        />\n      }\n    >\n      <Tabs>\n        <Tab\n          path={donationAdjustmentsPath}\n          isActive={donationAdjustmentsPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='donation.components--settings-menu.tabs.adjusts'\n              defaultMessage='Ajustes'\n            />\n          }\n        />\n        <Tab\n          path={donationPath}\n          isActive={donationPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='donation.components--settings-menu.tabs.info'\n              defaultMessage='Dados para doao'\n            />\n          }\n        />\n        <Tab\n          path={donationAutofirePath}\n          isActive={donationAutofirePath === location.pathname}\n          text={\n            <FormattedMessage\n              id='donation.components--settings-menu.tabs.autofire'\n              defaultMessage='Mensagem agradecimento'\n            />\n          }\n        />\n        <Tab\n          path={donationFinishPath}\n          isActive={donationFinishPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='donation.components--settings-menu.tabs.post-action'\n              defaultMessage='Ps-doao'\n            />\n          }\n        />\n      </Tabs>\n    </SettingsPageMenuLayout>\n  )\n}\n\nSettingsMenu.propTypes = {\n  mobilization: PropTypes.shape({ id: PropTypes.number.isRequired }).isRequired,\n  widget: PropTypes.shape({ id: PropTypes.number.isRequired }).isRequired,\n  location: PropTypes.shape({ pathname: PropTypes.string.isRequired }).isRequired\n}\n\nexport default SettingsMenu\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/components/settings-menu.js","const prefix = (mobilizationId, widgetId, path) =>\n  `/mobilizations/${mobilizationId}/widgets/${widgetId}/${path}`\n\nexport const donation = (mid, wid) => prefix(mid, wid, 'donation')\nexport const donationAutofire = (mid, wid) => prefix(mid, wid, 'donation/autofire')\nexport const donationExport = (mid, wid) => prefix(mid, wid, 'donation/export')\nexport const donationFinish = (mid, wid) => prefix(mid, wid, 'donation/finish')\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/paths.js","import * as t from './action-types'\n\nexport const initialState = {\n  saving: false,\n  error: undefined,\n  customerData: undefined\n}\nexport const initialAction = { type: '' }\n\nexport default (state = initialState, action = initialAction) => {\n  switch (action.type) {\n    case t.ASYNC_DONATION_TRANSACTION_CREATE_REQUEST:\n      return { ...state, saving: true }\n    case t.ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS:\n      return { ...state, saving: false }\n    case t.ASYNC_DONATION_TRANSACTION_CREATE_FAILURE:\n      return { ...state, saving: false, error: action.payload }\n\n    case t.SET_DONATION_CUSTOMER_DATA:\n      return { ...state, customerData: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/reducers.js","import { connect } from 'react-redux'\nimport { injectIntl } from 'react-intl'\n\nimport Form from './__form__'\nimport * as MobActions from '~client/mobrender/redux/action-creators'\n\nconst mapDispatchToProps = {\n  asyncFormEntryCreate: MobActions.asyncFormEntryCreate\n}\n\nexport { default as Form } from './__form__'\nexport default connect(undefined, mapDispatchToProps)(injectIntl(Form))\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/__form__.connected.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { browserHistory } from 'react-router'\nimport CountUp from 'react-countup'\nimport { intlShape } from 'react-intl'\nimport $ from 'jquery'\nimport classnames from 'classnames'\n\nimport * as paths from '~client/paths'\nimport { Error } from '~client/components/form-util'\nimport { isValidEmail } from '~client/utils/validation-helper'\nimport { FinishMessageCustom } from '~client/mobilizations/widgets/components'\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport { Button, Input, FormTellAFriend } from '../components'\n\nclass Form extends Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      hasMouseOver: false,\n      loading: false,\n      success: false,\n      errors: []\n    }\n  }\n\n  componentWillReceiveProps () {\n    if (this.state.loading) {\n      this.setState({loading: false, success: true})\n    }\n  }\n\n  fields () {\n    const { settings } = this.props.widget\n    return (settings && settings.fields ? settings.fields : [])\n  }\n\n  handleOverlayOnClick () {\n    const { mobilization, widget, editable } = this.props\n    if (editable) {\n      browserHistory.push(paths.fieldsMobilizationWidget(mobilization.id, widget.id))\n    }\n  }\n\n  submit () {\n    if (!this.props.editable) {\n      const { asyncFormEntryCreate, mobilization, widget } = this.props\n\n      const fieldsWithValue = widget.settings.fields.map(field => ({\n        ...field,\n        value: $(`#input-${field.uid}`).val()\n      }))\n      const errors = this.validate(fieldsWithValue)\n      this.setState({ errors })\n\n      if (errors.length === 0) {\n        this.setState({ loading: true })\n        const formEntry = {\n          widget_id: widget.id,\n          fields: JSON.stringify(fieldsWithValue)\n        }\n        asyncFormEntryCreate({ mobilization, formEntry }).then(() => {\n          this.setState({ loading: false, success: true })\n        })\n      }\n    }\n  }\n\n  validate (fieldsWithValue) {\n    const errors = []\n    fieldsWithValue.forEach((field) => {\n      if (field.required === 'true' && field.value === '') {\n        errors.push(`${field.label} no pode ficar em branco`)\n      } else if (field.value !== '' && field.kind === 'email' && !isValidEmail(field.value)) {\n        errors.push(`${field.label} invlido`)\n      }\n    })\n    return errors\n  }\n\n  renderCallToAction () {\n    const { configurable, widget, mobilization: { header_font: headerFont }, intl } = this.props\n    const callToAction = (\n      widget.settings && widget.settings.call_to_action\n        ? widget.settings.call_to_action\n        : intl.formatMessage({\n          id: 'form-widget.components--form.default.title-text',\n          defaultMessage: 'Clique para configurar seu formulrio...'\n        })\n    ).replace('\\n', '<br/><br/>')\n\n    return configurable ? null : (\n      <h2\n        className='mt0 mb3 center white'\n        dangerouslySetInnerHTML={{__html: callToAction}}\n        style={{ fontFamily: headerFont }}\n      />\n    )\n  }\n\n  renderFields () {\n    const fields = this.fields()\n    return fields.map((field, index) => {\n      return (\n        <Input\n          {...this.props}\n          key={field.uid}\n          uid={field.uid}\n          onBlur={(Number(index) === 0 ? AnalyticsEvents.formIsFilled.bind(AnalyticsEvents) : () => {})}\n          canMoveUp={index !== 0}\n          canMoveDown={index !== fields.length - 1}\n          initializeEditing={this.props.hasNewField && index === fields.length - 1}\n          field={field}\n        />\n      )\n    })\n  }\n\n  renderButton () {\n    const { configurable, widget, intl } = this.props\n    const { loading, success } = this.state\n\n    if (!configurable) {\n      return (\n        <Button\n          {...this.props}\n          buttonText={\n            (widget.settings && widget.settings.button_text) ||\n            intl.formatMessage({\n              id: 'form-widget.components--form.default.button-text',\n              defaultMessage: 'Enviar'\n            })\n          }\n          handleClick={::this.submit}\n          loading={loading}\n          success={success}\n        />\n      )\n    }\n  }\n\n  renderCount () {\n    const { widget: { settings } } = this.props\n    if (!this.props.configurable && settings && settings.count_text) {\n      const {\n        block: { scrollTopReached: startCounting },\n        widget: { form_entries_count: count },\n        mobilization: { body_font: bodyFont }\n      } = this.props\n\n      return (\n        <div className='mt2 h3 center white' style={{ fontFamily: bodyFont }}>\n          <CountUp\n            start={0}\n            end={!isNaN(count) && startCounting ? Number(count) : 0}\n            duration={5}\n          />\n          &nbsp;\n          {settings.count_text}\n        </div>\n      )\n    }\n  }\n\n  renderErrors () {\n    const { errors } = this.state\n\n    return errors.length > 0 && (\n      <div>{errors.map(error => <Error message={error} />)}</div>\n    )\n  }\n\n  renderShareButtons () {\n    const fields = this.fields()\n    let message = ''\n    fields.map((field) => {\n      if (field.kind === 'greetings') {\n        message = field.placeholder\n      }\n    })\n    if (message === '') {\n      const { mobilization, widget } = this.props\n      const { settings: { finish_message_type: finishMessageType } } = widget\n      return finishMessageType === 'custom' ? (\n        <FinishMessageCustom widget={widget} />\n      ) : (\n        <FormTellAFriend mobilization={mobilization} widget={widget} />\n      )\n    } else {\n      return <p className='center p2 bg-darken-3'>{message}</p>\n    }\n  }\n\n  renderForm () {\n    const {\n      editable,\n      configurable,\n      widget: { settings }\n    } = this.props\n    const backgroundColor = settings && settings.main_color\n      ? settings.main_color\n      : 'rgba(0,0,0,0.25)'\n\n    return (\n      <div>\n        <div\n          className={classnames(\n            'rounded',\n            { 'p3 relative': editable || !configurable }\n          )}\n          style={{ backgroundColor: !configurable ? backgroundColor : null }}\n        >\n          {this.renderCallToAction()}\n          {this.renderFields()}\n          {this.renderErrors()}\n          {this.renderButton()}\n        </div>\n      </div>\n    )\n  }\n\n  render () {\n    const { mobilization: { header_font: headerFont } } = this.props\n    const { success } = this.state\n\n    return (\n      <div className={`widget ${headerFont}-header`}>\n        {success ? this.renderShareButtons() : this.renderForm()}\n        {this.renderCount()}\n      </div>\n    )\n  }\n}\n\nForm.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.shape({\n    settings: PropTypes.shape({\n      finish_message_type: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  editable: PropTypes.bool,\n  configurable: PropTypes.bool,\n  hasNewField: PropTypes.bool,\n  intl: intlShape\n}\n\nexport default Form\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/__form__.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst Button = ({\n  success,\n  buttonText,\n  loading,\n  handleClick,\n  mobilization: { body_font: bodyFont }\n}) => (\n  <div style={{ fontFamily: bodyFont }}>\n    <button\n      disabled={loading}\n      className='caps btn bg-darken-4 p2 col-12 mt1 mb2 rounded white'\n      onClick={handleClick}>\n      {loading ? 'Enviando...' : buttonText}\n    </button>\n    {success && (\n      <div className='center'>Sua ao foi registrada com sucesso!</div>\n    )}\n  </div>\n)\n\nButton.propTypes = {\n  success: PropTypes.bool.isRequired,\n  buttonText: PropTypes.string,\n  loading: PropTypes.bool.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  mobilization: PropTypes.object.isRequired\n}\n\nexport default Button\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/button.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\n// Global module dependencies\nimport * as paths from '~client/paths'\nimport { TellAFriend } from '~client/components/share'\n\nconst FormTellAFriend = ({ preview, mobilization, widget }) => (\n  <TellAFriend\n    preview={preview}\n    mobilization={mobilization}\n    widget={widget}\n    message={\n      <FormattedMessage\n        id='form-widget.components--tell-a-friend.message'\n        defaultMessage='Formulrio submetido com sucesso!'\n      />\n    }\n    href={paths.mobilization(mobilization)}\n  />\n)\n\nFormTellAFriend.propTypes = {\n  preview: PropTypes.bool,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired\n}\n\nexport default FormTellAFriend\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/form-tell-a-friend.js","export { default } from './__form__.connected'\nexport { default as Button } from './button'\nexport { default as Input } from './input'\nexport { default as InputForm } from './input-form'\nexport { default as SettingsMenu } from './settings-menu'\nexport { default as FormTellAFriend } from './form-tell-a-friend'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/index.js","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\nimport $ from 'jquery'\n\nimport * as MobActions from '~client/mobrender/redux/action-creators'\n\nexport class InputForm extends Component {\n  constructor (props, context) {\n    super(props, context)\n    const { field } = this.props\n    this.state = {\n      loading: false,\n      kind: field.kind,\n      label: field.label,\n      placeholder: field.placeholder,\n      required: field.required\n    }\n  }\n\n  componentWillAppear () {\n    const { uid } = this.props\n    $('#form-' + uid).hide()\n    $('#form-' + uid).slideDown(200)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { uid } = this.props\n    if (this.state.loading && this.props.field !== nextProps.field) {\n      this.setState({ loading: false })\n      $('#form-' + uid).slideUp(200, () => {\n        this.props.onClose && this.props.onClose()\n      })\n    }\n  }\n\n  dirty () {\n    const { field } = this.props\n    return field.kind !== this.state.kind ||\n           field.label !== this.state.label ||\n           field.placeholder !== this.state.placeholder ||\n           field.required !== this.state.required\n  }\n\n  handleLabelChange (event) {\n    this.setState({label: event.target.value})\n  }\n\n  handlePlaceholderChange (event) {\n    this.setState({placeholder: event.target.value})\n  }\n\n  handleRequiredChange (event) {\n    this.setState({required: event.target.value})\n  }\n\n  handleKindChange (event) {\n    this.setState({kind: event.target.value})\n  }\n\n  updateSettings (newFields) {\n    const { dispatch, widget } = this.props\n    const { settings } = widget\n\n    this.setState({ loading: true })\n    dispatch(MobActions.asyncUpdateWidget({\n      ...widget,\n      settings: { ...settings, fields: newFields }\n    }))\n  }\n\n  handleCancel (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { field, uid } = this.props\n    this.setState({\n      kind: field.kind,\n      label: field.label,\n      placeholder: field.placeholder,\n      required: field.required\n    })\n    $('#form-' + uid).slideUp(200, () => {\n      this.props.onClose && this.props.onClose()\n    })\n  }\n\n  handleSave (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { fields } = this.props.widget.settings\n    const newFields = fields.map((field) => {\n      if (field.uid === this.props.field.uid) {\n        return {\n          uid: field.uid,\n          kind: this.state.kind,\n          label: this.state.label,\n          placeholder: this.state.placeholder,\n          required: this.state.required\n        }\n      } else {\n        return field\n      }\n    })\n    this.updateSettings(newFields)\n  }\n\n  handleMoveUp (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { fields } = this.props.widget.settings\n    const newFields = fields.map((field, index) => {\n      if (index + 1 < fields.length && fields[index + 1].uid === this.props.field.uid) {\n        return this.props.field\n      } else if (field.uid === this.props.field.uid) {\n        return fields[index - 1]\n      } else {\n        return field\n      }\n    })\n    this.updateSettings(newFields)\n  }\n\n  handleMoveDown (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { fields } = this.props.widget.settings\n    const newFields = fields.map((field, index) => {\n      if (index > 0 && fields[index - 1].uid === this.props.field.uid) {\n        return this.props.field\n      } else if (field.uid === this.props.field.uid) {\n        return fields[index + 1]\n      } else {\n        return field\n      }\n    })\n    this.updateSettings(newFields)\n  }\n\n  handleRemove (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    if (confirm(this.props.intl.formatMessage({\n      id: 'form-widget.components--input-form.handle-remove.confirm',\n      defaultMessage: 'Voc tem certeza que quer remover este campo?'\n    }))) {\n      const { fields } = this.props.widget.settings\n      const newFields = fields.filter(field =>\n        field.uid !== this.props.field.uid\n      )\n      this.updateSettings(newFields)\n    }\n  }\n\n  handleOverlayClick (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const dirty = this.dirty()\n    if (!dirty || (dirty && confirm(this.props.intl.formatMessage({\n      id: 'form-widget.components--input-form.handle-overlay-click.confirm',\n      defaultMessage: 'Ao sair sem salvar voc perder suas modificaes. Deseja sair sem salvar?'\n    })))) {\n      this.handleCancel(event)\n    }\n  }\n\n  render () {\n    const { canMoveUp, canMoveDown, uid, intl } = this.props\n    return (\n      <div>\n        <div\n          id={`form-${uid}`}\n          className='p2 mb3 bg-white border border-gray94 clearfix relative rounded z4'\n        >\n          <div className='col col-6'>\n            <div className='table col-12 mb2'>\n              <div className='col-3 table-cell align-middle'>\n                <label className='h5 bold'>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-title.label'\n                    defaultMessage='Ttulo do campo'\n                  />\n                </label>\n              </div>\n              <div className='col-9 table-cell'>\n                <input\n                  className='input m0'\n                  placeholder={intl.formatMessage({\n                    id: 'form-widget.components--input-form.field-title.placeholder',\n                    defaultMessage: 'Ex: Email'\n                  })}\n                  type='text'\n                  value={this.state.label}\n                  onChange={::this.handleLabelChange}\n                />\n              </div>\n            </div>\n\n            <div className='table col-12 mb2'>\n              <div className='col-3 table-cell align-middle'>\n                <label className='h5 bold'>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-helper-text.label'\n                    defaultMessage='Texto de ajuda'\n                  />\n                </label>\n              </div>\n              <div className='col-9 table-cell'>\n                <input\n                  className='input m0'\n                  placeholder={intl.formatMessage({\n                    id: 'form-widget.components--input-form.field-helper-text.placeholder',\n                    defaultMessage: 'Ex: Insira aqui o seu email'\n                  })}\n                  type='text'\n                  value={this.state.placeholder}\n                  onChange={::this.handlePlaceholderChange}\n                />\n              </div>\n            </div>\n\n            <div className='table col-12 mb2'>\n              <div className='col-3 table-cell align-middle'>\n                <label className='h5 bold'>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-type.label'\n                    defaultMessage='Tipo de campo'\n                  />\n                </label>\n              </div>\n              <div className='col-9 table-cell'>\n                <select\n                  className='select m0'\n                  onChange={::this.handleKindChange}\n                  value={this.state.kind}>\n                  <option value='text'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.text'\n                      defaultMessage='Texto'\n                    />\n                  </option>\n                  <option value='email'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.email'\n                      defaultMessage='E-mail'\n                    />\n                  </option>\n                  <option value='number'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.number'\n                      defaultMessage='Nmero'\n                    />\n                  </option>\n                  <option value='dropdown'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.dropdown'\n                      defaultMessage='Dropdown &#9733;'\n                    />\n                  </option>\n                  <option value='greetings'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.greetings'\n                      defaultMessage='Saudao &#9733;'\n                    />\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <div className='table col-12 mb2'>\n              <div className='col-3 table-cell align-meiddle'>\n                <label className='h5 bold'>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-required.label'\n                    defaultMessage='Obrigatrio'\n                  />\n                </label>\n              </div>\n              <div className='col-9 table-cell'>\n                <input\n                  id={`required-true-${uid}`}\n                  type='radio'\n                  name={`required-${uid}`}\n                  value='true'\n                  checked={this.state.required === 'true'}\n                  onChange={::this.handleRequiredChange}\n                />\n                <label className='ml1 mr2' htmlFor={`required-true-${uid}`}>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-required.radio.yes.label'\n                    defaultMessage='Sim'\n                  />\n                </label>\n                <input\n                  id={`required-false-${uid}`}\n                  type='radio'\n                  name={`required-${uid}`}\n                  value='false'\n                  checked={this.state.required === 'false'}\n                  onChange={::this.handleRequiredChange}\n                />\n                <label className='ml1' htmlFor={`required-false-${uid}`}>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-required.radio.no.label'\n                    defaultMessage='No'\n                  />\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div className='col col-6 px3'>\n            <div>\n              <button\n                disabled={!canMoveUp}\n                className='btn btn-no-focus hover'\n                style={{ backgroundColor: 'white', color: '#bbb' }}\n                onClick={::this.handleMoveUp}\n              >\n                <i className='fa fa-chevron-up mr1' />\n                <FormattedMessage\n                  id='form-widget.components--input-form.button-move-up'\n                  defaultMessage='Mover para cima'\n                />\n              </button>\n            </div>\n\n            <div>\n              <button\n                disabled={!canMoveDown}\n                className='btn btn-no-focus hover'\n                style={{ backgroundColor: 'white', color: '#bbb' }}\n                onClick={::this.handleMoveDown}\n              >\n                <i className='fa fa-chevron-down mr1' />\n                <FormattedMessage\n                  id='form-widget.components--input-form.button-move-down'\n                  defaultMessage='Mover para baixo'\n                />\n              </button>\n            </div>\n\n            <div>\n              <button\n                className='btn btn-no-focus hover'\n                style={{ backgroundColor: 'white', color: '#bbb' }}\n                onClick={::this.handleRemove}\n              >\n                <i className='fa fa-trash mr1' />\n                <FormattedMessage\n                  id='form-widget.components--input-form.button-remove'\n                  defaultMessage='Remover'\n                />\n              </button>\n            </div>\n\n            <div className='mt1 ml2'>\n              <button\n                className='btn white caps bg-darken-3 p2 mr2 rounded'\n                onClick={::this.handleCancel}\n              >\n                <FormattedMessage\n                  id='form-widget.components--input-form.button-cancel'\n                  defaultMessage='Cancelar'\n                />\n              </button>\n              <button\n                disabled={this.state.loading}\n                className='btn white caps bg-pagenta p2 mr2 rounded'\n                onClick={::this.handleSave}\n              >\n                {this.state.loading\n                  ? (\n                    <FormattedMessage\n                      id='form-widget.components--input-form.button-save.saving'\n                      defaultMessage='Salvando...'\n                    />\n                  ) : (\n                    <FormattedMessage\n                      id='form-widget.components--input-form.button-save.default'\n                      defaultMessage='Salvar'\n                    />\n                  )\n                }\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className='fixed top-0 right-0 bottom-0 left-0 z3'\n          onClick={::this.handleOverlayClick}\n        />\n      </div>\n    )\n  }\n}\n\nInputForm.propTypes = {\n  intl: intlShape.isRequired\n}\n\nexport default connect()(injectIntl(InputForm))\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/input-form.js","import React, { Component } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport TransitionGroup from 'react-transition-group/TransitionGroup'\nimport classnames from 'classnames'\n\n// Current module dependencies\nimport { InputForm } from '../components'\n\nclass Input extends Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      hasMouseOver: false,\n      editing: this.props.initializeEditing\n    }\n  }\n\n  handleMouseOver () {\n    this.setState({hasMouseOver: true})\n  }\n\n  handleMouseOut () {\n    this.setState({hasMouseOver: false})\n  }\n\n  handleClick () {\n    if (this.props.configurable) {\n      this.setState({editing: true})\n    }\n  }\n\n  handleCloseForm () {\n    this.setState({editing: false})\n  }\n\n  renderForm () {\n    const { uid } = this.props\n    return (\n      <TransitionGroup>\n        <InputForm {...this.props} onClose={::this.handleCloseForm} key={'form-' + uid} />\n      </TransitionGroup>\n    )\n  }\n\n  renderInstructions () {\n    const { configurable } = this.props\n    if (configurable && this.state.hasMouseOver) {\n      return (\n        <div className='right'>\n          <i className='fa fa-pencil-square-o mr1' />\n          <FormattedMessage\n            id='form-widget.components--input.click-to-edit'\n            defaultMessage='Clique para editar'\n          />\n        </div>\n      )\n    }\n  }\n\n  renderFieldKind () {\n    const { field, uid, editable, configurable, onBlur } = this.props\n\n    if (field.kind === 'dropdown') {\n      return (<select\n        id={'input-' + uid}\n        className='select block border border-gray94'\n        style={{\n          cursor: editable || configurable ? 'pointer' : null,\n          borderRadius: '2px',\n          padding: '1rem',\n          display: 'inline-block',\n          height: 'inherit'\n        }}\n      >\n        <option value=''>\n          <FormattedMessage\n            id='form-widget.components--input.field-dropdown.options.default'\n            defaultMessage='Selecione...'\n          />\n        </option>\n        {\n          field.placeholder.split(',').map(function (v, index) {\n            return <option key={`dropdown-option-${index}`}>{v}</option>\n          })\n        }\n      </select>)\n    } else if (field.kind === 'greetings') {\n      return (\n        editable || configurable ? (\n          <p className='block full-width'>\n            <strong>\n              <FormattedMessage\n                id='form-widget.components--input.field-greetings.title'\n                defaultMessage='Mensagem de sucesso alterada para:'\n              />\n            </strong>\n            <br />\n            {field.placeholder}\n          </p>\n        )\n        : null\n      )\n    } else {\n      return (\n        <input\n          id={`input-${uid}`}\n          className='input block border border-gray94'\n          style={{\n            cursor: editable || configurable ? 'pointer' : null,\n            borderRadius: '2px',\n            padding: '1rem'\n          }}\n          onBlur={onBlur}\n          placeholder={field.placeholder}\n          type={field.kind === 'email' ? 'email' : 'text'}\n        />\n      )\n    }\n  }\n\n  renderInput () {\n    const {\n      field,\n      editable,\n      configurable,\n      mobilization: {\n        body_font: bodyFont\n      }\n    } = this.props\n\n    return (\n      <div\n        className='mb2'\n        onMouseEnter={::this.handleMouseOver}\n        onMouseLeave={::this.handleMouseOut}\n        style={{\n          cursor: editable || configurable ? 'pointer' : null,\n          fontFamily: bodyFont\n        }}\n        onClick={::this.handleClick}>\n        <label\n          className={classnames(\n            'caps bold mb1 inline-block',\n            configurable ? 'darkengray' : 'white'\n          )}\n          style={{\n            cursor: editable || configurable ? 'pointer' : null,\n            fontSize: '.75rem',\n            fontWeight: 600,\n            marginBottom: '1rem'\n          }}\n        >\n          {field.label}{field.required === 'true' ? '*' : null}\n        </label>\n        {this.renderInstructions()}\n        {this.renderFieldKind()}\n      </div>\n    )\n  }\n\n  render () {\n    return (this.state.editing ? this.renderForm() : this.renderInput())\n  }\n}\n\nexport default Input\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/input.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport * as paths from '~client/paths'\nimport { Tabs, Tab } from '~client/components/navigation/tabs'\nimport { SettingsPageMenuLayout } from '~client/components/layout'\n\nconst SettingsMenu = ({ mobilization, widget, location }) => {\n  const fieldsPath = paths.fieldsMobilizationWidget(mobilization.id, widget.id)\n  const formPath = paths.formMobilizationWidget(mobilization.id, widget.id)\n  const formAutofirePath = paths.formAutofire(mobilization.id, widget.id)\n  const formExportPath = paths.formExport(mobilization.id, widget.id)\n  const finishPath = paths.widgetFormSettingsFinish(mobilization.id, widget.id)\n\n  return (\n    <SettingsPageMenuLayout\n      title={\n        <FormattedMessage\n          id='form-widget.components--settings-menu.title'\n          defaultMessage='Configure o formulrio da sua ao'\n        />\n      }\n    >\n      <Tabs>\n        <Tab\n          path={formPath}\n          isActive={formPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.adjusts'\n              defaultMessage='Ajustes'\n            />\n          }\n        />\n        <Tab\n          path={fieldsPath}\n          isActive={fieldsPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.fields'\n              defaultMessage='Campos do formulrio'\n            />\n          }\n        />\n        <Tab\n          path={formAutofirePath}\n          isActive={formAutofirePath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.autofire'\n              defaultMessage='Mensagem agradecimento'\n            />\n          }\n        />\n        <Tab\n          path={formExportPath}\n          isActive={formExportPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.report'\n              defaultMessage='Relatrio'\n            />\n          }\n        />\n        <Tab\n          path={finishPath}\n          isActive={finishPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.post-action'\n              defaultMessage='Ps-inscrio'\n            />\n          }\n        />\n      </Tabs>\n    </SettingsPageMenuLayout>\n  )\n}\n\nSettingsMenu.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired\n}\n\nexport default SettingsMenu\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/settings-menu.js","const prefix = (mobilizationId, widgetId, slug) =>\n  `/mobilizations/${mobilizationId}/widgets/${widgetId}/${slug}`\n\nexport const formMobilizationWidget = (mid, wid) => prefix(mid, wid, 'form')\nexport const formAutofire = (mid, wid) => prefix(mid, wid, 'form/autofire')\nexport const formExport = (mid, wid) => prefix(mid, wid, 'form/export')\nexport const fieldsMobilizationWidget = (mid, wid) => prefix(mid, wid, 'form/fields')\nexport const widgetFormSettingsFinish = (mid, wid) => prefix(mid, wid, 'form/finish')\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/paths.js","export { default as Pressure } from './pressure/components'\nexport { default as Form } from './form/components'\nexport { default as Content } from './content/components'\nexport { default as Donation } from './donation/components'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/index.js","/* eslint-disable prefer-promise-reject-errors */\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport MobSelectors from '~client/mobrender/redux/selectors'\nimport * as t from '../action-types'\nimport * as MobActionTypes from '~client/mobrender/redux/action-types'\nimport { createAction } from './create-action'\n\n//\n// The name of this action needs to be refactored to make more sense.\n// Besides to have to refact this action name, needs to refact\n// API endpoint too.\n//\nconst asyncFillWidget = ({ payload: fill, widget }) => (dispatch, getState, { api }) => {\n  const state = getState()\n\n  // For endpoint reference, see: https://github.com/ourcities/hub-api/issues/39\n  const endpoint = `/widgets/${widget.id}/fill`\n  const body = { fill }\n\n  dispatch({ type: t.WIDGET_PRESSURE_FILL_REQUEST })\n  return api.post(endpoint, body)\n    .then(({ data }) => {\n      dispatch(createAction(t.WIDGET_PRESSURE_FILL_SUCCESS, widget.id))\n      dispatch(createAction(\n        MobActionTypes.UPDATE_WIDGET_SUCCESS,\n        updateWidget(state, data)\n      ))\n\n      AnalyticsEvents.pressureSavedData()\n\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      dispatch(createAction(t.WIDGET_PRESSURE_FILL_FAILURE, failure))\n      return Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\nconst updateWidget = (state, payload) => {\n  const { widget_id: id, count } = payload\n  const widget = MobSelectors(state).getWidget(id)\n  return { ...widget, count }\n}\n\nexport default asyncFillWidget\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/action-creators/async-fill-widget.js","export const createAction = (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/action-creators/create-action.js","export { default as asyncFillWidget } from './async-fill-widget'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/action-creators/index.js","export const WIDGET_PRESSURE_FILL_REQUEST = 'WIDGET_PRESSURE_FILL_REQUEST'\nexport const WIDGET_PRESSURE_FILL_SUCCESS = 'WIDGET_PRESSURE_FILL_SUCCESS'\nexport const WIDGET_PRESSURE_FILL_FAILURE = 'WIDGET_PRESSURE_FILL_FAILURE'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/action-types.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { browserHistory } from 'react-router'\nimport { client as graphqlClient } from '~client/store'\nimport * as graphqlMutations from '~client/graphql/mutations'\nimport * as graphqlQueries from '~client/graphql/queries'\nimport * as pressureHelper from '~client/mobilizations/widgets/utils/pressure-helper'\nimport * as paths from '~client/paths'\nimport * as array from '~client/utils/array'\nimport MobSelectors from '~client/mobrender/redux/selectors'\nimport * as PressureActions from '../action-creators'\nimport { WidgetOverlay, FinishMessageCustom } from '~client/mobilizations/widgets/components'\nimport { PressureCount, PressureForm, TargetList, PressureTellAFriend } from '../components'\n\n/* TODO: Change static content by props\n * - title\n * - bgColor\n */\nexport class Pressure extends Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      filled: false,\n      selectedTargets: [],\n      selectedTargetsError: undefined,\n      callTransition: undefined,\n      observableQuery: undefined,\n      addTwilioCallMutation: undefined,\n      // TODO: receive from widget settings\n      selectableTargetList: false,\n      phonePressureCount: undefined,\n      showFinishMessage: false\n    }\n  }\n\n  componentWillMount () {\n    const isPressurePhone = pressureHelper.getType(this.getTargetList()) === pressureHelper.PRESSURE_TYPE_PHONE\n    const hasCounter = !!this.props.widget.settings.count_text\n    if (hasCounter && isPressurePhone) {\n      graphqlClient().query({\n        query: graphqlQueries.CountTwilioCallsByWidget,\n        variables: { widgetId: this.props.widget.id }\n      })\n        .then(({ data: { allTwilioCalls: { totalCount: phonePressureCount } } }) => {\n          this.setState({ phonePressureCount })\n        })\n        .catch(err => console.error(err))\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({ filled: this.props.saving && !nextProps.saving })\n  }\n\n  getTargetList () {\n    const { targets } = this.props.widget.settings || { targets: '' }\n    return targets && targets.split(';').filter(target => !!target.trim())\n  }\n\n  getEmailTarget (target) {\n    const targetSplit = target.split('<')\n    return targetSplit[1].replace('>', '')\n  }\n\n  changeSelectedTargets (selectedTargets) {\n    this.setState({ selectedTargets })\n  }\n\n  changeState (state) {\n    this.setState(state)\n  }\n\n  handleSubmit (data) {\n    if (data.pressureType === pressureHelper.PRESSURE_TYPE_EMAIL) {\n      const { widget, asyncFillWidget } = this.props\n      const payload = {\n        activist: {\n          firstname: data.name,\n          lastname: data.lastname,\n          email: data.email,\n          city: data.city || null\n        },\n        mail: {\n          cc: this.getTargetList().map(target => this.getEmailTarget(target)),\n          subject: data.subject,\n          body: data.body\n        }\n      }\n      asyncFillWidget({ payload, widget })\n    } else if (data.pressureType === pressureHelper.PRESSURE_TYPE_PHONE) {\n      if (!this.state.selectedTargets.length && this.state.selectableTargetList) {\n        this.setState({\n          selectedTargetsError:\n            'Ops, voc precisa selecionar pelo menos um alvo para poder pressionar'\n        })\n      } else {\n        // normalize phone number with + sign (e.g. +5511987654321)\n        data.phone = /^\\+/.test(data.phone) ? data.phone : `+${data.phone}`\n\n        this.setState({ selectedTargetsError: undefined })\n\n        // it needs to find or create the activist data\n        const addTwilioCallMutation = variables => {\n          this.state.phonePressureCount && ++this.state.phonePressureCount\n          return graphqlClient().mutate({\n            mutation: graphqlMutations.addTwilioCall,\n            variables\n          })\n        }\n\n        addTwilioCallMutation({\n          widgetId: this.props.widget.id,\n          communityId: this.props.mobilization.community_id,\n          from: data.phone,\n          to: this.getEmailTarget(array.shuffle(this.getTargetList())[0])\n        }).then(() => {\n          if (!this.state.observableQuery) {\n            const observableQuery = graphqlClient({ ssrMode: false }).watchQuery({\n              pollInterval: 2000,\n              query: graphqlQueries.watchTwilioCallTransitions,\n              variables: { widgetId: this.props.widget.id, from: data.phone }\n            })\n            observableQuery.subscribe({\n              next: ({ data: { watchTwilioCallTransitions: callTransition } }) => {\n                this.setState({ callTransition })\n              }\n            })\n            this.setState({ observableQuery })\n          }\n        })\n\n        if (!this.state.addTwilioCallMutation) {\n          this.setState({ addTwilioCallMutation })\n        }\n      }\n    }\n  }\n\n  handleOverlayOnClick (e) {\n    const { mobilization, widget, editable } = this.props\n    if (editable) {\n      if (e) e.preventDefault()\n      browserHistory.push(\n        paths.pressure(mobilization.id, widget.id)\n      )\n    }\n  }\n\n  render () {\n    const {\n      block,\n      widget,\n      editable,\n      saving,\n      filledPressureWidgets,\n      mobilization\n    } = this.props\n    const { header_font: headerFont } = mobilization\n    const {\n      main_color: mainColor,\n      call_to_action: callToAction,\n      title_text: titleText,\n      button_text: buttonText,\n      // Maybe `reply_email` is necessary...\n      // reply_email,\n      count_text: countText,\n      pressure_subject: pressureSubject,\n      pressure_body: pressureBody,\n      finish_message_type: finishMessageType,\n      disable_edit_field: disableEditField\n    } = widget.settings || {\n      main_color: '#f23392',\n      title_text: 'Envie um e-mail para quem pode tomar essa deciso',\n      button_text: 'Enviar e-mail',\n      disable_edit_field: 'n'\n    }\n\n    return (\n      <WidgetOverlay\n        editable={editable}\n        onClick={::this.handleOverlayOnClick}\n        text='Clique para configurar o formulrio de presso direta'\n      >\n        {filledPressureWidgets.includes(widget.id) || this.state.showFinishMessage ? (\n          finishMessageType === 'custom' ? (\n            <FinishMessageCustom widget={widget} />\n          ) : (\n            <PressureTellAFriend mobilization={mobilization} widget={widget} />\n          )\n        ) : (\n          <div className='pressure-widget'>\n            <div onKeyDown={(e) => e.stopPropagation()} />\n            <h2\n              className='center py2 px3 m0 white rounded-top'\n              style={{ backgroundColor: mainColor, fontFamily: headerFont }}\n            >\n              {callToAction || titleText}\n            </h2>\n            <TargetList\n              targets={::this.getTargetList() || []}\n              onSelect={::this.changeSelectedTargets}\n              errorMessage={this.state.selectedTargetsError}\n              selectable={this.selectableTargetList}\n            />\n            <PressureForm\n              disabled={disableEditField === 's'}\n              widget={widget}\n              mobilization={mobilization}\n              buttonText={(saving && !editable ? 'Enviando...' : buttonText)}\n              buttonColor={mainColor}\n              subject={pressureSubject}\n              body={pressureBody}\n              onSubmit={::this.handleSubmit}\n              targetList={this.getTargetList()}\n              selectedTargets={this.selectedTargets}\n              callTransition={this.state.callTransition}\n              addTwilioCallMutation={this.state.addTwilioCallMutation}\n              changeParentState={::this.changeState}\n            >\n              {countText && (\n                <PressureCount\n                  value={this.state.phonePressureCount || widget.count || 0}\n                  color={mainColor}\n                  text={countText}\n                  startCounting={block.scrollTopReached}\n                />\n              )}\n            </PressureForm>\n          </div>\n        )}\n      </WidgetOverlay>\n    )\n  }\n}\n\nPressure.propTypes = {\n  editable: PropTypes.bool,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.shape({\n    settings: PropTypes.shape({\n      finish_message_type: PropTypes.string,\n      finish_message: PropTypes.string,\n      finish_message_background: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  saving: PropTypes.bool,\n  filledPressureWidgets: PropTypes.array,\n  // Actions\n  asyncFillWidget: PropTypes.func\n}\n\nconst mapStateToProps = (state, props) => {\n  const pressure = MobSelectors(state, props).getPlugin('pressure')\n  const { saving, filledPressureWidgets } = pressure\n  return { saving, filledPressureWidgets }\n}\n\nconst mapDispatchToProps = { ...PressureActions }\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pressure)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/__pressure__.js","export { default } from './__pressure__'\nexport { default as PressureCount } from './pressure-count'\nexport { default as PressureForm } from './pressure-form'\nexport { default as PressureTellAFriend } from './pressure-tell-a-friend'\nexport { default as TargetList } from './target-list'\nexport { default as SettingsBase } from './settings-base'\nexport { default as SettingsMenu } from './settings-menu'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport CountUp from 'react-countup'\n\nconst PressureCount = ({ value, color, text, startCounting }) => {\n  /* TODO: support all browser\n   * -webkit-box-shadow: inset 0px 15px 18px -10px rgba(227,224,227,1);\n   * -moz-box-shadow: inset 0px 15px 18px -10px rgba(227,224,227,1);\n   * box-shadow: inset 0px 15px 18px -10px rgba(227,224,227,1);\n   */\n  const pressureCount = {\n    boxShadow: 'inset 0px 15px 18px -10px rgba(227,224,227,1)'\n  }\n  return (\n    <div className='pressure-count p3 bg-white rounded-bottom' style={pressureCount}>\n      <p className='center m0'>\n        <div className='h1' style={{ color }}>\n          <CountUp\n            start={0}\n            end={!isNaN(value) && startCounting ? Number(value) : 0}\n            duration={5}\n          />\n        </div>\n        <span className='black bold h3 ml1'>\n          {text || (\n            <FormattedMessage\n              id='c--pressure-count.text.default'\n              defaultMessage='presses feitas'\n            />\n          )}\n        </span>\n      </p>\n    </div>\n  )\n}\n\nPressureCount.propTypes = {\n  value: PropTypes.number,\n  color: PropTypes.string,\n  text: PropTypes.string,\n  startCounting: PropTypes.bool\n}\n\nPressureCount.defaultProps = {\n  value: 0,\n  startCounting: false\n}\n\nexport default PressureCount\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-count.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\nimport * as pressureHelper from '~client/mobilizations/widgets/utils/pressure-helper'\nimport { isValidEmail, isValidPhoneE164 } from '~client/utils/validation-helper'\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\n\nif (require('exenv').canUseDOM) {\n  require('./index.scss')\n  require('./phone-calls.scss')\n}\n\n// TODO: Reusable Input\nconst controlClassname = 'px3 py1'\nconst inputReset = {\n  border: 'none',\n  padding: '0',\n  height: '2rem',\n  outline: 'none'\n}\n\nconst parseTarget = target => {\n  const targetSplit = target.split('<')\n  const valid = targetSplit.length === 2\n  return valid ? { name: targetSplit[0].trim(), value: targetSplit[1].replace('>', '') } : null\n}\n\nclass RealtimeCallDuration extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { duration: 0, interval: undefined }\n  }\n\n  timer () {\n    this.setState({ duration: this.state.duration + 1 })\n  }\n\n  componentDidMount () {\n    this.setState({ interval: setInterval(this.timer.bind(this), 1000) })\n  }\n\n  componentWillUnmount () {\n    clearInterval(this.state.interval)\n  }\n\n  render () {\n    return <span>{`${this.state.duration}s`}</span>\n  }\n}\n\nclass PressureForm extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      email: '',\n      phone: '',\n      name: '',\n      lastname: '',\n      city: '',\n      subject: props.subject,\n      body: props.body,\n      pressureType: pressureHelper.getType(props.targetList) || undefined,\n      callManagement: undefined\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    if (!this.props.callTransition && props.targetList && props.targetList.length) {\n      this.setState({\n        callManagement: props.targetList.map(target => ({\n          ...parseTarget(target),\n          attempts: 0\n        }))\n      })\n    }\n\n    if (\n      props.callTransition &&\n      props.targetList &&\n      props.targetList.length &&\n      JSON.stringify(this.props.callTransition) !== JSON.stringify(props.callTransition)\n    ) {\n      this.setState({\n        callManagement: this.state.callManagement.map((target, index) => {\n          const isCallToCurrentTarget = target.value === props.callTransition.twilioCallTo\n          const transition = isCallToCurrentTarget ? props.callTransition : {}\n          const { twilioCallTransitionStatus: status } = transition\n          const isFailStatus = ['busy', 'failed', 'no-answer'].includes(status)\n\n          let attempts = this.state.callManagement[index].attempts\n          if (isCallToCurrentTarget && isFailStatus) attempts++\n\n          return { ...target, ...transition, attempts }\n        })\n      })\n    }\n  }\n\n  validate () {\n    const { targetList, widget: { settings: { show_city: showCity } }, intl } = this.props\n    const requiredMsg = intl.formatMessage({\n      id: 'pressure-widget.components--pressure-form.validation.required',\n      defaultMessage: 'Preenchimento obrigatrio'\n    })\n    const errors = { valid: true }\n\n    if (this.state.pressureType === pressureHelper.PRESSURE_TYPE_EMAIL) {\n      if (!this.state.email) {\n        errors.email = requiredMsg\n      } else if (!isValidEmail(this.state.email)) {\n        errors.email = intl.formatMessage({\n          id: 'pressure-widget.components--pressure-form.email.validation.invalid-email-format',\n          defaultMessage: 'E-mail invlido'\n        })\n      } else if (targetList && targetList.some(target => target.match(`<${this.state.email}>`))) {\n        errors.email = intl.formatMessage({\n          id: 'pressure-widget.components--pressure-form.email.validation.sender-is-target',\n          defaultMessage: 'O email que voc est tentando usar  de um dos alvos da mobilizao.'\n        })\n      }\n      if (!this.state.subject) {\n        errors.subject = requiredMsg\n      }\n      if (!this.state.body) {\n        errors.body = requiredMsg\n      }\n    }\n    if (this.state.pressureType === pressureHelper.PRESSURE_TYPE_PHONE) {\n      const { phone } = this.state\n      const phoneE164 = /^\\+/.test(phone) ? phone : `+${phone}`\n      if (!phone) {\n        errors.phone = requiredMsg\n      } else if (!isValidPhoneE164(phoneE164)) {\n        if ([11, 12].includes(phoneE164.length)) {\n          errors.phone = intl.formatMessage({\n            id: 'pressure-widget.components--pressure-form.phone.validation.ddd',\n            defaultMessage: 'Informe o cdigo do pas e o DDD com dois dgitos. Ex: +5511'\n          })\n        } else {\n          errors.phone = intl.formatMessage({\n            id: 'pressure-widget.components--pressure-form.phone.validation.invalid',\n            defaultMessage: 'Telefone invlido'\n          })\n        }\n      } else if (\n        targetList &&\n        targetList.some(\n          target => target.replace(/\\D/g, '')\n            .match(`${this.state.phone.replace(/\\D/g, '')}`)\n        )\n      ) {\n        errors.phone = intl.formatMessage({\n          id: 'pressure-widget.components--pressure-form.phone.validation.caller-is-target',\n          defaultMessage: 'O telefone que voc est tentando usar  de um dos alvos da mobilizao.'\n        })\n      }\n    }\n    if (!this.state.name) {\n      errors.name = requiredMsg\n    }\n    if (!this.state.lastname) {\n      errors.lastname = requiredMsg\n    }\n    if (showCity === 'city-true' && !this.state.city) {\n      errors.city = requiredMsg\n    }\n\n    if (Object.keys(errors).length > 1) {\n      errors.valid = false\n    }\n    return errors\n  }\n\n  handleSubmit (e) {\n    e.preventDefault()\n    const { onSubmit } = this.props\n    const errors = this.validate()\n\n    this.setState({ errors })\n    if (errors.valid) onSubmit && onSubmit(this.state)\n  }\n\n  render () {\n    const {\n      callTransition,\n      buttonColor,\n      buttonText,\n      children,\n      widget,\n      disabled,\n      addTwilioCallMutation,\n      intl\n    } = this.props\n    const {\n      email, phone, name, lastname, city, subject, body, errors,\n      callManagement\n    } = this.state\n\n    return (\n      <form\n        className={classnames(\n          'pressure-form',\n          { 'is-calling': !!callTransition }\n        )}\n        onSubmit={::this.handleSubmit}\n      >\n        <div\n          className={classnames(\n            'activist-form bg-white',\n            !children ? 'rounded-bottom' : null\n          )}\n        >\n          <div className='form bg-white rounded-bottom'>\n            {this.state.pressureType === 'email' && (\n              <div className={classnames('form-group', controlClassname)}>\n                <label className='py1 gray' htmlFor='pressure-sender-email-id'>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.email.label'\n                    defaultMessage='E-mail'\n                  />\n                  {(errors && errors['email'] && <span className='error'>{errors['email']}</span>)}\n                </label>\n                <input\n                  id='pressure-sender-email-id'\n                  className='col-12'\n                  style={inputReset}\n                  onBlur={::AnalyticsEvents.pressureIsFilled}\n                  type='email'\n                  placeholder={intl.formatMessage({\n                    id: 'pressure-widget.components--pressure-form.email.placeholder',\n                    defaultMessage: 'Insira seu e-mail'\n                  })}\n                  value={email}\n                  onChange={e => this.setState({ email: e.target.value })}\n                />\n              </div>\n            )}\n            {this.state.pressureType === 'phone' && (\n              <div className={classnames('form-group', controlClassname)}>\n                <label className='py1 gray' htmlFor='pressure-sender-phone-id'>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.phone.label'\n                    defaultMessage='Telefone'\n                  />\n                  {(errors && errors['phone'] && <span className='error'>{errors['phone']}</span>)}\n                </label>\n                <input\n                  id='pressure-sender-phone-id'\n                  className='col-12'\n                  style={inputReset}\n                  onBlur={::AnalyticsEvents.pressureIsFilled}\n                  type='text'\n                  placeholder={intl.formatMessage({\n                    id: 'pressure-widget.components--pressure-form.phone.placeholder',\n                    defaultMessage: 'Insira seu telefone. Ex: +5511987654321'\n                  })}\n                  value={phone}\n                  onChange={e => this.setState({ phone: e.target.value })}\n                />\n              </div>\n            )}\n            <div className={classnames('form-group', controlClassname)}>\n              <label className='py1 gray' htmlFor='pressure-sender-firstname-id'>\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.name.label'\n                  defaultMessage='Nome'\n                />\n                {(errors && errors['name'] && <span className='error'>{errors['name']}</span>)}\n              </label>\n              <input\n                id='pressure-sender-firstname-id'\n                className='col-12'\n                style={inputReset}\n                type='text'\n                placeholder={intl.formatMessage({\n                  id: 'pressure-widget.components--pressure-form.name.placeholder',\n                  defaultMessage: 'Insira seu nome'\n                })}\n                value={name}\n                onChange={e => this.setState({ name: e.target.value })}\n              />\n            </div>\n            <div className={classnames('form-group', controlClassname)}>\n              <label className='py1 gray' htmlFor='pressure-sender-lastname-id'>\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.lastname.label'\n                  defaultMessage='Sobrenome'\n                />\n                {(errors && errors['lastname'] && <span className='error'>{errors['lastname']}</span>)}\n              </label>\n              <input\n                id='pressure-sender-lastname-id'\n                className='col-12'\n                style={inputReset}\n                type='text'\n                placeholder={intl.formatMessage({\n                  id: 'pressure-widget.components--pressure-form.lastname.placeholder',\n                  defaultMessage: 'Insira seu sobrenome'\n                })}\n                value={lastname}\n                onChange={e => this.setState({ lastname: e.target.value })}\n              />\n            </div>\n            {\n              !widget.settings.show_city || widget.settings.show_city !== 'city-true' ? null : (\n                <div className={classnames('form-group', controlClassname)}>\n                  <label className='py1 gray' htmlFor='pressure-sender-city-id'>\n                    <FormattedMessage\n                      id='pressure-widget.components--pressure-form.city.label'\n                      defaultMessage='Cidade'\n                    />\n                    {(errors && errors['city'] && <span className='error'>{errors['city']}</span>)}\n                  </label>\n                  <input\n                    className='col-12'\n                    style={inputReset}\n                    type='text'\n                    placeholder={intl.formatMessage({\n                      id: 'pressure-widget.components--pressure-form.city.placeholder',\n                      defaultMessage: 'Insira sua cidade'\n                    })}\n                    value={city}\n                    onChange={e => this.setState({ city: e.target.value })}\n                  />\n                </div>\n              )\n            }\n            {this.state.pressureType === 'email' && (\n              <div className={classnames('form-group', controlClassname)}>\n                <label className='py1 gray' htmlFor='pressure-subject-id'>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.subject.label'\n                    defaultMessage='Assunto'\n                  />\n                  {(errors && errors['subject'] && <span className='error'>{errors['subject']}</span>)}\n                </label>\n                <input\n                  id='pressure-subject-id'\n                  className='col-12'\n                  style={inputReset}\n                  type='text'\n                  value={subject}\n                  disabled={disabled}\n                  onChange={e => this.setState({ subject: e.target.value })}\n                />\n              </div>\n            )}\n            {this.state.pressureType === 'email' && (\n              <div className={classnames('form-group', controlClassname)}>\n                <label className='py1 gray' htmlFor='pressure-body-id'>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.body.label'\n                    defaultMessage='Corpo do e-mail'\n                  />\n                  {(errors && errors['body'] && <span className='error'>{errors['body']}</span>)}\n                </label>\n                <textarea\n                  id='pressure-body-id'\n                  className='col-12 mt1'\n                  style={{...inputReset, height: '7rem'}}\n                  value={body}\n                  disabled={disabled}\n                  onChange={e => this.setState({ body: e.target.value })}\n                />\n              </div>\n            )}\n          </div>\n          <div className='pt1 pb3 px3'>\n            <button\n              type='submit'\n              onClick={::this.handleSubmit}\n              className='btn caps white col-12 py2 rounded'\n              style={{ backgroundColor: buttonColor }}\n            >\n              {buttonText}\n            </button>\n          </div>\n        </div>\n\n        {this.state.pressureType === 'phone' && (\n          <div className='phone-calls'>\n            <ul>\n              {callManagement && callManagement.length && callManagement.map(target => {\n                const {\n                  name,\n                  value,\n                  attempts,\n                  twilioCallTo: to,\n                  twilioCallTransitionStatus: status,\n                  twilioCallTransitionCallDuration: duration\n                } = target\n                let ListItem = <div />\n\n                if (to === value) {\n                  if (status === 'completed') {\n                    ListItem = (\n                      <li className='success'>\n                        <div className='flex-container'>\n                          <div className='call-item'>\n                            <div>\n                              <i className='fa fa-phone-square' />\n                            </div>\n                            <div className='target-name'>{name}</div>\n                          </div>\n                          <div className='finish'>\n                            {duration}s\n                            <i className='fa fa-check-circle' />\n                          </div>\n                        </div>\n                      </li>\n                    )\n                  } else if (['initiated', 'ringing', 'in-progress'].includes(status)) {\n                    ListItem = (\n                      <li className='warning'>\n                        <div className='flex-container'>\n                          <div className='call-item'>\n                            <div>\n                              <span className='fa fa-phone ring' />\n                            </div>\n                            <div className='target-name-two'>\n                              <span>{name}</span>\n                              <FormattedMessage\n                                id='pressure-widget.components--pressure-form.phone-calls.ringing'\n                                defaultMessage='Chamada em andamento'\n                              />\n                            </div>\n                          </div>\n                          <div className='inline-container'>\n                            <div className='prefix'>\n                              {status === 'in-progress' && <RealtimeCallDuration />}\n                            </div>\n                          </div>\n                        </div>\n                      </li>\n                    )\n                  } else if (['busy', 'failed', 'no-answer'].includes(status)) {\n                    ListItem = (\n                      <li className='danger'>\n                        <div className='flex-container'>\n                          <div className='call-item'>\n                            <span className='fa fa-phone-square' />\n                            <div className='target-name'>{name}</div>\n                          </div>\n                          <div className='finish'>\n                            3x\n                            <span className='fa fa-times-circle' />\n                          </div>\n                        </div>\n                      </li>\n                    )\n                    if (attempts < 0) {\n                      ListItem = (\n                        <li className='danger'>\n                          <div className='flex-container'>\n                            <div className='call-item'>\n                              <span className='fa fa-phone-square' />\n                              <div className='target-name'>{name}</div>\n                            </div>\n                            <div className='inline-container'>\n                              <div className='prefix'>\n                                {attempts}x\n                              </div>\n                              <button\n                                className='btn-call outlined'\n                                onClick={e => {\n                                  e.preventDefault()\n                                  addTwilioCallMutation({\n                                    widgetId: this.props.widget.id,\n                                    communityId: this.props.mobilization.community_id,\n                                    from: this.state.phone,\n                                    to: value\n                                  })\n                                }}\n                              >\n                                <FormattedMessage\n                                  id='pressure-widget.components--pressure-form.phone-calls.retry'\n                                  defaultMessage='Religar'\n                                />\n                              </button>\n                            </div>\n                          </div>\n                        </li>\n                      )\n                    }\n                  }\n                } else {\n                  ListItem = (\n                    <li>\n                      <div className='flex-container'>\n                        <div className='call-item'>\n                          <span className='fa fa-phone-square primary' />\n                          <div className='target-name'>{name}</div>\n                        </div>\n                        <button\n                          className='btn-call primary'\n                          type='button'\n                          onClick={e => {\n                            e.preventDefault()\n                            addTwilioCallMutation({\n                              widgetId: this.props.widget.id,\n                              communityId: this.props.mobilization.community_id,\n                              from: this.state.phone,\n                              to: value\n                            })\n                          }}\n                        >\n                          <FormattedMessage\n                            id='pressure-widget.components--pressure-form.phone-calls.call'\n                            defaultMessage='Ligar'\n                          />\n                        </button>\n                      </div>\n                    </li>\n                  )\n                }\n                return ListItem\n              })}\n            </ul>\n\n            <div className='how-it-works'>\n              <FormattedMessage\n                id='pressure-widget.components--pressure-form.phone.how-it-works.title'\n                defaultMessage='Como funciona?'\n              />\n              <ol>\n                <li>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.phone.how-it-works.list-item-01'\n                    defaultMessage='Estamos ligando para o seu alvo'\n                  />\n                </li>\n                <li>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.phone.how-it-works.list-item-02'\n                    defaultMessage='Assim que algum atender do lado de l, vamos te ligar'\n                  />\n                </li>\n                <li>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.phone.how-it-works.list-item-03'\n                    defaultMessage='Quando voc atender, conectamos as ligaes'\n                  />\n                </li>\n                <li>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.phone.how-it-works.list-item-04'\n                    defaultMessage='Agora  com voc!'\n                  />\n                </li>\n              </ol>\n            </div>\n\n            <div style={{ margin: '1rem 0', padding: '0 1rem' }}>\n              <button\n                type='button'\n                className='btn-call full-width'\n                style={{ backgroundColor: buttonColor }}\n                onClick={e => {\n                  e.preventDefault()\n                  this.props.changeParentState({ showFinishMessage: true })\n                }}\n              >\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.phone.finish-and-share'\n                  defaultMessage='Encerrar e Compartilhar'\n                />\n              </button>\n            </div>\n          </div>\n        )}\n        {children}\n      </form>\n    )\n  }\n}\n\nPressureForm.propTypes = {\n  onSubmit: PropTypes.func,\n  buttonColor: PropTypes.string,\n  buttonText: PropTypes.string,\n  subject: PropTypes.string,\n  body: PropTypes.string,\n  mobilization: PropTypes.object,\n  widget: PropTypes.object,\n  changeParentState: PropTypes.func.isRequired,\n  intl: intlShape\n}\n\nPressureForm.defaultProps = {\n  subject: '',\n  body: '',\n  changeParentState: () => {}\n}\n\nexport default injectIntl(PressureForm)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.scss\n// module id = ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.scss\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/phone-calls.scss\n// module id = ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/phone-calls.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport { TellAFriend } from '~client/components/share'\n\nconst PressureTellAFriend = ({ preview, mobilization, widget }) => (\n  <TellAFriend\n    preview={preview}\n    mobilization={mobilization}\n    widget={widget}\n    message={\n      <FormattedMessage\n        id='pressure-widget--tell-a-friend.message'\n        defaultMessage='Presso enviada'\n      />\n    }\n  />\n)\n\nPressureTellAFriend.propTypes = {\n  preview: PropTypes.bool,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired\n}\n\nexport default PressureTellAFriend\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-tell-a-friend.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\n// Global module dependencies\nimport { SettingsPageLayout } from '~client/components/layout'\n\n// Current module dependencies\nimport { SettingsMenu } from '~client/mobilizations/widgets/__plugins__/pressure/components'\n\nconst SettingsBase = ({ children, location, mobilization, widget }) => (\n  <SettingsPageLayout>\n    <SettingsMenu\n      location={location}\n      mobilization={mobilization}\n      widget={widget}\n    />\n    {children}\n  </SettingsPageLayout>\n)\n\nSettingsBase.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string\n  }).isRequired,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired\n}\n\nexport default SettingsBase\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/settings-base.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport * as paths from '~client/paths'\nimport { Tabs, Tab } from '~client/components/navigation/tabs'\nimport { SettingsPageMenuLayout } from '~client/components/layout'\n\nconst SettingsMenu = ({ location, mobilization, widget }) => {\n  const pressurePath = paths.pressure(mobilization.id, widget.id)\n  const pressureEmailPath = paths.pressureEmail(mobilization.id, widget.id)\n  const pressureAutofirePath = paths.pressureAutofire(mobilization.id, widget.id)\n  const pressureFinishPath = paths.pressureFinish(mobilization.id, widget.id)\n\n  return (\n    <SettingsPageMenuLayout\n      title={\n        <FormattedMessage\n          id='pressure-widget.components--settings-menu.title'\n          defaultMessage='Configure seu formulrio de presso'\n        />\n      }\n    >\n      <Tabs>\n        <Tab\n          path={pressurePath}\n          isActive={pressurePath === location.pathname}\n          text={\n            <FormattedMessage\n              id='pressure-widget.components--settings-menu.items.form'\n              defaultMessage='Ajustes'\n            />\n          }\n        />\n        <Tab\n          path={pressureEmailPath}\n          isActive={pressureEmailPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='pressure-widget.components--settings-menu.items.pressure-email'\n              defaultMessage='E-mail para alvo'\n            />\n          }\n        />\n        {widget.kind !== 'pressure-phone' && (\n          <Tab\n            path={pressureAutofirePath}\n            isActive={pressureAutofirePath === location.pathname}\n            text={\n              <FormattedMessage\n                id='pressure-widget.components--settings-menu.items.autofire'\n                defaultMessage='Mensagem de agradecimento'\n              />\n            }\n          />\n        )}\n        <Tab\n          path={pressureFinishPath}\n          isActive={pressureFinishPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='pressure-widget.components--settings-menu.items.post-action'\n              defaultMessage='Ps-presso'\n            />\n          }\n        />\n      </Tabs>\n    </SettingsPageMenuLayout>\n  )\n}\n\nSettingsMenu.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string\n  }).isRequired,\n  mobilization: PropTypes.shape({\n    id: PropTypes.number.isRequired\n  }).isRequired,\n  widget: PropTypes.shape({\n    id: PropTypes.number.isRequired\n  }).isRequired\n}\n\nexport default SettingsMenu\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/settings-menu.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport * as array from '~client/utils/array'\nimport * as pressureHelper from '~client/mobilizations/widgets/utils/pressure-helper'\n\nif (require('exenv').canUseDOM) require('./index.scss')\n\nconst parseTarget = target => {\n  const targetSplit = target.split('<')\n  const valid = targetSplit.length === 2\n  return valid ? { name: targetSplit[0].trim(), value: targetSplit[1].replace('>', '') } : null\n}\n\nclass TargetList extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      targets: props.targets,\n      selectedTargets: []\n    }\n  }\n\n  componentDidMount () {\n    //\n    // to works on nossas/bonde-cache, make an async method\n    // to shuffle the pressure targets on the client-side.\n    //\n    if (require('exenv').canUseDOM) {\n      const { targets } = this.props\n\n      setTimeout(() => {\n        this.setState({ targets: array.shuffle(targets) })\n      }, 0)\n    }\n  }\n\n  render () {\n    const { targets } = this.state\n    const { onSelect, errorMessage, selectable } = this.props\n    const pressureType = pressureHelper.getType(targets)\n    // const isPressureEmail = pressureType === pressureHelper.PRESSURE_TYPE_EMAIL\n    const isPressurePhone = pressureType === pressureHelper.PRESSURE_TYPE_PHONE\n\n    return (\n      <div className='target-list px2 py1'>\n        <div className='target-list-label bold'>\n          {selectable ? (\n            <FormattedMessage\n              id='pressure-widget--target-list.label.pressure'\n              defaultMessage={`\n                Selecione quem voc quer pressionar ({targetsCount} {targetsCount, plural,\n                  one {alvo}\n                  other {alvos}\n                })\n              `}\n              values={{ targetsCount: String(array.clean(targets).length) }}\n            />\n          ) : (\n            <FormattedMessage\n              id='pressure-widget--target-list.label.email'\n              defaultMessage={`\n                Quem voc vai pressionar ({targetsCount} {targetsCount, plural,\n                  one {alvo}\n                  other {alvos}\n                })\n              `}\n              values={{ targetsCount: String(array.clean(targets).length) }}\n            />\n          )}\n          {selectable && errorMessage && (\n            <div className='red mt1'>{errorMessage}</div>\n          )}\n        </div>\n        <div className='target-list-container clearfix'>\n          <div className='target-list-wrapper clearfix'>\n            {targets.length > 0 && targets.map((obj, index) => {\n              const target = parseTarget(obj)\n              return !target ? null : (\n                <label\n                  key={`target-item-${index}`}\n                  className='target-item left py1 px2 mr1 bg-white rounded'\n                >\n                  {selectable && (\n                    <input\n                      type='checkbox'\n                      onChange={({ target: { checked } }) => {\n                        const { selectedTargets } = this.state\n                        if (checked) {\n                          // append the current target\n                          this.state.selectedTargets = [...selectedTargets, target]\n                        } else {\n                          const nameMatching = t => t.name === target.name\n                          const index = selectedTargets.findIndex(nameMatching)\n                          // remove the current target\n                          this.state.selectedTargets = [\n                            ...selectedTargets.slice(0, index),\n                            ...selectedTargets.slice(index + 1)\n                          ]\n                        }\n                        onSelect && onSelect(this.state.selectedTargets)\n                      }}\n                    />\n                  )}\n                  <p className='black h6 m0'>\n                    <span className='target-name bold flex'>{target.name}</span>\n                    {!isPressurePhone && <span className='target-value'>{target.value}</span>}\n                  </p>\n                </label>\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nTargetList.propTypes = {\n  targets: PropTypes.arrayOf(PropTypes.string),\n  onSelect: PropTypes.func.isRequired,\n  errorMessage: PropTypes.string,\n  selectable: PropTypes.bool\n}\n\nTargetList.defaultProps = {\n  targets: [],\n  selectable: false\n}\n\nexport default TargetList\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/target-list/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/pressure/components/target-list/index.scss\n// module id = ./mobilizations/widgets/__plugins__/pressure/components/target-list/index.scss\n// module chunks = 0","const prefix = (mobilizationId, widgetId, path) =>\n  `/mobilizations/${mobilizationId}/widgets/${widgetId}/${path}`\n\nexport const pressure = (mid, wid) => prefix(mid, wid, 'pressure')\nexport const pressureAutofire = (mid, wid) => prefix(mid, wid, 'pressure/autofire')\nexport const pressureEmail = (mid, wid) => prefix(mid, wid, 'pressure/email')\nexport const pressureFinish = (mid, wid) => prefix(mid, wid, 'pressure/finish')\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/paths.js","import * as t from './action-types'\n\nexport const initialState = {\n  saving: false,\n  //\n  // Store the `id` of the pressure widgets that have filled up by user\n  // and needs to render the finish message.\n  // @type Array -> Integer\n  //\n  filledPressureWidgets: [],\n  filled: false,\n  error: undefined\n}\n\nexport const initialAction = { type: '' }\n\nexport default function PressureReducers (state = initialState, action = initialAction) {\n  switch (action.type) {\n    case t.WIDGET_PRESSURE_FILL_REQUEST:\n      return { ...state, saving: true }\n    case t.WIDGET_PRESSURE_FILL_SUCCESS:\n      return {\n        ...state,\n        saving: false,\n        filledPressureWidgets: [\n          ...state.filledPressureWidgets,\n          action.payload\n        ]\n      }\n    case t.WIDGET_PRESSURE_FILL_FAILURE:\n      return { ...state, saving: false, error: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/reducers.js","import { combineReducers } from 'redux'\n\nimport pressure from './pressure/reducers'\nimport donation from './donation/reducers'\nimport content from './content/reducers'\n\nexport default combineReducers({\n  pressure,\n  donation,\n  content\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/reducers.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nimport { Tag } from '../components'\n\nvar styles = require('exenv').canUseDOM ? require('./block-tag.scss') : {}\n\nconst BlockTag = ({ tags, ...rest }) => (\n  <div\n    className={classnames(\n      'my2 flex flex-wrap h5',\n      styles.blockTag\n    )}\n  >\n    {\n      tags\n        .filter(tag => !!tag.trim())\n        .map((tag, index) => (\n          <Tag\n            key={`${tag}-${index}`}\n            value={tag}\n            {...rest}\n          />\n        ))\n    }\n  </div>\n)\n\nBlockTag.propTypes = {\n  tags: PropTypes.arrayOf(PropTypes.string),\n  onClick: PropTypes.func,\n  onRemove: PropTypes.func\n}\n\nBlockTag.defaultProps = {\n  tags: []\n}\n\nexport default BlockTag\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/block-tag.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"blockTag\":\"_2O8F6hjtnRRU59XmQ4mjv8\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/components/block-tag.scss\n// module id = ./mobilizations/widgets/components/block-tag.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport { Button } from '~client/ux/components'\n\nclass DataExport extends Component {\n  componentDidMount () {\n    const { dataExportMount } = this.props\n    dataExportMount()\n  }\n\n  formatExportAt (widget) {\n    const { exported_at: exportedAt } = widget\n    const d = new Date(String(exportedAt))\n\n    const pad = value => (`00${value}`).slice(-2)\n    const date = `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}`\n    const time = `${pad(d.getHours())}:${pad(d.getMinutes())}`\n    return (\n      <FormattedMessage\n        id='widgets.components--data-export.formated-export-at'\n        defaultMessage='{date} s {time}'\n        values={{ date, time }}\n      />\n    )\n  }\n\n  renderLoadingMessage () {\n    return (\n      <span>\n        <i className='fa fa-circle-o-notch fa-spin fa-w mr1' />\n        <FormattedMessage\n          id='widgets.components--data-export.loading.message'\n          defaultMessage='Aguarde enquanto estamos processando...'\n        />\n      </span>\n    )\n  }\n\n  renderExportedMessage () {\n    const { widget } = this.props\n    return (\n      <span className='olive'>\n        <FormattedMessage\n          id='widgets.components--data-export.exported.message'\n          defaultMessage='ltima exportao: {formatedExportAt}.'\n          values={{ formatedExportAt: this.formatExportAt(widget) }}\n        />\n        <i className='fa fa-calendar-check-o ml1' />\n      </span>\n    )\n  }\n\n  renderErrorMessage () {\n    const { error } = this.props\n    return <span className='red'>{error}</span>\n  }\n\n  render () {\n    const { mobilization, loading, error, widget, asyncWidgetDataExport } = this.props\n    const filename = mobilization.name\n\n    return (\n      <div>\n        <div className='table caps bold mb2 darkengray h6'>\n          <i className='fa fa-file-excel-o darkengray table-cell align-middle h2' />\n          <span className='table-cell align-middle pl1'>\n            <FormattedMessage\n              id='widgets.components--data-export.export.label'\n              defaultMessage='Exportar'\n            />\n          </span>\n        </div>\n\n        <p className='h5 mb2 darkengray'>\n          <FormattedMessage\n            id='widgets.components--data-export.export.helper-text'\n            defaultMessage={\n              'Clique no boto abaixo para baixar o relatrio completo do ' +\n              'formulrio em formato excel.'\n            }\n          />\n        </p>\n\n        <p className='mb2'>\n          <Button\n            disabled={loading}\n            onClick={() => asyncWidgetDataExport({ mobilization, widget, filename })}\n          >\n            <FormattedMessage\n              id='widgets.components--data-export.export.button'\n              defaultMessage='Clique para baixar a planilha completa.'\n            />\n          </Button>\n        </p>\n\n        <div className='mb3'>\n          {(loading ? this.renderLoadingMessage() : null)}\n          {(widget.exported_at && !loading ? this.renderExportedMessage() : null)}\n          {(error ? this.renderErrorMessage() : null)}\n        </div>\n      </div>\n    )\n  }\n}\n\nDataExport.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.object,\n  widget: PropTypes.object.isRequired,\n  // Actions\n  asyncWidgetDataExport: PropTypes.func.isRequired,\n  dataExportMount: PropTypes.func.isRequired\n}\n\nexport default DataExport\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/data-export.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\n// Global module dependencies\nimport EditorDraft from '~client/components/editor-draft-js'\nimport { EditorSlate } from '~client/mobilizations/widgets/__plugins__/content/components'\n\nconst FinishMessageCustom = ({ readOnly, widget }) => {\n  const {\n    settings: {\n      finish_message: finishMessage,\n      finish_message_background: finishMessageBackground\n    }\n  } = widget\n  const content = valueParse(finishMessage)\n\n  return content.entityMap ? (\n    <EditorDraft\n      readOnly={readOnly}\n      value={content}\n      editorStyle={{\n        backgroundColor: `rgba(${finishMessageBackground})`,\n        borderRadius: 3\n      }}\n    />\n  ) : (\n    <EditorSlate\n      content={finishMessage}\n      readOnly={readOnly}\n      contentStyles={{ backgroundColor: '#fff', color: '#666', padding: 10 }}\n    />\n  )\n}\n\n//\n// Helper functions\n//\nconst valueParse = message => {\n  try {\n    return JSON.parse(message)\n  } catch (e) {\n    return message\n  }\n}\n\n//\n// PropTypes\n//\nFinishMessageCustom.propTypes = {\n  widget: PropTypes.shape({\n    settings: PropTypes.shape({\n      finish_message: PropTypes.string.isRequired,\n      finish_message_background: PropTypes.string.isRequired\n    }).isRequired\n  }).isRequired,\n  readOnly: PropTypes.bool\n}\n\nFinishMessageCustom.defaultProps = {\n  readOnly: true\n}\n\nexport default FinishMessageCustom\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/finish-message-custom.js","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { FormattedMessage, intlShape } from 'react-intl'\nimport { FormGroup, ControlLabel, FormControl } from '~client/components/forms'\nimport { SettingsForm } from '~client/ux/components'\nimport * as validator from '~client/utils/validation-helper'\n\nconst FormAutofire = props => {\n  const {\n    fields: {\n      sender_name: senderName,\n      sender_email: senderEmail,\n      email_subject: emailSubject,\n      email_text: emailText\n    },\n    widget,\n    asyncWidgetUpdate,\n    intl,\n    ...rest\n  } = props\n\n  return (\n    <SettingsForm\n      {...rest}\n      buttonText={\n        <FormattedMessage\n          id='widgets.components--form-autofire.form.submit-button'\n          defaultMessage='Salvar'\n        />\n      }\n      onSubmit={values => {\n        const settings = widget.settings || {}\n        return asyncWidgetUpdate({ ...widget, settings: { ...settings, ...values } })\n      }}\n      successMessage={\n        intl.formatMessage({\n          id: 'widgets.components--form-autofire.form.success-message',\n          defaultMessage: 'Mensagem de agradecimento configurada com sucesso!'\n        })\n      }\n    >\n      <FormGroup controlId='senderName' {...senderName}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-autofire.form.sender-name.label'\n            defaultMessage='Nome do remetente'\n          />\n        </ControlLabel>\n        <FormControl\n          type='text'\n          placeholder={\n            intl.formatMessage({\n              id: 'widgets.components--form-autofire.form.sender-name.placeholder',\n              defaultMessage: 'Defina o nome que ir aparecer na mensagem enviada.'\n            })\n          }\n        />\n      </FormGroup>\n      <FormGroup controlId='senderEmail' {...senderEmail}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-autofire.form.sender-email.label'\n            defaultMessage='E-mail remetente'\n          />\n        </ControlLabel>\n        <FormControl\n          type='text'\n          placeholder={\n            intl.formatMessage({\n              id: 'widgets.components--form-autofire.form.sender-email.placeholder',\n              defaultMessage: 'Defina o e-mail que ir aparecer na mensagem enviada.'\n            })\n          }\n        />\n      </FormGroup>\n      <FormGroup controlId='emailSubject' {...emailSubject}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-autofire.form.email-subject.label'\n            defaultMessage='Assunto do e-mail'\n          />\n        </ControlLabel>\n        <FormControl\n          type='text'\n          placeholder={\n            intl.formatMessage({\n              id: 'widgets.components--form-autofire.form.email-subject.placeholder',\n              defaultMessage: 'Defina o assunto que ir aparecer na mensagem enviada.'\n            })\n          }\n        />\n      </FormGroup>\n      <FormGroup controlId='emailText' {...emailText}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-autofire.form.email-text.label'\n            defaultMessage='Email de agradecimento'\n          />\n        </ControlLabel>\n        <FormControl\n          componentClass='textarea'\n          rows='6'\n          placeholder={\n            intl.formatMessage({\n              id: 'widgets.components--form-autofire.form.email-text.placeholder',\n              defaultMessage: 'Ex: Obrigado por apostar na fora da ao coletiva em rede. Sua' +\n                ' participao  muito importante e, agora, precisamos da sua ajuda para que mais' +\n                ' gente colabore com esta mobilizao. Compartilhe nas suas redes clicando em um' +\n                ' dos links abaixo. Um abrao.'\n            })\n          }\n        />\n      </FormGroup>\n    </SettingsForm>\n  )\n}\n\nFormAutofire.propTypes = {\n  fields: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  // Actions\n  asyncWidgetUpdate: PropTypes.func.isRequired,\n  // Translation\n  intl: intlShape.isRequired\n}\n\nexport const fields = ['sender_name', 'sender_email', 'email_subject', 'email_text']\n\nexport const validate = (values, { intl }) => {\n  const errors = {}\n  if (!validator.isValidEmail(values.sender_email)) {\n    errors.sender_email = intl.formatMessage({\n      id: 'widgets.components--form-autofire.form.sender-email.validation.invalid-email-format',\n      defaultMessage: 'Informe um e-mail invlido'\n    })\n  }\n  return errors\n}\n\nexport default FormAutofire\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/form-autofire.js","export const editor = ({\n  borderRadius: 3,\n  backgroundColor: '#fff',\n  border: '1px solid #efefef'\n})\n\nexport const editorFocus = ({\n  border: '1px solid #51a7e8',\n  outline: 'none',\n  boxShadow: 'inset 0 1px 2px rgba(0,0,0,0.075), 0 0 5px rgba(81,167,232,0.5)',\n  marginTop: 10\n})\n\nexport const editorToolbarContainer = ({\n  position: 'relative'\n})\n\nexport const editorToolbar = ({\n  left: 0,\n  position: 'inherit'\n})\n\nexport const editorContainer = ({\n  minHeight: 315\n})\n\nexport const whatsappControlLabel = ({\n  fontSize: '32px',\n  verticalAlign: 'middle',\n  color: '#005E52'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/form-finish-message/index-scss.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage, intlShape, injectIntl } from 'react-intl'\nimport { reduxForm } from 'redux-form'\n\nimport {\n  FormGroup,\n  RadioGroup,\n  Radio,\n  ControlLabel,\n  FormControl\n} from '~client/components/forms'\nimport { SettingsForm } from '~client/ux/components'\nimport Editor from '~client/components/editor-draft-js'\nimport EditorSlate, {\n  createEditorContent\n} from '~client/mobilizations/widgets/__plugins__/content/components/editor-slate'\nimport * as styles from './index-scss'\n\nexport const FormFinishMessage = props => {\n  const { mobilization, fields, successMessage, widget, ...formProps } = props\n  const { color_scheme: colorScheme } = mobilization\n  const { TellAFriend } = props\n\n  const { intl } = props\n\n  const {\n    finish_message_type: finishMessageType,\n    finish_message: finishMessage,\n    whatsapp_text: whatsappText\n  } = fields\n\n  let parsedFinishMessage\n  try {\n    parsedFinishMessage = JSON.parse(finishMessage.value)\n  } catch (e) {\n    parsedFinishMessage = finishMessage.value\n  }\n\n  return (\n    <SettingsForm\n      {...formProps}\n      onSubmit={values => {\n        return props.asyncWidgetUpdate({\n          ...widget,\n          settings: { ...widget.settings, ...values }\n        })\n      }}\n      successMessage={successMessage || (\n        <FormattedMessage\n          id='widgets.components--form-finish-message.success-message'\n          defaultMessage='Formulrio salvo com sucesso!'\n        />\n      )}\n    >\n      <FormGroup controlId='finish-message-type-id' {...finishMessageType}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-finish-message.type.label'\n            defaultMessage='Tipo de mensagem'\n          />\n        </ControlLabel>\n        <RadioGroup>\n          <Radio value='share'>\n            <FormattedMessage\n              id='widgets.components--form-finish-message.type.radio.share'\n              defaultMessage='Compartilhar'\n            />\n          </Radio>\n          <Radio value='custom'>\n            <FormattedMessage\n              id='widgets.components--form-finish-message.type.radio.custom'\n              defaultMessage='Customizar'\n            />\n          </Radio>\n        </RadioGroup>\n      </FormGroup>\n\n      {finishMessageType.value === 'share' && (\n        <div>\n          <FormGroup controlId='whatsapp-text-id' {...whatsappText}>\n            <ControlLabel>\n              <i className='fa fa-whatsapp mr2' style={styles.whatsappControlLabel} />\n              <FormattedMessage\n                id='widgets.components--form-finish-message.share.whatsapp-text.label'\n                defaultMessage='Texto do WhatsApp'\n              />\n            </ControlLabel>\n            <FormControl\n              rows='4'\n              componentClass='textarea'\n              placeholder={\n                intl.formatMessage({\n                  id: 'widgets.components--form-finish-message.share.whatsapp-text.placeholder',\n                  defaultMessage: 'Faa um texto curto, capaz de motivar outras pessoas a se unirem  sua mobilizao. Voc poder alterar este texto depois.'\n                })\n              }\n            />\n          </FormGroup>\n        </div>\n      )}\n\n      <label className='h5 darkengray caps mb1 block'>\n        <FormattedMessage\n          id='widgets.components--form-finish-message.preview.label'\n          defaultMessage='Preview'\n        />\n      </label>\n      {finishMessageType.value === 'share' && (\n        <TellAFriend preview mobilization={mobilization} widget={widget} />\n      )}\n      {finishMessageType.value === 'custom' && (\n        <div className='widget-finish-message-custom'>\n          <div className='relative'>\n            <input type='hidden' name='finish_message' />\n            <input type='hidden' name='finish_message_background' />\n            {parsedFinishMessage.constructor === Object && parsedFinishMessage.entityMap ? (\n              <Editor\n                value={parsedFinishMessage}\n                theme={colorScheme.replace('-scheme', '')}\n                toolbarContainerStyle={styles.editorToolbarContainer}\n                toolbarStyle={styles.editorToolbar}\n                containerStyle={styles.editorContainer}\n                focusStyle={styles.editorFocus}\n                editorStyle={styles.editor}\n                handleSave={rawContent => { finishMessage.onChange(JSON.stringify(rawContent)) }}\n              />\n            ) : (\n              <EditorSlate\n                content={finishMessage.value}\n                handleSave={value => {\n                  const raw = JSON.stringify(value.toJSON())\n                  if (finishMessage.value !== raw) finishMessage.onChange(raw)\n                }}\n                toolbarStyles={{ position: 'relative', marginBottom: 10, zIndex: 5 }}\n                contentStyles={{ backgroundColor: '#fff', color: '#666', padding: 10 }}\n              />\n            )}\n          </div>\n        </div>\n      )}\n    </SettingsForm>\n  )\n}\n\n// Redux Form configurations\nconst fields = [\n  'finish_message_type',\n  'finish_message',\n  'finish_message_background',\n  'whatsapp_text'\n]\n\nconst validate = (values, { intl }) => {\n  const errors = {}\n  if (!values.finish_message_type) {\n    errors.finish_message_type = intl.formatMessage({\n      id: 'widgets.components--form-finish-message.type.validation.required',\n      defaultMessage: 'Nenhum tipo de mensagem foi selecionado'\n    })\n  }\n  return errors\n}\n\nconst mapStateToProps = (state, props) => {\n  const settings = props.widget.settings || {}\n  const { intl } = props\n  return {\n    initialValues: {\n      finish_message_type: settings.finish_message_type || 'share',\n      finish_message: settings.finish_message ||\n      createEditorContent(intl.formatMessage({\n        id: 'widgets.components--form-finish-message.custom.message.default',\n        defaultMessage: 'Clique aqui para editar...'\n      })),\n      finish_message_background: settings.finish_message_background || '255,255,255,1',\n      whatsapp_text: settings.whatsapp_text || ''\n    }\n  }\n}\n\n//\n// PropTypes\n//\nFormFinishMessage.propTypes = {\n  // Injected components\n  TellAFriend: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  // Form Redux\n  fields: PropTypes.object.isRequired,\n  submitting: PropTypes.bool.isRequired,\n  error: PropTypes.string,\n  successMessage: PropTypes.string,\n  // Injected by components\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  asyncWidgetUpdate: PropTypes.func.isRequired,\n  // translation\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(\n  reduxForm(\n    { form: 'formFinishMessage', fields, validate },\n    mapStateToProps\n  )(FormFinishMessage)\n)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/form-finish-message/index.js","export { default as BlockTag } from './block-tag'\nexport { default as InputTag } from './input-tag'\nexport { default as Tag } from './tag'\nexport { default as FormFinishMessage } from './form-finish-message'\nexport { default as WidgetOverlay } from './widget-overlay'\nexport { default as FinishMessageCustom } from './finish-message-custom'\nexport { default as FormAutofire } from './form-autofire'\nexport { default as DataExport } from './data-export'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/index.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\nimport keycode from 'keycode'\nimport classnames from 'classnames'\nimport { BlockTag } from '~client/mobilizations/widgets/components'\nimport * as array from '~client/utils/array'\nimport * as os from '~client/utils/browser/os'\n\nvar styles = require('exenv').canUseDOM ? require('./input-tag.scss') : {}\n\nexport class InputTag extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      error: undefined,\n      value: ''\n    }\n  }\n\n  handleKeyPress (e) {\n    //\n    // watch the keyboard event to dispatch the trigger to add targets\n    // Mac      : cmd + enter\n    // Windows  : ctrl + enter\n    // Linux    : ctrl + enter\n    //\n    const mac = os.isMac() && keycode(e) === 'enter' && e.nativeEvent.metaKey\n    const windows = os.isWindows() && keycode(e) === 'enter' && e.ctrlKey\n    const linux = (os.isLinux() || os.isUnix()) && keycode(e) === 'enter' && e.ctrlKey\n\n    if (mac || windows || linux) {\n      e.preventDefault()\n      const { onInsertTag, validate } = this.props\n      const targets = e.target.value.split('\\n')\n      const errors = validate && validate(targets)\n\n      if (errors && !errors.valid) {\n        this.setState({ error: errors.message })\n      } else {\n        onInsertTag && onInsertTag(targets)\n        this.setState({ value: '', error: undefined })\n      }\n    }\n  }\n\n  handleEdit (target) {\n    const { onRemoveTag } = this.props\n    onRemoveTag && onRemoveTag(target)\n    const value = [...array.clean(this.state.value.split('\\n')), target].join('\\n')\n    this.setState({ value, error: undefined })\n  }\n\n  render () {\n    const {\n      values,\n      isPressureByPhone,\n      label,\n      onRemoveTag,\n      onRemoveAll,\n      helperText,\n      intl\n    } = this.props\n\n    const defaultPlaceholder = !isPressureByPhone ? intl.formatMessage({\n      id: 'widgets.components--input-tag.insert-tag.placeholder',\n      defaultMessage: (\n        'Nome do primeiro alvo <primeiro@alvo.com>\\n' +\n        'Nome do segundo alvo <segundo@alvo.com>\\n' +\n        'Nome do terceiro alvo <terceiro@alvo.com>\\n' +\n        'Nome do quarto alvo <quarto@alvo.com>\\n' +\n        'Nome do quinto alvo <quinto@alvo.com>\\n' +\n        '...'\n      )\n    }) : intl.formatMessage({\n      id: 'widgets.components--input-tag.insert-tag.placeholder-phone',\n      defaultMessage: (\n        'Nome do primeiro alvo <+5511999999999>\\n' +\n        'Nome do segundo alvo <+5521888888888>\\n' +\n        'Nome do terceiro alvo <+5531777777777>\\n' +\n        'Nome do quarto alvo <+5527999999999>\\n' +\n        '...'\n      )\n    })\n\n    return (\n      <div className='input-tag'>\n        {helperText}\n        <div className='clearfix mxn2'>\n          <div className='col col-6 px2'>\n            <div className='form-group'>\n              {label && (\n                <label\n                  style={{ cursor: 'pointer' }}\n                  className='h5 bold caps'\n                  htmlFor='insert-tag-id'\n                >\n                  {label}\n                  {(this.state.error && <span className='red'> - {this.state.error}</span>)}\n                </label>\n              )}\n              <textarea\n                ref='insert'\n                id='insert-tag-id'\n                type='text'\n                rows='7'\n                placeholder={defaultPlaceholder}\n                className={classnames('input block h3 col-12 mt1 px1', styles.textarea)}\n                value={this.state.value}\n                onChange={(e) => this.setState({ value: e.target.value })}\n                onKeyDown={::this.handleKeyPress}\n              />\n            </div>\n          </div>\n\n          <div className='col col-6 px2'>\n            {array.clean(values).length > 0 && (\n              <div className='form-group'>\n                <label className='h5 bold caps'>\n                  <FormattedMessage\n                    id='widgets.components--input-tag.tags.label'\n                    defaultMessage='Alvos cadastrados ({targetsCount})'\n                    values={{ targetsCount: String(array.clean(values).length) }}\n                  />\n                </label>\n                <BlockTag\n                  tags={values}\n                  onClick={::this.handleEdit}\n                  onRemove={onRemoveTag}\n                />\n                <div className={styles.buttons}>\n                  <button\n                    type='button'\n                    className={styles.buttonDanger}\n                    onClick={onRemoveAll}\n                    disabled={!array.clean(values).length}\n                  >\n                    <i className='fa fa-trash mr1' />\n                    <FormattedMessage\n                      id='widgets.components--input-tag.button.remove-all'\n                      defaultMessage='Remover todos'\n                    />\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nInputTag.propTypes = {\n  label: PropTypes.string,\n  values: PropTypes.arrayOf(PropTypes.string).isRequired,\n  validate: PropTypes.func,\n  onInsertTag: PropTypes.func.isRequired,\n  onRemoveTag: PropTypes.func.isRequired,\n  onRemoveAll: PropTypes.func.isRequired,\n  helperText: PropTypes.node.isRequired,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(InputTag)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/input-tag.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"textarea\":\"_2rgwuJl1R6bPS6HT2ZlJJO\",\"buttons\":\"_2qb9o1eZc_JVI6ckJYYsvt\",\"buttonDanger\":\"_1-ptkqIh4R__70pxk1SAlZ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/components/input-tag.scss\n// module id = ./mobilizations/widgets/components/input-tag.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\n\nvar styles = require('exenv').canUseDOM ? require('./tag.scss') : {}\n\nconst Tag = ({ value, onClick, onRemove }) => {\n  const clickable = onClick && typeof onClick === 'function'\n  const removable = onRemove && typeof onRemove === 'function'\n\n  return (\n    <span\n      className={styles.tag}\n      style={{ cursor: clickable ? 'pointer' : null }}\n    >\n      <span\n        className={(removable ? 'mr1' : null)}\n        onClick={(clickable ? () => onClick(value) : null)}\n      >\n        {value}\n      </span>\n      {(removable ? <i className='fa fa-close' onClick={() => onRemove(value)} /> : null)}\n    </span>\n  )\n}\n\nTag.propTypes = {\n  value: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  onRemove: PropTypes.func\n}\n\nexport default Tag\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/tag.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"tag\":\"ka60jU6yAQueq1hkUlpLE\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/components/tag.scss\n// module id = ./mobilizations/widgets/components/tag.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\n// Current module dependencies\nif (require('exenv').canUseDOM) require('./index.scss')\n\nclass WidgetOverlay extends Component {\n  constructor (props, context) {\n    super(props)\n    this.context = context\n    this.state = { hasMouseOver: false }\n  }\n\n  handleMouseEnter (e) {\n    if (e) e.preventDefault()\n    this.setState({ hasMouseOver: true })\n  }\n\n  handleMouseLeave (e) {\n    if (e) e.preventDefault()\n    this.setState({ hasMouseOver: false })\n  }\n\n  render () {\n    const { children, editable, onClick, text } = this.props\n    return (\n      <div className='relative'\n        style={editable ? { cursor: 'pointer' } : null}\n        onMouseEnter={::this.handleMouseEnter}\n        onMouseLeave={::this.handleMouseLeave}\n        onClick={onClick}\n      >\n        {children}\n        {\n          !editable || !this.state.hasMouseOver ? null : (\n            <div className='widget-overlay h1 rounded z1 border border-pagenta px2'>\n              <div className='table full-height col-12 center'>\n                <div className='white table-cell align-middle'>\n                  {text || 'Clique para editar'}\n                </div>\n              </div>\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nWidgetOverlay.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array\n  ]).isRequired,\n  onClick: PropTypes.func,\n  text: PropTypes.string\n}\n\nWidgetOverlay.defaultProps = {\n  editable: false\n}\n\nexport default WidgetOverlay\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/widget-overlay/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/components/widget-overlay/index.scss\n// module id = ./mobilizations/widgets/components/widget-overlay/index.scss\n// module chunks = 0","export * from './__plugins__/donation/paths'\nexport * from './__plugins__/pressure/paths'\nexport * from './__plugins__/form/paths'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/paths.js","import ReactGA from 'react-ga'\n\nclass AnalyticsEvents {\n  constructor () {\n    this.FORM_FILLED = { category: 'Formulrio', action: 'Preenchimento Iniciado' }\n    this.FORM_SAVED = { category: 'Formulrio', action: 'Dados Salvos com Sucesso' }\n\n    this.DONATION_STARTED = { category: 'Doao', action: 'Escolheu Valor' }\n    this.DONATION_FINISHED = { category: 'Doao', action: 'Servidor Recebeu Dados' }\n\n    this.PRESSURE_FILLED = { category: 'Presso', action: 'Preenchimento Iniciado' }\n    this.PRESSURE_SAVED = { category: 'Presso', action: 'Dados Salvos com Sucesso' }\n\n    this.SOCIAL_SHARED = { category: 'Redes Sociais', action: 'Compartilhou no ' }\n  }\n  sendEvent (event) {\n    return ReactGA.event(event)\n  }\n\n  formIsFilled () {\n    return this.sendEvent(this.FORM_FILLED)\n  }\n\n  formSavedData () {\n    return this.sendEvent(this.FORM_SAVED)\n  }\n\n  donationSetValue () {\n    return this.sendEvent(this.DONATION_STARTED)\n  }\n\n  donationFinishRequest (value) {\n    return this.sendEvent({...this.DONATION_FINISHED, label: value})\n  }\n\n  pressureIsFilled () {\n    return this.sendEvent(this.PRESSURE_FILLED)\n  }\n\n  pressureSavedData () {\n    return this.sendEvent(this.PRESSURE_SAVED)\n  }\n\n  socialShared (source, text) {\n    let evt = { ...this.SOCIAL_SHARED }\n    evt.action = evt.action + source\n    evt.label = text\n    return this.sendEvent(evt)\n  }\n}\n\nexport default new AnalyticsEvents()\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/utils/analytics-events.js","import * as validator from '~client/utils/validation-helper'\n\nexport const PRESSURE_TYPE_EMAIL = 'email'\nexport const PRESSURE_TYPE_PHONE = 'phone'\nexport const getType = (targets = []) => {\n  if (targets.length) {\n    if (validator.isValidTargetEmail(targets[0])) return PRESSURE_TYPE_EMAIL\n    if (validator.isValidTargetPhone(targets[0])) return PRESSURE_TYPE_PHONE\n    return 'invalid'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/utils/pressure-helper.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender-v2/widgets/donation/donation.scss\n// module id = ./mobrender-v2/widgets/donation/donation.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport { FormattedMessage, intlShape } from 'react-intl'\nimport * as formatNumberHelper from '~client/utils/format-number-helper'\nimport { Progress } from '.'\n\nif (require('exenv').canUseDOM) require('./donation.scss')\n\nexport default ({\n  finishMessageCustom: FinishMessageCustom,\n  tellAFriend: DonationTellAFriend\n}) => {\n  class Donation extends React.Component {\n    constructor (props, context) {\n      super(props, context)\n      this.state = {\n        hasMouseOver: false,\n        loading: false,\n        success: false,\n        selected_value: 1,\n        selected_payment_type: 'recurring',\n        errors: []\n      }\n    }\n\n    componentDidMount () {\n      const { widget } = this.props\n\n      const defaultDonationValue = (\n        widget.settings && widget.settings.default_donation_value\n          ? widget.settings.default_donation_value\n          : 1\n      )\n      this.setState({ selected_value: Number(defaultDonationValue) })\n    }\n\n    componentWillReceiveProps (nextProps) {\n      if (this.state.loading) {\n        this.setState({ loading: false, success: true })\n      }\n    }\n\n    handleClickSetTypeDonation (v) {\n      this.setState({ selected_payment_type: v })\n    }\n\n    handleClickSetValueDonation (v) {\n      this.setState({ selected_value: Number(v) })\n    }\n\n    handleClickDonate () {\n      const { mobilization, widget, donationCustomerData } = this.props\n      const {\n        selected_value: selectedValue,\n        selected_payment_type: selectedPaymentType\n      } = this.state\n\n      this.props.handleDonationTransactionCreate({\n        mobilization,\n        widget,\n        selectedValue,\n        selectedPaymentType,\n        storedDonationCustomerData: donationCustomerData\n      }).then(() => {\n        this.setState({ success: true })\n      })\n    }\n\n    renderProgressBar (mainColor) {\n      let goalDateRemaining\n      const { donationGoalStats, widget: { settings, goal } } = this.props\n\n      const goalStats = (\n        !donationGoalStats ||\n        !donationGoalStats.data ||\n        donationGoalStats.loading\n      )\n        ? undefined\n        : JSON.parse(donationGoalStats.data)\n\n      if (settings && settings.goal_date_limit) {\n        const now = new Date()\n        const [day, month, year] = settings.goal_date_limit.split('/')\n        const goalDate = new Date(`${year}-${month}-${day}`)\n        goalDateRemaining = Math.ceil((goalDate - now) / (1000 * 60 * 60 * 24))\n      }\n\n      const props = {\n        value: 0,\n        valueTopLeft: '',\n        valueTopRight: '',\n        valueBottomLeft: '',\n        valueBottomRight: ''\n      }\n\n      if (goalStats) {\n        if (goalStats.pledged) {\n          props.valueTopCenter = (\n            <div>\n              <div style={{\n                color: mainColor,\n                fontSize: '2.5em',\n                lineHeight: '1em',\n                fontWeight: 'bold'\n              }}>\n                {formatNumberHelper.currencyInt(goalStats.pledged)}\n              </div>\n              <div style={{\n                color: '#666',\n                fontWeight: 'bold',\n                textTransform: 'uppercase',\n                margin: '0.4rem 0 0'\n              }}>\n                <FormattedMessage\n                  id='widgets.components--donation.progress-bar.collected'\n                  defaultMessage='arrecadados'\n                />\n              </div>\n            </div>\n          )\n        }\n        if (goalStats.progress) {\n          props.value = goalStats.progress\n        }\n        if (goalStats.total_donations) {\n          props.valueBottomLeft = (\n            <span style={{ color: '#999999' }}>\n              <FormattedMessage\n                id='widgets.components--donation.progress-bar.supports'\n                defaultMessage={`\n                  {totalDonations} {totalDonations, plural,\n                    one {apoio}\n                    other {apoio}\n                  }\n                `}\n                values={{ totalDonations: goalStats.total_donations }}\n              />\n            </span>\n          )\n        }\n      }\n\n      if (goal) {\n        props.valueBottomCenter = (\n          <b>\n            <span style={{ color: '#999999' }}>\n              <FormattedMessage\n                id='widgets.components--donation.progress-bar.goal'\n                defaultMessage='Meta:'\n              />\n            </span>\n            {' '}{formatNumberHelper.currencyInt(goal)}\n          </b>\n        )\n      }\n      if (goalDateRemaining !== undefined) {\n        if (goalDateRemaining === 0) {\n          props.valueBottomRight = (\n            <FormattedMessage\n              id='widgets.components--donation.progress-bar.date.last-day'\n              defaultMessage='ltimo dia!'\n            />\n          )\n        } else if (goalDateRemaining > 0 && goalDateRemaining < 7) {\n          props.valueBottomRight = (\n            <FormattedMessage\n              id='widgets.components--donation.progress-bar.date.last-days'\n              defaultMessage='ltimos dias!'\n            />\n          )\n        } else if (goalDateRemaining === 7) {\n          props.valueBottomRight = (\n            <FormattedMessage\n              id='widgets.components--donation.progress-bar.date.last-week'\n              defaultMessage='ltima semana!'\n            />\n          )\n        } else if (goalDateRemaining > 0) {\n          props.valueBottomRight = (\n            <FormattedMessage\n              id='widgets.components--donation.progress-bar.date.remaining'\n              defaultMessage={`\n                faltam {goalDateRemaining} {goalDateRemaining, plural,\n                  one {dia}\n                  other {dias}\n                }\n              `}\n              values={{ goalDateRemaining }}\n            />\n          )\n        }\n\n        props.valueBottomRight = (\n          <b style={{ color: mainColor }}>\n            {props.valueBottomRight}\n          </b>\n        )\n      }\n\n      return (goal || goalDateRemaining !== undefined) && (\n        <Progress fillColor={mainColor} {...props} />\n      )\n    }\n\n    renderButton () {\n      const {\n        configurable,\n        widget: { settings },\n        mobilization: { header_font: headerFont },\n        intl\n      } = this.props\n\n      const {\n        selected_value: selectedValue,\n        selected_payment_type: selectedPaymentType\n      } = this.state\n\n      const buttonText = (settings && settings.button_text) || (\n        <FormattedMessage\n          id='widgets.components--donation.default.button-text'\n          defaultMessage='Doar agora'\n        />\n      )\n      const titleText = (settings && (settings.call_to_action || settings.title_text)) || (\n        <FormattedMessage\n          id='widgets.components--donation.default.title-text'\n          defaultMessage='Clique para configurar seu bloco de doao'\n        />\n      )\n\n      const donationValue1 = (settings && settings.donation_value1) || 0\n      const donationValue2 = (settings && settings.donation_value2) || 0\n      const donationValue3 = (settings && settings.donation_value3) || 0\n      const donationValue4 = (settings && settings.donation_value4) || 0\n      const donationValue5 = (settings && settings.donation_value5) || 0\n      const mainColor = (settings && settings.main_color) || '#54d0f6'\n\n      const paymentType = (settings && settings.payment_type) || 'unique'\n      const recurringPeriod = (settings && settings.recurring_period) || 30\n\n      const isUniquePayment = paymentType === 'unique' || selectedPaymentType === 'unique'\n      const periodLabelOptions = {\n        30: intl.formatMessage({\n          id: 'widgets.components--donation.period-label-options.month',\n          defaultMessage: 'ms'\n        }),\n        180: intl.formatMessage({\n          id: 'widgets.components--donation.period-label-options.halfyear',\n          defaultMessage: 'semestre'\n        }),\n        365: intl.formatMessage({\n          id: 'widgets.components--donation.period-label-options.year',\n          defaultMessage: 'ano'\n        })\n      }\n      const periodLabelCurrent = periodLabelOptions[recurringPeriod]\n      const periodLabel = isUniquePayment ? '' : periodLabelCurrent\n\n      if (!configurable) {\n        return (\n          <div className='donation center clearfix'>\n            <h2\n              className='p2 m0 white rounded-top'\n              style={{ fontFamily: headerFont, backgroundColor: mainColor }}\n            >\n              {titleText}\n            </h2>\n            <script dangerouslySetInnerHTML={{__html: `\n(function(i,s,o,g,r,a,m){i['PagarMeCheckoutObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','https://assets.pagar.me/checkout/checkout.js','PagarMeCheckout');`\n            }} />\n\n            <div className='p3 relative'>\n              {paymentType === 'users_choice' ? <div className='mb2 clearfix'>\n                <a href='#' onClick={::this.handleClickSetTypeDonation.bind(this, 'recurring')}\n                  style={selectedPaymentType === 'recurring' ? {color: mainColor} : {}}\n                  className={selectedPaymentType === 'recurring' ? 'payment-type bold py1 col col-6 active' : 'payment-type bold py1 col col-6'}>\n                  <i className='icon-payment-recurring' />\n                  <FormattedMessage\n                    id='widgets.components--donation.users-choice.recurring'\n                    defaultMessage='Apoiar todo {periodLabelCurrent}'\n                    values={{ periodLabelCurrent }}\n                  />\n                </a>\n                <a href='#' onClick={::this.handleClickSetTypeDonation.bind(this, 'unique')}\n                  style={selectedPaymentType === 'unique' ? {color: mainColor} : {}}\n                  className={selectedPaymentType === 'unique' ? 'payment-type bold py1 col col-6 active' : 'payment-type bold py1 col col-6'}>\n                  <i className='icon-payment-unique' />\n                  <FormattedMessage\n                    id='widgets.components--donation.users-choice.unique'\n                    defaultMessage='Doao nica'\n                  />\n                </a>\n              </div> : ''}\n\n              {donationValue1 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 1)}\n                  style={selectedValue !== 1 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 1 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue1 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n              {donationValue2 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 2)}\n                  style={selectedValue !== 2 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 2 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue2 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n              {donationValue3 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 3)}\n                  style={selectedValue !== 3 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 3 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue3 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n              {donationValue4 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 4)}\n                  style={selectedValue !== 4 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 4 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue4 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n              {donationValue5 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 5)}\n                  style={selectedValue !== 5 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 5 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue5 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n\n              <a\n                href='#'\n                onClick={::this.handleClickDonate}\n                style={{ backgroundColor: mainColor }}\n                className='btn white caps bg-darken-4 p2 mt1 col-12 rounded border-box'\n              >\n                {buttonText}\n              </a>\n            </div>\n\n            <div className='p3' style={{ boxShadow: '#E3E3E3 0px 15px 18px -10px inset' }}>\n              {this.renderProgressBar(mainColor)}\n            </div>\n          </div>\n        )\n      }\n    }\n\n    convertHex (hex, opacity) {\n      hex = hex.replace('#', '')\n      let r = parseInt(hex.substring(0, 2), 16)\n      let g = parseInt(hex.substring(2, 4), 16)\n      let b = parseInt(hex.substring(4, 6), 16)\n\n      let result = 'rgba(' + r + ',' + g + ',' + b + ',' + opacity / 100 + ')'\n      return result\n    }\n\n    renderForm () {\n      const { editable, configurable } = this.props\n      const className = classnames({ 'relative': editable || !configurable })\n\n      return (\n        <div className={className}>\n          {this.renderButton()}\n        </div>\n      )\n    }\n\n    renderThankyouText () {\n      const { mobilization, widget } = this.props\n      const { settings: { finish_message_type: finishMessageType } } = widget\n\n      return finishMessageType === 'custom' ? (\n        <FinishMessageCustom widget={widget} />\n      ) : (\n        <DonationTellAFriend mobilization={mobilization} widget={widget} />\n      )\n    }\n\n    renderReattemptMessage () {\n      const { widget: { settings } } = this.props\n      const mainColor = (settings && settings.main_color) || '#54d0f6'\n\n      return (\n        <div className='donation'>\n          <h2\n            className='p2 m0 white rounded-top center'\n            style={{ backgroundColor: mainColor }}\n          >\n            <FormattedMessage\n              id='widgets.components--donation.reattempt.message.title'\n              defaultMessage='Ops!'\n            />\n          </h2>\n          <div style={{ textAlign: 'center', color: '#333', padding: '3rem 0' }}>\n            <i\n              className='error-icon inline-block mb2'\n              style={{ backgroundColor: '#de0000' }}\n            />\n            <br />\n\n            <FormattedMessage\n              id='widgets.components--donation.reattempt.message.text.line-01'\n              defaultMessage='Algo de errado aconteceu com a sua doao. ):'\n            />\n            <br />\n            <FormattedMessage\n              id='widgets.components--donation.reattempt.message.text.line-02'\n              defaultMessage='Clique no boto abaixo pra tentar de novo.'\n            />\n            <br />\n\n            <button\n              onClick={::this.handleClickDonate}\n              style={{ backgroundColor: mainColor }}\n              className='btn white caps bg-darken-4 p2 mt3 rounded border-box'\n            >\n              <FormattedMessage\n                id='widgets.components--donation.reattempt.message.button.text'\n                defaultMessage='Nova tentativa'\n              />\n            </button>\n          </div>\n        </div>\n      )\n    }\n\n    renderContentStrategy () {\n      if (this.props.donationCustomerData) return this.renderReattemptMessage()\n      else if (this.state.success) return this.renderThankyouText()\n      else return this.renderForm()\n    }\n\n    render () {\n      return (\n        <div className='bg-white widget rounded'>\n          {this.renderContentStrategy()}\n        </div>\n      )\n    }\n  }\n\n  Donation.propTypes = {\n    mobilization: PropTypes.object.isRequired,\n    widget: PropTypes.object.isRequired,\n    editable: PropTypes.bool.isRequired,\n    configurable: PropTypes.bool,\n    hasNewField: PropTypes.bool,\n    handleDonationTransactionCreate: PropTypes.func,\n    intl: intlShape\n  }\n\n  return Donation\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender-v2/widgets/donation/factory-donation.js","export { default as factoryDonation } from './factory-donation'\nexport { default as Progress } from './progress'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender-v2/widgets/donation/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport tinycolor from 'tinycolor2'\nimport * as formatNumberHelper from '~client/utils/format-number-helper'\n\nif (require('exenv').canUseDOM) require('./progress.scss')\n\nconst colorStrategy = color => tinycolor(color).isDark() ? '#FFFFFF' : '#333333'\n\nconst Progress = ({\n  className,\n  value,\n  max,\n  valueTopLeft,\n  valueTopCenter,\n  valueTopRight,\n  valueBottomLeft,\n  valueBottomCenter,\n  valueBottomRight,\n  fillColor\n}) => (\n  <div className={classnames('progress-container', className)}>\n    <div className='progress-top'>\n      {valueTopLeft && <div className='progress-top-left'>{valueTopLeft}</div>}\n      {valueTopCenter && <div className='progress-top-center'>{valueTopCenter}</div>}\n      {valueTopRight && <div className='progress-top-right'>{valueTopRight}</div>}\n    </div>\n\n    <div className='progress' value={value} max={max}>\n      <div className='progress-value'\n        style={{\n          backgroundColor: fillColor,\n          width: `${value > 100 ? 100 : value}%`\n        }}\n      >\n        {value > 5 && (\n          <span className='percentage' style={{ color: colorStrategy(fillColor) }}>\n            {formatNumberHelper.number(value).split(',')[0]}%\n          </span>\n        )}\n      </div>\n    </div>\n\n    <div className='progress-bottom'>\n      {valueBottomLeft && <div className='progress-bottom-left'>{valueBottomLeft}</div>}\n      {valueBottomCenter && <div className='progress-bottom-center'>{valueBottomCenter}</div>}\n      {valueBottomRight && <div className='progress-bottom-right'>{valueBottomRight}</div>}\n    </div>\n  </div>\n)\n\nProgress.propTypes = {\n  className: PropTypes.string,\n  value: PropTypes.number.isRquired,\n  max: PropTypes.number,\n  valueTopLeft: PropTypes.node,\n  valueTopRight: PropTypes.node,\n  valueTopCenter: PropTypes.node,\n  valueBottomLeft: PropTypes.node,\n  valueBottomRight: PropTypes.node,\n  valueBottomCenter: PropTypes.node,\n  fillColor: PropTypes.string\n}\n\nProgress.defaultProps = {\n  max: 100,\n  fillColor: 'hsl(171, 100%, 41%)'\n}\n\nexport default Progress\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender-v2/widgets/donation/progress.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender-v2/widgets/donation/progress.scss\n// module id = ./mobrender-v2/widgets/donation/progress.scss\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender/components/add-new-block.scss\n// module id = ./mobrender/components/add-new-block.scss\n// module chunks = 0","import { connect } from 'react-redux'\nimport Selectors from '../redux/selectors'\nimport { asyncUpdateBlock, handleChangeBackground, handleCancelEdit, handleUploadFile } from '../redux/action-creators'\n\nimport BlockChangeBackground, { BLOCK_UPLOAD_KEY } from './block-change-background'\n\nconst mapStateToProps = (state, props) => ({\n  progress: Selectors(state, props).getUploadProgress(BLOCK_UPLOAD_KEY),\n  mobilization: Selectors(state, props).getMobilization()\n})\n\nconst mapActionsToProps = {\n  update: asyncUpdateBlock,\n  onChangeBackground: handleChangeBackground,\n  onCancelEdit: handleCancelEdit,\n  onUploadFile: handleUploadFile\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(BlockChangeBackground)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block-change-background.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport { FormattedMessage } from 'react-intl'\nimport { ColorPicker } from '~client/components/color-picker'\nimport FileUploader from './file-uploader'\n\nexport const BLOCK_UPLOAD_KEY = 'bgBlock'\n\nclass ColorPickerButton extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      show: false\n    }\n  }\n\n  onChangeColor (color) {\n    this.props.onChange(JSON.stringify(color.rgb))\n  }\n\n  render () {\n    return (\n      <div>\n        <button\n          className={classnames('btn white', { 'bg-darken-4': this.state.show })}\n          style={{ height: '55px', borderRight: '1px solid rgba(119, 119, 119, 0.33)' }}\n          onClick={() => this.setState({ show: !this.state.show })}\n        >\n          <i className='fa fa-eyedropper' />\n        </button>\n        <div className='fixed z5'>\n          <ColorPicker\n            theme={this.props.theme}\n            showColorPicker={this.state.show}\n            color={this.props.color}\n            onChangeColor={this.onChangeColor.bind(this)}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst rgba = block => {\n  if (block.bg_class) {\n    try {\n      const rgba = JSON.parse(block.bg_class)\n      return rgba\n    } catch (ex) {\n      // Silent error because use className\n    }\n  }\n}\n\nconst BlockChangeBackground = ({ mobilization, block, onChangeBackground, progress, onUploadFile, onCancelEdit, update }) => (\n  <div className='absolute col-12 top-0 left-0 bg-darken-4 z5'>\n    <div className='flex flex-wrap'>\n      <ColorPickerButton\n        color={rgba(block)}\n        theme={mobilization.color_scheme}\n        onChange={color => {\n          onChangeBackground({ ...block, bg_class: color })\n        }}\n      />\n      <FileUploader\n        file={block.bg_image}\n        progress={progress}\n        onProgress={progress => onUploadFile(BLOCK_UPLOAD_KEY, progress)}\n        onRemove={() => onChangeBackground({ ...block, bg_image: '' })}\n        onFinish={file => {\n          onUploadFile(BLOCK_UPLOAD_KEY)\n          onChangeBackground({...block, bg_image: file})\n        }}\n      />\n      <div className='absolute right-0 mt1 mr2 nowrap'>\n        <button\n          className='btn caps bg-darken-4 white rounded mr1 save-btn'\n          style={{ heigth: '40px' }}\n          disabled={progress !== undefined}\n          onClick={() => {\n            update(block)\n            onCancelEdit(block)\n          }}\n        >\n          <FormattedMessage\n            id='mobrender.components--block-change-background.button.save'\n            defaultMessage='Salvar'\n          />\n        </button>\n        <button\n          className='btn caps bg-darken-4 white rounded cancel-btn'\n          style={{ heigth: '40px' }}\n          onClick={() => onCancelEdit(block)}\n        >\n          <FormattedMessage\n            id='mobrender.components--block-change-background.button.cancel'\n            defaultMessage='Cancelar'\n          />\n        </button>\n      </div>\n    </div>\n    <div\n      className='fixed top-0 right-0 bottom-0 left-0 z3'\n      style={{ marginTop: '50px' }}\n      onClick={() => onCancelEdit(block)}\n    />\n  </div>\n)\n\nBlockChangeBackground.propTypes = {\n  block: PropTypes.object.isRequired,\n  // Injected by redux\n  mobilization: PropTypes.object.isRequired,\n  update: PropTypes.func.isRequired,\n  onChangeBackground: PropTypes.func,\n  onCancelEdit: PropTypes.func,\n  onUploadFile: PropTypes.func,\n  progress: PropTypes.number\n}\n\nexport default BlockChangeBackground\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block-change-background.js","import { connect } from 'react-redux'\nimport Selectors from '../redux/selectors'\nimport { asyncMoveUp, asyncMoveDown, asyncUpdateBlock, handleEdit, asyncDestroyBlock } from '../redux/action-creators'\nimport BlockConfigMenu from './block-config-menu'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = Selectors(state, props)\n  return {\n    canMoveUp: selectors.canMoveUp(),\n    canMoveDown: selectors.canMoveDown()\n  }\n}\n\nconst mapActionsToProps = (dispatch, props) => ({\n  moveUp: block => dispatch(asyncMoveUp(block)),\n  moveDown: block => dispatch(asyncMoveDown(block)),\n  update: block => dispatch(asyncUpdateBlock(block)),\n  onEdit: key => dispatch(handleEdit(key)),\n  destroy: block => dispatch(asyncDestroyBlock(block))\n})\n\nexport default connect(mapStateToProps, mapActionsToProps)(BlockConfigMenu)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block-config-menu.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\nimport classnames from 'classnames'\nimport { DropdownMenu, DropdownMenuItem } from '~client/components/dropdown-menu'\n\nexport const EDIT_KEY = 'background'\n\nconst BlockConfigMenu = ({\n  block,\n  update,\n  destroy,\n  onEdit,\n  canMoveUp,\n  moveUp,\n  canMoveDown,\n  moveDown,\n  display,\n  intl\n}) => (\n  <DropdownMenu\n    wrapperClassName={classnames(\n      'm1 absolute bottom-0 right-0 z2',\n      {'display-none': !display}\n    )}\n    menuClassName='bg-darken-4 rounded white right-0 top-0 mr4'\n    buttonClassName='btn bg-darken-4 white rounded'\n    icon='cog'\n  >\n    {/* TODO: Funcionalidade de 'Duplicar bloco' foi desabilitada at que a estrategia\n       de desenvolvimento esteja definida. */}\n    <DropdownMenuItem\n      className='btn'\n      onClick={() => onEdit(`${EDIT_KEY}-${block.id}`)}\n    >\n      <span>\n        <i className='fa fa-picture-o' />{' '}\n        <FormattedMessage\n          id='mobrender.components--block-config-menu.item.change-background'\n          defaultMessage='Alterar fundo'\n        />\n      </span>\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      className='btn'\n      onClick={() => update({...block, hidden: !block.hidden})}\n    >\n      <span>\n        <i className={classnames('fa', block.hidden ? 'fa-eye' : 'fa-eye-slash')} />{' '}\n        {(block.hidden\n          ? <FormattedMessage\n            id='mobrender.components--block-config-menu.item.toggle-visibility.show'\n            defaultMessage='Mostrar'\n            />\n          : <FormattedMessage\n            id='mobrender.components--block-config-menu.item.toggle-visibility.hide'\n            defaultMessage='Esconder'\n            />\n        )}\n      </span>\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      className='btn'\n      onClick={() => {\n        const message = intl.formatMessage({\n          id: 'mobrender.components--block-config-menu.item.remove.confirm',\n          defaultMessage: 'Voc tem certeza que quer remover este bloco?'\n        })\n        if (window.confirm(message)) destroy(block)\n      }}\n    >\n      <span>\n        <i className='fa fa-trash' />{' '}\n        <FormattedMessage\n          id='mobrender.components--block-config-menu.item.remove'\n          defaultMessage='Remover'\n        />\n      </span>\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      className='btn'\n      disabled={!canMoveUp}\n      onClick={() => moveUp(block)}\n    >\n      <span>\n        <i className='fa fa-chevron-up' />{' '}\n        <FormattedMessage\n          id='mobrender.components--block-config-menu.item.move-up'\n          defaultMessage='Mover para cima'\n        />\n      </span>\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      className='btn'\n      disabled={!canMoveDown}\n      onClick={() => moveDown(block)}\n    >\n      <span>\n        <i className='fa fa-chevron-down' />{' '}\n        <FormattedMessage\n          id='mobrender.components--block-config-menu.item.move-down'\n          defaultMessage='Mover para baixo'\n        />\n      </span>\n    </DropdownMenuItem>\n  </DropdownMenu>\n)\n\nBlockConfigMenu.propTypes = {\n  block: PropTypes.object.isRequired,\n  display: PropTypes.bool,\n  // Injected by redux\n  canMoveUp: PropTypes.bool,\n  moveUp: PropTypes.func,\n  canMoveDown: PropTypes.bool,\n  moveDown: PropTypes.func,\n  update: PropTypes.func,\n  onEdit: PropTypes.func,\n  // Injected by react-intl\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(BlockConfigMenu)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block-config-menu.js","import { connect } from 'react-redux'\nimport Selectors from '../redux/selectors'\nimport { handleMouseOver, handleMouseOut, handleCancelEdit } from '../redux/action-creators'\nimport Block, { HOVER_MOUSE_KEY } from './block'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = Selectors(state)\n  return {\n    editing: selectors.getEditing(),\n    saving: selectors.getBlockSaving(),\n    hasMouseOver: selectors.hasMouseOver(HOVER_MOUSE_KEY, props.block.id)\n  }\n}\n\nconst mapActionsToProps = {\n  onMouseOver: handleMouseOver,\n  onMouseOut: handleMouseOut,\n  onCancelEdit: handleCancelEdit\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(Block)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport Widget from './widget.connected'\nimport BlockConfigMenu from './block-config-menu.connected'\nimport { EDIT_KEY } from './block-config-menu'\nimport BlockChangeBackground from './block-change-background.connected'\n\nexport const HOVER_MOUSE_KEY = 'block'\n\nconst getBackgroundStyle = block => {\n  if (block.bg_image) return { background: `url('${block.bg_image}') no-repeat`, backgroundSize: 'cover' }\n  else if (block.bg_class) {\n    try {\n      const rgba = JSON.parse(block.bg_class)\n      return {\n        backgroundColor: `rgba(${rgba.r},${rgba.g},${rgba.b},${rgba.a})`\n      }\n    } catch (ex) {\n      // Silent error because use className\n    }\n  }\n}\n\nconst Block = ({ block, widgets, editable, hasMouseOver, onMouseOver, onMouseOut, onCancelEdit, editing, saving, history }) => (\n  <div\n    id={`block-${block.id}`}\n    onMouseEnter={() => {\n      if (editable && !editing) onMouseOver(HOVER_MOUSE_KEY, block.id)\n    }}\n    onMouseLeave={() => {\n      if (editable && !editing) onMouseOut(HOVER_MOUSE_KEY)\n    }}\n    onKeyUp={evt => {\n      // ESC keycode\n      if (evt.keyCode === 27) {\n        onCancelEdit(block)\n      }\n    }}\n    className={block.bg_class && block.bg_class.indexOf('{') === -1 ? block.bg_class : undefined}\n    style={getBackgroundStyle(block)}\n  >\n    <div className='col-10 mx-auto'>\n      {editing === `${EDIT_KEY}-${block.id}` ? <BlockChangeBackground block={block} /> : null}\n      <div className='clearfix widgets' style={{ padding: '5em 0' }}>\n        {widgets && widgets.map(widget => (\n          <Widget\n            key={`widget-${widget.id}`}\n            widget={widget}\n            block={block}\n            editable={editable}\n            history={history}\n          />\n        ))}\n      </div>\n      {block.hidden && (\n        <div className='relative'>\n          <div className='absolute bottom-0 left-0 ml1 mb1 bg-darken-2 p1 white rounded hidden-tag'>\n            <i className='fa fa-eye-slash mr1' />{' '}\n            <FormattedMessage\n              id='mobrender.components--block.hidden-tag'\n              defaultMessage='Escondido'\n            />\n          </div>\n        </div>\n      )}\n      <div className='relative'>\n        <BlockConfigMenu\n          block={block}\n          widgets={widgets}\n          display={editable && hasMouseOver && !editing && !saving}\n        />\n      </div>\n    </div>\n  </div>\n)\n\nBlock.propTypes = {\n  block: PropTypes.object.isRequired,\n  widgets: PropTypes.array.isRequired,\n  editable: PropTypes.bool,\n  // Injected by redux\n  hasMouseOver: PropTypes.bool,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onCancelEdit: PropTypes.func,\n  editing: PropTypes.string,\n  saving: PropTypes.bool\n}\n\nexport default Block\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport ReactS3Uploader from 'react-s3-uploader'\nimport { Progress } from '~client/components/await'\nimport DefaultServerConfig from '~server/config'\n\nconst FileUploader = ({ file, onRemove, progress, onProgress, onFinish }) => (\n  <div className='flex flex-wrap px1'>\n    {file && (\n      <div className='py1'>\n        <img src={file} style={{ maxHeight: '36px' }} />\n        {onRemove && (\n          <button\n            className='btn bg-darken-4 white rounded remove'\n            style={{ margin: '-25px 10px 0' }}\n            onClick={() => {\n              if (window.confirm('Deseja remover a imagem de fundo?')) {\n                onRemove(file)\n              }\n            }}\n          >\n            <i className='fa fa-trash' />\n          </button>)}\n      </div>\n    )}\n    <div className='py1'>\n      {!progress ? (\n        <ReactS3Uploader\n          className='input border-none white m0 bg-darken-4'\n          accept='image/*'\n          signingUrl={`${DefaultServerConfig.apiUrl}/uploads`}\n          onProgress={percent => onProgress(percent)}\n          onFinish={image => {\n            const url = image.signedUrl.substring(0, image.signedUrl.indexOf('?'))\n            onFinish(url)\n          }}\n      />\n    ) : (\n      <Progress\n        className='bg-pagenta full-height rounded'\n        percent={progress}\n        style={{ height: '34px' }}\n      />\n    )}\n    </div>\n  </div>\n)\n\nFileUploader.propTypes = {\n  file: PropTypes.string,\n  onRemove: PropTypes.func,\n  progress: PropTypes.number,\n  onProgress: PropTypes.func,\n  onFinish: PropTypes.func\n}\n\nexport default FileUploader\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/file-uploader.js","export { default as Widget } from './widget.connected'\nexport { default as WidgetOverlay } from './widget-overlay'\nexport { default as Mobilization } from './mobilization.connected'\nexport { default as Reducer } from '../redux/'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/index.js","import { connect } from 'react-redux'\nimport { asyncUpdateBlock } from '../redux/action-creators'\nimport { EDIT_KEY } from './block-config-menu'\nimport Selectors from '../redux/selectors'\n\nimport Mobilization from './mobilization'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = Selectors(state, props)\n  const editing = selectors.getEditing()\n  return {\n    mobilization: selectors.getMobilization() || selectors.getMobilizations()[0],\n    blocks: selectors.getBlocks(),\n    blocksIsLoaded: selectors.blocksIsLoaded(),\n    widgets: selectors.getWidgets(),\n    blockEditionMode: editing ? editing.indexOf(EDIT_KEY) !== -1 : false\n  }\n}\n\nconst mapActionsToProps = {\n  blockUpdate: asyncUpdateBlock\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(Mobilization)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/mobilization.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport classnames from 'classnames'\n\nimport Block from './block.connected'\nimport Navbar from './navbar'\nimport * as paths from '~client/paths'\nimport LogoIconNoBorder from '~client/components/navigation/sidenav/logo-icon-no-border'\n\nif (require('exenv').canUseDOM) require('./add-new-block.scss')\nif (require('exenv').canUseDOM) require('./../../styles/main.scss')\n\nclass Mobilization extends React.Component {\n  constructor (props) {\n    super(props)\n\n    const { editable, blocks } = props\n\n    this.state = {\n      blocks: blocks.filter(block => !editable ? !block.hidden : true)\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    if (this.props.blocks !== props.blocks) {\n      const { editable, blocks } = props\n\n      this.setState({\n        blocks: blocks.filter(block => !editable ? !block.hidden : true)\n      })\n    }\n  }\n\n  componentDidMount () {\n    const { editable, mobilization, blocks, blocksIsLoaded } = this.props\n    if (editable && blocksIsLoaded && blocks.length === 0) {\n      this.props.history.push(paths.mobilizationTemplatesChoose(mobilization))\n    }\n\n    if (require('exenv').canUseDOM) {\n      let blocksTotalHeight = 0\n      const blocksWithOffsetTop = []\n\n      // get the offsetTop of each block and put it on state\n      this.state.blocks.map((block, index) => {\n        const { offsetTop, offsetHeight } = document.querySelector(`#block-${block.id}`)\n        const scrollTopReached = index === 0\n\n        blocksWithOffsetTop.push({ ...block, offsetTop, scrollTopReached })\n        blocksTotalHeight += offsetHeight\n      })\n      this.setState({ blocks: blocksWithOffsetTop })\n\n      // watch the scroll event\n      document.querySelector('#blocks-list').onscroll = ({ target }) => {\n        //\n        // check if the current scroll position is greater or equals\n        // than one of the blocks offsetTop\n        //\n        this.state.blocks.map(block => {\n          const scrollPassed = (target.scrollTop + 120) >= block.offsetTop\n\n          if (scrollPassed && !block.scrollTopReached) {\n            this.updateBlock(block, { scrollTopReached: true })\n          }\n        })\n\n        //\n        // small fix if the last block is small than viewport\n        // if the scroll position is greater or equals than\n        // sum of all blocks height, sinalyze that the last block was reached\n        //\n        const viewportBottom = target.scrollTop + target.offsetHeight\n        const isBottom = viewportBottom >= blocksTotalHeight\n        const lastBlock = this.state.blocks.slice(-1)[0]\n\n        if (isBottom && !lastBlock.scrollTopReached) {\n          this.updateBlock(lastBlock, { scrollTopReached: true })\n        }\n      }\n    }\n  }\n\n  updateBlock (block, newProps) {\n    const { blocks } = this.state\n    const index = blocks.findIndex(currentBlock => currentBlock.id === block.id)\n\n    this.setState({\n      blocks: [\n        ...blocks.slice(0, index),\n        { ...blocks[index], ...newProps },\n        ...this.state.blocks.slice(index + 1)\n      ]\n    })\n  }\n\n  render () {\n    const {\n      mobilization: {\n        color_scheme: colorScheme,\n        header_font: headerFont,\n        body_font: bodyFont\n      },\n      blocks,\n      widgets,\n      blockUpdate,\n      editable,\n      blockEditionMode,\n      history\n    } = this.props\n\n    const themeClassName = `${colorScheme} ${headerFont}-header ${bodyFont}-body`\n    const layoutClassName = editable ? 'flex-auto relative' : 'absolute'\n    const layoutStyle = !editable ? { top: 0, bottom: 0, left: 0, right: 0 } : undefined\n\n    return (\n      <div className={classnames('flex flex-column', themeClassName, layoutClassName)} style={layoutStyle}>\n        {!blockEditionMode && (\n          <Navbar\n            mobilization={this.props.mobilization}\n            blocks={blocks}\n            editable={editable}\n            blockUpdate={blockUpdate}\n          />\n        )}\n        {/* render blocks */}\n        <div id='blocks-list' className='flex-auto' style={{ overflowY: 'scroll' }}>\n          {this.state.blocks.map((block, index) => (\n            <Block\n              history={history}\n              key={`block-${block.id}`}\n              editable={editable}\n              block={block}\n              widgets={widgets.filter(w => w.block_id === block.id)}\n            />\n          ))}\n          {editable && (\n            <div\n              className='add-new-block'\n              onClick={() => {\n                history.push(\n                  paths.createBlock(this.props.mobilization)\n                )\n              }}\n            >\n              <i className='fa fa-plus' />\n              <FormattedMessage\n                id='mobrender.components--mobilization.add-block-content'\n                defaultMessage='Adicionar bloco de contedo'\n                />\n            </div>\n          )}\n          <div className='col-10 mx-auto'>\n            <div className='col col-10'>\n              <a\n                href='http://www.bonde.org/?utm_source=footer-logo'\n                style={{ 'color': '#000', 'textDecoration': 'none', 'lineHeight': '85px' }}\n                target='_blank'\n              >\n                <FormattedMessage\n                  id='mobrender.components--mobilization.footer.slogan'\n                  defaultMessage='Feito pra causar. Feito com'\n                />\n                <strong> BONDE.</strong>\n              </a>\n            </div>\n            <div className='col col-2'>\n              <a\n                href='http://www.bonde.org/?utm_source=footer-slogan'\n                className='right my2'\n                target='_blank'\n              >\n                <LogoIconNoBorder />\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nMobilization.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  // Injected by redux\n  mobilization: PropTypes.object.isRequired,\n  blocks: PropTypes.array.isRequired,\n  blockUpdate: PropTypes.func,\n  widgets: PropTypes.array.isRequired,\n  blockEditionMode: PropTypes.bool,\n  blocksIsLoaded: PropTypes.bool\n}\n\nMobilization.defaultProps = {\n  editable: false,\n  blocks: [],\n  widgets: []\n}\n\nexport default Mobilization\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/mobilization.js","export { default } from './navbar'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/navbar/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\n// Dependency modules\nimport { DropdownMenu } from '~client/components/dropdown-menu'\nimport { NavbarEditionWrapper } from '~client/components/navigation/navbar'\n\nconst MenuItems = ({ blocks, mobile, ...menuProps }) => {\n  const items = blocks.map(block => (\n    <div key={block.id} className={classnames({ 'menu-item inline-block': !mobile })}>\n      <NavbarEditionWrapper\n        key={`navbar-edition-wrapper-${block.id}`}\n        block={block}\n        className='btn btn-transparent block white p2'\n        {...menuProps}\n      />\n    </div>\n  ))\n\n  return !mobile ? (\n    <div className='lg-show center'>\n      <div className='bg-darken-4'>\n        {items}\n      </div>\n    </div>\n  ) : (\n    <div className='lg-hide'>\n      <DropdownMenu\n        wrapperClassName='absolute right-0 top-0 m1'\n        buttonClassName='btn bg-darken-4 white rounded'\n        menuClassName='rounded bg-darken-4 white top-0 right-0'\n        menuStyle={{ marginTop: '40px' }}\n        icon='bars'\n      >\n        {items}\n      </DropdownMenu>\n    </div>\n  )\n}\n\nMenuItems.defaultProps = {\n  mobile: false\n}\n\nMenuItems.propTypes = {\n  blocks: PropTypes.arrayOf(\n    PropTypes.shape({ id: PropTypes.number })\n  ).isRequired,\n  mobile: PropTypes.bool\n}\n\nexport default MenuItems\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/navbar/menu-items.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport Menu from './menu-items'\n\nconst Navbar = props => {\n  const { blocks, editable } = props\n\n  const onlyVisibleBlocks = blocks.filter(\n    block => editable ? !block.hidden : !block.hidden && !block.menu_hidden\n  )\n  const menuProps = { ...props, blocks: onlyVisibleBlocks }\n\n  return (\n    <div className='absolute col-12 z3'>\n      <Menu {...menuProps} />\n      <Menu {...menuProps} mobile />\n    </div>\n  )\n}\n\nNavbar.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  mobilization: PropTypes.object.isRequired,\n  blocks: PropTypes.array,\n  blockUpdate: PropTypes.func\n}\n\nNavbar.defaultProps = {\n  editable: false,\n  blocks: []\n}\n\nexport default Navbar\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/navbar/navbar.js","import { connect } from 'react-redux'\nimport WidgetOverlay from './widget-overlay'\nimport Selectors from '../redux/selectors'\nimport {\n  handleMouseOver as onMouseOver,\n  handleMouseOut as onMouseOut\n} from '../redux/action-creators'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = Selectors(state, props)\n  return {\n    hasMouseOver: selectors.hasMouseOver('widget', props.widget.id)\n  }\n}\n\nconst mapActionsToProps = { onMouseOver, onMouseOut }\n\nexport default connect(mapStateToProps, mapActionsToProps)(WidgetOverlay)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/widget-overlay.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst overlayStyle = {\n  position: 'absolute',\n  top: '0',\n  right: '0',\n  bottom: '0',\n  left: '0',\n  fontWeight: 'bold',\n  borderWidth: '6px',\n  opacity: '.82',\n  backgroundColor: '#222222',\n  fontSize: '1.8rem'\n}\n\nconst WidgetOverlay = ({\n  children,\n  widget,\n  onEdit,\n  onDelete,\n  onMouseOver,\n  onMouseOut,\n  hasMouseOver\n}) => (\n  <div\n    className='relative overlay'\n    style={{ cursor: 'pointer' }}\n    onMouseEnter={() => onMouseOver('widget', widget.id)}\n    onMouseLeave={() => onMouseOut('widget')}\n  >\n    {children}\n    {hasMouseOver ? (\n      <div className='h1 rounded z1 border border-pagenta px2' style={overlayStyle}>\n        <div className='table full-height col-12 center'>\n          <div className='white table-cell align-middle'>\n            <button\n              className='btn m1 btn-edit'\n              onClick={onEdit}\n              title='Editar'\n            >\n              <i className='fa fa-edit' />\n            </button>\n            <button\n              className='btn m1 btn-remove'\n              onClick={onDelete}\n              title='Remover'\n            >\n              <i className='fa fa-trash' />\n            </button>\n          </div>\n        </div>\n      </div>\n    ) : null}\n  </div>\n)\n\nWidgetOverlay.propTypes = {\n  widget: PropTypes.object,\n  onClick: PropTypes.func,\n  // Injected by react-redux\n  hasMouseOver: PropTypes.bool,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func\n}\n\nexport default WidgetOverlay\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/widget-overlay.js","import { connect } from 'react-redux'\nimport { injectIntl } from 'react-intl'\nimport MobSelectors from '../redux/selectors'\nimport { asyncUpdateWidget as update } from '../redux/action-creators'\nimport Widget from './widget'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = MobSelectors(state, props)\n  return {\n    saving: selectors.widgetsIsLoading(),\n    mobilization: selectors.getMobilization() || selectors.getMobilizations()[0]\n  }\n}\n\nconst mapActionsToProps = { update }\n\nexport default connect(mapStateToProps, mapActionsToProps)(injectIntl(Widget))\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/widget.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport { intlShape } from 'react-intl'\nimport { Loading } from '~client/components/await'\nimport WidgetOverlay from './widget-overlay.connected'\n\nimport widgets from '../widgets/config'\n\nconst Widget = ({ saving, mobilization, block, widget, update, editable, intl, history }) => {\n  // Resize column widget\n  const { sm_size: smSize, md_size: mdSize, lg_size: lgSize } = widget\n  const className = classnames(\n    `px2 col mb4 md-mb0 col-${smSize}`,\n    `sm-col-${smSize} md-col-${mdSize} lg-col-${lgSize}`\n  )\n\n  const widgetFilter = w => w.kind === widget.kind\n  const widgetConfig = widgets(mobilization, widget, { intl }).filter(widgetFilter)[0]\n  const { component: Component, redirect } = widgetConfig\n\n  const widgetComponent = (\n    <Component\n      {...{ mobilization, block, widget, update, editable }}\n    />\n  )\n\n  return (\n    <div className={className}>\n      {saving && <Loading />}\n      {editable && redirect ? (\n        <WidgetOverlay\n          widget={widget}\n          onEdit={() => history.push(redirect)}\n          onDelete={() => {\n            const message = intl.formatMessage({\n              id: 'c--content-widget.delete-widget.confirm.message',\n              defaultMessage: 'Deseja remover o widget?'\n            })\n            if (window.confirm(message)) {\n              update({\n                ...widget,\n                settings: undefined,\n                kind: 'draft'\n              })\n            }\n          }}\n        >\n          {widgetComponent}\n        </WidgetOverlay>\n      ) : (!editable && widget.kind === 'draft' ? null : (\n        widgetComponent\n      ))}\n    </div>\n  )\n}\n\nWidget.propTypes = {\n  mobilization: PropTypes.object,\n  widget: PropTypes.object.isRequired,\n  editable: PropTypes.bool,\n  // Injected by redux\n  update: PropTypes.func.isRequired,\n  saving: PropTypes.bool,\n  // Injected by react-intl\n  intl: intlShape.isRequired\n}\n\nexport default Widget\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/widget.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\n\nimport MobSelectors from '../selectors'\n\nexport default ({ mobilization_id: mobilizationId, ...values }) => (dispatch, getState, { api }) => {\n  const credentials = AuthSelectors(getState()).getCredentials()\n  const lastPosition = MobSelectors(getState()).getBlockLastPosition()\n  const block = { ...values, position: lastPosition + 1 }\n\n  dispatch(createAction(t.ADD_BLOCK_REQUEST))\n  return api\n    .post(`/mobilizations/${mobilizationId}/blocks`, { block }, { headers: credentials })\n    .then(res => {\n      const { widgets_attributes, ...data } = res.data\n      dispatch(createAction(t.ADD_BLOCK_SUCCESS, data))\n      dispatch(createAction(t.ADD_WIDGETS_SUCCESS, widgets_attributes.sort((a, b) => a.id - b.id)))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.ADD_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-add-block.js","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default values => (dispatch, getState, { api }) => {\n  const credentials = AuthSelectors(getState()).getCredentials()\n  dispatch(createAction(t.ADD_MOBILIZATION_REQUEST))\n  return api\n    .post('/mobilizations', { mobilization: values }, { headers: credentials })\n    .then(res => {\n      dispatch(createAction(t.ADD_MOBILIZATION_SUCCESS, res.data))\n      return Promise.resolve(res.data)\n    })\n    .catch(({ response, ...errors }) => {\n      if (response.status === 422 && response.data.errors) {\n        return Promise.reject({ ...response.data.errors })\n      } else {\n        dispatch(createAction(t.ADD_MOBILIZATION_FAILURE, errors))\n        return Promise.reject(errors)\n      }\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-add-mobilization.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\nimport MobSelectors from '~client/mobrender/redux/selectors'\n\nexport default (block) => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  const mobilization = MobSelectors(getState()).getMobilization()\n\n  dispatch(createAction(t.DESTROY_BLOCK_REQUEST))\n  return api\n    .delete(`/mobilizations/${mobilization.id}/blocks/${block.id}`, { headers })\n    .then(response => {\n      dispatch(createAction(t.DESTROY_BLOCK_SUCCESS, response.data))\n      return Promise.resolve()\n    })\n    .catch(ex => {\n      dispatch(createAction(t.DESTROY_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-destroy-block.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default mobilizationId => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  dispatch(createAction(t.FETCH_BLOCKS_REQUEST))\n  return api\n    .get(`/mobilizations/${mobilizationId}/blocks`, { headers })\n    .then(response => {\n      dispatch(createAction(t.FETCH_BLOCKS_SUCCESS, response.data))\n      return Promise.resolve()\n    })\n    .catch(ex => {\n      dispatch(createAction(t.FETCH_BLOCKS_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-fetch-blocks.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default relationshipId => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  dispatch(createAction(t.FETCH_MOBILIZATIONS_REQUEST))\n  if (relationshipId) {\n    return api\n      .get(`/communities/${relationshipId}/mobilizations`, { headers })\n      .then(({ status, data }) => {\n        dispatch(createAction(t.FETCH_MOBILIZATIONS_SUCCESS, data))\n        return Promise.resolve()\n      })\n      .catch(ex => {\n        dispatch(createAction(t.FETCH_MOBILIZATIONS_FAILURE, ex))\n        return Promise.reject(ex)\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-fetch-mobilizations.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default mobilizationId => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n\n  dispatch(createAction(t.FETCH_WIDGETS_REQUEST))\n  return api\n    .get(`/mobilizations/${mobilizationId}/widgets`, { headers })\n    .then(res => {\n      dispatch(createAction(t.FETCH_WIDGETS_SUCCESS, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.FETCH_WIDGETS_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-fetch-widgets.js","/* eslint-disable prefer-promise-reject-errors */\nimport { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default where => (dispatch, getState, { api }) => {\n  const endpoint = '/blocks'\n  const config = { params: where }\n\n  dispatch({ type: t.FILTER_BLOCKS_REQUEST })\n  return api\n    .get(endpoint, config)\n    .then(response => {\n      dispatch(createAction(t.FILTER_BLOCKS_SUCCESS, response.data))\n      return Promise.resolve(response.data)\n    })\n    .catch(failure => {\n      dispatch(createAction(t.FILTER_BLOCKS_FAILURE, failure))\n      return Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-filter-block.js","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default query => (dispatch, getState, { api }) => {\n  const endpoint = '/mobilizations'\n  const config = { params: query }\n\n  dispatch({ type: t.FILTER_MOBILIZATIONS_REQUEST })\n  return api.get(endpoint, config)\n    .then(({ status, data }) => {\n      if (status === 200) {\n        dispatch(createAction(t.FILTER_MOBILIZATIONS_SUCCESS, data))\n        return Promise.resolve(data)\n      }\n\n      return Promise.reject({ message: `Request code ${status}` })\n    })\n    .catch(failure => {\n      dispatch(createAction(t.FILTER_MOBILIZATIONS_FAILURE, failure.message))\n      return Promise.reject({ message: `Request ${failure}` })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-filter-mobilization.js","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default where => (dispatch, getState, { api }) => {\n  const endpoint = '/widgets'\n  const config = { params: where }\n\n  dispatch({ type: t.FILTER_WIDGETS_REQUEST })\n  return api\n    .get(endpoint, config)\n    .then(response => {\n      dispatch(createAction(t.FILTER_WIDGETS_SUCCESS, response.data))\n      return Promise.resolve(response.data)\n    })\n    .catch(failure => {\n      dispatch(createAction(t.FILTER_WIDGETS_FAILURE, failure))\n      Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-filter-widget.js","/* eslint-disable prefer-promise-reject-errors */\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport MobSelectors from '~client/mobrender/redux/selectors'\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nconst asyncFormEntryCreate = ({ mobilization, formEntry }) => (dispatch, getState, { api }) => {\n  const state = getState()\n\n  const endpoint = `/mobilizations/${mobilization.id}/form_entries`\n  const body = { form_entry: formEntry }\n\n  dispatch({ type: t.WIDGET_FORM_ENTRY_CREATE_REQUEST })\n  return api.post(endpoint, body)\n    .then(({ data }) => {\n      dispatch(createAction(t.WIDGET_FORM_ENTRY_CREATE_SUCCESS, updateWidget(state, data)))\n      AnalyticsEvents.formSavedData()\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      dispatch(createAction(t.WIDGET_FORM_ENTRY_CREATE_FAILURE, failure))\n      return Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\nconst updateWidget = (state, payload) => {\n  const widget = MobSelectors(state).getWidget(payload.widget_id)\n  return { ...widget, form_entries_count: widget.form_entries_count + 1 }\n}\n\nexport default asyncFormEntryCreate\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-form-entry-create.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nimport AuthSelectors from '~client/account/redux/selectors'\nimport Selectors from '../selectors'\n\nexport default block => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  const mobilization = Selectors(getState()).getMobilization()\n  const blocks = Selectors(getState()).getBlocks()\n\n  const nextBlock = blocks[blocks.indexOf(blocks.filter(b => b.id === block.id)[0]) + 1]\n\n  const body = {\n    mobilization_id: mobilization.id,\n    blocks: [\n      {\n        ...block,\n        position: nextBlock.position\n      },\n      {\n        ...nextBlock,\n        position: block.position\n      }\n    ]\n  }\n\n  dispatch(createAction(t.UPDATE_BLOCK_REQUEST))\n  return api\n    .put(`/mobilizations/${mobilization.id}/blocks`, body, { headers })\n    .then(res => {\n      dispatch(createAction(t.UPDATE_BLOCK_BATCH, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-move-down.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nimport AuthSelectors from '~client/account/redux/selectors'\nimport Selectors from '../selectors'\n\nexport default block => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  const mobilization = Selectors(getState()).getMobilization()\n  const blocks = Selectors(getState()).getBlocks()\n\n  const previousBlock = blocks[blocks.indexOf(blocks.filter(b => b.id === block.id)[0]) - 1]\n\n  const body = {\n    mobilization_id: mobilization.id,\n    blocks: [\n      {\n        ...block,\n        position: previousBlock.position\n      },\n      {\n        ...previousBlock,\n        position: block.position\n      }\n    ]\n  }\n\n  dispatch(createAction(t.UPDATE_BLOCK_REQUEST))\n  return api\n    .put(`/mobilizations/${mobilization.id}/blocks`, body, { headers })\n    .then(res => {\n      dispatch(createAction(t.UPDATE_BLOCK_BATCH, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-move-up.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nimport AuthSelectors from '~client/account/redux/selectors'\nimport Selectors from '../selectors'\n\nexport default (block) => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  const mobilization = Selectors(getState()).getMobilization()\n  dispatch(createAction(t.UPDATE_BLOCK_REQUEST))\n  return api\n    .put(`/mobilizations/${mobilization.id}/blocks/${block.id}`, { block }, { headers })\n    .then(res => {\n      dispatch(createAction(t.UPDATE_BLOCK_SUCCESS, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-update-block.js","/* eslint-disable prefer-promise-reject-errors */\nimport { createAction } from './create-action'\nimport * as t from '../action-types'\n\nimport asyncFetchBlocks from './async-fetch-blocks'\nimport asyncFetchWidgets from './async-fetch-widgets'\n\nexport default ({ fieldName, ...mobilization }) =>\n  (dispatch, getState, { api }) => {\n    const { auth: { credentials } } = getState()\n    const endpoint = `/mobilizations/${mobilization.id}`\n    const config = { headers: credentials }\n\n    dispatch({ type: t.UPDATE_MOBILIZATION_REQUEST })\n    return api\n      .put(endpoint, { mobilization }, config)\n      .then(({ status, data }) => {\n        dispatch({ type: t.UPDATE_MOBILIZATION_SUCCESS, payload: data })\n        if (mobilization.template_mobilization_id) {\n          dispatch(asyncFetchBlocks(data.id))\n          dispatch(asyncFetchWidgets(data.id))\n        }\n        return Promise.resolve(data)\n      })\n      .catch(({ response, ...errors }) => {\n        if (response.status === 422 && response.data.errors) {\n          const errors = response.data.errors\n          if (response.data.errors.custom_domain) {\n            errors[fieldName] = errors.custom_domain\n            delete errors.custom_domain\n          }\n          dispatch(createAction(t.UPDATE_MOBILIZATION_FAILURE, errors))\n          return Promise.reject({ ...errors })\n        } else {\n          dispatch(createAction(t.UPDATE_MOBILIZATION_FAILURE, errors))\n          return Promise.reject({ error: `Response code ${errors}` })\n        }\n      })\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-update-mobilization.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nimport AuthSelectors from '~client/account/redux/selectors'\nimport Selectors from '../selectors'\n\nexport default (widget) => (dispatch, getState, { api }) => {\n  dispatch(createAction(t.UPDATE_WIDGET_REQUEST))\n  const credentials = AuthSelectors(getState()).getCredentials()\n  const mobilization = Selectors(getState()).getMobilization()\n\n  const endpoint = `/mobilizations/${mobilization.id}/widgets/${widget.id}`\n  const body = { widget }\n  const options = { headers: credentials }\n\n  return api\n    .put(endpoint, body, options)\n    .then(res => {\n      dispatch(createAction(t.UPDATE_WIDGET_SUCCESS, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_WIDGET_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-update-widget.js","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport downloadjs from 'downloadjs'\nimport { createAction } from './create-action'\n\nconst asyncWidgetDataExport = params => (dispatch, getState, { api, intl }) => {\n  const { auth: { credentials } } = getState()\n  const { mobilization, widget, filename } = params\n\n  const endpoint = `/mobilizations/${mobilization.id}/form_entries.csv`\n  const config = {\n    headers: credentials,\n    params: {\n      widget_id: widget.id,\n      INFO: 'disjoint_fields'\n    }\n  }\n\n  dispatch({ type: t.EXPORT_DATACLIP_REQUEST })\n  return api.get(endpoint, config)\n    .then(({ data }) => {\n      if (!data.length) {\n        window.alert(intl.formatMessage({\n          id: 'action--async-widget-data-export.no-data',\n          defaultMessage: 'Nao foi encontrado nenhum dado para ser exportado'\n        }))\n        dispatch({ type: t.EXPORT_DATACLIP_NO_DATA_FOUND })\n        return Promise.resolve()\n      }\n\n      downloadjs(new Blob([data]), `[Relatrio][Formulrio] ${filename}.csv`, 'text/csv')\n      dispatch(createAction(t.EXPORT_DATACLIP_SUCCESS, { widget }))\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      dispatch(createAction(t.EXPORT_DATACLIP_FAILURE, failure))\n      return Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\nexport default asyncWidgetDataExport\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-widget-data-export.js","export const createAction = (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/create-action.js","import * as t from '../action-types'\n\nconst dataExportMount = () => ({ type: t.EXPORT_DATACLIP_MOUNT })\n\nexport default dataExportMount\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/data-export-mount.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default () => dispatch => {\n  dispatch(createAction(t.TURN_OFF_EDITION))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-cancel-edit.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default block => dispatch => {\n  dispatch(createAction(t.CHANGE_BLOCK_BACKGROUND, block))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-change-background.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default mode => dispatch => {\n  dispatch(createAction(t.TURN_ON_EDITION, mode))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-edit.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default (key) => dispatch => dispatch(createAction(t.MOUSE_OUT, { key }))\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-mouse-out.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default (key, id) => dispatch => dispatch(createAction(t.MOUSE_OVER, { key, id }))\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-mouse-over.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default (key, progress) => dispatch => {\n  if (progress) dispatch(createAction(t.LOADING_FILE, { key, progress }))\n  else dispatch(createAction(t.FINISH_LOADING_FILE, key))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-upload-file.js","export { default as asyncUpdateWidget } from './async-update-widget'\nexport { default as asyncFetchWidgets } from './async-fetch-widgets'\nexport { default as asyncFilterWidget } from './async-filter-widget'\nexport { default as asyncFormEntryCreate } from './async-form-entry-create'\nexport { default as setWidgetList } from './set-widget-list'\nexport { default as asyncWidgetDataExport } from './async-widget-data-export'\nexport { default as dataExportMount } from './data-export-mount'\n\nexport { default as handleMouseOver } from './handle-mouse-over'\nexport { default as handleMouseOut } from './handle-mouse-out'\n\nexport { default as asyncMoveUp } from './async-move-up'\nexport { default as asyncMoveDown } from './async-move-down'\nexport { default as asyncUpdateBlock } from './async-update-block'\nexport { default as asyncFetchBlocks } from './async-fetch-blocks'\nexport { default as asyncDestroyBlock } from './async-destroy-block'\nexport { default as asyncAddBlock } from './async-add-block'\nexport { default as asyncFilterBlock } from './async-filter-block'\n\nexport { default as handleEdit } from './handle-edit'\nexport { default as handleCancelEdit } from './handle-cancel-edit'\n\nexport { default as handleUploadFile } from './handle-upload-file'\nexport { default as handleChangeBackground } from './handle-change-background'\n\nexport { default as asyncAddMobilization } from './async-add-mobilization'\nexport { default as asyncUpdateMobilization } from './async-update-mobilization'\nexport { default as asyncFetchMobilizations } from './async-fetch-mobilizations'\nexport { default as selectMobilization } from './select-mobilization'\nexport { default as selectWidget } from './select-widget'\nexport { default as toggleMobilizationMenu } from './toggle-mobilization-menu'\nexport { default as asyncFilterMobilization } from './async-filter-mobilization'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/index.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default id => dispatch => {\n  const payload = !isNaN(parseInt(id, 10)) ? parseInt(id, 10) : undefined\n  dispatch(createAction(t.SELECT_MOBILIZATION, payload))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/select-mobilization.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default id => dispatch => {\n  const payload = !isNaN(parseInt(id, 10)) ? parseInt(id, 10) : undefined\n  dispatch(createAction(t.SELECT_WIDGET, payload))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/select-widget.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nconst setWidgetList = widgets => createAction(t.SET_WIDGET_LIST, widgets)\n\nexport default setWidgetList\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/set-widget-list.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default id => dispatch => {\n  const payload = !isNaN(parseInt(id, 10)) ? parseInt(id, 10) : undefined\n  dispatch(createAction(t.TOGGLE_MOBILIZATION_MENU, payload))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/toggle-mobilization-menu.js","export const SELECT_WIDGET = 'SELECT_WIDGET'\n\nexport const FETCH_WIDGETS_REQUEST = 'FETCH_WIDGETS_REQUEST'\nexport const FETCH_WIDGETS_SUCCESS = 'FETCH_WIDGETS_SUCCESS'\nexport const FETCH_WIDGETS_FAILURE = 'FETCH_WIDGETS_FAILURE'\n\nexport const FILTER_WIDGETS_REQUEST = 'FILTER_WIDGETS_REQUEST'\nexport const FILTER_WIDGETS_SUCCESS = 'FILTER_WIDGETS_SUCCESS'\nexport const FILTER_WIDGETS_FAILURE = 'FILTER_WIDGETS_FAILURE'\n\nexport const UPDATE_WIDGET_REQUEST = 'UPDATE_WIDGET_REQUEST'\nexport const UPDATE_WIDGET_SUCCESS = 'UPDATE_WIDGET_SUCCESS'\nexport const UPDATE_WIDGET_FAILURE = 'UPDATE_WIDGET_FAILURE'\n\nexport const WIDGET_FORM_ENTRY_CREATE_REQUEST = 'WIDGET_FORM_ENTRY_CREATE_REQUEST'\nexport const WIDGET_FORM_ENTRY_CREATE_SUCCESS = 'WIDGET_FORM_ENTRY_CREATE_SUCCESS'\nexport const WIDGET_FORM_ENTRY_CREATE_FAILURE = 'WIDGET_FORM_ENTRY_CREATE_FAILURE'\n\nexport const ADD_WIDGETS_SUCCESS = 'ADD_WIDGETS_SUCCESS'\nexport const SET_WIDGET_LIST = 'SET_WIDGET_LIST'\n\nexport const FETCH_BLOCKS_REQUEST = 'FETCH_BLOCKS_REQUEST'\nexport const FETCH_BLOCKS_SUCCESS = 'FETCH_BLOCKS_SUCCESS'\nexport const FETCH_BLOCKS_FAILURE = 'FETCH_BLOCKS_FAILURE'\n\nexport const UPDATE_BLOCK_REQUEST = 'UPDATE_BLOCK_REQUEST'\nexport const UPDATE_BLOCK_SUCCESS = 'UPDATE_BLOCK_SUCCESS'\nexport const UPDATE_BLOCK_FAILURE = 'UPDATE_BLOCK_FAILURE'\nexport const UPDATE_BLOCK_BATCH = 'UPDATE_BLOCK_BATCH'\n\nexport const ADD_BLOCK_REQUEST = 'ADD_BLOCK_REQUEST'\nexport const ADD_BLOCK_SUCCESS = 'ADD_BLOCK_SUCCESS'\nexport const ADD_BLOCK_FAILURE = 'ADD_BLOCK_FAILURE'\n\nexport const DESTROY_BLOCK_REQUEST = 'DESTROY_BLOCK_REQUEST'\nexport const DESTROY_BLOCK_SUCCESS = 'DESTROY_BLOCK_SUCCESS'\nexport const DESTROY_BLOCK_FAILURE = 'DESTROY_BLOCK_FAILURE'\n\nexport const FILTER_BLOCKS_REQUEST = 'FILTER_BLOCKS_REQUEST'\nexport const FILTER_BLOCKS_SUCCESS = 'FILTER_BLOCKS_SUCCESS'\nexport const FILTER_BLOCKS_FAILURE = 'FILTER_BLOCKS_FAILURE'\n\nexport const CHANGE_BLOCK_BACKGROUND = 'CHANGE_BLOCK_BACKGROUND'\n\nexport const MOUSE_OVER = 'MOUSE_OVER'\nexport const MOUSE_OUT = 'MOUSE_OUT'\n\nexport const TURN_ON_EDITION = 'TURN_ON_EDITION'\nexport const TURN_OFF_EDITION = 'TURN_OFF_EDITION'\n\nexport const MOVE_BLOCK_UP = 'MOVE_BLOCK_UP'\nexport const MOVE_BLOCK_DOWN = 'MOVE_BLOCK_DOWN'\n\nexport const LOADING_FILE = 'LOADING_FILE'\nexport const FINISH_LOADING_FILE = 'FINISH_LOADING_FILE'\n\nexport const ADD_MOBILIZATION_REQUEST = 'ADD_MOBILIZATION_REQUEST'\nexport const ADD_MOBILIZATION_SUCCESS = 'ADD_MOBILIZATION_SUCCESS'\nexport const ADD_MOBILIZATION_FAILURE = 'ADD_MOBILIZATION_FAILURE'\n\nexport const FETCH_MOBILIZATIONS_REQUEST = 'FETCH_MOBILIZATIONS_REQUEST'\nexport const FETCH_MOBILIZATIONS_SUCCESS = 'FETCH_MOBILIZATIONS_SUCCESS'\nexport const FETCH_MOBILIZATIONS_FAILURE = 'FETCH_MOBILIZATIONS_FAILURE'\n\nexport const SELECT_MOBILIZATION = 'SELECT_MOBILIZATION'\n\nexport const UPDATE_MOBILIZATION_REQUEST = 'UPDATE_MOBILIZATION_REQUEST'\nexport const UPDATE_MOBILIZATION_SUCCESS = 'UPDATE_MOBILIZATION_SUCCESS'\nexport const UPDATE_MOBILIZATION_FAILURE = 'UPDATE_MOBILIZATION_FAILURE'\n\nexport const TOGGLE_MOBILIZATION_MENU = 'TOGGLE_MOBILIZATION_MENU'\n\nexport const FILTER_MOBILIZATIONS_REQUEST = 'FILTER_MOBILIZATIONS_REQUEST'\nexport const FILTER_MOBILIZATIONS_SUCCESS = 'FILTER_MOBILIZATIONS_SUCCESS'\nexport const FILTER_MOBILIZATIONS_FAILURE = 'FILTER_MOBILIZATIONS_FAILURE'\n\nexport const EXPORT_DATACLIP_REQUEST = 'EXPORT_DATACLIP_REQUEST'\nexport const EXPORT_DATACLIP_SUCCESS = 'EXPORT_DATACLIP_SUCCESS'\nexport const EXPORT_DATACLIP_FAILURE = 'EXPORT_DATACLIP_FAILURE'\nexport const EXPORT_DATACLIP_NO_DATA_FOUND = 'EXPORT_DATACLIP_NO_DATA_FOUND'\nexport const EXPORT_DATACLIP_MOUNT = 'EXPORT_DATACLIP_MOUNT'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-types.js","import * as actions from './action-creators'\nimport * as actionTypes from './action-types'\nimport reducer from './reducers'\nimport selectors from './selectors'\n\nexport default {\n  actions,\n  reducer,\n  selectors,\n  actionTypes\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/index.js","import * as t from '../action-types'\n\nexport const initialState = {\n  isLoaded: false,\n  fetching: false,\n  saving: false,\n  data: [],\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.FETCH_BLOCKS_REQUEST:\n    case t.FILTER_BLOCK_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.FETCH_BLOCKS_SUCCESS:\n    case t.FILTER_BLOCKS_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload\n      }\n    case t.FETCH_BLOCKS_FAILURE:\n    case t.FILTER_BLOCKS_FAILURE:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        error: action.payload\n      }\n    case t.ADD_BLOCK_REQUEST:\n    case t.UPDATE_BLOCK_REQUEST:\n    case t.DESTROY_BLOCK_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.ADD_BLOCK_SUCCESS:\n      return {...state,\n        saving: false,\n        data: [...state.data, action.payload]\n      }\n    case t.UPDATE_BLOCK_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.map(\n          b => b.id === action.payload.id ? action.payload : b\n        )\n      }\n    case t.DESTROY_BLOCK_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.filter(b => b.id !== action.payload.id)\n      }\n    case t.CHANGE_BLOCK_BACKGROUND:\n      return {...state,\n        data: state.data.map(\n          b => b.id === action.payload.id ? action.payload : b\n        )\n      }\n    case t.ADD_BLOCK_FAILURE:\n    case t.UPDATE_BLOCK_FAILURE:\n    case t.DESTROY_BLOCK_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    case t.UPDATE_BLOCK_BATCH:\n      const payload = action.payload.blocks.blocks\n      return {...state,\n        saving: false,\n        data: state.data.map(b => {\n          const block = payload.find(u => u.id === b.id)\n          if (block) return block\n          else return b\n        })\n      }\n    case t.SELECT_MOBILIZATION:\n      return initialState\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/blocks.js","import * as t from '../action-types'\n\nconst initialState = {\n  loading: false,\n  success: false,\n  error: undefined\n}\n\nexport default function dataExport (state = initialState, action = {}) {\n  switch (action.type) {\n    case t.EXPORT_DATACLIP_REQUEST:\n      return { ...state, loading: true }\n    case t.EXPORT_DATACLIP_SUCCESS:\n      return { ...state, loading: false, success: true }\n    case t.EXPORT_DATACLIP_FAILURE:\n      return { ...state, loading: false, error: action.payload }\n\n    case t.EXPORT_DATACLIP_NO_DATA_FOUND:\n      return initialState\n    case t.EXPORT_DATACLIP_MOUNT:\n      return initialState\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/data-export.js","import * as t from '../action-types'\n\nexport const initialState = {\n  isEditing: false,\n  mode: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.TURN_ON_EDITION:\n      return {...state,\n        isEditing: true,\n        mode: action.payload\n      }\n    case t.TURN_OFF_EDITION:\n      return {...state,\n        isEditing: false,\n        mode: undefined\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/edition.js","import * as t from '../action-types'\n\nexport const initialState = {}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.MOUSE_OVER:\n      return {\n        ...state,\n        [action.payload.key]: action.payload.id\n      }\n    case t.MOUSE_OUT:\n      if (action.payload.key in state) {\n        return {\n          ...state,\n          [action.payload.key]: undefined\n        }\n      } else {\n        return state\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/hover.js","import { combineReducers } from 'redux'\n\nimport blocksReducer from './blocks'\nimport widgetsReducer from './widgets'\nimport editionReducer from './edition'\nimport hoverReducer from './hover'\nimport uploaderReducer from './uploader'\nimport mobilizationsReducer from './mobilizations'\nimport dataExportReducer from './data-export'\n\n// Dependency modules\nimport templatesReducer from '~client/mobilizations/templates/reducers'\nimport pluginsReducer from '~client/mobilizations/widgets/__plugins__/reducers'\n\nexport default combineReducers({\n  list: mobilizationsReducer,\n  blocks: blocksReducer,\n  templates: templatesReducer,\n  widgets: widgetsReducer,\n  edition: editionReducer,\n  hover: hoverReducer,\n  uploader: uploaderReducer,\n  plugins: pluginsReducer,\n  dataExport: dataExportReducer\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/index.js","import * as t from '../action-types'\nimport * as tc from '~client/community/action-types'\n\nexport const initialState = {\n  isLoaded: false,\n  fetching: false,\n  saving: false,\n  data: [],\n  currentId: undefined,\n  menuActiveIndex: undefined,\n  error: undefined,\n  communityId: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.ADD_MOBILIZATION_REQUEST:\n    case t.UPDATE_MOBILIZATION_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.ADD_MOBILIZATION_SUCCESS:\n      return {...state,\n        saving: false,\n        data: [action.payload, ...state.data],\n        currentId: action.payload.id\n      }\n    case t.UPDATE_MOBILIZATION_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.map(m => m.id === action.payload.id ? action.payload : m)\n      }\n    case t.ADD_MOBILIZATION_FAILURE:\n    case t.UPDATE_MOBILIZATION_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    case t.FETCH_MOBILIZATIONS_REQUEST:\n    case t.FILTER_MOBILIZATIONS_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.FETCH_MOBILIZATIONS_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload\n      }\n    case t.FILTER_MOBILIZATIONS_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload,\n        currentId: action.payload.length === 1 ? action.payload[0].id : undefined\n      }\n    case t.FETCH_MOBILIZATIONS_FAILURE:\n    case t.FILTER_MOBILIZATIONS_FAILURE:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        error: action.payload\n      }\n    case t.SELECT_MOBILIZATION:\n      return {...state,\n        currentId: action.payload,\n        reload: action.payload !== state.currentId ? true : state.reload\n      }\n    case t.FETCH_BLOCKS_SUCCESS:\n    case t.FETCH_WIDGETS_SUCCESS:\n      return {...state,\n        reload: false\n      }\n    case t.TOGGLE_MOBILIZATION_MENU:\n      return {...state,\n        menuActiveIndex: action.payload === state.menuActiveIndex ? undefined : action.payload\n      }\n    // TODO: I think that is not correct, but i need more learning about this flux\n    case tc.SELECT:\n      if (state.communityId !== action.id) {\n        return {...state,\n          isLoaded: false,\n          communityId: action.id\n        }\n      }\n      return state\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/mobilizations.js","import * as t from '../action-types'\n\nconst initialState = {}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.LOADING_FILE:\n      return {\n        [action.payload.key]: action.payload.progress\n      }\n    case t.FINISH_LOADING_FILE:\n      delete state[action.payload]\n      return state\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/uploader.js","import * as t from '../action-types'\n\nexport const initialState = {\n  currentId: undefined,\n  isLoaded: false,\n  fetching: false,\n  saving: false,\n  data: [],\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.SELECT_WIDGET:\n      return { ...state, currentId: action.payload }\n\n    case t.FETCH_WIDGETS_REQUEST:\n    case t.FILTER_WIDGETS_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.FETCH_WIDGETS_SUCCESS:\n    case t.FILTER_WIDGETS_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload\n      }\n    case t.FETCH_WIDGETS_FAILURE:\n    case t.FILTER_WIDGETS_FAILURE:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        error: action.payload\n      }\n    case t.UPDATE_WIDGET_REQUEST:\n    case t.WIDGET_FORM_ENTRY_CREATE_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.UPDATE_WIDGET_SUCCESS:\n    case t.WIDGET_FORM_ENTRY_CREATE_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.map(\n          w => w.id === action.payload.id ? action.payload : w\n        )\n      }\n    case t.UPDATE_WIDGET_FAILURE:\n    case t.WIDGET_FORM_ENTRY_CREATE_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    case t.ADD_WIDGETS_SUCCESS:\n      return {...state,\n        data: [...state.data, ...action.payload]\n      }\n    case t.SET_WIDGET_LIST:\n      return { ...state, data: action.payload }\n    case t.SELECT_MOBILIZATION:\n      return initialState\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/widgets.js","export default (state, props) => ({\n\n  getMobilization: () => {\n    const { list: { currentId: id, data } } = state.mobilizations\n    return id ? data.filter(mob => mob.id === id)[0] : undefined\n  },\n\n  mobilizationsIsLoading: () => {\n    return state.mobilizations.list.fetching\n  },\n\n  mobilizationsIsLoaded: () => {\n    return state.mobilizations.list.isLoaded\n  },\n\n  mobilizationIsSaving: () => {\n    return state.mobilizations.list.saving\n  },\n\n  getMobilizationMenuActive: () => {\n    return state.mobilizations.list.menuActiveIndex\n  },\n\n  getMobilizations: (f) => {\n    const { list: { data } } = state.mobilizations\n    if (f && f.status) {\n      return data.filter(m => m.status === f.status)\n    }\n    return data.filter(m => m.status === 'active')\n  },\n\n  hasCurrentMobilization: () => {\n    return state.mobilizations.list.currentId\n  },\n\n  hasMouseOver: (key, id) => {\n    const { hover } = state.mobilizations\n    if (key in hover) return hover[key] === id\n    else return false\n  },\n\n  getBlocks: () => {\n    const { blocks: { data } } = state.mobilizations\n    return data.sort((a, b) => a.position - b.position)\n  },\n\n  getBlockLastPosition: () => {\n    const { blocks: { data } } = state.mobilizations\n    return data.length\n  },\n\n  blocksIsLoaded: () => {\n    return state.mobilizations.blocks.isLoaded\n  },\n\n  canMoveUp: () => {\n    const { block } = props\n    const { blocks: { data } } = state.mobilizations\n    return data[0] && data[0].id !== block.id\n  },\n\n  canMoveDown: () => {\n    const { block } = props\n    const { blocks: { data } } = state.mobilizations\n    const index = data.length - 1\n    return data[index] && data[index].id !== block.id\n  },\n\n  getUploadProgress: (key) => {\n    const { uploader } = state.mobilizations\n    return uploader[key]\n  },\n\n  getEditing: () => {\n    const { edition } = state.mobilizations\n    return edition.isEditing ? edition.mode : undefined\n  },\n\n  getBlockSaving: () => {\n    const { blocks: { saving } } = state.mobilizations\n    return saving\n  },\n\n  getWidgets: () => {\n    const { widgets: { data } } = state.mobilizations\n    return data\n  },\n\n  getWidget: (id) => {\n    const { widgets: { data, currentId } } = state.mobilizations\n    let pkey\n    if (props && props.match.params && props.match.params.widget_id) {\n      pkey = parseInt(props.match.params.widget_id)\n    } else if (id) {\n      pkey = id\n    } else {\n      pkey = currentId\n    }\n    return data.filter(w => w.id === pkey)[0]\n  },\n\n  mobilizationIsNeedReload: () => {\n    const {\n      list: { reload },\n      blocks: { isLoaded: blocksIsLoaded },\n      widgets: { isLoaded: widgetsIsLoaded }\n    } = state.mobilizations\n    return !blocksIsLoaded || !widgetsIsLoaded ? true : reload\n  },\n\n  widgetsIsLoaded: () => {\n    return state.mobilizations.widgets.isLoaded\n  },\n\n  widgetsIsLoading: () => {\n    return state.mobilizations.widgets.saving\n  },\n\n  renderIsLoading: () => {\n    const {\n      widgets: {\n        isLoaded: widgetsIsLoaded,\n        fetching: widgetsIsLoading\n      },\n      blocks: {\n        isLoaded: blocksIsLoaded,\n        fetching: blocksIsLoading\n      }\n    } = state.mobilizations\n\n    const isLoaded = blocksIsLoaded && widgetsIsLoaded\n    const isntLoading = !blocksIsLoading && !widgetsIsLoading\n    return !(isLoaded && isntLoading)\n  },\n\n  getPlugin: plugin => {\n    if (!(plugin in state.mobilizations.plugins)) {\n      console.error(`The [${plugin}] is not an available plugin`)\n      return {}\n    }\n    return state.mobilizations.plugins[plugin]\n  }\n})\n\nexport const getTemplate = (state, ownProps) => {\n  const { list: { data }, templates: { list: { templateId } } } = state.mobilizations\n  return data.filter(mob => mob.id === templateId)[0]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/selectors.js","import { Draft } from './draft/components'\nimport {\n  Pressure,\n  Form,\n  Content,\n  Donation\n} from '~client/mobilizations/widgets/__plugins__'\nimport { PressureEmailIcon, PressurePhoneIcon } from './icons'\nimport { createEditorContent } from '~client/mobilizations/widgets/__plugins__/content/components/editor-slate'\nimport * as Paths from '~client/paths'\n\nexport default (mobilization, widget, { intl }) => [\n  {\n    component: Draft,\n    kind: 'draft',\n    settings: {}\n  },\n  {\n    component: Content,\n    kind: 'content',\n    icon: 'font',\n    label: intl.formatMessage({\n      id: 'widgets.config--content.label',\n      defaultMessage: 'Texto'\n    }),\n    settings: {\n      content: createEditorContent(\n        intl.formatMessage({\n          id: 'widgets.config--content.default',\n          defaultMessage: 'Clique aqui para editar...'\n        })\n      )\n    }\n  },\n  {\n    component: Form,\n    kind: 'form',\n    icon: 'list',\n    label: intl.formatMessage({\n      id: 'widgets.config--form.label',\n      defaultMessage: 'Formulrio'\n    }),\n    settings: {\n      email_text: intl.formatMessage({\n        id: 'widgets.config--form.default',\n        defaultMessage: 'Obrigado por apostar na fora da ao coletiva! Sua participao  muito importante e, agora, precisamos da sua ajuda para potencializar nosso impacto. Compartilhe nas suas redes clicando em um dos links abaixo.\\n\\nUm abrao'\n      })\n    },\n    redirect: Paths.formMobilizationWidget(mobilization.id, widget.id)\n  },\n  {\n    component: Pressure,\n    kind: 'pressure',\n    svgIcon: PressureEmailIcon,\n    label: intl.formatMessage({\n      id: 'widgets.config--pressure.label',\n      defaultMessage: 'Presso por email'\n    }),\n    settings: {\n      main_color: '#f23392',\n      title_text: intl.formatMessage({\n        id: 'widgets.config--pressure.default.title',\n        defaultMessage: 'Envie um e-mail para quem pode tomar essa deciso'\n      }),\n      button_text: intl.formatMessage({\n        id: 'widgets.config--pressure.default.button-text',\n        defaultMessage: 'Enviar e-mail'\n      })\n      /* reply_email: user.email */\n    },\n    redirect: Paths.pressure(mobilization.id, widget.id)\n  },\n  {\n    component: Pressure,\n    kind: 'pressure-phone',\n    svgIcon: PressurePhoneIcon,\n    label: intl.formatMessage({\n      id: 'widgets.config--pressure-phone.label',\n      defaultMessage: 'Presso por telefone'\n    }),\n    settings: {\n      main_color: '#f23392',\n      title_text: intl.formatMessage({\n        id: 'widgets.config--pressure-phone.default.title',\n        defaultMessage: 'Ligue para quem pode tomar essa deciso'\n      }),\n      button_text: intl.formatMessage({\n        id: 'widgets.config--pressure-phone.default.button-text',\n        defaultMessage: 'Ligar'\n      })\n    },\n    redirect: Paths.pressure(mobilization.id, widget.id)\n  },\n  {\n    component: Donation,\n    kind: 'donation',\n    icon: 'money',\n    label: intl.formatMessage({\n      id: 'widgets.config--donation.label',\n      defaultMessage: 'Doao'\n    }),\n    settings: {\n      main_color: '#54d0f6',\n      title_text: intl.formatMessage({\n        id: 'widgets.components--donation.default.title-text',\n        defaultMessage: 'Clique para configurar seu bloco de doao'\n      }),\n      button_text: intl.formatMessage({\n        id: 'widgets.components--donation.default.button-text',\n        defaultMessage: 'Doar agora'\n      })\n    },\n    redirect: Paths.donation(mobilization.id, widget.id)\n  }\n]\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/config.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nif (require('exenv').canUseDOM) require('./draft-button.scss')\n\nconst DraftButton = ({ icon, svgIcon: SVGIcon, label, updateKind, widget, ...props }) => {\n  return (\n    <div className='draft-widget-button col col-4 p1'>\n      <button title={label} className='btn col-12' onClick={() => updateKind(props)}>\n        <span className='content'>\n          {icon && (<i className={`fa fa-${icon} block white`} />)}\n          {SVGIcon && (<SVGIcon />)}\n          {widget.lg_size !== 3 && (<span>{label}</span>)}\n        </span>\n      </button>\n    </div>\n  )\n}\n\nDraftButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  icon: PropTypes.string.isRequired,\n  kind: PropTypes.string.isRequired,\n  updateKind: PropTypes.func.isRequired,\n  settings: PropTypes.object\n}\n\nexport default DraftButton\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/draft/components/draft-button.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender/widgets/draft/components/draft-button.scss\n// module id = ./mobrender/widgets/draft/components/draft-button.scss\n// module chunks = 0","import React from 'react'\nimport { injectIntl, intlShape } from 'react-intl'\nimport DraftButton from './draft-button'\nimport widgets from '~client/mobrender/widgets/config'\n\nif (require('exenv').canUseDOM) require('./draft.scss')\n\nconst Draft = ({ mobilization, widget, update, intl, ...extraProps }) => {\n  const updateKind = props => update({...widget, ...props})\n  const widgetsConfig = widgets(mobilization, widget, { intl }).filter(w => w.kind !== 'draft')\n\n  return (\n    <div className='draft-widget widget center rounded lightgray clearfix'>\n      {widgetsConfig.map((wc, index) => {\n        const props = Object.assign({}, wc)\n        delete props.component\n        return (\n          <DraftButton\n            key={`wc-${index}`}\n            widget={widget}\n            updateKind={updateKind}\n            {...props}\n          />\n        )\n      })}\n    </div>\n  )\n}\n\nDraft.propTypes = {\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(Draft)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/draft/components/draft.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender/widgets/draft/components/draft.scss\n// module id = ./mobrender/widgets/draft/components/draft.scss\n// module chunks = 0","export { default as Draft } from './draft'\nexport { default as DraftButton } from './draft-button'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/draft/components/index.js","export { default as PressureEmailIcon } from './pressure-email'\nexport { default as PressurePhoneIcon } from './pressure-phone'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/icons/index.js","/* eslint-disable */\nimport React from 'react'\n\nexport default ({ size }) => (\n  <svg width={size || '39'} height={size || '37'} viewBox='0 0 39 37' xmlns='http://www.w3.org/2000/svg'\nxmlnsXlink='http://www.w3.org/1999/xlink'>\n    <defs>\n        <path d='M12,10 C16.95,10 21,14.05 21,19 C21,23.95 16.95,28 12,28 C7.05,28 3,23.95 3,19 C3,14.05 7.05,10 12,10 L12,10 Z M12,7 C5.4,7 0,12.4 0,19 C0,25.5999992 5.4,31 12,31 C18.6,31 24,25.5999992 24,19 C24,12.4 18.6,7 12,7 L12,7 L12,7 Z'\n        id='path-1' />\n        <filter x='-20.8%' y='-20.8%' width='158.3%' height='158.3%' filterunits='objectBoundingBox'\n        id='filter-2'>\n            <femorphology radius='1' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter1'>\n                <feoffset dx='2' dy='2' in='shadowSpreadOuter1' result='shadowOffsetOuter1'>\n                    <fegaussianblur stddeviation='1' in='shadowOffsetOuter1' result='shadowBlurOuter1'>\n                        <fecolormatrix values='0 0 0 0 0.183434311 0 0 0 0 0.183434311 0 0 0 0 0.183434311 0 0 0 0.17 0'\n                        in='shadowBlurOuter1' />\n                    </fegaussianblur>\n                </feoffset>\n            </femorphology>\n        </filter>\n        <path d='M12,16 C13.65,16 15,17.35 15,19 C15,20.65 13.65,22 12,22 C10.35,22 9,20.65 9,19 C9,17.35 10.35,16 12,16 L12,16 Z M12,13 C8.7,13 6,15.7 6,19 C6,22.3 8.7,25 12,25 C15.3,25 18,22.3 18,19 C18,15.7 15.3,13 12,13 L12,13 L12,13 Z'\n        id='path-3' />\n        <filter x='-41.7%' y='-41.7%' width='216.7%' height='216.7%' filterunits='objectBoundingBox'\n        id='filter-4'>\n            <femorphology radius='1' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter1'>\n                <feoffset dx='2' dy='2' in='shadowSpreadOuter1' result='shadowOffsetOuter1'>\n                    <fegaussianblur stddeviation='1' in='shadowOffsetOuter1' result='shadowBlurOuter1'>\n                        <fecolormatrix values='0 0 0 0 0.183434311 0 0 0 0 0.183434311 0 0 0 0 0.183434311 0 0 0 0.17 0'\n                        in='shadowBlurOuter1' />\n                    </fegaussianblur>\n                </feoffset>\n            </femorphology>\n        </filter>\n    </defs>\n    <g id='Symbols' fill='none' fillRule='evenodd'>\n        <g id='Block-choose' transform='translate(-56 -285)'>\n            <g id='Group-2' transform='translate(58 285)'>\n                <path d='M36.666663,15.4165691 C36.666663,15.957322 36.5145588,16.4586255 36.2708971,16.8996872 L28.4826206,8.18572005 L36.1864569,1.44554959 C36.4861409,1.92112956 36.666663,2.47977716 36.666663,3.08346632 L36.666663,15.4165691 Z M24.3333569,9.76791945 L35.0529955,0.388496218 C34.6131031,0.147681433 34.1177475,0 33.5834,0 L15.0833138,0 C14.5483054,0 14.0527973,0.147681433 13.6146842,0.388496218 L24.3333569,9.76791945 Z M27.3219106,9.20047705 L24.8406083,11.3729447 C24.6954687,11.4993762 24.5147433,11.5625158 24.3333569,11.5625158 C24.1518689,11.5625158 23.9711434,11.4993762 23.8260038,11.3729447 L21.3441424,9.20037538 L13.4573438,18.0257263 C13.9300769,18.3223093 14.4840983,18.4999845 15.083263,18.4999845 L33.5834,18.4999845 C34.182463,18.4999845 34.7367386,18.3223093 35.2093192,18.0257263 L27.3219106,9.20047705 Z M12.4803078,1.44549875 C12.1806746,1.92107872 12,2.47972632 12,3.08346632 L12,15.4166199 C12,15.9573729 12.1513925,16.4586764 12.3959693,16.899738 L20.1833307,8.18424578 L12.4803078,1.44549875 Z'\n                id='Shape' fill='#FFF' fillRule='nonzero' />\n                <g id='Fill-1'>\n                    <use fill='#000' filter='url(#filter-2)' xlinkHref='#path-1' />\n                    <use fill='#FFF' xlinkHref='#path-1' />\n                </g>\n                <g id='Fill-3'>\n                    <use fill='#000' filter='url(#filter-4)' xlinkHref='#path-3' />\n                    <use fill='#FFF' xlinkHref='#path-3' />\n                </g>\n            </g>\n        </g>\n    </g>\n  </svg>\n)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/icons/pressure-email.js","/* eslint-disable */\nimport React from 'react'\n\nexport default ({ size }) => (\n<svg width={size || '39'} height={size || '37'} viewBox='0 0 39 37' xmlns='http://www.w3.org/2000/svg'\nxmlnsXlink='http://www.w3.org/1999/xlink'>\n    <defs>\n        <path d='M12.5,10 C17.65625,10 21.875,14.05 21.875,19 C21.875,23.95 17.65625,28 12.5,28 C7.34375,28 3.125,23.95 3.125,19 C3.125,14.05 7.34375,10 12.5,10 L12.5,10 Z M12.5,7 C5.625,7 0,12.4 0,19 C0,25.5999992 5.625,31 12.5,31 C19.375,31 25,25.5999992 25,19 C25,12.4 19.375,7 12.5,7 L12.5,7 L12.5,7 Z'\n        id='path-1' />\n        <filter x='-20%' y='-20.8%' width='156%' height='158.3%' filterunits='objectBoundingBox'\n        id='filter-2'>\n            <femorphology radius='1' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter1'>\n                <feoffset dx='2' dy='2' in='shadowSpreadOuter1' result='shadowOffsetOuter1'>\n                    <fegaussianblur stddeviation='1' in='shadowOffsetOuter1' result='shadowBlurOuter1'>\n                        <fecolormatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0' in='shadowBlurOuter1'\n                        />\n                    </fegaussianblur>\n                </feoffset>\n            </femorphology>\n        </filter>\n        <path d='M13,16 C14.65,16 16,17.35 16,19 C16,20.65 14.65,22 13,22 C11.35,22 10,20.65 10,19 C10,17.35 11.35,16 13,16 L13,16 Z M13,13 C9.7,13 7,15.7 7,19 C7,22.3 9.7,25 13,25 C16.3,25 19,22.3 19,19 C19,15.7 16.3,13 13,13 L13,13 L13,13 Z'\n        id='path-3' />\n        <filter x='-41.7%' y='-41.7%' width='216.7%' height='216.7%' filterunits='objectBoundingBox'\n        id='filter-4'>\n            <femorphology radius='1' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter1'>\n                <feoffset dx='2' dy='2' in='shadowSpreadOuter1' result='shadowOffsetOuter1'>\n                    <fegaussianblur stddeviation='1' in='shadowOffsetOuter1' result='shadowBlurOuter1'>\n                        <fecolormatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0' in='shadowBlurOuter1'\n                        />\n                    </fegaussianblur>\n                </feoffset>\n            </femorphology>\n        </filter>\n    </defs>\n    <g id='Symbols' fill='none' fillRule='evenodd'>\n        <g id='Block-choose' transform='translate(-214 -287)'>\n            <g id='Group' transform='translate(216 287)'>\n                <path d='M35.5151247,18.9828435 L31.8003009,15.2676051 C31.0603768,14.5306526 29.8350482,14.5530431 29.0693474,15.3190204 L27.1978032,17.1901499 C27.0795618,17.1249824 26.9571741,17.0569124 26.8284976,16.9846961 C25.6466371,16.3298422 24.0290595,15.432286 22.3268955,13.7288781 C20.6196868,12.0218767 19.7213013,10.4018113 19.0644434,9.21919055 C18.9951295,9.09390033 18.9287181,8.97310204 18.8631359,8.85838513 L20.119217,7.60416995 L20.7367533,6.98587345 C21.5036289,6.2187905 21.5247756,4.9938074 20.7865791,4.25471261 L17.0717554,0.539059548 C16.333559,-0.198998643 15.1076775,-0.176608114 14.3408018,0.590474837 L13.2938373,1.64345168 L13.3224474,1.67185448 C12.971386,2.11980328 12.6780286,2.63644401 12.4597209,3.1935812 C12.2584826,3.72390503 12.1331924,4.22997246 12.075903,4.73707649 C11.5853846,8.80358362 13.4436603,12.520066 18.4867815,17.5632563 C25.457907,24.533898 31.0757185,24.0073059 31.3180752,23.9815983 C31.8459112,23.918504 32.3517713,23.7923845 32.8658551,23.5927356 C33.4181548,23.3769849 33.93445,23.0840421 34.3821224,22.7337409 L34.4049967,22.7540582 L35.4656444,21.7154556 C36.2309305,20.9485108 36.2529755,19.7231131 35.5151247,18.9828435 Z'\n                id='Shape' fill='#FFF' fillRule='nonzero' />\n                <g id='Fill-1'>\n                    <use fill='#000' filter='url(#filter-2)' xlinkHref='#path-1' />\n                    <use fill='#FFF' xlinkHref='#path-1' />\n                </g>\n                <g id='Fill-3'>\n                    <use fill='#000' filter='url(#filter-4)' xlinkHref='#path-3' />\n                    <use fill='#FFF' xlinkHref='#path-3' />\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/icons/pressure-phone.js","export const login = () => '/login'\nexport const logout = () => '/logout'\n\nexport const editAccount = () => '/account/edit'\nexport const createAccount = () => '/register'\nexport const accountRetrieve = () => '/account/retrieve'\n//\n// Interface to modules paths\n//\nexport * from '~client/mobilizations/paths'\nexport * from '~client/mobilizations/widgets/paths'\nexport * from '~client/mobilizations/blocks/paths'\nexport * from '~client/mobilizations/templates/paths'\nexport * from '~client/community/paths'\n\n\n\n// WEBPACK FOOTER //\n// ./paths.js","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport promise from 'redux-promise'\nimport axios from 'axios'\nimport { ApolloClient, createNetworkInterface } from 'react-apollo'\nimport DefaultServerConfig from '~server/config'\nimport createReducer from './createReducer'\nimport DevTools from './components/dev-tools'\nimport { logout } from '~client/account/redux/action-creators'\n\nconst api = axios.create({ baseURL: DefaultServerConfig.apiUrl })\n\nconst middlewares = [promise]\n\nconst networkInterface = createNetworkInterface({\n  uri: DefaultServerConfig.graphqlUrl,\n  connectToDevTools: true\n})\n\nnetworkInterface.use([\n  {\n    applyMiddleware (req, next) {\n      if (!req.options.headers) {\n        req.options.headers = {}\n      }\n      // Non-use auth for authenticate mutation to make a new JWT Token\n      const requiredAuth = req.request.operationName !== 'authenticate'\n      if (require('exenv').canUseDOM) {\n        const localStorageAuth = window.localStorage.getItem('auth')\n        const auth = localStorageAuth ? JSON.parse(localStorageAuth) : {}\n        if (auth && auth.credentials && requiredAuth) {\n          req.options.headers.authorization = `Bearer ${auth.credentials['access-token']}`\n        }\n      }\n      next()\n    }\n  }\n])\n\nnetworkInterface.useAfter([{\n  applyAfterware ({ response }, next) {\n    if (response.status === 401) {\n      logout()\n    }\n    next()\n  }\n}])\n\nexport const client = (options = {}) =>\n  new ApolloClient({\n    ssrMode: true,\n    networkInterface,\n    ...options\n  })\n\nexport function configureStore (initialState, thunkExtraArgument) {\n  middlewares.push(\n    thunk.withExtraArgument({\n      axios,\n      api,\n      ...thunkExtraArgument\n    })\n  )\n\n  middlewares.push(client().middleware())\n\n  let store = createStore(\n    createReducer(),\n    initialState,\n    compose(\n      applyMiddleware(...middlewares),\n      process.env.NODE_ENV === 'development' ? DevTools.instrument() : f => f\n    )\n  )\n\n  store.asyncReducers = {}\n\n  api.interceptors.response.use(\n    response => {\n      return response\n    },\n    ({ response, ...error }) => {\n      if (response && response.status === 401) {\n        store.dispatch(logout())\n      }\n      // eslint-disable-next-line prefer-promise-reject-errors\n      return Promise.reject({ response, ...error })\n    }\n  )\n\n  if (process.env.NODE_ENV === 'development') {\n    if (module.hot) {\n      module.hot.accept('./createReducer', () =>\n        store.replaceReducer(require('./createReducer').default)\n      )\n    }\n  }\n\n  return store\n}\n\nexport function injectAsyncReducer (store, name, asyncReducer) {\n  store.asyncReducers[name] = asyncReducer\n  store.replaceReducer(createReducer(store.asyncReducers))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./store.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./styles/main.scss\n// module id = ./styles/main.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { reduxForm } from 'redux-form'\nimport { FormGroup, ControlLabel, FormControl } from '~client/components/forms'\nimport { Pagarme } from '~client/components/external-services'\nimport * as validators from '~client/utils/redux-form/validators'\nimport * as normalizers from '~client/utils/redux-form/normalizers'\n\nconst CreditCardForm = ({\n  FormComponent,\n  fields: {\n    id,\n    token,\n    creditcard,\n    name,\n    expiration,\n    cvv\n  },\n  card,\n  ...formProps\n}) => (\n  <div>\n    <Pagarme />\n    <FormComponent\n      {...formProps}\n      buttonText='Salvar'\n    >\n      <input type='hidden' name='id' value={id.value} />\n      <input type='hidden' name='token' value={token.value} />\n\n      <p className='mb3 lightgray'>\n        Altere os dados do seu carto de crdito preenchendo os campos abaixo. Sua doao\n        continuar a mesma mas, a partir do momento em que salvar os dados abaixo, o valor\n        ser cobrado neste novo carto ; )\n      </p>\n\n      {card && (\n        <div className='mb3 lightgray'>\n          <b className='block mb1'>Dados do ltimo carto</b>\n          <div>\n            <span className='caps'>{card.brand}: </span>\n            {card.first_digits.slice(0, 4)}{' '}\n            {card.first_digits.slice(4, 6)}XX XXXX {card.last_digits}\n          </div>\n          <div>Nome: <span className='caps'>{card.holder_name}</span></div>\n          <div>\n            Validade: {card.expiration_date.slice(0, 2)}/{card.expiration_date.slice(2, 4)}\n          </div>\n        </div>\n      )}\n\n      <FormGroup className='mb2' controlId='creditcard' {...creditcard}>\n        <ControlLabel>Nmero</ControlLabel>\n        <FormControl\n          type='text'\n          placeholder='Ex: 0000 0000 0000 0000'\n        />\n      </FormGroup>\n\n      <FormGroup className='mb2' controlId='name' {...name}>\n        <ControlLabel>Nome</ControlLabel>\n        <FormControl\n          type='text'\n          placeholder='(igual ao que aparece no carto)'\n        />\n      </FormGroup>\n\n      <div className='clearfix col-12 mb3'>\n        <FormGroup className='col col-6' controlId='expiration' {...expiration}>\n          <ControlLabel>Validade</ControlLabel>\n          <FormControl\n            type='text'\n            placeholder='00/00'\n          />\n        </FormGroup>\n\n        <FormGroup className='col col-4 ml3' controlId='cvv' {...cvv}>\n          <ControlLabel>CVV</ControlLabel>\n          <FormControl\n            type='text'\n            placeholder='Ex: 000'\n          />\n        </FormGroup>\n      </div>\n    </FormComponent>\n  </div>\n)\n\nconst fields = ['id', 'token', 'creditcard', 'name', 'expiration', 'cvv']\n\nconst abstractValidate = values => {\n  const errors = {}\n  if (!values.creditcard) {\n    errors.creditcard = 'Obrigatrio'\n  }\n  if (!values.name) {\n    errors.name = 'Obrigatrio'\n  }\n  if (!values.expiration) {\n    errors.expiration = 'Obrigatrio'\n  }\n  if (!values.cvv) {\n    errors.cvv = 'Obrigatrio'\n  }\n  return errors\n}\n\nCreditCardForm.propTypes = {\n  FormComponent: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.func\n  ]).isRequired,\n  card: PropTypes.shape({\n    brand: PropTypes.string.isRequired,\n    first_digits: PropTypes.string.isRequired,\n    last_digits: PropTypes.string.isRequired,\n    holder_name: PropTypes.string.isRequired,\n    expiration_date: PropTypes.string.isRequired\n  })\n}\n\nexport const normalizer = {\n  creditcard: normalizers.creditcard,\n  expiration: normalizers.date.mmyy,\n  cvv: normalizers.number.max(4),\n  name: normalizers.string.onlyWords\n}\n\nexport default ({ validate, mapStateToProps, mapDispatchToProps }) => reduxForm({\n  form: 'creditCardForm',\n  fields,\n  validate: validators.abstractValidate({ abstractValidate, validate })\n}, mapStateToProps, mapDispatchToProps)(CreditCardForm)\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/forms/credit-card-form.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { reduxForm } from 'redux-form'\nimport { FormGroup, ControlLabel, FormControl } from '~client/components/forms'\nimport { Pagarme } from '~client/components/external-services'\nimport * as validationHelper from '~client/utils/validation-helper'\nimport * as validators from '~client/utils/redux-form/validators'\nimport * as normalizers from '~client/utils/redux-form/normalizers'\n\nconst RecurringForm = ({\n  FormComponent,\n  fields: {\n    id,\n    token,\n    process_at: processAt\n  },\n  ...formProps\n}) => (\n  <div>\n    <Pagarme />\n    <FormComponent\n      {...formProps}\n      buttonText='Salvar'\n    >\n      <input type='hidden' name='id' value={id.value} />\n      <input type='hidden' name='token' value={token.value} />\n      <p className='mb3 lightgray'>\n        Preencha os campos abaixo para alterar a data em que a cobrana da sua doao  efetuada.\n        Sua doao continuar a mesma mas, a partir do momento em que salvar os dados abaixo,\n        o valor ser cobrado neste novo carto ; )\n      </p>\n\n      <FormGroup className='mb2' controlId='processAt' {...processAt}>\n        <ControlLabel>Nova data de cobrana</ControlLabel>\n        <FormControl\n          type='text'\n          placeholder='Ex: DD/MM/AAAA'\n        />\n      </FormGroup>\n    </FormComponent>\n  </div>\n)\n\nconst fields = ['id', 'token', 'process_at']\n\nconst abstractValidate = values => {\n  const errors = {}\n  if (!values.process_at) {\n    errors.process_at = 'Obrigatrio'\n  } else if (!validationHelper.date(values.process_at).ddmmyyyy) {\n    errors.process_at = 'Formato de data invlido'\n  }\n  return errors\n}\n\nRecurringForm.propTypes = {\n  FormComponent: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.func\n  ]).isRequired\n}\n\nexport const normalizer = {\n  process_at: normalizers.date.ddmmyyyy\n}\n\nexport default ({ validate, mapStateToProps, mapDispatchToProps }) => reduxForm({\n  form: 'recurringForm',\n  fields,\n  validate: validators.abstractValidate({ abstractValidate, validate })\n}, mapStateToProps, mapDispatchToProps)(RecurringForm)\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/forms/recurring-form.js","const t = type => `subscriptions/${type}`\n\nexport const SET_MODIFICATION_TYPE = t('SET_MODIFICATION_TYPE')\nexport const APPEND_ANIMATION_STACK = t('APPEND_ANIMATION_STACK')\nexport const REMOVE_ANIMATION_STACK = t('REMOVE_ANIMATION_STACK')\n\nexport const ASYNC_RECHARGE_REQUEST = t('ASYNC_RECHARGE_REQUEST')\nexport const ASYNC_RECHARGE_SUCCESS = t('ASYNC_RECHARGE_SUCCESS')\nexport const ASYNC_RECHARGE_FAILURE = t('ASYNC_RECHARGE_FAILURE')\n\nexport const ASYNC_FETCH_SUCCESS = t('ASYNC_FETCH_SUCCESS')\nexport const ASYNC_FETCH_FAILURE = t('ASYNC_FETCH_FAILURE')\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/redux/action-types.js","import * as t from '~client/subscriptions/redux/action-types'\n\nexport const initialState = {\n  //\n  // Store the status of an async request that tells if it is on progress or not.\n  // @type Boolean\n  //\n  isLoading: false,\n  //\n  // Store the modification type that the user wants to do in the subscription like,\n  // change the credit card data or, the recurring date of charging.\n  // @type String\n  //\n  modificationType: undefined,\n  //\n  // Store the stack of form components to be rendered with\n  // transition animation using CSSTransitionGroup.\n  // @type Array -> PropTypes.element\n  //\n  animationStack: [],\n  //\n  // Store the error message.\n  // @type String\n  //\n  error: undefined,\n  //\n  // Store the subscription data.\n  // @type Object\n  //\n  data: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.SET_MODIFICATION_TYPE:\n      return { ...state, modificationType: action.payload }\n\n    case t.APPEND_ANIMATION_STACK:\n      return {\n        ...state,\n        animationStack: [...state.animationStack, action.payload]\n      }\n    case t.REMOVE_ANIMATION_STACK:\n      const index = action.payload\n      return {\n        ...state,\n        animationStack: [\n          ...state.animationStack.slice(0, index),\n          ...state.animationStack.slice(index + 1)\n        ]\n      }\n\n    case t.ASYNC_RECHARGE_REQUEST:\n      return { ...state, isLoading: true }\n    case t.ASYNC_RECHARGE_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        modificationType: undefined,\n        animationStack: [],\n        error: undefined\n      }\n    case t.ASYNC_RECHARGE_FAILURE:\n      return { ...state, isLoading: false, error: action.payload }\n\n    case t.ASYNC_FETCH_SUCCESS:\n      return { ...state, data: action.payload }\n    case t.ASYNC_FETCH_FAILURE:\n      return { ...state, error: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/redux/reducers/edit.js","import { combineReducers } from 'redux'\nimport edit from './edit'\n\nexport default combineReducers({\n  edit\n})\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/redux/reducers/index.js","export const distinct = (value, index, self) => self.indexOf(value) === index\n\nexport const clean = array => array.filter(n => n)\n\nexport const shuffle = array => {\n  let currentIndex = array.length\n  let temporaryValue\n  let randomIndex\n\n  // While there remain elements to shuffle...\n  while (currentIndex !== 0) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex)\n    currentIndex -= 1\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex]\n    array[currentIndex] = array[randomIndex]\n    array[randomIndex] = temporaryValue\n  }\n\n  return array\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/array.js","const appVersion = require('exenv').canUseDOM ? window.navigator.appVersion : 'is not on browser'\n\nexport const isMac = () => appVersion.includes('Mac')\nexport const isLinux = () => appVersion.includes('Linux')\nexport const isWindows = () => appVersion.includes('Win')\nexport const isUnix = () => appVersion.includes('X11')\n\n\n\n// WEBPACK FOOTER //\n// ./utils/browser/os.js","import format from 'format-number'\n\n//\n// Options\n//\nconst numberOptions = { integerSeparator: '.', decimal: ',' }\nconst currencyOptions = { ...numberOptions, prefix: 'R$ ', padRight: 2, truncate: 2 }\nconst currencyIntOptions = { ...currencyOptions, padRight: 0, truncate: 0 }\nconst floatOptions = { integerSeparator: '', decimal: '.', padRight: 2 }\nconst integerOptions = { integerSeparator: '', truncate: 0 }\n\n//\n// Helpers\n//\nexport const currency = format(currencyOptions)\nexport const currencyInt = format(currencyIntOptions)\nexport const number = format(numberOptions)\nexport const float = format(floatOptions)\nexport const integer = format(integerOptions)\n\n\n\n// WEBPACK FOOTER //\n// ./utils/format-number-helper.js","import { addNotification } from 'reapop'\n\nexport const genericRequestError = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--generic-request-error.title',\n    defaultMessage: 'Ops!'\n  }),\n  status: 'error',\n  message: intl.formatMessage({\n    id: 'notification--generic-request-error.message',\n    defaultMessage: (\n      'Parece que teve algum problema tcnico nessa ltima requisio. ' +\n      'Pedimos que tente de novo daqui a pouco.'\n    )\n  }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const genericSaveSuccess = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--generic-save-success.title',\n    defaultMessage: 'Oba!'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--generic-save-success.message',\n    defaultMessage: (\n      'A requisio foi feita com sucesso e, os seus ' +\n      'dados esto salvos em segurana.'\n    )\n  }),\n  dismissAfter: 7000,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const slugUpdatedMessage = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--slug-updated-message.title',\n    defaultMessage: 'Importante'\n  }),\n  status: 'warning',\n  message: intl.formatMessage({\n    id: 'notification--slug-updated-message.message',\n    defaultMessage: 'O slug da sua mobilizao foi alterado. ' +\n      'Se voc faz algum redirecionamento de DNS via ' +\n      'CNAME, no se esquea de atualiz-lo.'\n  }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const messagePressureTargetsRemoveAll = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--message-pressure-targets-remove-all.title',\n    defaultMessage: 'Lembre-se...'\n  }),\n  status: 'info',\n  message: intl.formatMessage({\n    id: 'notification--message-pressure-targets-remove-all.message',\n    defaultMessage:\n      'No se esquea que  necessrio clicar no boto salvar, no canto superior direito ' +\n      'da tela pra que a ao se torne permanente. Se quiser reverter os alvos removidos, ' +\n      'basta atualizar a pgina. (:'\n  }),\n  dismissAfter: 7000,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const accountPasswordRetrieveSuccess = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--account-password-retrieve-success.title',\n    defaultMessage: 'Recuperao de senha'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--account-password-retrieve-success.message',\n    defaultMessage: 'Acabamos de enviar um email com a sua nova senha. Confira na ' +\n      'caixa de entrada do seu email para acessar o BONDE novamente. Relaxe pois, ' +\n      'pode alterar essa senha quando voc quiser, nas configuraes da sua conta.'\n  }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const communityInviteSuccess = (intl, email) => ({\n  title: intl.formatMessage({\n    id: 'notification--community-invite-success.title',\n    defaultMessage: 'Oba!'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--community-invite-success.message',\n    defaultMessage: 'O convite para {email} foi enviado com sucesso! ' +\n      'Mais um passo foi dado pra sua comunidade crescer ainda mais (:'\n  }, { email }),\n  dismissAfter: 15000,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const subscriptionCancelSuccess = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--subscription-cancel-success.title',\n    defaultMessage: 'Assinatura cancelada'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--subscription-cancel-success.message',\n    defaultMessage: 'Sua assinatura foi cancelada e, o valor da sua ' +\n      'doao no ser debitado at que voc faa uma nova doao recorrente.'\n  }),\n  dismissAfter: 15000,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const reportDownloadInProgressWarning = (intl, { notificationId, filename }) => ({\n  id: notificationId,\n  title: intl.formatMessage({\n    id: 'notification--report-download-in-progress-warning.title',\n    defaultMessage: 'Download em andamento'\n  }),\n  status: 'warning',\n  message: intl.formatMessage({\n    id: 'notification--report-download-in-progress-warning.message',\n    defaultMessage: 'O download de {filename} est em andamento. ' +\n      'Quando estiver tudo pronto ou, caso d algum tipo de erro, voc ser notificado. ' +\n      'Este processo pode demorar alguns minutos. ' +\n      'Em todo caso, no feche a aba do seu navegador.'\n  }, { filename }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const reportDownloadSuccess = (intl, { filename }) => ({\n  title: intl.formatMessage({\n    id: 'notification--report-download-success.title',\n    defaultMessage: 'Oba! Tudo pronto (:'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--report-download-success.message',\n    defaultMessage: 'O download de {filename} foi feito com sucesso.'\n  }, { filename }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const reportDownloadError = (intl, { filename }) => ({\n  title: intl.formatMessage({\n    id: 'notification--report-download-error.title',\n    defaultMessage: 'Ops, deu ruim \\\\\\\\:'\n  }),\n  status: 'error',\n  message: intl.formatMessage({\n    id: 'notification--report-download-error.message',\n    defaultMessage: 'Algo de errado aconteceu na hora do download de {filename}. ' +\n    'Pode tentar de novo? Mas caso o erro persista, pode falar com a gente pelo ' +\n    'boto de suporte al no canto inferior direito. Estamos aqui pra te ajudar (:'\n  }, { filename }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\n// Standardize use of these functions\n\nconst applyIntl = (value, intl) => {\n  if (typeof value === 'object') {\n    const { context, ...message } = value\n    return intl.formatMessage(message, context)\n  }\n  return value\n}\n\nexport const notify = ({ status, title, message }, dispatch, ownProps) => {\n  const { intl } = ownProps || {}\n  dispatch(addNotification({\n    status,\n    title: applyIntl(title, intl),\n    message: applyIntl(message, intl),\n    dismissAfter: 0,\n    dismissable: true,\n    closeButton: false\n  }))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/notifications.js","//\n// Reference:\n// http://redux-form.com/5.3.1/#/examples/normalizing\n//\nexport default (value, previousValue) => {\n  if (!value) return value\n\n  const nums = value.replace(/[^\\d]/g, '')\n  const sep = ' '\n  if (!previousValue || value.length > previousValue.length) {\n    // typing forward\n    if (nums.length === 4) {\n      return `${nums}${sep}`\n    }\n    if (nums.length === 8) {\n      return `${nums.slice(0, 4)}${sep}${nums.slice(4)}${sep}`\n    }\n    if (nums.length === 12) {\n      return `${nums.slice(0, 4)}${sep}${nums.slice(4, 8)}${sep}${nums.slice(8)}${sep}`\n    }\n  }\n  if (nums.length <= 4) {\n    return nums\n  }\n  if (nums.length <= 8) {\n    return `${nums.slice(0, 4)}${sep}${nums.slice(4)}`\n  }\n  if (nums.length <= 12) {\n    return `${nums.slice(0, 4)}${sep}${nums.slice(4, 8)}${sep}${nums.slice(8)}`\n  }\n  return `${nums.slice(0, 4)}${sep}${nums.slice(4, 8)}${sep}${nums.slice(8, 12)}${sep}${nums.slice(12, 16)}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/creditcard.js","export default (value, previousValue) => {\n  if (!value) return value\n\n  const nums = value.replace(/[^\\d]/g, '')\n  const sep = '/'\n  if (!previousValue || value.length > previousValue.length) {\n    // typing forward\n    if (nums.length === 2) {\n      return `${nums}${sep}`\n    }\n    if (nums.length === 4) {\n      return `${nums.slice(0, 2)}${sep}${nums.slice(2)}${sep}`\n    }\n  }\n  if (nums.length <= 2) {\n    return nums\n  }\n  if (nums.length <= 4) {\n    return `${nums.slice(0, 2)}${sep}${nums.slice(2)}`\n  }\n  return `${nums.slice(0, 2)}${sep}${nums.slice(2, 4)}${sep}${nums.slice(4, 8)}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/date/ddmmyyyy.js","export { default as mmyy } from './mmyy'\nexport { default as ddmmyyyy } from './ddmmyyyy'\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/date/index.js","export default (value, previousValue) => {\n  if (!value) return value\n\n  const nums = value.replace(/[^\\d]/g, '')\n  const sep = '/'\n  if (!previousValue || value.length > previousValue.length) {\n    // typing forward\n    if (nums.length === 2) {\n      return `${nums}${sep}`\n    }\n  }\n  if (nums.length <= 2) {\n    return nums\n  }\n  return `${nums.slice(0, 2)}${sep}${nums.slice(2, 4)}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/date/mmyy.js","//\n// Reference:\n// http://redux-form.com/5.3.1/#/examples/normalizing\n//\nexport default {\n  cpfCnpj: (value, previousValue) => {\n    if (!value) return value\n\n    const nums = value.replace(/[^\\d]/g, '')\n\n    // CPF: 000.000.000-00\n    if (nums.length <= 11) {\n      if (!previousValue || value.length > previousValue.length) { // typing forward\n        if (nums.length === 3) {\n          return `${nums}.`\n        }\n        if (nums.length === 6) {\n          return `${nums.slice(0, 3)}.${nums.slice(3)}.`\n        }\n        if (nums.length === 9) {\n          return `${nums.slice(0, 3)}.${nums.slice(3, 6)}.${nums.slice(6)}-`\n        }\n      }\n      if (nums.length <= 3) {\n        return nums\n      }\n      if (nums.length <= 6) {\n        return `${nums.slice(0, 3)}.${nums.slice(3)}`\n      }\n      if (nums.length <= 9) {\n        return `${nums.slice(0, 3)}.${nums.slice(3, 6)}.${nums.slice(6)}`\n      }\n      return `${nums.slice(0, 3)}.${nums.slice(3, 6)}.${nums.slice(6, 9)}-${nums.slice(9, 11)}`\n    }\n\n    // CNPJ: 00.000.000/0000-00\n    if (!previousValue || value.length > previousValue.length) { // typing forward\n      if (nums.length === 12) {\n        return `${nums.slice(0, 2)}.${nums.slice(2, 5)}.${nums.slice(5, 8)}/${nums.slice(8, 12)}-`\n      }\n    }\n    if (nums.length <= 12) {\n      return `${nums.slice(0, 2)}.${nums.slice(2, 5)}.${nums.slice(5, 8)}/${nums.slice(8, 12)}`\n    }\n    return `${nums.slice(0, 2)}.${nums.slice(2, 5)}.${nums.slice(5, 8)}/${nums.slice(8, 12)}-${nums.slice(12, 14)}`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/documents.js","import * as dateNormalizers from './date'\nexport const date = dateNormalizers\n\nexport { default as creditcard } from './creditcard'\nexport { default as documents } from './documents'\nexport { default as number } from './number'\nexport { default as string } from './string'\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/index.js","export default {\n  max: max => value => {\n    if (!value) return value\n\n    const nums = value.replace(/[^\\d]/g, '')\n    return nums.slice(0, max)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/number.js","export default {\n  onlyWords: value => {\n    if (!value) return value\n    return value.replace(/[^a-z-\\s]/gi, '')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/string.js","export default ({ abstractValidate, validate }) => values => {\n  // Default validation\n  let errors = abstractValidate(values)\n  if (Object.keys(errors).length) return errors\n\n  // Custom injected validation\n  errors = validate ? validate(values) : {}\n  return errors\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/validators/abstract-validate.js","export { default as abstractValidate } from './abstract-validate'\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/validators/index.js","export default (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux/create-action.js","export { default as createAction } from './create-action'\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux/index.js","// eslint-disable-next-line\nconst regexEmail = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\nexport const isValidEmail = email => regexEmail.test(email)\n\nconst regexDomain = /^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\\.[a-zA-Z]{2,})+$/\nexport const isValidDomain = domain => regexDomain.test(domain)\n\n// Validates Google Analytics Code\nconst regexCodeGA = /(UA|YT|MO)-\\d+-\\d+/i\nexport const isValidCodeGA = codeGA => regexCodeGA.test(codeGA)\n\nconst regexDDMMYYYY = /^\\d{2}\\/\\d{2}\\/\\d{4}$/ // 00/00/0000\nexport const date = value => ({\n  ddmmyyyy: regexDDMMYYYY.test(value)\n})\n\n// Validate email from\nexport const isValidFromEmail = value => {\n  const regex = /^[\\w ]+<(.*)>$/\n  if (regex.test(value)) {\n    const email = value.match(regex)[1]\n    return isValidEmail(email)\n  }\n  return false\n}\n\n// Regex to validate Target (Ex.: Igor Santos <igor@nossascidades.org>)\n// eslint-disable-next-line\nconst regexTargetEmail = /[a-z-A-Z-\\s]+<(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))>/\nexport const isValidTargetEmail = value => regexTargetEmail.test(value)\n\n// Regex to validate phone number\n// Validating only BRA phone numbers for now\nconst regexPhone = /^(\\+\\d{2})?\\d{6,7}-?\\d{4}$/\nexport const isValidPhone = phone => regexPhone.test(phone)\n\n// Regex to validate phone numver in E.164 format\n// Validating only BRA phone numbers for now\nconst regexPhoneE164 = /^\\+\\d{12,13}$/\nexport const isValidPhoneE164 = phone => regexPhoneE164.test(phone)\n\n// Regex to validate target with phone number\nconst regexTargetPhone = /^[a-z-A-Z-\\s']+\\s<(\\+\\d{2})?\\d{6,7}-?\\d{4}>$/\nexport const isValidTargetPhone = value => regexTargetPhone.test(value)\n\n// Regex to validate target with phone number in E.164 format\nconst regexTargetPhoneE164 = /^[a-z-A-Z-\\s']+\\s<\\+\\d{12,13}>$/\nexport const isValidTargetPhoneE164 = value => regexTargetPhoneE164.test(value)\n\n// Validate if date is valid\nexport const isValidDate = ({ day, month, year }) => (\n  new Date(`${year}-${month}-${day}`).toString() !== 'Invalid Date'\n)\n\n\n\n// WEBPACK FOOTER //\n// ./utils/validation-helper.js","import PropTypes from 'prop-types'\n/*\n * Component: Button\n */\nimport React from 'react'\nimport classnames from 'classnames'\nimport { Link } from 'react-router-dom'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\n// TODO: Change to style component\nconst basscss = 'ux--button btn white caps p2 rounded h4 ml2'\n\nconst Button = ({ children, btnStyles, type, disabled, to, href, onClick }) => {\n  const isSubmit = type !== 'submit'\n  const className = classnames(\n    basscss,\n    isSubmit ? 'bg-gray' : 'bg-pagenta',\n    disabled ? 'disabled' : null\n  )\n\n  if (href) return <a style={btnStyles} href={href} className={className} target='_blank'>{children}</a>\n  if (to) return <Link style={btnStyles} to={to} className={className}>{children}</Link>\n\n  return (\n    <button\n      styles={btnStyles}\n      type={type}\n      onClick={e => isSubmit && onClick(e)}\n      disabled={disabled}\n      className={className}\n    >\n      {children}\n    </button>\n  )\n}\n\nButton.propTypes = {\n  type: PropTypes.oneOf(['submit', 'button']),\n  disabled: PropTypes.bool,\n  // Navigation\n  to: PropTypes.string,\n  onClick: PropTypes.func,\n  href: PropTypes.string\n}\n\nButton.defaultProps = {\n  type: 'button'\n}\n\nexport default Button\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/button/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/button/styles.scss\n// module id = ./ux/components/button/styles.scss\n// module chunks = 0","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport Button from '../button'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nconst Dialog = ({ children, onConfirm, onCancel }) => (\n  <div className='dialog--out'>\n    <div className='dialog'>\n      <div className='content--dialog'>\n        {children}\n      </div>\n      <div className='footer--dialog'>\n        <Button onClick={onConfirm}>\n          <FormattedMessage\n            id='ux.components--dialog.button.confirm.text'\n            defaultMessage='Confirmar'\n          />\n        </Button>\n        <Button onClick={onCancel}>\n          <FormattedMessage\n            id='ux.components--dialog.button.cancel.text'\n            defaultMessage='Cancelar'\n          />\n        </Button>\n      </div>\n    </div>\n  </div>\n)\n\nexport default Dialog\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/dialog/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/dialog/styles.scss\n// module id = ./ux/components/dialog/styles.scss\n// module chunks = 0","import PropTypes from 'prop-types'\n/*\n * Component: DivFloat\n * Description: Become children floatable, by default float in top and right.\n */\nimport React from 'react'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nconst DivFloat = ({ children, horizontal, vertical }) => {\n  return (\n    <div className={classnames('float', horizontal, vertical)}>\n      {children}\n    </div>\n  )\n}\n\nDivFloat.propTypes = {\n  horizontal: PropTypes.oneOf(['right', 'left']),\n  vertical: PropTypes.oneOf(['top', 'bottom'])\n}\n\nDivFloat.defaultProps = {\n  horizontal: 'right',\n  vertical: 'top'\n}\n\nexport default DivFloat\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/div-float/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/div-float/styles.scss\n// module id = ./ux/components/div-float/styles.scss\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/flat-form/button.scss\n// module id = ./ux/components/flat-form/button.scss\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/flat-form/flat-form.scss\n// module id = ./ux/components/flat-form/flat-form.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nimport { FormRedux } from '~client/components/forms'\nimport { Button } from '~client/ux/components'\n\nif (require('exenv').canUseDOM) {\n  require('./flat-form.scss')\n  require('./button.scss')\n}\n\nconst FlatForm = ({\n  formClassNames,\n  children,\n  titleText,\n  titleSmallMargin,\n  titleMediumMargin,\n  titleBigMargin,\n  buttonText,\n  hideButton,\n  ...formProps\n}) => (\n  <FormRedux\n    {...formProps}\n    nosubmit\n    className={classnames('ux--flat-form', formClassNames)}\n  >\n    {titleText && (\n      <h1 className={classnames({\n        'sm-margin': titleSmallMargin,\n        'md-margin': titleMediumMargin,\n        'lg-margin': titleBigMargin\n      })}>\n        {titleText}\n      </h1>\n    )}\n    {children}\n    {hideButton && <button type='submit' style={{ display: 'none' }} />}\n    {!hideButton && <Button type='submit' disabled={!formProps.valid}>{buttonText}</Button>}\n  </FormRedux>\n)\n\nFlatForm.propTypes = {\n  formClassNames: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  children: PropTypes.node.isRequired,\n  buttonText: PropTypes.string.isRequired,\n  titleText: PropTypes.string,\n  titleSmallMargin: PropTypes.bool,\n  titleMediumMargin: PropTypes.bool,\n  titleBigMargin: PropTypes.bool\n}\n\nexport default FlatForm\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/flat-form/index.js","export { default as Button } from './button'\nexport { default as DivFloat } from './div-float'\n\nexport { default as SettingsForm } from './settings-form'\nexport { default as FlatForm } from './flat-form'\n\nexport { default as Dialog } from './dialog'\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport DivFloat from '../div-float'\nimport Button from '../button'\n\n// Dependency module\nimport { FormRedux, SuccessMessage } from '~client/components/forms'\n\nconst SettingsForm = ({ children, buttonText, successMessage, ...formProps }) => (\n  <FormRedux nosubmit {...formProps}>\n    {children}\n    <DivFloat>\n      <Button\n        type='submit'\n        disabled={formProps.submitting}\n      >\n        {buttonText || (\n          <FormattedMessage\n            id='ux.components--settings-form.button.text'\n            defaultMessage='Salvar'\n          />\n        )}\n      </Button>\n      <SuccessMessage\n        text={successMessage || (\n          <FormattedMessage\n            id='ux.components--settings-form.success-message'\n            defaultMessage='Dados editados com sucesso'\n          />\n        )}\n      />\n    </DivFloat>\n  </FormRedux>\n)\n\nSettingsForm.propTypes = {\n  buttonText: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n  successMessage: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ])\n}\n\nexport default SettingsForm\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/settings-form/index.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = axios\n// module chunks = 0","module.exports = require(\"classnames\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"classnames\"\n// module id = classnames\n// module chunks = 0","module.exports = require(\"downloadjs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"downloadjs\"\n// module id = downloadjs\n// module chunks = 0","module.exports = require(\"draft-js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"draft-js\"\n// module id = draft-js\n// module chunks = 0","module.exports = require(\"exenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"exenv\"\n// module id = exenv\n// module chunks = 0","module.exports = require(\"format-number\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"format-number\"\n// module id = format-number\n// module chunks = 0","module.exports = require(\"immutable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"immutable\"\n// module id = immutable\n// module chunks = 0","module.exports = require(\"jquery\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jquery\"\n// module id = jquery\n// module chunks = 0","module.exports = require(\"keycode\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"keycode\"\n// module id = keycode\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = prop-types\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0","module.exports = require(\"react-apollo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-apollo\"\n// module id = react-apollo\n// module chunks = 0","module.exports = require(\"react-color\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-color\"\n// module id = react-color\n// module chunks = 0","module.exports = require(\"react-cookie\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-cookie\"\n// module id = react-cookie\n// module chunks = 0","module.exports = require(\"react-countup\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-countup\"\n// module id = react-countup\n// module chunks = 0","module.exports = require(\"react-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom\"\n// module id = react-dom\n// module chunks = 0","module.exports = require(\"react-ga\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-ga\"\n// module id = react-ga\n// module chunks = 0","module.exports = require(\"react-intl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-intl\"\n// module id = react-intl\n// module chunks = 0","module.exports = require(\"react-lifecycles-compat\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-lifecycles-compat\"\n// module id = react-lifecycles-compat\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = react-redux\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = react-router\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = react-router-dom\n// module chunks = 0","module.exports = require(\"react-s3-uploader\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-s3-uploader\"\n// module id = react-s3-uploader\n// module chunks = 0","module.exports = require(\"reapop\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"reapop\"\n// module id = reapop\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = redux\n// module chunks = 0","module.exports = require(\"redux-devtools\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-devtools\"\n// module id = redux-devtools\n// module chunks = 0","module.exports = require(\"redux-devtools-dock-monitor\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-devtools-dock-monitor\"\n// module id = redux-devtools-dock-monitor\n// module chunks = 0","module.exports = require(\"redux-devtools-log-monitor\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-devtools-log-monitor\"\n// module id = redux-devtools-log-monitor\n// module chunks = 0","module.exports = require(\"redux-form\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-form\"\n// module id = redux-form\n// module chunks = 0","module.exports = require(\"redux-promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-promise\"\n// module id = redux-promise\n// module chunks = 0","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = redux-thunk\n// module chunks = 0","module.exports = require(\"slate-editor\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"slate-editor\"\n// module id = slate-editor\n// module chunks = 0","module.exports = require(\"slate-plain-serializer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"slate-plain-serializer\"\n// module id = slate-plain-serializer\n// module chunks = 0","module.exports = require(\"tinycolor2\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tinycolor2\"\n// module id = tinycolor2\n// module chunks = 0"],"sourceRoot":""}