{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3d8dd88d192adc38a8da","webpack:///../intl/redux/action-types.js","webpack:///../intl/redux/reducers.js","webpack:///./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js","webpack:///./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js?58f7","webpack:///../node_modules/rangy/lib/rangy-core.js","webpack:///../node_modules/react-transition-group/TransitionGroup.js","webpack:///../node_modules/react-transition-group/utils/ChildMapping.js","webpack:///../server/config.js","webpack:///./account/redux/action-creators/async-add-user.js","webpack:///./account/redux/action-creators/async-retrieve-password.js","webpack:///./account/redux/action-creators/async-update-user.js","webpack:///./account/redux/action-creators/create-action.js","webpack:///./account/redux/action-creators/index.js","webpack:///./account/redux/action-creators/load.js","webpack:///./account/redux/action-creators/login.js","webpack:///./account/redux/action-creators/logout.js","webpack:///./account/redux/action-types.js","webpack:///./account/redux/reducers.js","webpack:///./account/redux/selectors.js","webpack:///./community/action-types.js","webpack:///./community/paths.js","webpack:///./community/reducers/communities.js","webpack:///./community/reducers/dns-hosted-zones.js","webpack:///./community/reducers/dns-records.js","webpack:///./community/reducers/index.js","webpack:///./components/await/index.js","webpack:///./components/await/loading.js","webpack:///./components/await/progress.js","webpack:///./components/await/redux/action-types.js","webpack:///./components/await/redux/reducers.js","webpack:///./components/color-picker/actions.js","webpack:///./components/color-picker/index.js","webpack:///./components/color-picker/reducers.js","webpack:///./components/color-picker/themes.js","webpack:///./components/dev-tools/index.js","webpack:///./components/dropdown-menu/dropdown-menu-item.js","webpack:///./components/dropdown-menu/dropdown-menu.js","webpack:///./components/dropdown-menu/index.js","webpack:///./components/editor-draft-js/Toolbar/AlignmentControls/getBlockAlignment.js","webpack:///./components/editor-draft-js/Toolbar/AlignmentControls/index.js","webpack:///./components/editor-draft-js/Toolbar/AlignmentControls/styleWholeSelectedBlocksModifier.js","webpack:///./components/editor-draft-js/Toolbar/ColorControls/ColorPickerButton.js","webpack:///./components/editor-draft-js/Toolbar/ColorControls/index.js","webpack:///./components/editor-draft-js/Toolbar/EditorUtils.js","webpack:///./components/editor-draft-js/Toolbar/FontControls/SelectFontFamily.js","webpack:///./components/editor-draft-js/Toolbar/FontControls/index.js","webpack:///./components/editor-draft-js/Toolbar/FontControls/styles.scss","webpack:///./components/editor-draft-js/Toolbar/HistoryControls/index.js","webpack:///./components/editor-draft-js/Toolbar/LinkControls/Link.js","webpack:///./components/editor-draft-js/Toolbar/LinkControls/index.js","webpack:///./components/editor-draft-js/Toolbar/LinkControls/linkStrategy.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/InsertImageButton.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/InsertScriptButton.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/Media.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/index.js","webpack:///./components/editor-draft-js/Toolbar/MediaControls/styles.scss","webpack:///./components/editor-draft-js/Toolbar/getSelectionEntities.js","webpack:///./components/editor-draft-js/Toolbar/index.js","webpack:///./components/editor-draft-js/Toolbar/styles.scss","webpack:///./components/editor-draft-js/Toolbar/themes.js","webpack:///./components/editor-draft-js/create-editor-content.js","webpack:///./components/editor-draft-js/index.js","webpack:///./components/editor-draft-js/styles.scss","webpack:///./components/editor-wysihtml/index.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar-color-picker.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar-color-picker.scss","webpack:///./components/editor-wysihtml/wysihtml-toolbar-create-link.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar-insert-html.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar-insert-image.js","webpack:///./components/editor-wysihtml/wysihtml-toolbar.js","webpack:///./components/external-services/index.js","webpack:///./components/external-services/pagarme.js","webpack:///./components/external-services/zendesk-widget.js","webpack:///./components/filterable-search-bar/actions.js","webpack:///./components/filterable-search-bar/reducers.js","webpack:///./components/form-util/error.js","webpack:///./components/form-util/index.js","webpack:///./components/form-util/input-counter.js","webpack:///./components/form-util/input.js","webpack:///./components/forms/button.js","webpack:///./components/forms/clone-element.js","webpack:///./components/forms/color-picker.js","webpack:///./components/forms/control-buttons.js","webpack:///./components/forms/control-label.js","webpack:///./components/forms/form-control.js","webpack:///./components/forms/form-dropdown.js","webpack:///./components/forms/form-error.js","webpack:///./components/forms/form-group.js","webpack:///./components/forms/form-redux/index.js","webpack:///./components/forms/form-redux/index.scss","webpack:///./components/forms/form.js","webpack:///./components/forms/help-block.js","webpack:///./components/forms/index.js","webpack:///./components/forms/input.js","webpack:///./components/forms/radio-group.js","webpack:///./components/forms/radio.js","webpack:///./components/forms/raise.js","webpack:///./components/forms/success-message.js","webpack:///./components/forms/upload-image-field.js","webpack:///./components/layout/background/index.js","webpack:///./components/layout/background/index.scss","webpack:///./components/layout/index.js","webpack:///./components/layout/page-centralized-layout/index.js","webpack:///./components/layout/page-centralized-layout/page.js","webpack:///./components/layout/page-centralized-layout/page.scss","webpack:///./components/layout/page-centralized-layout/title.js","webpack:///./components/layout/settings-page-content-layout.js","webpack:///./components/layout/settings-page-layout.js","webpack:///./components/layout/settings-page-menu-layout.js","webpack:///./components/navigation/navbar/index.js","webpack:///./components/navigation/navbar/navbar-button.js","webpack:///./components/navigation/navbar/navbar-edition-wrapper.js","webpack:///./components/navigation/navbar/navbar-form.js","webpack:///./components/navigation/sidenav/logo-icon-no-border.js","webpack:///./components/navigation/tabs/index.js","webpack:///./components/navigation/tabs/tab-border.js","webpack:///./components/navigation/tabs/tab-border.scss","webpack:///./components/navigation/tabs/tab.js","webpack:///./components/navigation/tabs/tab.scss","webpack:///./components/navigation/tabs/tabs.js","webpack:///./components/navigation/tabs/tabs.scss","webpack:///./components/selectable-list/actions.js","webpack:///./components/selectable-list/reducers.js","webpack:///./components/share/check-mark-image.png","webpack:///./components/share/facebook-share-button.js","webpack:///./components/share/index.js","webpack:///./components/share/tell-a-friend.connected.js","webpack:///./components/share/tell-a-friend.js","webpack:///./components/share/twitter-share-button.js","webpack:///./components/share/whatsapp-share-button.js","webpack:///./createReducer.js","webpack:///./graphql/mutations/add-twilio-call.js","webpack:///./graphql/mutations/add-twilio-configuration.js","webpack:///./graphql/mutations/index.js","webpack:///./graphql/mutations/update-twilio-configuration.js","webpack:///./graphql/queries/count-twilio-calls-by-widget.js","webpack:///./graphql/queries/fetch-donation-goal-stats.js","webpack:///./graphql/queries/fetch-facebook-bot-activists-strategy.js","webpack:///./graphql/queries/fetch-facebook-bot-campaigns-by-community-id.js","webpack:///./graphql/queries/fetch-twilio-configuration.js","webpack:///./graphql/queries/index.js","webpack:///./graphql/queries/watch-twilio-call-transitions.js","webpack:///./images/bg-login.png","webpack:///./mobilizations/blocks/paths.js","webpack:///./mobilizations/paths.js","webpack:///./mobilizations/templates/action-types.js","webpack:///./mobilizations/templates/paths.js","webpack:///./mobilizations/templates/reducers/index.js","webpack:///./mobilizations/templates/reducers/list.js","webpack:///./mobilizations/widgets/__plugins__/content/action-creators/create-action.js","webpack:///./mobilizations/widgets/__plugins__/content/action-creators/index.js","webpack:///./mobilizations/widgets/__plugins__/content/action-creators/set-editor-link-target-type.js","webpack:///./mobilizations/widgets/__plugins__/content/action-types.js","webpack:///./mobilizations/widgets/__plugins__/content/components/__content__.js","webpack:///./mobilizations/widgets/__plugins__/content/components/action-button.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-new.connected.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-new/index.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-new/index.scss","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-old.connected.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-old.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-slate/index.js","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-slate/index.scss","webpack:///./mobilizations/widgets/__plugins__/content/components/editor-slate/styles.js","webpack:///./mobilizations/widgets/__plugins__/content/components/footer-editor.js","webpack:///./mobilizations/widgets/__plugins__/content/components/index.js","webpack:///./mobilizations/widgets/__plugins__/content/components/layer.js","webpack:///./mobilizations/widgets/__plugins__/content/reducers.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-creators/async-donation-transaction-create.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-creators/create-action.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-creators/index.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-creators/set-donation-customer-data.js","webpack:///./mobilizations/widgets/__plugins__/donation/action-types.js","webpack:///./mobilizations/widgets/__plugins__/donation/components/__donation__.connected.js","webpack:///./mobilizations/widgets/__plugins__/donation/components/donation-tell-a-friend.js","webpack:///./mobilizations/widgets/__plugins__/donation/components/index.js","webpack:///./mobilizations/widgets/__plugins__/donation/components/settings-menu.js","webpack:///./mobilizations/widgets/__plugins__/donation/paths.js","webpack:///./mobilizations/widgets/__plugins__/donation/reducers.js","webpack:///./mobilizations/widgets/__plugins__/form/components/__form__.connected.js","webpack:///./mobilizations/widgets/__plugins__/form/components/__form__.js","webpack:///./mobilizations/widgets/__plugins__/form/components/button.js","webpack:///./mobilizations/widgets/__plugins__/form/components/form-tell-a-friend.js","webpack:///./mobilizations/widgets/__plugins__/form/components/index.js","webpack:///./mobilizations/widgets/__plugins__/form/components/input-form.js","webpack:///./mobilizations/widgets/__plugins__/form/components/input.js","webpack:///./mobilizations/widgets/__plugins__/form/components/settings-menu.js","webpack:///./mobilizations/widgets/__plugins__/form/paths.js","webpack:///./mobilizations/widgets/__plugins__/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/action-creators/async-fill-widget.js","webpack:///./mobilizations/widgets/__plugins__/pressure/action-creators/create-action.js","webpack:///./mobilizations/widgets/__plugins__/pressure/action-creators/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/action-types.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/__pressure__.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-count.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.scss","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-form/phone-calls.scss","webpack:///./mobilizations/widgets/__plugins__/pressure/components/pressure-tell-a-friend.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/settings-base.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/settings-menu.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/target-list/index.js","webpack:///./mobilizations/widgets/__plugins__/pressure/components/target-list/index.scss","webpack:///./mobilizations/widgets/__plugins__/pressure/paths.js","webpack:///./mobilizations/widgets/__plugins__/pressure/reducers.js","webpack:///./mobilizations/widgets/__plugins__/reducers.js","webpack:///./mobilizations/widgets/components/block-tag.js","webpack:///./mobilizations/widgets/components/block-tag.scss","webpack:///./mobilizations/widgets/components/data-export.js","webpack:///./mobilizations/widgets/components/finish-message-custom.js","webpack:///./mobilizations/widgets/components/form-autofire.js","webpack:///./mobilizations/widgets/components/form-finish-message/index-scss.js","webpack:///./mobilizations/widgets/components/form-finish-message/index.js","webpack:///./mobilizations/widgets/components/index.js","webpack:///./mobilizations/widgets/components/input-tag.js","webpack:///./mobilizations/widgets/components/input-tag.scss","webpack:///./mobilizations/widgets/components/tag.js","webpack:///./mobilizations/widgets/components/tag.scss","webpack:///./mobilizations/widgets/components/widget-overlay/index.js","webpack:///./mobilizations/widgets/components/widget-overlay/index.scss","webpack:///./mobilizations/widgets/paths.js","webpack:///./mobilizations/widgets/utils/analytics-events.js","webpack:///./mobilizations/widgets/utils/pressure-helper.js","webpack:///./mobrender-v2/widgets/donation/donation.scss","webpack:///./mobrender-v2/widgets/donation/factory-donation.js","webpack:///./mobrender-v2/widgets/donation/index.js","webpack:///./mobrender-v2/widgets/donation/progress.js","webpack:///./mobrender-v2/widgets/donation/progress.scss","webpack:///./mobrender/components/add-new-block.scss","webpack:///./mobrender/components/block-change-background.connected.js","webpack:///./mobrender/components/block-change-background.js","webpack:///./mobrender/components/block-config-menu.connected.js","webpack:///./mobrender/components/block-config-menu.js","webpack:///./mobrender/components/block.connected.js","webpack:///./mobrender/components/block.js","webpack:///./mobrender/components/file-uploader.js","webpack:///./mobrender/components/index.js","webpack:///./mobrender/components/mobilization.connected.js","webpack:///./mobrender/components/mobilization.js","webpack:///./mobrender/components/navbar/index.js","webpack:///./mobrender/components/navbar/menu-items.js","webpack:///./mobrender/components/navbar/navbar.js","webpack:///./mobrender/components/widget-overlay.connected.js","webpack:///./mobrender/components/widget-overlay.js","webpack:///./mobrender/components/widget.connected.js","webpack:///./mobrender/components/widget.js","webpack:///./mobrender/redux/action-creators/async-add-block.js","webpack:///./mobrender/redux/action-creators/async-add-mobilization.js","webpack:///./mobrender/redux/action-creators/async-destroy-block.js","webpack:///./mobrender/redux/action-creators/async-fetch-blocks.js","webpack:///./mobrender/redux/action-creators/async-fetch-mobilizations.js","webpack:///./mobrender/redux/action-creators/async-fetch-widgets.js","webpack:///./mobrender/redux/action-creators/async-filter-block.js","webpack:///./mobrender/redux/action-creators/async-filter-mobilization.js","webpack:///./mobrender/redux/action-creators/async-filter-widget.js","webpack:///./mobrender/redux/action-creators/async-form-entry-create.js","webpack:///./mobrender/redux/action-creators/async-move-down.js","webpack:///./mobrender/redux/action-creators/async-move-up.js","webpack:///./mobrender/redux/action-creators/async-update-block.js","webpack:///./mobrender/redux/action-creators/async-update-mobilization.js","webpack:///./mobrender/redux/action-creators/async-update-widget.js","webpack:///./mobrender/redux/action-creators/async-widget-data-export.js","webpack:///./mobrender/redux/action-creators/create-action.js","webpack:///./mobrender/redux/action-creators/data-export-mount.js","webpack:///./mobrender/redux/action-creators/handle-cancel-edit.js","webpack:///./mobrender/redux/action-creators/handle-change-background.js","webpack:///./mobrender/redux/action-creators/handle-edit.js","webpack:///./mobrender/redux/action-creators/handle-mouse-out.js","webpack:///./mobrender/redux/action-creators/handle-mouse-over.js","webpack:///./mobrender/redux/action-creators/handle-upload-file.js","webpack:///./mobrender/redux/action-creators/index.js","webpack:///./mobrender/redux/action-creators/select-mobilization.js","webpack:///./mobrender/redux/action-creators/select-widget.js","webpack:///./mobrender/redux/action-creators/set-widget-list.js","webpack:///./mobrender/redux/action-creators/toggle-mobilization-menu.js","webpack:///./mobrender/redux/action-types.js","webpack:///./mobrender/redux/index.js","webpack:///./mobrender/redux/reducers/blocks.js","webpack:///./mobrender/redux/reducers/data-export.js","webpack:///./mobrender/redux/reducers/edition.js","webpack:///./mobrender/redux/reducers/hover.js","webpack:///./mobrender/redux/reducers/index.js","webpack:///./mobrender/redux/reducers/mobilizations.js","webpack:///./mobrender/redux/reducers/uploader.js","webpack:///./mobrender/redux/reducers/widgets.js","webpack:///./mobrender/redux/selectors.js","webpack:///./mobrender/widgets/config.js","webpack:///./mobrender/widgets/draft/components/draft-button.js","webpack:///./mobrender/widgets/draft/components/draft-button.scss","webpack:///./mobrender/widgets/draft/components/draft.js","webpack:///./mobrender/widgets/draft/components/draft.scss","webpack:///./mobrender/widgets/draft/components/index.js","webpack:///./paths.js","webpack:///./store.js","webpack:///./subscriptions/forms/credit-card-form.js","webpack:///./subscriptions/forms/recurring-form.js","webpack:///./subscriptions/redux/action-types.js","webpack:///./subscriptions/redux/reducers/edit.js","webpack:///./subscriptions/redux/reducers/index.js","webpack:///./utils/array.js","webpack:///./utils/browser/os.js","webpack:///./utils/format-number-helper.js","webpack:///./utils/notifications.js","webpack:///./utils/redux-form/normalizers/creditcard.js","webpack:///./utils/redux-form/normalizers/date/ddmmyyyy.js","webpack:///./utils/redux-form/normalizers/date/index.js","webpack:///./utils/redux-form/normalizers/date/mmyy.js","webpack:///./utils/redux-form/normalizers/documents.js","webpack:///./utils/redux-form/normalizers/index.js","webpack:///./utils/redux-form/normalizers/number.js","webpack:///./utils/redux-form/normalizers/string.js","webpack:///./utils/redux-form/validators/abstract-validate.js","webpack:///./utils/redux-form/validators/index.js","webpack:///./utils/redux/create-action.js","webpack:///./utils/redux/index.js","webpack:///./utils/validation-helper.js","webpack:///./ux/components/button/index.js","webpack:///./ux/components/button/styles.scss","webpack:///./ux/components/dialog/index.js","webpack:///./ux/components/dialog/styles.scss","webpack:///./ux/components/div-float/index.js","webpack:///./ux/components/div-float/styles.scss","webpack:///./ux/components/flat-form/button.scss","webpack:///./ux/components/flat-form/flat-form.scss","webpack:///./ux/components/flat-form/index.js","webpack:///./ux/components/index.js","webpack:///./ux/components/settings-form/index.js","webpack:///external \"axios\"","webpack:///external \"chain-function\"","webpack:///external \"classnames\"","webpack:///external \"downloadjs\"","webpack:///external \"draft-js\"","webpack:///external \"exenv\"","webpack:///external \"format-number\"","webpack:///external \"immutable\"","webpack:///external \"jquery\"","webpack:///external \"keycode\"","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///external \"react-apollo\"","webpack:///external \"react-color\"","webpack:///external \"react-cookie\"","webpack:///external \"react-countup\"","webpack:///external \"react-dom\"","webpack:///external \"react-ga\"","webpack:///external \"react-intl\"","webpack:///external \"react-redux\"","webpack:///external \"react-router\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-s3-uploader\"","webpack:///external \"reapop\"","webpack:///external \"redux\"","webpack:///external \"redux-devtools\"","webpack:///external \"redux-devtools-dock-monitor\"","webpack:///external \"redux-devtools-log-monitor\"","webpack:///external \"redux-form\"","webpack:///external \"redux-promise\"","webpack:///external \"redux-thunk\"","webpack:///external \"slate-editor\"","webpack:///external \"slate-plain-serializer\"","webpack:///external \"tinycolor2\"","webpack:///external \"warning\""],"names":["t","type","SET_CURRENT_LOCALE","initialState","currentLocale","defaultLocale","locales","messages","reducer","state","action","payload","dispatch","getState","api","ADD_USER_REQUEST","post","user","then","res","status","data","errors","Promise","reject","ADD_USER_SUCCESS","resolve","catch","ADD_USER_FAILURE","ex","intl","endpoint","body","ASYNC_RETRIEVE_PASSWORD_REQUEST","ASYNC_RETRIEVE_PASSWORD_SUCCESS","ASYNC_RETRIEVE_PASSWORD_FAILURE","id","headers","getCredentials","UPDATE_USER_REQUEST","put","UPDATE_USER_SUCCESS","firstName","first_name","lastName","last_name","email","avatar","avatar_url","UPDATE_USER_FAILURE","createAction","default","LOAD_SUCCESS","password","auth","LOGIN_REQUEST","credentials","LOGIN_SUCCESS","errorMessage","formatMessage","defaultMessage","LOGIN_FAILURE","Error","failure","window","localStorage","removeItem","LOGOUT_SUCCESS","LOGOUT_REQUEST","LOGOUT_FAILURE","isLoaded","isLoading","saving","undefined","error","save","getUser","getError","FETCH","FETCH_SUCCESS","FETCH_FAIL","ADD","EDIT","SELECT","UNSET","FETCH_DNS_HOSTED_ZONES_REQUEST","FETCH_DNS_HOSTED_ZONES_SUCCESS","FETCH_DNS_HOSTED_ZONES_FAILURE","ADD_DNS_HOSTED_ZONE_REQUEST","ADD_DNS_HOSTED_ZONE_SUCCESS","ADD_DNS_HOSTED_ZONE_FAILURE","FETCH_DNS_RECORDS_REQUEST","FETCH_DNS_RECORDS_SUCCESS","FETCH_DNS_RECORDS_FAILURE","DELETE_DNS_HOSTED_ZONE_REQUEST","DELETE_DNS_HOSTED_ZONE_SUCCESS","DELETE_DNS_HOSTED_ZONE_FAILURE","ADD_DNS_RECORD_REQUEST","ADD_DNS_RECORD_SUCCESS","ADD_DNS_RECORD_FAILURE","DELETE_DNS_RECORD_REQUEST","DELETE_DNS_RECORD_SUCCESS","DELETE_DNS_RECORD_FAILURE","CHECK_DNS_HOSTED_ZONE_REQUEST","CHECK_DNS_HOSTED_ZONE_SUCCESS","CHECK_DNS_HOSTED_ZONE_FAILURE","ASYNC_INVITE_REQUEST","ASYNC_INVITE_SUCCESS","ASYNC_INVITE_FAILURE","SET_FORCED_SUBMIT","namespace","communityAdd","communityDomain","communityDomainCreate","next","communityDomainEdit","domain","communityInfo","communityInvite","communityList","communityMailchimp","communityRecipient","communityReport","communityTwilio","authT","loading","currentId","forcedSubmit","community","list","map","c","fetching","d","filter","dnsHostedZones","dnsRecords","Loading","localized","backgroundColor","loaderColor","className","absolute","fixed","color","defaultProps","Progress","style","percent","width","propTypes","number","isRequired","string","object","SET_LOADING","SET_SELECTED_COLOR","setSelectedColor","ColorPickerActions","ColorPicker","theme","showColorPicker","onChangeColor","selectedColor","hasTheme","colorStrategy","bool","func","oneOfType","array","mapStateToProps","colorPicker","loaded","ColorPickerReducer","meurio","meurecife","minhablumenau","minhacampinas","minhacuritiba","minhagaropaba","minhaouropreto","minhaportoalegre","minhasampa","nossascidades","nuestrasciudades","ourcities","DevTools","DropdownMenuItem","handleClick","props","onClick","disabled","event","preventDefault","onItemClick","href","children","DropdownMenu","context","open","setState","icon","handleOverlayClick","child","index","cloneElement","key","wrapperClassName","buttonClassName","menuClassName","menuStyle","text","marginTop","renderIcon","length","renderChildren","renderOverlay","Component","block","findStyleRanges","e","hasStyle","alignments","AlignmentControls","alignment","editorState","setEditorState","editorStateWithAlignment","align","focusEditor","selectionState","getSelection","getCurrentContent","getBlockForKey","getStartKey","alignmentStyle","hasAlignmentStyle","handleToggleAlign","removeStyles","currentContent","selection","focusBlock","getFocusKey","anchorBlock","getAnchorKey","selectionIsBackward","getIsBackward","changes","anchorOffset","focusOffset","getLength","selectWholeBlocks","merge","modifiedContent","applyInlineStyle","finalContent","reduce","content","removeInlineStyle","push","ColorPickerButton","nextProps","rgb","presetColors","colorPickerProps","onChangeComplete","handleChange","bind","toggleColorPicker","handleChangeColor","onRemoveColor","ColorControls","currentStyle","getCurrentInlineStyle","value","startsWith","last","replace","trim","targetSelection","isCollapsed","editorStateWithColor","toggleInlineStyle","r","g","b","a","size","hasColorStyle","customStyleFn","output","getEntitySelectionState","entityType","endOffset","getEndOffset","entitySelectionState","findEntityRanges","entityKey","character","getEntity","get","getType","start","end","isSelected","getSelectedBlocks","contentState","anchorKey","focusKey","getEndKey","isSameBlock","startingBlock","selectedBlocks","blockKey","nextBlock","getBlockAfter","getKey","getBlockSelectionState","contentBlock","startOffset","getStartOffset","getText","createEmpty","inlineStyle","indexOf","contentWithoutStyle","prefix","split","styles","forEach","toggleLink","editorStateMutable","arrayBlocks","entity","getEntityAt","mergeData","blockSelectionState","create","selectionEntity","getEntityInstance","fonts","SelectFontFamily","font","onChange","require","canUseDOM","FontControls","initialValue","hasChangeInlineStyle","fontSize","fontFamily","target","editorStateWithFontSize","editorStateWithFontFamily","handleChangeSize","handleMouseOut","handleChangeFont","shape","HistoryControls","getUndoStack","isEmpty","undo","getRedoStack","redo","handleUndoClick","handleRedoClick","Link","getData","getSelectionLink","LinkControls","showInput","entityLink","nextEntityLink","entityInstance","hasLink","checked","popoverClassName","handleToggleInput","confirmLink","handleChangeTarget","cursor","lineHeight","removeLink","decorator","strategy","component","callback","InsertImageButton","showInsertDialog","image","handleUploadFinish","imgUrl","signedUrl","substring","findDOMNode","inputFile","click","handleOpenDialog","process","env","API_URL","handleUploadProgress","handleUploadError","input","position","visibility","InsertScriptButton","showInputDialog","script","handleInsertScript","getTagName","Media","mediaProps","toLowerCase","media","__html","src","MediaControls","mediaType","source","editorStateWithMedia","insertAtomicBlock","handleInsertMedia","blockRendererFn","getSelectionEntities","selectionEntitySet","add","Toolbar","blockType","toggleBlockType","controlsProps","hasInlineStyle","hasBlockType","toolbarEditorProps","createFromText","rawContentState","JSON","stringify","RebooEditor","createFromBlockArray","createWithContent","hasFocus","setTimeout","refs","editor","focus","command","currentBlock","contentBlockMap","currentBlockMap","getBlockMap","skipCurrent","beforeBlocks","toSeq","takeUntil","afterBlocks","skipUntil","rest","blockMap","getAnchorOffset","getFocusOffset","concat","toOrderedMap","editorStateWithLineBreak","onChangeEditorState","forceSelection","isBackward","previousBlock","getBlockBefore","chars","handleKeyCommand","handleSave","containerStyle","toolbarStyle","toolbarContainerStyle","editorStyle","focusStyle","readOnly","hasFocusStyle","outline","display","blockStyleFn","handleBeforeInput","right","handleDelete","any","WYSIHTMLToolbarColorPicker","hex","top","ContentActions","WYSIHTMLToolbarCreateLink","editorLinkTargetType","setEditorLinkTargetType","mobilizations","plugins","WYSIHTMLToolbarInsertHTML","insertHTMLContent","cancelButton","handleInsertHTMLChange","handleInsertHTMLClick","WYSIHTMLToolbarInsertImage","renderFontsizeDropdownMenuItem","WYSIHTMLToolbar","elementId","Pagarme","document","createElement","async","appendChild","ZendeskWidget","FILTERABLE_SEARCH_BAR_SET_LIST","setFilterableSearchBarList","FilterableSearchBarReducer","message","classes","borderWidth","InputCounter","maxLength","diff","red","Input","uid","label","placeholder","required","show","fontWeight","marginBottom","Button","pristine","submitting","regex","rgba","match","formGroup","$formGroup","getRGBA","contextTypes","ControlButtons","$formRedux","floatButton","successMessage","onCancel","submitted","dirty","formInline","valid","ControlLabel","controlId","touched","htmlFor","hideError","tagsShouldCleanup","FormControl","componentClass","containerClassName","addonText","field","fieldProps","Object","assign","layout","showCancel","FormDropdown","FormError","FormGroup","onBlur","styleGroup","paddingRight","oneOf","childContextTypes","FormRedux","onFinishSubmit","forceFinishSubmit","naturalSubmitTransition","submitFailed","forcedSubmitTransition","inline","onSubmit","submit","handleSubmit","nosubmit","Form","HelpBlock","meta","warning","RadioGroup","Radio","current","horizontal","vertical","Raise","SuccessMessage","UploadImageField","signingUrl","onProgress","onError","onFinish","left","bottom","marginLeft","Background","contentSize","flexAlignments","center","justifyContent","x","alignItems","y","bgStyle","backgroundImage","overflow","BondeBackground","PageCentralizedLayout","node","PageCentralizedLayoutTitle","SettingsPageContentLayout","wrapClassName","SettingsPageLayout","SettingsPageMenuLayout","title","NavbarButton","targetId","scrollableId","scrollable","yPosition","scrollTop","stop","animate","location","hash","hidden","opacity","NavbarEditionWrapper","isEditing","isMouseOver","hideButton","blur","blockUpdate","menu_hidden","buttonsWrapperClassName","hide","editingButtonsStyle","height","padding","editingButtonsClassName","hideButtonClassName","handleEditButtonClick","handleHideButtonClick","name","handleMouseOver","blockName","editable","renderEditingButtons","handleCloseForm","renderNavbarForm","renderNavbarButton","NavbarForm","defaultValue","nameInput","select","addEventListener","handleKeyUp","removeEventListener","keyCode","handleChangeName","mobilization","LogoIconNoBorder","TabBorder","path","isActive","optionalProps","to","Tab","Tabs","SELECTABLE_LIST_SET_SELECTED_INDEX","setSelectedIndex","SelectableListReducer","selectedIndex","FacebookShareButton","sourceRequest","protocol","host","getMobilization","customDomain","custom_domain","TellAFriend","preview","twitterShareText","twitter_share_text","imageUrl","imageWidth","widget","settings","whatsapp_text","TwitterShareButton","encodeURIComponent","WhatsAppShareButton","whatsappText","createReducer","asyncReducers","form","normalize","creditCardForm","recurringForm","apollo","notifications","wait","subscriptions","extraFields","join","createBlock","appDomain","slug","mobilizationLaunch","mobilizationLaunchEnd","newMobilization","editMobilization","cityMobilization","cityNewMobilization","sharingMobilization","basicsMobilization","analyticsMobilization","metricsMobilization","customDomainMobilization","REQUEST_TEMPLATE_CREATE","SUCCESS_TEMPLATE_CREATE","FAILURE_TEMPLATE_CREATE","REQUEST_TEMPLATE_FETCH","SUCCESS_TEMPLATE_FETCH","FAILURE_TEMPLATE_FETCH","REQUEST_TEMPLATE_DESTROY","SUCCESS_TEMPLATE_DESTROY","FAILURE_TEMPLATE_DESTROY","SELECT_TEMPLATE","mobilizationTemplatesCreate","mobilizationTemplatesList","mobilizationTemplatesUpdate","templateId","mobilizationTemplatesDestroy","mobilizationTemplatesChoose","mobilizationTemplatesChooseCustomList","mobilizationTemplatesChooseGlobalList","filterable","selectable","global","custom","MobilizationTemplatesReducer","templates","template","findIndex","slice","SET_EDITOR_LINK_TARGET_TYPE","Content","forceRenderNewEditor","confirm","update","kind","parse","entityMap","deleteWidget","raw","toJSON","handleForceRender","onEdit","onCancelEdit","ActionButton","editing","changeState","mapActionsToProps","EditorNew","rawContent","bodyFont","body_font","color_scheme","selectors","wysihtml5","wysihtml5ParserRules","rangy","EditorOld","toolbarId","Editor","toolbar","parserRules","on","handleEditorFocus","setClick","handleEscapePress","enableEditor","links","querySelectorAll","link","closest","prop","offset","hasChanged","getValue","disableEditor","headerFont","header_font","handleRenderNewEditor","renderLoading","fontSizePluginOptions","initialFontSize","colorPluginOptions","gen","classNames","button","dropdown","lastButton","EditorSlate","initialRaw","serialize","toolbarStyles","contentStyles","apiUrl","zIndex","minHeight","isMod","handleCancelEditionMode","createEditorContent","deserialize","borderRight","paddingLeft","border","margin","WebkitAppearance","borderRadius","overlay","Layer","initialAction","asyncDonationTransactionCreate","params","mobilization_id","donation","genRequestPayload","ASYNC_DONATION_TRANSACTION_CREATE_REQUEST","ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS","customerData","donationFinishRequest","ASYNC_DONATION_TRANSACTION_CREATE_FAILURE","genericRequestError","config","failureData","customer","console","_error","widget_id","card_hash","payment_method","amount","subscription","period","recurring_period","setDonationCustomerData","SET_DONATION_CUSTOMER_DATA","graphqlQueries","Donation","finishMessageCustom","tellAFriend","donationCustomerData","mapDispatchToProps","handleDonationTransactionCreate","selectedValue","selectedPaymentType","onSucess","storedDonationCustomerData","paymentType","payment_type","recurringPeriod","mainColor","main_color","checkout","PagarMeCheckout","Checkout","encryption_key","PAGARME_KEY","success","err","customerName","customerDocumentNumber","document_number","customerEmail","customerPhoneDdd","phone","ddd","customerPhoneNumber","customerAddressZipcode","address","zipcode","customerAddressStreet","street","customerAddressStreetNumber","street_number","customerAddressComplementary","complementary","customerAddressNeighborhood","neighborhood","customerAddressCity","city","customerAddressState","createToken","paymentMethods","payment_methods","uiColor","paymentButtonText","button_text","donationSetValue","fetchDonationGoalStats","options","variables","widgetId","paths","DonationTellAFriend","SettingsMenu","donationPath","donationAdjustmentsPath","donationAutofirePath","donationAutofire","donationFinishPath","donationFinish","pathname","mobilizationId","mid","wid","donationExport","MobActions","asyncFormEntryCreate","hasMouseOver","fields","fieldsMobilizationWidget","fieldsWithValue","val","validate","formEntry","configurable","callToAction","call_to_action","Number","formIsFilled","hasNewField","count_text","startCounting","scrollTopReached","count","form_entries_count","isNaN","finishMessageType","finish_message_type","renderCallToAction","renderFields","renderErrors","renderButton","renderShareButtons","renderForm","renderCount","buttonText","FormTellAFriend","InputForm","slideDown","slideUp","onClose","newFields","asyncUpdateWidget","stopPropagation","updateSettings","handleCancel","canMoveUp","canMoveDown","handleLabelChange","handlePlaceholderChange","handleKindChange","handleRequiredChange","handleMoveUp","handleMoveDown","handleRemove","initializeEditing","v","renderInstructions","renderFieldKind","renderInput","fieldsPath","formPath","formMobilizationWidget","formAutofirePath","formAutofire","formExportPath","formExport","finishPath","widgetFormSettingsFinish","MobActionTypes","asyncFillWidget","fill","WIDGET_PRESSURE_FILL_REQUEST","WIDGET_PRESSURE_FILL_SUCCESS","UPDATE_WIDGET_SUCCESS","updateWidget","pressureSavedData","WIDGET_PRESSURE_FILL_FAILURE","getWidget","graphqlMutations","pressureHelper","PressureActions","Pressure","filled","selectedTargets","selectedTargetsError","callTransition","observableQuery","addTwilioCallMutation","selectableTargetList","phonePressureCount","showFinishMessage","isPressurePhone","getTargetList","PRESSURE_TYPE_PHONE","hasCounter","query","CountTwilioCallsByWidget","allTwilioCalls","totalCount","targets","targetSplit","pressureType","PRESSURE_TYPE_EMAIL","activist","firstname","lastname","mail","cc","getEmailTarget","subject","test","mutate","mutation","addTwilioCall","from","shuffle","ssrMode","watchQuery","pollInterval","watchTwilioCallTransitions","subscribe","pressure","filledPressureWidgets","title_text","disable_edit_field","titleText","countText","pressureSubject","pressure_subject","pressureBody","pressure_body","disableEditField","handleOverlayOnClick","includes","changeSelectedTargets","finish_message","finish_message_background","getPlugin","PressureCount","pressureCount","boxShadow","controlClassname","inputReset","parseTarget","RealtimeCallDuration","duration","interval","setInterval","timer","clearInterval","PressureForm","targetList","callManagement","attempts","isCallToCurrentTarget","twilioCallTo","transition","twilioCallTransitionStatus","isFailStatus","showCity","show_city","requiredMsg","some","phoneE164","keys","buttonColor","pressureIsFilled","twilioCallTransitionCallDuration","ListItem","changeParentState","PressureTellAFriend","SettingsBase","pressurePath","pressureEmailPath","pressureEmail","pressureAutofirePath","pressureAutofire","pressureFinishPath","pressureFinish","TargetList","onSelect","targetsCount","String","clean","obj","nameMatching","arrayOf","PressureReducers","BlockTag","tags","blockTag","tag","onRemove","DataExport","dataExportMount","exportedAt","exported_at","Date","pad","date","getDate","getMonth","getFullYear","time","getHours","getMinutes","formatedExportAt","formatExportAt","asyncWidgetDataExport","filename","renderLoadingMessage","renderExportedMessage","renderErrorMessage","FinishMessageCustom","finishMessage","finishMessageBackground","valueParse","validator","FormAutofire","senderName","sender_name","senderEmail","sender_email","emailSubject","email_subject","emailText","email_text","asyncWidgetUpdate","values","isValidEmail","editorFocus","editorToolbarContainer","editorToolbar","editorContainer","whatsappControlLabel","verticalAlign","FormFinishMessage","formProps","colorScheme","parsedFinishMessage","constructor","initialValues","os","InputTag","mac","isMac","nativeEvent","metaKey","windows","isWindows","ctrlKey","linux","isLinux","isUnix","onInsertTag","onRemoveTag","onRemoveAll","helperText","textarea","handleKeyPress","handleEdit","buttons","buttonDanger","Tag","clickable","removable","WidgetOverlay","handleMouseEnter","handleMouseLeave","AnalyticsEvents","FORM_FILLED","category","FORM_SAVED","DONATION_STARTED","DONATION_FINISHED","PRESSURE_FILLED","PRESSURE_SAVED","SOCIAL_SHARED","sendEvent","evt","isValidTargetEmail","isValidTargetPhone","formatNumberHelper","selected_value","selected_payment_type","defaultDonationValue","default_donation_value","goalDateRemaining","donationGoalStats","goal","goalStats","goal_date_limit","now","day","month","year","goalDate","Math","ceil","valueTopLeft","valueTopRight","valueBottomLeft","valueBottomRight","pledged","valueTopCenter","currencyInt","textTransform","progress","total_donations","totalDonations","valueBottomCenter","donationValue1","donation_value1","donationValue2","donation_value2","donationValue3","donation_value3","donationValue4","donation_value4","donationValue5","donation_value5","isUniquePayment","periodLabelOptions","periodLabelCurrent","periodLabel","handleClickSetTypeDonation","handleClickSetValueDonation","convertHex","handleClickDonate","renderProgressBar","parseInt","result","textAlign","renderReattemptMessage","renderThankyouText","renderContentStrategy","isDark","max","fillColor","isRquired","getUploadProgress","onChangeBackground","onUploadFile","BLOCK_UPLOAD_KEY","bg_class","BlockChangeBackground","bg_image","file","heigth","moveUp","moveDown","destroy","EDIT_KEY","BlockConfigMenu","getEditing","getBlockSaving","onMouseOver","onMouseOut","HOVER_MOUSE_KEY","getBackgroundStyle","background","backgroundSize","Block","widgets","history","FileUploader","maxHeight","url","getMobilizations","blocks","getBlocks","getWidgets","blockEditionMode","Mobilization","blocksIsLoaded","blocksTotalHeight","blocksWithOffsetTop","querySelector","offsetTop","offsetHeight","onscroll","scrollPassed","updateBlock","viewportBottom","isBottom","lastBlock","newProps","themeClassName","layoutClassName","layoutStyle","overflowY","w","block_id","MenuItems","mobile","menuProps","items","Navbar","onlyVisibleBlocks","overlayStyle","onDelete","widgetsIsLoading","Widget","smSize","sm_size","mdSize","md_size","lgSize","lg_size","widgetFilter","widgetConfig","redirect","widgetComponent","ADD_BLOCK_REQUEST","widgets_attributes","ADD_BLOCK_SUCCESS","ADD_WIDGETS_SUCCESS","sort","ADD_BLOCK_FAILURE","ADD_MOBILIZATION_REQUEST","ADD_MOBILIZATION_SUCCESS","response","ADD_MOBILIZATION_FAILURE","DESTROY_BLOCK_REQUEST","delete","DESTROY_BLOCK_SUCCESS","DESTROY_BLOCK_FAILURE","FETCH_BLOCKS_REQUEST","FETCH_BLOCKS_SUCCESS","FETCH_BLOCKS_FAILURE","FETCH_MOBILIZATIONS_REQUEST","relationshipId","FETCH_MOBILIZATIONS_SUCCESS","FETCH_MOBILIZATIONS_FAILURE","FETCH_WIDGETS_REQUEST","FETCH_WIDGETS_SUCCESS","FETCH_WIDGETS_FAILURE","where","FILTER_BLOCKS_REQUEST","FILTER_BLOCKS_SUCCESS","FILTER_BLOCKS_FAILURE","FILTER_MOBILIZATIONS_REQUEST","FILTER_MOBILIZATIONS_SUCCESS","FILTER_MOBILIZATIONS_FAILURE","FILTER_WIDGETS_REQUEST","FILTER_WIDGETS_SUCCESS","FILTER_WIDGETS_FAILURE","form_entry","WIDGET_FORM_ENTRY_CREATE_REQUEST","WIDGET_FORM_ENTRY_CREATE_SUCCESS","formSavedData","WIDGET_FORM_ENTRY_CREATE_FAILURE","UPDATE_BLOCK_REQUEST","UPDATE_BLOCK_SUCCESS","MOVE_BLOCK_DOWN","UPDATE_BLOCK_FAILURE","MOVE_BLOCK_UP","fieldName","UPDATE_MOBILIZATION_REQUEST","UPDATE_MOBILIZATION_SUCCESS","template_mobilization_id","UPDATE_MOBILIZATION_FAILURE","UPDATE_WIDGET_REQUEST","UPDATE_WIDGET_FAILURE","INFO","EXPORT_DATACLIP_REQUEST","alert","EXPORT_DATACLIP_NO_DATA_FOUND","Blob","EXPORT_DATACLIP_SUCCESS","EXPORT_DATACLIP_FAILURE","EXPORT_DATACLIP_MOUNT","TURN_OFF_EDITION","CHANGE_BLOCK_BACKGROUND","TURN_ON_EDITION","mode","MOUSE_OUT","MOUSE_OVER","LOADING_FILE","FINISH_LOADING_FILE","SELECT_MOBILIZATION","SELECT_WIDGET","setWidgetList","SET_WIDGET_LIST","TOGGLE_MOBILIZATION_MENU","actions","actionTypes","FILTER_BLOCK_REQUEST","dataExport","edition","hover","uploader","tc","menuActiveIndex","communityId","m","reload","mob","mobilizationsIsLoading","mobilizationsIsLoaded","mobilizationIsSaving","getMobilizationMenuActive","f","hasCurrentMobilization","pkey","mobilizationIsNeedReload","widgetsIsLoaded","renderIsLoading","blocksIsLoading","isntLoading","plugin","getTemplate","ownProps","Paths","DraftButton","updateKind","Draft","widgetsConfig","wc","login","logout","editAccount","createAccount","accountRetrieve","configureStore","injectAsyncReducer","baseURL","middlewares","networkInterface","uri","graphqlUrl","connectToDevTools","use","applyMiddleware","req","requiredAuth","request","operationName","localStorageAuth","getItem","authorization","useAfter","applyAfterware","client","thunkExtraArgument","withExtraArgument","axios","middleware","store","instrument","interceptors","module","hot","accept","replaceReducer","asyncReducer","validators","normalizers","CreditCardForm","FormComponent","token","creditcard","expiration","cvv","card","brand","first_digits","last_digits","holder_name","expiration_date","abstractValidate","normalizer","mmyy","onlyWords","validationHelper","RecurringForm","processAt","process_at","ddmmyyyy","SET_MODIFICATION_TYPE","APPEND_ANIMATION_STACK","REMOVE_ANIMATION_STACK","ASYNC_RECHARGE_REQUEST","ASYNC_RECHARGE_SUCCESS","ASYNC_RECHARGE_FAILURE","ASYNC_FETCH_SUCCESS","ASYNC_FETCH_FAILURE","modificationType","animationStack","edit","distinct","self","n","currentIndex","temporaryValue","randomIndex","floor","random","appVersion","navigator","numberOptions","integerSeparator","decimal","currencyOptions","padRight","truncate","currencyIntOptions","floatOptions","integerOptions","currency","float","integer","dismissAfter","dismissible","closeButton","genericSaveSuccess","slugUpdatedMessage","messagePressureTargetsRemoveAll","accountPasswordRetrieveSuccess","communityInviteSuccess","subscriptionCancelSuccess","applyIntl","notify","dismissable","previousValue","nums","sep","cpfCnpj","dateNormalizers","regexEmail","regexDomain","isValidDomain","regexCodeGA","isValidCodeGA","codeGA","regexDDMMYYYY","isValidFromEmail","regexTargetEmail","regexPhone","isValidPhone","regexPhoneE164","isValidPhoneE164","regexTargetPhone","regexTargetPhoneE164","isValidTargetPhoneE164","isValidDate","toString","basscss","isSubmit","Dialog","onConfirm","DivFloat","FlatForm","formClassNames","titleSmallMargin","titleMediumMargin","titleBigMargin","SettingsForm"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,oBAAoB;AACpB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B;AAC/B,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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A;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,oBAAoB;AACpB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B;AAC/B,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,CAAC;;AAED;AACA;;;;AAIA;AACA,sC;;;;;;;ACxsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,6CAA6C,SAAS;AACtD;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,uDAAuD,SAAS;AAChE;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yFAAyF,SAAS;AAClG;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,GAAG;AAC9B;AACA;;AAEA,2BAA2B,GAAG;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+CAA+C;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,qCAAqC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yGAAyG,wBAAwB;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C;AAC9C,4CAA4C,6BAA6B;AACzE;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,yGAAyG,wBAAwB;;AAEjI;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE,SAAS;AACT;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C;AAC1C;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;;AAEjB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4CAA4C;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,uBAAuB,KAAK,EAAE;AAC5E;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iCAAiC;AACpE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B,iCAAiC;AAChE;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAsD,SAAS;AAC/D;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,6CAA6C,2BAA2B;AACxE;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,wDAAwD,SAAS;AACjE;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,6DAA6D,SAAS;AACtE;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8DAA8D,SAAS;AACvE;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAAkD,SAAS;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,wDAAwD,SAAS;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sDAAsD,SAAS;AAC/D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,8CAA8C;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,6BAA6B;AAC/D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD,SAAS;AAC9D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;;AAGL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC,Q;;;;;;;;ACpwHD;;AAEA;;AAEA,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,uCAAuC;AACvC;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;;;AAGA;AACA;;AAEA;AACA,oC;;;;;;;;AC5QA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,wBAAwB;AACrC;AACA;;AAEA;AACA,C;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;kQCbA;;;AACA;;IAAYR,C;;AACZ;;;;kBAEe;AAAA,SAAQ,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACtDF,aAAS,gCAAaZ,EAAEe,gBAAf,CAAT;AACA,WAAOD,IAAIE,IAAJ,CAAS,QAAT,EAAmB,EAAEC,UAAF,EAAnB,EACJC,IADI,CACC,eAAO;AACX,UAAIC,IAAIC,MAAJ,KAAe,GAAf,IAAsBD,IAAIE,IAAJ,CAASC,MAAnC,EAA2C;AACzC;AACA,eAAOC,QAAQC,MAAR,cAAoBL,IAAIE,IAAJ,CAASC,MAA7B,EAAP;AACD,OAHD,MAGO,IAAIH,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AAC7BR,iBAAS,gCAAaZ,EAAEyB,gBAAf,EAAiCN,IAAIE,IAArC,CAAT;AACA,eAAOE,QAAQG,OAAR,EAAP;AACD;AACF,KATI,EAUJC,KAVI,CAUE,cAAM;AACXf,eAAS,gCAAaZ,EAAE4B,gBAAf,CAAT;AACA,aAAOL,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KAbI,CAAP;AAcD,GAhBc;AAAA,C;;;;;;;;;;;;;;kQCJf;;;AACA;;AACA;;AACA;;IAAY7B,C;;AACZ;;;;kBAEe;AAAA,SAAQ,UAACY,QAAD,EAAWC,QAAX,QAAuC;AAAA,QAAhBC,GAAgB,QAAhBA,GAAgB;AAAA,QAAXgB,IAAW,QAAXA,IAAW;;AAC5D,QAAMC,WAAW,WAAjB;AACA,QAAMC,OAAO,EAAEf,UAAF,EAAb;;AAEAL,aAAS,gCAAaZ,EAAEiC,+BAAf,CAAT;AACA,WAAOnB,IAAIE,IAAJ,CAASe,QAAT,EAAmBC,IAAnB,EACJd,IADI,CACC,eAAO;AACX,UAAIC,IAAIC,MAAJ,KAAe,GAAf,IAAsBD,IAAIE,IAAJ,CAASC,MAAnC,EAA2C;AACzC;AACA,eAAOC,QAAQC,MAAR,cAAoBL,IAAIE,IAAJ,CAASC,MAA7B,EAAP;AACD,OAHD,MAGO,IAAIH,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AAC7BR,iBAAS,gCAAaZ,EAAEkC,+BAAf,EAAgDf,IAAIE,IAApD,CAAT;AACAT,iBAAS,6BAAO,mDAA+BkB,IAA/B,CAAP,CAAT;AACA,eAAOP,QAAQG,OAAR,EAAP;AACD;AACF,KAVI,EAWJC,KAXI,CAWE,cAAM;AACXf,eAAS,gCAAaZ,EAAEmC,+BAAf,CAAT;AACA,aAAOZ,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KAdI,CAAP;AAeD,GApBc;AAAA,C;;;;;;;;;;;;;;ACNf;;IAAY7B,C;;AACZ;;AACA;;;;;;;;;;kBAEe;AAAA,MAAGoC,EAAH,QAAGA,EAAH;AAAA,MAAUnB,IAAV;;AAAA,SAAqB,UAACL,QAAD,EAAWC,QAAX,SAAiC;AAAA,QAAVC,GAAU,SAAVA,GAAU;;AACnE,QAAMuB,UAAU,yBAAcxB,UAAd,EAA0ByB,cAA1B,EAAhB;;AAEA1B,aAAS,gCAAaZ,EAAEuC,mBAAf,CAAT;AACA,WAAOzB,IAAI0B,GAAJ,aAAkBJ,EAAlB,EAAwB,EAAEnB,UAAF,EAAxB,EAAkC,EAAEoB,gBAAF,EAAlC,EACJnB,IADI,CACC,eAAO;AACXN,eAAS,gCAAaZ,EAAEyC,mBAAf,EAAoC;AAC3CL,YAAIjB,IAAIE,IAAJ,CAASe,EAD8B;AAE3CM,mBAAWvB,IAAIE,IAAJ,CAASsB,UAFuB;AAG3CC,kBAAUzB,IAAIE,IAAJ,CAASwB,SAHwB;AAI3CC,eAAO3B,IAAIE,IAAJ,CAASyB,KAJ2B;AAK3CC,gBAAQ5B,IAAIE,IAAJ,CAAS2B;AAL0B,OAApC,CAAT;AAOD,KATI,EAUJrB,KAVI,CAUE,cAAM;AACXf,eAAS,gCAAaZ,EAAEiD,mBAAf,EAAoCpB,EAApC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KAbI,CAAP;AAcD,GAlBc;AAAA,C;;;;;;;;;;;;;ACJR,IAAMqB,sCAAe,SAAfA,YAAe,CAACjD,IAAD,EAAOU,OAAP,EAAmB;AAC7C,SAAO;AACLV,cADK;AAELU;AAFK,GAAP;AAID,CALM,C;;;;;;;;;;;;;;;;;;;yCCAEwC,O;;;;;;;;;0CACAA,O;;;;;;;;;2CACAA,O;;;;;;;;;oDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;0DACAA,O;;;;;;;;;;;;;;;;;;ACLT;;AACA;;IAAYnD,C;;;;kBAEG;AAAA,SAAQ,UAACY,QAAD,EAAWC,QAAX,EAAwB;AAC7C,WAAOD,SAAS,gCAAaZ,EAAEoD,YAAf,EAA6B,EAAEnC,UAAF,EAA7B,CAAT,CAAP;AACD,GAFc;AAAA,C;;;;;;;;;;;;;;ACHf;;AACA;;IAAYjB,C;;;;;;kBAEG;AAAA,MAAG8C,KAAH,QAAGA,KAAH;AAAA,MAAUO,QAAV,QAAUA,QAAV;AAAA,SAAyB,UAACzC,QAAD,EAAWC,QAAX,SAA6C;AAAA,QAAtBC,GAAsB,SAAtBA,GAAsB;AAAA,QAAjBwC,IAAiB,SAAjBA,IAAiB;AAAA,QAAXxB,IAAW,SAAXA,IAAW;;AACnFlB,aAAS,gCAAaZ,EAAEuD,aAAf,CAAT;AACA,WAAOzC,IAAIE,IAAJ,CAAS,eAAT,EAA0B,EAAE8B,YAAF,EAASO,kBAAT,EAA1B,EACJnC,IADI,CACC,iBAAyB;AAAA,UAAtBmB,OAAsB,SAAtBA,OAAsB;AAAA,UAAVlB,GAAU;;AAAA,UACfF,IADe,GACNE,IAAIE,IADE,CACrBA,IADqB;;AAE7B,UAAMmC,cAAc;AAClB,wBAAgBnB,QAAQ,cAAR,CADE;AAElB,sBAAcA,QAAQ,YAAR,CAFI;AAGlB,kBAAUA,QAAQ,QAAR,CAHQ;AAIlB,eAAOA,QAAQ,KAAR,CAJW;AAKlB,kBAAUA,QAAQ,QAAR;AALQ,OAApB;AAOAzB,eAAS,gCAAaZ,EAAEyD,aAAf,EAA8B,EAAExC,UAAF,EAAQuC,wBAAR,EAA9B,CAAT;AACA,aAAOjC,QAAQG,OAAR,EAAP;AACD,KAZI,EAaJC,KAbI,CAaE,mBAAW;AAChB,UAAM+B,eAAe5B,KAAK6B,aAAL,CAAmB;AACtCvB,YAAI,wCADkC;AAEtCwB,wBAAgB;AAFsB,OAAnB,CAArB;AAIAhD,eAAS,gCAAaZ,EAAE6D,aAAf,EAA8BH,YAA9B,CAAT;AACA,aAAOnC,QAAQC,MAAR,CAAe,IAAIsC,KAAJ,CAAUC,OAAV,CAAf,CAAP;AACD,KApBI,CAAP;AAqBD,GAvBc;AAAA,C;;;;;;;;;;;;;;ACHf;;AACA;;IAAY/D,C;;;;kBAEG;AAAA,SAAM,UAACY,QAAD,EAAc;AACjC,WAAO,IAAIW,OAAJ,CAAY,UAACG,OAAD,EAAUF,MAAV,EAAqB;AACtCwC,aAAOC,YAAP,CAAoBC,UAApB,CAA+B,MAA/B;AACAF,aAAOC,YAAP,CAAoBC,UAApB,CAA+B,WAA/B;AACAtD,eAAS,gCAAaZ,EAAEmE,cAAf,CAAT;AACAzC;AACD,KALM,CAAP;AAMD,GAPc;AAAA,C;;;;;;;;;;;;;ACHR,IAAM0B,sCAAe,2BAArB;;AAEA,IAAMG,wCAAgB,4BAAtB;AACA,IAAME,wCAAgB,4BAAtB;AACA,IAAMI,wCAAgB,4BAAtB;;AAEA,IAAMO,0CAAiB,6BAAvB;AACA,IAAMD,0CAAiB,6BAAvB;AACA,IAAME,0CAAiB,6BAAvB;;AAEA,IAAM9B,oDAAsB,6BAA5B;AACA,IAAME,oDAAsB,6BAA5B;AACA,IAAMQ,oDAAsB,6BAA5B;;AAEA,IAAMlC,8CAAmB,0BAAzB;AACA,IAAMU,8CAAmB,0BAAzB;AACA,IAAMG,8CAAmB,0BAAzB;;AAEA,IAAMK,4EAAkC,iCAAxC;AACA,IAAMC,4EAAkC,iCAAxC;AACA,IAAMC,4EAAkC,iCAAxC,C;;;;;;;;;;;;;;;;;ACpBP;;;;AACA;;IAAYnC,C;;;;;;AAEL,IAAMG,sCAAe;AAC1BmE,YAAU,KADgB;AAE1BC,aAAW,KAFe;AAG1BC,UAAQ,KAHkB;AAI1BvD,QAAMwD,SAJoB;AAK1BjB,eAAaiB,SALa;AAM1BC,SAAOD;AANmB,CAArB;;kBASQ,YAAuC;AAAA,MAAtChE,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAEoD,YAAP;AACE,0BAAY3C,KAAZ,IAAmB6D,UAAU,IAA7B,EAAmCC,WAAW,KAA9C,IAAwD7D,OAAOC,OAA/D;;AAEF,SAAKX,EAAEuD,aAAP;AACE,0BAAY9C,KAAZ,IAAmB8D,WAAW,IAA9B;AACF,SAAKvE,EAAEyD,aAAP;AACE,0BAAYhD,KAAZ,IAAmB8D,WAAW,KAA9B,EAAqCG,OAAOD,SAA5C,IAA0D/D,OAAOC,OAAjE;AACF,SAAKX,EAAE6D,aAAP;AACE,0BAAYpD,KAAZ,IAAmB8D,WAAW,KAA9B,EAAqCG,OAAOhE,OAAOC,OAAnD;;AAEF,SAAKX,EAAEmE,cAAP;AACE,aAAOhE,YAAP;;AAEF,SAAKH,EAAEuC,mBAAP;AACE,0BAAY9B,KAAZ,IAAmB+D,QAAQ,IAA3B;AACF,SAAKxE,EAAEyC,mBAAP;AACE,4BAAOkC,IAAP,CAAY,MAAZ,EAAoB;AAClBrB,cAAM;AACJE,uBAAa/C,MAAM+C,WADf;AAEJvC,gBAAMP,OAAOC;AAFT;AADY,OAApB;AAMA,0BAAYF,KAAZ,IAAmB+D,QAAQ,KAA3B,EAAkCvD,MAAMP,OAAOC,OAA/C;AACF,SAAKX,EAAEiD,mBAAP;AACE,0BAAYxC,KAAZ,IAAmB+D,QAAQ,KAA3B,EAAkCE,OAAOhE,OAAOC,OAAhD;;AAEF,SAAKX,EAAEiC,+BAAP;AACE,0BAAYxB,KAAZ,IAAmB+D,QAAQ,KAA3B;AACF,SAAKxE,EAAEkC,+BAAP;AACE,0BAAYzB,KAAZ,IAAmB+D,QAAQ,IAA3B,EAAiCvD,MAAMP,OAAOC,OAA9C;AACF,SAAKX,EAAEmC,+BAAP;AACE,0BAAY1B,KAAZ,IAAmB+D,QAAQ,KAA3B,EAAkCE,OAAOhE,OAAOC,OAAhD;;AAEF;AACE,0BAAYF,KAAZ;AAnCJ;AAqCD,C;;;;;;;;;;;;;;kBClDc,UAACA,KAAD;AAAA,SAAY;AACzB6D,cAAU;AAAA,aAAM7D,MAAM6C,IAAN,CAAWgB,QAAjB;AAAA,KADe;AAEzBhC,oBAAgB;AAAA,aAAM7B,MAAM6C,IAAN,CAAWE,WAAjB;AAAA,KAFS;AAGzBoB,aAAS;AAAA,aAAMnE,MAAM6C,IAAN,CAAWrC,IAAjB;AAAA,KAHgB;AAIzB4D,cAAU;AAAA,aAAMpE,MAAM6C,IAAN,CAAWoB,KAAjB;AAAA;AAJe,GAAZ;AAAA,C;;;;;;;;;;;;;ACAR,IAAMI,wBAAQ,iBAAd;;AAEA,IAAMC,wCAAgB,yBAAtB;;AAEA,IAAMC,kCAAa,sBAAnB;;AAEA,IAAMC,oBAAM,eAAZ;;AAEA,IAAMC,sBAAO,gBAAb;;AAEA,IAAMC,0BAAS,kBAAf;;AAEA,IAAMC,wBAAQ,iBAAd;;AAEA,IAAMC,0EAAiC,gCAAvC;AACA,IAAMC,0EAAiC,gCAAvC;AACA,IAAMC,0EAAiC,gCAAvC;;AAEA,IAAMC,oEAA8B,6BAApC;AACA,IAAMC,oEAA8B,6BAApC;AACA,IAAMC,oEAA8B,6BAApC;;AAEA,IAAMC,gEAA4B,2BAAlC;AACA,IAAMC,gEAA4B,2BAAlC;AACA,IAAMC,gEAA4B,2BAAlC;;AAEA,IAAMC,0EAAiC,gCAAvC;AACA,IAAMC,0EAAiC,gCAAvC;AACA,IAAMC,0EAAiC,gCAAvC;;AAEA,IAAMC,0DAAyB,wBAA/B;AACA,IAAMC,0DAAyB,wBAA/B;AACA,IAAMC,0DAAyB,wBAA/B;;AAEA,IAAMC,gEAA4B,2BAAlC;AACA,IAAMC,gEAA4B,2BAAlC;AACA,IAAMC,gEAA4B,2BAAlC;;AAEA,IAAMC,wEAAgC,+BAAtC;AACA,IAAMC,wEAAgC,+BAAtC;AACA,IAAMC,wEAAgC,+BAAtC;;AAEA,IAAMC,sDAAuB,sBAA7B;AACA,IAAMC,sDAAuB,sBAA7B;AACA,IAAMC,sDAAuB,sBAA7B;;AAEA,IAAMC,gDAAoB,mBAA1B,C;;;;;;;;;;;;;AC9CP,IAAMC,YAAY,YAAlB;;AAEO,IAAMC,sCAAe,SAAfA,YAAe;AAAA;AAAA,CAArB;AACA,IAAMC,4CAAkB,SAAlBA,eAAkB;AAAA,SAASF,SAAT;AAAA,CAAxB;AACA,IAAMG,wDAAwB,SAAxBA,qBAAwB;AAAA,SAAWH,SAAX,oBAAkCI,QAAQ,EAA1C;AAAA,CAA9B;AACA,IAAMC,oDAAsB,SAAtBA,mBAAsB;AAAA,SAAaL,SAAb,gBAAiCM,OAAOhF,EAAxC;AAAA,CAA5B;AACA,IAAMiF,wCAAgB,SAAhBA,aAAgB;AAAA,SAASP,SAAT;AAAA,CAAtB;AACA,IAAMQ,4CAAkB,SAAlBA,eAAkB;AAAA,SAASR,SAAT;AAAA,CAAxB;AACA,IAAMS,wCAAgB,SAAhBA,aAAgB;AAAA;AAAA,CAAtB;AACA,IAAMC,kDAAqB,SAArBA,kBAAqB;AAAA,SAASV,SAAT;AAAA,CAA3B;AACA,IAAMW,kDAAqB,SAArBA,kBAAqB;AAAA,SAASX,SAAT;AAAA,CAA3B;AACA,IAAMY,4CAAkB,SAAlBA,eAAkB;AAAA,SAASZ,SAAT;AAAA,CAAxB;AACA,IAAMa,4CAAkB,SAAlBA,eAAkB;AAAA,SAASb,SAAT;AAAA,CAAxB,C;;;;;;;;;;;;;;;;;ACTP;;;AAHA;;;;AACA;;IAAY9G,C;;AAGZ;;IAAY4H,K;;;;;;;;AAEL,IAAMzH,sCAAe;AAC1B0H,WAAS,KADiB;AAE1BvD,YAAU,KAFgB;AAG1BjD,QAAM,EAHoB;AAI1ByG,aAAWrD,SAJe;AAK1BC,SAAOD,SALmB;AAM1BsD,gBAAc;AANY,CAArB;;kBASQ,YAAuC;AAAA,MAAtCtH,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAE8E,KAAP;AACE,0BACKrE,KADL;AAEEoH,iBAAS;AAFX;AAIF,SAAK7H,EAAE+E,aAAP;AACE,0BACKtE,KADL;AAEEoH,iBAAS,KAFX;AAGEvD,kBAAU,IAHZ;AAIEjD,cAAMX,OAAOW;AAJf;AAMF,SAAKrB,EAAEgF,UAAP;AACE,0BACKvE,KADL;AAEEoH,iBAAS,KAFX;AAGEvD,kBAAU,KAHZ;AAIEI,eAAOhE,OAAOgE;AAJhB;AAMF,SAAK1E,EAAEiF,GAAP;AACE,0BACKxE,KADL;AAEEY,2CAAUZ,MAAMY,IAAhB,IAAsBX,OAAOsH,SAA7B;AAFF;AAIF,SAAKhI,EAAEkF,IAAP;AACE;AACA,4BAAYP,IAAZ,CAAiB,WAAjB,EAA8B;AAC5BqD,mBAAW;AACTC,gBAAM;AACJH,uBAAWpH,OAAOsH,SAAP,CAAiB5F,EADxB;AAEJf,kBAAM,CAACX,OAAOsH,SAAR;AAFF;AADG;AADiB,OAA9B;AAQA,0BACKvH,KADL;AAEEY,cAAMZ,MAAMY,IAAN,CAAW6G,GAAX,CACJ;AAAA,iBAAKC,EAAE/F,EAAF,KAAS1B,OAAOsH,SAAP,CAAiB5F,EAA1B,GAA+B1B,OAAOsH,SAAtC,GAAkDG,CAAvD;AAAA,SADI;AAFR;AAMF,SAAKnI,EAAEmF,MAAP;AACE,0BAAY1E,KAAZ,IAAmBqH,WAAWpH,OAAO0B,EAArC;AACF,SAAKpC,EAAEoF,KAAP;AACE,0BACK3E,KADL;AAEEqH,mBAAW;AAFb;AAIF,SAAKF,MAAMzD,cAAX;AACE;AACA,aAAOhE,YAAP;;AAEF,SAAKH,EAAE0G,oBAAP;AACE,0BAAYjG,KAAZ;AACF,SAAKT,EAAE2G,oBAAP;AACE,0BAAYlG,KAAZ;AACF,SAAKT,EAAE4G,oBAAP;AACE,0BAAYnG,KAAZ,IAAmBiE,OAAOhE,OAAOC,OAAjC;;AAEF,SAAKX,EAAE6G,iBAAP;AACE,0BAAYpG,KAAZ,IAAmBsH,cAAcrH,OAAOC,OAAxC;;AAEF;AACE,aAAOF,KAAP;AA/DJ;AAiED,C;;;;;;;;;;;;;;;;ACjFD;;IAAYT,C;;;;;;AAEZ,IAAMG,eAAe;AACnBmE,YAAU,KADS;AAEnB8D,YAAU,KAFS;AAGnB5D,UAAQ,KAHW;AAInBnD,QAAM,EAJa;AAKnBqD,SAAOD;AALY,CAArB;;kBAQe,YAAuC;AAAA,MAAtChE,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAEqF,8BAAP;AACE,0BAAW5E,KAAX;AACE2H,kBAAU;AADZ;AAGF,SAAKpI,EAAEsF,8BAAP;AACE,0BAAW7E,KAAX;AACE6D,kBAAU,IADZ;AAEE8D,kBAAU,KAFZ;AAGE/G,cAAMX,OAAOC;AAHf;AAKF,SAAKX,EAAEuF,8BAAP;AACE,0BAAW9E,KAAX;AACE2H,kBAAU,KADZ;AAEE1D,eAAOhE,OAAOC;AAFhB;AAIF,SAAKX,EAAEwF,2BAAP;AACA,SAAKxF,EAAE8F,8BAAP;AACA,SAAK9F,EAAEuG,6BAAP;AACE,0BAAW9F,KAAX;AACE+D,gBAAQ;AADV;AAGF,SAAKxE,EAAEyF,2BAAP;AACE,0BAAWhF,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,eAAOX,OAAOC,OAAd,4BAA0BF,MAAMY,IAAhC;AAFF;AAIF,SAAKrB,EAAEwG,6BAAP;AACE,0BAAW/F,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,cAAMZ,MAAMY,IAAN,CAAW6G,GAAX,CAAe;AAAA,iBAAKG,EAAEjG,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAAxB,GAA6B1B,OAAOC,OAApC,GAA8C0H,CAAnD;AAAA,SAAf;AAFR;AAIF,SAAKrI,EAAE+F,8BAAP;AACE,0BAAWtF,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,cAAMZ,MAAMY,IAAN,CAAWiH,MAAX,CAAkB;AAAA,iBAAKD,EAAEjG,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAA7B;AAAA,SAAlB;AAFR;AAIF,SAAKpC,EAAE0F,2BAAP;AACA,SAAK1F,EAAEgG,8BAAP;AACA,SAAKhG,EAAEyG,6BAAP;AACE,0BAAWhG,KAAX;AACE+D,gBAAQ,KADV;AAEEE,eAAOhE,OAAOC;AAFhB;AAIF,SAAKX,EAAEmF,MAAP;AACE;AACA,0BAAW1E,KAAX;AACE6D,kBAAU;AADZ;AAGF;AACE,aAAO7D,KAAP;AAlDJ;AAoDD,C;;;;;;;;;;;;;;;;AC/DD;;IAAYT,C;;;;;;AAEZ,IAAMG,eAAe;AACnBiI,YAAU,KADS;AAEnB5D,UAAQ,KAFW;AAGnBnD,QAAM,EAHa;AAInBqD,SAAOD;AAJY,CAArB;;kBAOe,YAAuC;AAAA,MAAtChE,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAE2F,yBAAP;AACE,0BAAWlF,KAAX;AACE2H,kBAAU;AADZ;AAGF,SAAKpI,EAAEiG,sBAAP;AACA,SAAKjG,EAAEoG,yBAAP;AACE,0BAAW3F,KAAX;AACE+D,gBAAQ;AADV;AAGF,SAAKxE,EAAE4F,yBAAP;AACE,0BAAWnF,KAAX;AACE2H,kBAAU,KADZ;AAEE/G,cAAMX,OAAOC;AAFf;AAIF,SAAKX,EAAEkG,sBAAP;AACE,0BAAWzF,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,2CAAUZ,MAAMY,IAAhB,IAAsBX,OAAOC,OAA7B;AAFF;AAIF,SAAKX,EAAEqG,yBAAP;AACE,0BAAW5F,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,cAAMZ,MAAMY,IAAN,CAAWiH,MAAX,CAAkB;AAAA,iBAAKD,EAAEjG,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAA7B;AAAA,SAAlB;AAFR;AAIF,SAAKpC,EAAE6F,yBAAP;AACE,0BAAWpF,KAAX;AACE2H,kBAAU,KADZ;AAEE1D,eAAOhE,OAAOC;AAFhB;AAIF,SAAKX,EAAEmG,sBAAP;AACA,SAAKnG,EAAEsG,yBAAP;AACE,0BAAW7F,KAAX;AACE+D,gBAAQ,KADV;AAEEE,eAAOhE,OAAOC;AAFhB;AAIF;AACE,aAAOF,KAAP;AArCJ;AAuCD,C;;;;;;;;;;;;;;ACjDD;;AAEA;;;;AACA;;;;AACA;;;;;;kBAEe,4BAAgB;AAC7BwH,6BAD6B;AAE7BM,0CAF6B;AAG7BC;AAH6B,CAAhB,C;;;;;;;;;;;;;;;;;;;4CCNNrF,O;;;;;;;;;6CACAA,O;;;;;;;;;;;;;;;;;;ACDT;;;;AACA;;;;;;AAEA,IAAMsF,UAAU,SAAVA,OAAU;AAAA,MAAGC,SAAH,QAAGA,SAAH;AAAA,MAAcC,eAAd,QAAcA,eAAd;AAAA,MAA+BC,WAA/B,QAA+BA,WAA/B;AAAA,MAA4CC,SAA5C,QAA4CA,SAA5C;AAAA,SACd;AAAA;AAAA;AACE,iBAAW,0BACT,EAAEC,UAAUJ,SAAZ,EAAuBK,OAAO,CAACL,SAA/B,EADS,EAET,kCAFS,EAGTG,SAHS,CADb;AAME,aAAO,EAAEF,gCAAF;AANT;AAQE;AAAA;AAAA,QAAK,WAAU,iCAAf;AACE;AACE,mBAAU,iEADZ;AAEE,eAAO,EAAEK,OAAOJ,WAAT;AAFT;AADF;AARF,GADc;AAAA,CAAhB;;AAkBAH,QAAQQ,YAAR,GAAuB;AACrBN,mBAAiB,oBADI;AAErBC,eAAa;AAFQ,CAAvB;;kBAKeH,O;;;;;;;;;;;;;;;;AC1Bf;;;;AACA;;;;AACA;;;;;;AAEA,IAAMS,WAAW,SAAXA,QAAW;AAAA,MAAGL,SAAH,QAAGA,SAAH;AAAA,MAAcM,KAAd,QAAcA,KAAd;AAAA,MAAqBC,OAArB,QAAqBA,OAArB;AAAA,SACf;AAAA;AAAA,MAAK,WAAW,0BAAW,gDAAX,CAAhB;AACE;AAAA;AAAA;AACE,mBAAWP,SADb;AAEE,4BAAYM,KAAZ,IAAmBE,OAAUD,OAAV,MAAnB,GAFF;AAGE;AAHF;AADF,GADe;AAAA,CAAjB;;AAUAF,SAASI,SAAT,GAAqB;AACnBF,WAAS,oBAAUG,MAAV,CAAiBC,UADP;AAEnBX,aAAW,oBAAUY,MAFF;AAGnBN,SAAO,oBAAUO;AAHE,CAArB;;kBAMeR,Q;;;;;;;;;;;;;ACpBf,IAAMlJ,IAAI,SAAJA,CAAI;AAAA,+BAA4BC,IAA5B;AAAA,CAAV;;AAEO,IAAM0J,oCAAc3J,EAAE,aAAF,CAApB,C;;;;;;;;;;;;;;;;;ACFP;;IAAYA,C;;;;AAEL,IAAMG,sCAAe;AAC1B0H,WAAS;AADiB,CAArB;;kBAIQ,YAAuC;AAAA,MAAtCpH,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAE2J,WAAP;AACE,0BAAYlJ,KAAZ,IAAmBoH,SAASnH,OAAOC,OAAnC;;AAEF;AACE,aAAOF,KAAP;AALJ;AAOD,C;;;;;;;;;;;;;ACdD;AACA;AACA;AACO,IAAMmJ,kDAAqB,oBAA3B;;AAEP;AACA;AACA;AACO,IAAMC,8CAAmB,SAAnBA,gBAAmB;AAAA,SAAU,EAAE5J,MAAM2J,kBAAR,EAA4BZ,YAA5B,EAAV;AAAA,CAAzB,C;;;;;;;;;;;;;;;ACRP;;;;AACA;;;;AACA;;AACA;;AACA;;;;AAEA;;;;AACA;;IAAYc,kB;;;;;;AAEL,IAAMC,oCAAc,SAAdA,WAAc,OAOrB;AAAA,MANJlB,SAMI,QANJA,SAMI;AAAA,MALJmB,KAKI,QALJA,KAKI;AAAA,MAJJC,eAII,QAJJA,eAII;AAAA,MAHJC,aAGI,QAHJA,aAGI;AAAA,MAFJC,aAEI,QAFJA,aAEI;AAAA,MADJnB,KACI,QADJA,KACI;;AACJ,MAAMoB,WAAWJ,SAAS,iBAAOA,KAAP,CAA1B;AACA,MAAMK,gBAAgBF,kBAAkBC,WAAW,iBAAOJ,KAAP,EAAc,CAAd,CAAX,GAA8B,MAAhD,CAAtB;;AAEA,SAAO,CAACC,eAAD,GAAmB,IAAnB,GACL;AAAA;AAAA,MAAK,WAAW,0BAAW,wBAAX,EAAqCpB,SAArC,CAAhB;AACE;AACE,aAAOG,SAASqB,aADlB;AAEE,wBAAkBH,aAFpB;AAGE,oBAAcE,WAAW,iBAAOJ,KAAP,CAAX,GAA2B;AAH3C;AADF,GADF;AASD,CApBM;;AAsBPD,YAAYT,SAAZ,GAAwB;AACtBW,mBAAiB,oBAAUK,IAAV,CAAed,UADV;AAEtBU,iBAAe,oBAAUK,IAFH;AAGtB1B,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB,CAHW;AAItBT,SAAO,oBAAUP,MAJK;AAKtBT,SAAO,oBAAUwB,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUC,MAA7B,CAApB;AALe,CAAxB;;AAQAK,YAAYd,YAAZ,GAA2B;AACzBgB,mBAAiB;AADQ,CAA3B;;AAIA,IAAMS,kBAAkB,SAAlBA,eAAkB;AAAA,SAAU;AAChCP,mBAAe1J,MAAMkK,WAAN,CAAkB3B,KAAlB,IAA2B;AADV,GAAV;AAAA,CAAxB;;kBAIe,yBAAQ0B,eAAR,EAAyBZ,kBAAzB,EAA6CC,WAA7C,C;;;;;;;;;;;;;;;;AC/Cf;;AAIA,IAAM5J,eAAe;AACnB0H,WAAS,KADU;AAEnB+C,UAAQ,KAFW;AAGnB5B,SAAOvE;AAHY,CAArB;;AAMA,IAAMoG,qBAAqB,SAArBA,kBAAqB,GAAuC;AAAA,MAAtCpK,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AAChE,UAAQA,OAAOT,IAAf;AACE;AACE,0BACKQ,KADL;AAEEuI,eAAOtI,OAAOsI;AAFhB;AAIF;AACE,aAAOvI,KAAP;AAPJ;AASD,CAVD;;kBAYeoK,kB;;;;;;;;;;;;;kBCtBA;AACbC,UAAQ,CACN,SADM,EAEN,SAFM,EAGN,SAHM,EAIN,SAJM,EAKN,SALM,EAMN,SANM,EAON,SAPM,CADK;AAUbC,aAAW,CACT,SADS,EAET,SAFS,EAGT,SAHS,CAVE;AAebC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,CAfF;AAoBbC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,CApBF;AAyBbC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,CAzBF;AA8BbC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,CA9BF;AAmCbC,kBAAgB,CACd,SADc,EAEd,SAFc,EAGd,SAHc,CAnCH;AAwCbC,oBAAkB,CAChB,SADgB,EAEhB,SAFgB,EAGhB,SAHgB,CAxCL;AA6CbC,cAAY,CACV,SADU,EAEV,SAFU,EAGV,SAHU,EAIV,SAJU,EAKV,SALU,EAMV,SANU,EAOV,SAPU,EAQV,SARU,CA7CC;AAuDbC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,EAIb,SAJa,EAKb,SALa,EAMb,SANa,EAOb,SAPa,EAQb,SARa,EASb,SATa,EAUb,SAVa,EAWb,SAXa,EAYb,SAZa,EAab,SAba,EAcb,SAda,EAeb,SAfa,EAgBb,SAhBa,EAiBb,SAjBa,EAkBb,SAlBa,EAmBb,SAnBa,EAoBb,SApBa,EAqBb,SArBa,EAsBb,SAtBa,EAuBb,SAvBa,EAwBb,SAxBa,EAyBb,SAzBa,EA0Bb,SA1Ba,EA2Bb,SA3Ba,EA4Bb,SA5Ba,EA6Bb,SA7Ba,EA8Bb,SA9Ba,EA+Bb,SA/Ba,EAgCb,SAhCa,EAiCb,SAjCa,EAkCb,SAlCa,EAmCb,SAnCa,EAoCb,SApCa,EAqCb,SArCa,EAsCb,SAtCa,EAuCb,SAvCa,EAwCb,SAxCa,CAvDF;AAiGbC,oBAAkB,CAChB,SADgB,EAEhB,SAFgB,EAGhB,SAHgB,EAIhB,SAJgB,EAKhB,SALgB,EAMhB,SANgB,EAOhB,SAPgB,EAQhB,SARgB,EAShB,SATgB,EAUhB,SAVgB,EAWhB,SAXgB,EAYhB,SAZgB,EAahB,SAbgB,EAchB,SAdgB,EAehB,SAfgB,EAgBhB,SAhBgB,EAiBhB,SAjBgB,EAkBhB,SAlBgB,EAmBhB,SAnBgB,EAoBhB,SApBgB,EAqBhB,SArBgB,EAsBhB,SAtBgB,EAuBhB,SAvBgB,EAwBhB,SAxBgB,EAyBhB,SAzBgB,EA0BhB,SA1BgB,EA2BhB,SA3BgB,EA4BhB,SA5BgB,EA6BhB,SA7BgB,EA8BhB,SA9BgB,EA+BhB,SA/BgB,EAgChB,SAhCgB,EAiChB,SAjCgB,EAkChB,SAlCgB,EAmChB,SAnCgB,EAoChB,SApCgB,EAqChB,SArCgB,EAsChB,SAtCgB,EAuChB,SAvCgB,EAwChB,SAxCgB,CAjGL;AA2IbC,aAAW,CACT,SADS,EAET,SAFS,EAGT,SAHS,EAIT,SAJS,EAKT,SALS,EAMT,SANS,EAOT,SAPS,EAQT,SARS,EAST,SATS,EAUT,SAVS,EAWT,SAXS,EAYT,SAZS,EAaT,SAbS,EAcT,SAdS,EAeT,SAfS,EAgBT,SAhBS,EAiBT,SAjBS,EAkBT,SAlBS,EAmBT,SAnBS,EAoBT,SApBS,EAqBT,SArBS,EAsBT,SAtBS,EAuBT,SAvBS,EAwBT,SAxBS,EAyBT,SAzBS,EA0BT,SA1BS,EA2BT,SA3BS,EA4BT,SA5BS,EA6BT,SA7BS,EA8BT,SA9BS,EA+BT,SA/BS,EAgCT,SAhCS,EAiCT,SAjCS,EAkCT,SAlCS,EAmCT,SAnCS,EAoCT,SApCS,EAqCT,SArCS,EAsCT,SAtCS,EAuCT,SAvCS,EAwCT,SAxCS;AA3IE,C;;;;;;;;;;;;;;ACAf;;;;AAGA;;AAGA;;;;AACA;;;;;;AAEA;;;AAJA;AAKA,IAAMC,WAAW;AACf;AACA;AACA;AACA;AACA;AAAA;AAAA,IAAa,qBAAoB,QAAjC;AACE,uBAAkB,QADpB;AAEE,sBAAkB,KAFpB;AAGE,qEAAY,OAAM,UAAlB;AAHF,CALe,CAAjB;;AARA;kBAoBeA,Q;;;;;;;;;;;;;;ACtBf;;;;AACA;;;;AACA;;;;;;AAEA,IAAMC,mBAAmB,SAAnBA,gBAAmB,QAAS;AAChC,MAAMC,cAAc,SAAdA,WAAc,QAAS;AAC3B,KAACC,MAAMC,OAAN,IAAiBD,MAAME,QAAxB,KAAqCC,KAArC,IAA8CA,MAAMC,cAAN,EAA9C;AACA,QAAI,CAACJ,MAAME,QAAX,EAAqB;AACnBF,YAAMK,WAAN,IAAqBL,MAAMK,WAAN,EAArB;AACAL,YAAMC,OAAN,IAAiBD,MAAMC,OAAN,EAAjB;AACD;AACF,GAND;;AADgC,MASxBjD,SATwB,GASgBgD,KAThB,CASxBhD,SATwB;AAAA,MASbkD,QATa,GASgBF,KAThB,CASbE,QATa;AAAA,MASHI,IATG,GASgBN,KAThB,CASHM,IATG;AAAA,MASGC,QATH,GASgBP,KAThB,CASGO,QATH;;;AAWhC,SACE;AAAA;AAAA;AACE,iBAAW,0BAAWvD,SAAX,EAAuBkD,WAAW,OAAX,GAAqB,EAA5C,CADb;AAEE,gBAAUA,QAFZ;AAGE,eAASH,WAHX;AAIE,YAAMO,IAJR;AAKGC;AALH,GADF;AASD,CApBD;;AAsBAT,iBAAiBrC,SAAjB,GAA6B;AAC3B6C,QAAM,oBAAU1C,MADW;AAE3B2C,YAAU,oBAAU1C,MAFO;AAG3BoC,WAAS,oBAAUvB,IAHQ;AAI3B2B,eAAa,oBAAU3B,IAJI;AAK3BwB,YAAU,oBAAUzB,IALO;AAM3BzB,aAAW,oBAAUY;AANM,CAA7B;;kBASekC,gB;;;;;;;;;;;;;;;;;;ACnCf;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMU,Y;;;AACJ,wBAAaR,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,4HACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa,EAAE8L,MAAM,KAAR,EAAb;AAF2B;AAG5B;;;;kCAEc;AACb,WAAKC,QAAL,CAAc,EAAED,MAAM,CAAC,KAAK9L,KAAL,CAAW8L,IAApB,EAAd;AACD;;;yCAEqB;AACpB,WAAKC,QAAL,CAAc,EAAED,MAAM,KAAR,EAAd;AACD;;;iCAEa;AACZ,aAAO,CAAC,KAAKV,KAAL,CAAWY,IAAZ,GAAmB,IAAnB,GACL,qCAAG,KAAI,MAAP,EAAc,WAAW,0BAAW,SAAX,UAA4B,KAAKZ,KAAL,CAAWY,IAAvC,CAAzB,GADF;AAGD;;;oCAEgB;AACf,aAAO,CAAC,KAAKhM,KAAL,CAAW8L,IAAZ,GAAmB,IAAnB,GACL;AACE,mBAAU,gDADZ;AAEE,iBAAW,KAAKG,kBAAhB,MAAW,IAAX;AAFF,QADF;AAMD;;;qCAEiB;AAAA;;AAChB,aAAO,KAAKb,KAAL,CAAWO,QAAX,CAAoBlE,GAApB,CAAwB,UAACyE,KAAD,EAAQC,KAAR,EAAkB;AAC/C,YAAMf,QAAQc,MAAM1M,IAAN,KAAe,KAAf,GAAuB,EAAEiM,aAAe,OAAKQ,kBAApB,aAAF,EAAvB,GAAoE,EAAlF;AACA,eAAO,gBAAMG,YAAN,CAAmBF,KAAnB;AACLG,eAAK,UAAUF;AADV,WAEFf,KAFE,EAAP;AAID,OANM,CAAP;AAOD;;;6BAES;AAAA,mBAQJ,KAAKA,KARD;AAAA,UAENkB,gBAFM,UAENA,gBAFM;AAAA,UAGNC,eAHM,UAGNA,eAHM;AAAA,UAINC,aAJM,UAINA,aAJM;AAAA,UAKNC,SALM,UAKNA,SALM;AAAA,UAMNC,IANM,UAMNA,IANM;AAAA,UAONf,QAPM,UAONA,QAPM;;;AAUR,aACE;AAAA;AAAA,UAAK,OAAO,EAAEgB,WAAW,KAAb,EAAZ,EAAkC,WAAW,0BAAW,UAAX,EAAuBL,gBAAvB,CAA7C;AACE;AAAA;AAAA,YAAQ,KAAI,QAAZ,EAAqB,WAAWC,eAAhC,EAAiD,SAAW,KAAKpB,WAAhB,MAAW,IAAX,CAAjD;AACG,eAAKyB,UAAL,EADH;AAAA;AACuBF;AADvB,SADF;AAIE;AAAA;AAAA;AACE,uBAAW,0BACT,oBADS,EAETF,aAFS,EAGR,KAAKxM,KAAL,CAAW8L,IAAX,GAAkB,EAAlB,GAAuB,cAHf,CADb;AAME,mBAAOW;AANT;AAQGd,mBAASkB,MAAT,GAAkB,CAAlB,IAAuB,KAAKC,cAAL;AAR1B,SAJF;AAcG,aAAKC,aAAL;AAdH,OADF;AAkBD;;;;EAnEwB,gBAAMC,S;;AAsEjCpB,aAAa/C,SAAb,GAAyB;AACvBT,aAAW,oBAAUY,MADE;AAEvBwD,iBAAe,oBAAUxD,MAFF;AAGvByD,aAAW,oBAAUxD,MAHE;AAIvBqD,oBAAkB,oBAAUtD,MAJL;AAKvBuD,mBAAiB,oBAAUvD,MALJ;AAMvB0D,QAAM,oBAAU1D,MANO;AAOvB2C,YAAU,oBAAU3B,KAPG;AAQvBgC,QAAM,oBAAUhD;AARO,CAAzB;;kBAWe4C,Y;;;;;;;;;;;;;;;;;;;iDCrFNlJ,O;;;;;;;;;qDACAA,O;;;;;;;;;;;;;;;;;;kBCDM,iBAAS;AACtB,MAAIgG,QAAQ,MAAZ;AACAuE,QAAMC,eAAN,CAAsB,aAAK;AACzB,QAAIC,EAAEC,QAAF,CAAW,QAAX,CAAJ,EAA0B1E,QAAQ,QAAR;AAC1B,QAAIyE,EAAEC,QAAF,CAAW,OAAX,CAAJ,EAAyB1E,QAAQ,OAAR;AAC1B,GAHD;AAIA,SAAOA,KAAP;AACD,C;;;;;;;;;;;;;;;;;ACPD;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA,IAAM2E,aAAa,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,CAAnB;;IAEqBC,iB;;;;;;;;;;;sCACAC,S,EAAW;AAAA,mBACY,KAAKnC,KADjB;AAAA,UACpBoC,WADoB,UACpBA,WADoB;AAAA,UACPC,cADO,UACPA,cADO;;AAE5B,UAAMC,2BAA2B,gDAC/BF,WAD+B,EAE/BD,SAF+B,EAG/BF,WAAWxF,MAAX,CAAkB;AAAA,eAAS0F,cAAcI,KAAvB;AAAA,OAAlB,CAH+B,CAAjC;AAKAF,qBAAeC,wBAAf;;AAEA,WAAKtC,KAAL,CAAWwC,WAAX;AACD;;;sCAEkBL,S,EAAW;AAAA,UACpBC,WADoB,GACJ,KAAKpC,KADD,CACpBoC,WADoB;;AAE5B,UAAMK,iBAAiBL,YAAYM,YAAZ,EAAvB;;AAEA,UAAMb,QAAQO,YAAYO,iBAAZ,GAAgCC,cAAhC,CAA+CH,eAAeI,WAAf,EAA/C,CAAd;;AAEA,UAAIC,iBAAiB,MAArB;AACAjB,YAAMC,eAAN,CAAsB,aAAK;AACzB,YAAIC,EAAEC,QAAF,CAAW,QAAX,CAAJ,EAA0Bc,iBAAiB,QAAjB;AAC1B,YAAIf,EAAEC,QAAF,CAAW,OAAX,CAAJ,EAAyBc,iBAAiB,OAAjB;AAC1B,OAHD;;AAKA,aAAOA,mBAAmBX,SAAnB,GAA+B,QAA/B,GAA0C,IAAjD;AACD;;;6BAES;AAAA;;AAAA,UACAhB,eADA,GACoB,KAAKnB,KADzB,CACAmB,eADA;;;AAGR,aACE;AAAA;AAAA,UAAK,WAAU,mBAAf;AACE;AAAA;AAAA;AACE,uBAAW,0BAAWA,eAAX,EAA4B,KAAK4B,iBAAL,CAAuB,MAAvB,CAA5B,CADb;AAEE,qBAAS;AAAA,qBAAM,OAAKC,iBAAL,CAAuB,MAAvB,CAAN;AAAA;AAFX;AAIE,+CAAG,WAAU,kBAAb;AAJF,SADF;AAOE;AAAA;AAAA;AACE,uBAAW,0BAAW7B,eAAX,EAA4B,KAAK4B,iBAAL,CAAuB,QAAvB,CAA5B,CADb;AAEE,qBAAS;AAAA,qBAAM,OAAKC,iBAAL,CAAuB,QAAvB,CAAN;AAAA;AAFX;AAIE,+CAAG,WAAU,oBAAb;AAJF,SAPF;AAaE;AAAA;AAAA;AACE,uBAAW,0BAAW7B,eAAX,EAA4B,KAAK4B,iBAAL,CAAuB,OAAvB,CAA5B,CADb;AAEE,qBAAS;AAAA,qBAAM,OAAKC,iBAAL,CAAuB,OAAvB,CAAN;AAAA;AAFX;AAIE,+CAAG,WAAU,mBAAb;AAJF;AAbF,OADF;AAsBD;;;;;;kBArDkBd,iB;;;AAwDrBA,kBAAkBzE,SAAlB,GAA8B;AAC5B2E,eAAa,oBAAUvE,MAAV,CAAiBF,UADF;AAE5B0E,kBAAgB,oBAAU3D,IAAV,CAAef,UAFH;AAG5B6E,eAAa,oBAAU9D,IAAV,CAAef,UAHA;AAI5BwD,mBAAiB,oBAAUvD;AAJC,CAA9B,C;;;;;;;;;;;;;;AC/DA;;AAEA;AACA;AACA;AACA;AACA;;kBAEe,UAACwE,WAAD,EAAc9E,KAAd,EAA2C;AAAA,MAAtB2F,YAAsB,uEAAP,EAAO;;AACxD,MAAIC,iBAAiBd,YAAYO,iBAAZ,EAArB;AACA,MAAIQ,YAAYf,YAAYM,YAAZ,EAAhB;AACA,MAAIU,aAAaF,eAAeN,cAAf,CAA8BO,UAAUE,WAAV,EAA9B,CAAjB;AACA,MAAIC,cAAcJ,eAAeN,cAAf,CAA8BO,UAAUI,YAAV,EAA9B,CAAlB;AACA,MAAIC,sBAAsBL,UAAUM,aAAV,EAA1B;;AAEA,MAAIC,UAAU;AACZC,kBAAc,CADF;AAEZC,iBAAaR,WAAWS,SAAX;AAFD,GAAd;;AAKA,MAAIL,mBAAJ,EAAyB;AACvBE,cAAU;AACRE,mBAAa,CADL;AAERD,oBAAcL,YAAYO,SAAZ;AAFN,KAAV;AAID;AACD,MAAIC,oBAAoBX,UAAUY,KAAV,CAAgBL,OAAhB,CAAxB;AACA,MAAIM,kBAAkB,kBAASC,gBAAT,CAA0Bf,cAA1B,EAA0CY,iBAA1C,EAA6DxG,KAA7D,CAAtB;AACA,MAAI4G,eAAejB,aAAakB,MAAb,CAAoB,UAAUC,OAAV,EAAmB9G,KAAnB,EAA0B;AAC/D,WAAO,kBAAS+G,iBAAT,CAA2BD,OAA3B,EAAoCN,iBAApC,EAAuDxG,KAAvD,CAAP;AACD,GAFkB,EAEhB0G,eAFgB,CAAnB;AAGA,SAAO,qBAAYM,IAAZ,CAAiBlC,WAAjB,EAA8B8B,YAA9B,EAA4C,qBAA5C,CAAP;AACD,C;;;;;;;;;;;;;;;;AChCD;;;;AACA;;;;AACA;;AAEA;;;;;;;;;;;;IAEMK,iB;;;AACJ,6BAAavE,KAAb,EAAoB;AAAA;;AAAA,sIACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa,EAAEwJ,iBAAiB,KAAnB,EAAb;AAFkB;AAGnB;;;;8CAE0BoG,S,EAAW;AAAA,UAC5BrH,KAD4B,GAClBqH,SADkB,CAC5BrH,KAD4B;;AAEpC,UAAI,KAAK6C,KAAL,CAAW7C,KAAX,KAAqBA,KAAzB,EAAgC;AAC9B,aAAKwD,QAAL,CAAc,EAAExD,YAAF,EAAd;AACD;AACF;;;sCAEkB4E,C,EAAG;AACpB,WAAKpB,QAAL,CAAc,EAAEvC,iBAAiB,CAAC,KAAKxJ,KAAL,CAAWwJ,eAA/B,EAAd;AACD;;;iCAEajB,K,EAAO;AAAA,UACXkB,aADW,GACO,KAAK2B,KADZ,CACX3B,aADW;;AAEnB,WAAKsC,QAAL,CAAc,EAAExD,OAAOA,MAAMsH,GAAf,EAAd;AACApG,oBAAc,KAAKzJ,KAAL,CAAWuI,KAAzB;AACD;;;sCAEkBA,K,EAAO;AACxB,WAAKwD,QAAL,CAAc,EAAEvC,iBAAiB,KAAnB,EAAd;AACA,WAAK4B,KAAL,CAAWwC,WAAX;AACD;;;6BAES;AAAA,mBAC2B,KAAK5N,KADhC;AAAA,UACAwJ,eADA,UACAA,eADA;AAAA,UACiBjB,KADjB,UACiBA,KADjB;AAAA,mBAEqB,KAAK6C,KAF1B;AAAA,UAEAhD,SAFA,UAEAA,SAFA;AAAA,UAEWmB,KAFX,UAEWA,KAFX;;;AAIR,UAAMuG,eAAevG,QAAQ,iBAAOA,KAAP,CAAR,GAAwB,EAA7C;;AAEA,UAAMwG,mBAAmB;AACvBxH,oBADuB;AAEvBuH,kCAFuB;AAGvBE,0BAAkB,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB;AAHK,OAAzB;;AAMA,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAQ,MAAK,QAAb,EAAsB,WAAW9H,SAAjC,EAA4C,SAAS,KAAK+H,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAArD;AACE,+CAAG,WAAU,kBAAb;AADF,SADF;AAII1G,0BACA;AAAA;AAAA,YAAK,WAAU,iBAAf;AACE,kEAAkBuG,gBAAlB,CADF;AAEE;AAAA;AAAA;AACE,yBAAU,6CADZ;AAEE,uBAAS,KAAKK,iBAAL,CAAuBF,IAAvB,CAA4B,IAA5B;AAFX;AAAA;AAAA;AAFF,SADA,GAUE;AAdN,OADF;AAkBD;;;;;;AAGHP,kBAAkB9G,SAAlB,GAA8B;AAC5BN,SAAO,oBAAUS,MADW;AAE5BqH,iBAAe,oBAAUvG,IAAV,CAAef,UAFF;AAG5BU,iBAAe,oBAAUK,IAAV,CAAef,UAHF;AAI5B6E,eAAa,oBAAU9D,IAAV,CAAef,UAJA;AAK5BX,aAAW,oBAAUY,MALO;AAM5BO,SAAO,oBAAUP;AANW,CAA9B;;kBASe2G,iB;;;;;;;;;;;;;;;;;AC5Ef;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;IAEqBW,a;;;AACnB,yBAAalF,KAAb,EAAoB;AAAA;;AAAA,8HACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa,EAAEuI,OAAO,IAAT,EAAb;AAFkB;AAGnB;;;;8CAE0BqH,S,EAAW;AAAA,UAC5BpC,WAD4B,GACZoC,SADY,CAC5BpC,WAD4B;;AAEpC,UAAIA,gBAAgB,KAAKpC,KAAL,CAAWoC,WAA/B,EAA4C;AAC1C,YAAM+C,eAAe/C,YAAYgD,qBAAZ,EAArB;AACA,YAAMjI,QAAQgI,aAAa1I,MAAb,CAAoB;AAAA,iBAAS4I,MAAMC,UAAN,CAAiB,OAAjB,CAAT;AAAA,SAApB,EAAwDC,IAAxD,EAAd;AACA,YAAIpI,KAAJ,EAAW;AACT,eAAKwD,QAAL,CAAc;AACZxD,mBAAOA,MACJqI,OADI,CACI,QADJ,EAEJA,OAFI,CAEI,GAFJ,EAES,EAFT,EAGJC,IAHI;AADK,WAAd;AAMD;AACF;AACF;;;kCAEctI,K,EAAO;AAAA,mBACoB,KAAK6C,KADzB;AAAA,UACZoC,WADY,UACZA,WADY;AAAA,UACCC,cADD,UACCA,cADD;;;AAGpB,UAAMqD,kBAAkBtD,YAAYM,YAAZ,EAAxB;AACA,UAAI,CAACgD,gBAAgBC,WAAhB,EAAL,EAAoC;AAClC,YAAMC,uBAAuB,sBAAYC,iBAAZ,CAC3BzD,WAD2B,mBAEZjF,MAAM2I,CAFM,SAED3I,MAAM4I,CAFL,SAEU5I,MAAM6I,CAFhB,SAEqB7I,MAAM8I,CAF3B,QAA7B;AAIA5D,uBAAeuD,oBAAf;AACD;AACF;;;oCAEgB;AAAA,UACPxD,WADO,GACS,KAAKpC,KADd,CACPoC,WADO;;AAEf,UAAMJ,WAAWI,YAAYgD,qBAAZ,GAAoC3I,MAApC,CAA2C;AAAA,eAASa,MAAMgI,UAAN,CAAiB,OAAjB,CAAT;AAAA,OAA3C,CAAjB;AACA,aAAOtD,SAASkE,IAAT,GAAgB,CAAhB,GAAoB,QAApB,GAA+B,IAAtC;AACD;;;6BAES;AAAA,oBAC2B,KAAKlG,KADhC;AAAA,UACAmB,eADA,WACAA,eADA;AAAA,UACiBhD,KADjB,WACiBA,KADjB;;;AAGR,aACE;AAAA;AAAA,UAAK,WAAU,eAAf;AACE;AACE,iBAAOA,KADT;AAEE,qBAAW,0BAAWgD,eAAX,EAA4B,KAAKgF,aAAL,EAA5B,CAFb;AAGE,iBAAO,KAAKvR,KAAL,CAAWuI,KAHpB;AAIE,yBAAe,yBAAM,CAAE,CAJzB;AAKE,yBAAe,KAAKkB,aAAL,CAAmByG,IAAnB,CAAwB,IAAxB,CALjB;AAME,uBAAa,KAAK9E,KAAL,CAAWwC;AAN1B;AADF,OADF;AAYD;;;;;;kBAxDkB0C,a;;;AA2DrBA,cAAczH,SAAd,GAA0B;AACxB2E,eAAa,oBAAUvE,MAAV,CAAiBF,UADN;AAExB0E,kBAAgB,oBAAU3D,IAAV,CAAef,UAFP;AAGxB6E,eAAa,oBAAU9D,IAAV,CAAef,UAHJ;AAIxBwD,mBAAiB,oBAAUvD,MAJH;AAKxBO,SAAO,oBAAUP;AALO,CAA1B;;AAQO,IAAMwI,wCAAgB,SAAhBA,aAAgB,CAAC9I,KAAD,EAAW;AACtC,MAAM+I,SAAS,EAAf;AACA,MAAMlJ,QAAQG,MAAMb,MAAN,CAAa;AAAA,WAAS4I,MAAMC,UAAN,CAAiB,OAAjB,CAAT;AAAA,GAAb,EAAiDC,IAAjD,EAAd;AACA,MAAIpI,KAAJ,EAAW;AACTkJ,WAAOlJ,KAAP,GAAeA,MACZqI,OADY,CACJ,QADI,EACM,EADN,EAEZA,OAFY,CAEJ,GAFI,EAEC,EAFD,EAGZC,IAHY,EAAf;AAID;AACD,SAAOY,MAAP;AACD,CAVM,C;;;;;;;;;;;;;;;AC1EP;;AAEA;;;;;;AAEO,IAAMC,4DAA0B,SAA1BA,uBAA0B,CAAClE,WAAD,EAAcK,cAAd,EAA8B8D,UAA9B,EAA6C;AAClF;AACA,MAAMrD,iBAAiBd,YAAYO,iBAAZ,EAAvB;AACA,MAAM6D,YAAY/D,eAAegE,YAAf,EAAlB;;AAEA,MAAM5E,QAAQqB,eAAeN,cAAf,CAA8BH,eAAeI,WAAf,EAA9B,CAAd;;AAEA,MAAI6D,6BAAJ;;AAEA7E,QAAM8E,gBAAN,CAAuB,qBAAa;AAClC,QAAMC,YAAYC,UAAUC,SAAV,EAAlB;AACA,WAAOF,aAAa,gBAAOG,GAAP,CAAWH,SAAX,EAAsBI,OAAtB,OAAoCT,UAAxD;AACD,GAHD,EAGG,UAACU,KAAD,EAAQC,GAAR,EAAgB;AACjB,QAAMC,aAAaD,OAAOV,SAAP,IAAoBS,SAAST,SAAhD;;AAEA,QAAIW,UAAJ,EAAgB;AACdT,6BAAuBjE,eAAesB,KAAf,CAAqB;AAC1CJ,sBAAcsD,KAD4B;AAE1CrD,qBAAasD;AAF6B,OAArB,CAAvB;AAID;AACF,GAZD;;AAcA,SAAOR,oBAAP;AACD,CAxBM;;AA0BP;;;AAGO,IAAMU,gDAAoB,SAApBA,iBAAoB,CAACC,YAAD,EAAe5E,cAAf,EAAkC;AACjE,MAAM6E,YAAY7E,eAAeI,WAAf,EAAlB;AACA,MAAM0E,WAAW9E,eAAe+E,SAAf,EAAjB;;AAEA,MAAMC,cAAcH,cAAcC,QAAlC;AACA,MAAMG,gBAAgBL,aAAazE,cAAb,CAA4B0E,SAA5B,CAAtB;;AAEA,MAAI,CAACI,aAAL,EAAoB;AAClB,WAAO,EAAP;AACD;;AAED,MAAIC,iBAAiB,CAACD,aAAD,CAArB;;AAEA,MAAI,CAACD,WAAL,EAAkB;AAChB,QAAIG,WAAWN,SAAf;;AAEA,WAAOM,aAAaL,QAApB,EAA8B;AAC5B,UAAMM,YAAYR,aAAaS,aAAb,CAA2BF,QAA3B,CAAlB;AACA,UAAI,CAACC,SAAL,EAAgB;AACdF,yBAAiB,EAAjB;AACA;AACD;AACDA,qBAAerD,IAAf,CAAoBuD,SAApB;AACAD,iBAAWC,UAAUE,MAAV,EAAX;AACD;AACF;;AAED,SAAOJ,cAAP;AACD,CA5BM;;AA8BP,IAAMK,yBAAyB,SAAzBA,sBAAyB,CAACC,YAAD,EAAexF,cAAf,EAAkC;AAC/D,MAAM6E,YAAY7E,eAAeI,WAAf,EAAlB;AACA,MAAM0E,WAAW9E,eAAe+E,SAAf,EAAjB;;AAEA;AACA,MAAMI,WAAWK,aAAaF,MAAb,EAAjB;AACA,MAAMG,cAAcN,aAAaN,SAAb,GAAyB7E,eAAe0F,cAAf,EAAzB,GAA2D,CAA/E;AACA,MAAM3B,YAAYoB,aAAaL,QAAb,GAAwB9E,eAAegE,YAAf,EAAxB,GAAwDwB,aAAaG,OAAb,GAAuB3G,MAAjG;;AAEA,SAAO,wBAAe4G,WAAf,CAA2BT,QAA3B,EAAqC7D,KAArC,CAA2C;AAChDJ,kBAAcuE,WADkC;AAEhDtE,iBAAa4C;AAFmC,GAA3C,CAAP;AAID,CAbD;;AAeA;;;;;kBAKe;;AAEbX,qBAAmB,2BAACzD,WAAD,EAAckG,WAAd,EAA8B;AAC/C,QAAIA,YAAYC,OAAZ,CAAoB,GAApB,IAA2B,CAA/B,EAAkC;AAAG;AACnC,UAAIC,sBAAsBpG,YAAYO,iBAAZ,EAA1B;;AAEA,UAAM8F,SAASH,YAAYI,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAf;AACA,UAAMC,SAASvG,YAAYgD,qBAAZ,GAAoC3I,MAApC,CAA2C;AAAA,eAASa,MAAMgI,UAAN,CAAiBmD,MAAjB,CAAT;AAAA,OAA3C,CAAf;AACA,UAAIE,OAAOzC,IAAP,GAAc,CAAlB,EAAqB;AACnByC,eAAOC,OAAP,CAAe,iBAAS;AACtBJ,gCAAsB,kBAASnE,iBAAT,CACpBmE,mBADoB,EAEpBpG,YAAYM,YAAZ,EAFoB,EAGpBpF,KAHoB,CAAtB;AAKD,SAND;AAOA,eAAO,mBAAUuI,iBAAV;AACL;AACA,6BAAYvB,IAAZ,CAAiBlC,WAAjB,EAA8BoG,mBAA9B,EAAmD,qBAAnD,CAFK,EAGLF,WAHK,CAAP;AAKD;AACF;;AAED,WAAO,mBAAUzC,iBAAV,CAA4BzD,WAA5B,EAAyCkG,WAAzC,CAAP;AACD,GAzBY;;AA2BbO,cAAY,oBAACzG,WAAD,EAAc5M,IAAd,EAAuB;AACjC;AACA;AACA,QAAIsT,qBAAqB1G,WAAzB;;AAEA,QAAMe,YAAYf,YAAYM,YAAZ,EAAlB;AACA,QAAI,CAACS,UAAUwC,WAAV,EAAL,EAA8B;AAC5B,UAAM0B,eAAejF,YAAYO,iBAAZ,EAArB;;AAEA,UAAMoG,cAAc3B,kBAAkBC,YAAlB,EAAgClE,SAAhC,CAApB;;AAEA;AACA;AACA,UAAIyD,kBAAJ;;AAEAmC,kBAAYH,OAAZ,CAAoB,iBAAS;AAC3B,YAAMI,SAASnH,MAAMoH,WAAN,CAAkB,CAAlB,CAAf;AACA,YAAID,MAAJ,EAAY;AAAG;AACb,cAAInH,MAAMmF,OAAN,OAAoB,QAAxB,EAAkC;AAChC,gBAAI,CAACxR,IAAL,EAAW;AAAG;AACZ,8BAAO0T,SAAP,CAAiBF,MAAjB,EAAyB,EAAE1I,MAAM,IAAR,EAAzB;AACD,aAFD,MAEO;AAAG;AACR,8BAAO4I,SAAP,CAAiBF,MAAjB,EAAyBxT,IAAzB;AACD;AACF,WAND,MAMO;AACL,gBAAM2T,sBAAsBnB,uBAAuBnG,KAAvB,EAA8BsB,SAA9B,CAA5B;AACA,gBAAMuD,uBAAuBJ,wBAAwBlE,WAAxB,EAAqC+G,mBAArC,EAA0D,MAA1D,CAA7B;;AAEA,gBAAIzC,wBAAwBlR,IAA5B,EAAkC;AAChCsT,mCAAqB,mBAAUD,UAAV,CACnBC,kBADmB,EAEnBK,mBAFmB,EAGnB,gBAAOC,MAAP,CAAc,MAAd,EAAsB,SAAtB,EAAiC5T,IAAjC,CAHmB,CAArB;AAKD,aAND,MAMO;AACLsT,mCAAqB,mBAAUD,UAAV,CACnBC,kBADmB,EAEnBK,mBAFmB,EAGnB,IAHmB,CAArB;AAKD;AACF;AACF,SAzBD,MAyBO,IAAItH,MAAMuG,OAAN,GAAgB3G,MAAhB,GAAyB,CAA7B,EAAgC;AACrC,cAAI,CAACmF,SAAL,EAAgB;AACd;AACAA,wBAAYpR,OAAO,gBAAO4T,MAAP,CAAc,MAAd,EAAsB,SAAtB,EAAiC5T,IAAjC,CAAP,GAAgD,IAA5D;AACD;;AAED;AACA,cAAM2T,uBAAsBnB,uBAAuBnG,KAAvB,EAA8BsB,SAA9B,CAA5B;AACA2F,+BAAqB,mBAAUD,UAAV;AACnB;AACA;AACAC,4BAHmB,EAInBK,oBAJmB,EAKnBvC,SALmB,CAArB;AAOD;AACF,OA3CD;;AA6CA,aAAOkC,kBAAP;AACD,KAvDD,MAuDO;AACL,UAAMO,kBAAkB,oCAAqBjH,WAArB,EAAkC,MAAlC,EAA0CmD,IAA1C,EAAxB;AACA,UAAI8D,eAAJ,EAAqB;AACnB,wBAAOH,SAAP,CAAiBG,gBAAgBzC,SAAjC,EAA4CpR,IAA5C;AACD;AACD,aAAO4M,WAAP;AACD;AACF,GA/FY;;AAiGbkH,qBAAmB,2BAAClH,WAAD,EAAcK,cAAd,EAA8B8D,UAA9B,EAA6C;AAC9D,QAAMG,uBAAuBJ,wBAC3BlE,WAD2B,EAE3BK,cAF2B,EAG3B8D,UAH2B,CAA7B;;AAMA,QAAIG,oBAAJ,EAA0B;AACxB,UAAM7E,QAAQO,YACXO,iBADW,GAEXC,cAFW,CAGV8D,qBAAqB7D,WAArB,EAHU,CAAd;;AAMA,UAAM+D,YAAY/E,MAAMoH,WAAN,CAAkBvC,qBAAqByB,cAArB,EAAlB,CAAlB;AACA,aAAOvB,YAAY,gBAAOG,GAAP,CAAWH,SAAX,CAAZ,GAAoChO,SAA3C;AACD;AACF;;AAlHY,C;;;;;;;;;;;;;;;;ACnFf;;;;AACA;;;;;;AAEA,IAAM2Q,QAAQ,CACZ,MADY,EACJ,OADI,EACK,gBADL,EACuB,MADvB,EAC+B,YAD/B,EAEZ,cAFY,EAEI,QAFJ,EAEc,KAFd,EAEqB,OAFrB,EAE8B,WAF9B,EAGZ,cAHY,EAGI,cAHJ,EAGoB,OAHpB,EAG6B,mBAH7B,EAIZ,mBAJY,EAIS,UAJT,EAIqB,YAJrB,EAImC,WAJnC,EAKZ,SALY,EAKD,cALC,EAKe,MALf,EAKuB,QALvB,EAKiC,OALjC,EAMZ,WANY,EAMC,OAND,EAMU,YANV,EAMwB,MANxB,EAMgC,aANhC,EAOZ,cAPY,EAOI,SAPJ,EAOe,MAPf,EAOuB,YAPvB,EAOqC,QAPrC,EAQZ,QARY,EAQF,UARE,EAQU,kBARV,EAQ8B,SAR9B,EASZ,eATY,EASK,kBATL,EASyB,mBATzB,EAUZ,YAVY,EAUE,aAVF,EAUiB,YAVjB,EAU+B,QAV/B,EAWZ,SAXY,EAWD,MAXC,EAWO,MAXP,EAWe,YAXf,EAW6B,WAX7B,EAYZ,qBAZY,EAYW,QAZX,EAYqB,SAZrB,EAYgC,SAZhC,EAaZ,QAbY,EAaF,kBAbE,EAakB,aAblB,EAaiC,gBAbjC,EAcZ,YAdY,EAcE,iBAdF,EAcqB,QAdrB,CAAd;;AAiBA,IAAMC,mBAAmB,SAAnBA,gBAAmB;AAAA,SACvB;AAAA;AAAA,iBAAYxJ,KAAZ,IAAmB,WAAU,0CAA7B;AACE;AAAA;AAAA,QAAQ,OAAM,EAAd;AAAA;AAAA,KADF;AAEGuJ,UAAMlN,GAAN,CACC;AAAA,aAAQ;AAAA;AAAA,UAAQ,KAAKoN,IAAb,EAAmB,OAAOA,IAA1B;AAAiCA;AAAjC,OAAR;AAAA,KADD;AAFH,GADuB;AAAA,CAAzB;;AASAD,iBAAiB/L,SAAjB,GAA6B;AAC3B4H,SAAO,oBAAUzH,MAAV,CAAiBD,UADG;AAE3B+L,YAAU,oBAAUhL,IAAV,CAAef;AAFE,CAA7B;;kBAKe6L,gB;;;;;;;;;;;;;;;;;;;AClCf;;;;AACA;;;;AAEA;;;;AAEA;;;;;;;;;;;;AAEA,IAAI,mBAAAG,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,+DAAAA;;IAEXE,Y;;;AACnB,wBAAa7J,KAAb,EAAoB;AAAA;;AAAA,4HACZA,KADY;;AAElB,UAAKpL,KAAL,gBAAkB,MAAKoL,KAAL,CAAW8J,YAA7B;AAFkB;AAGnB;;;;8CAE0BtF,S,EAAW;AAAA,UAC5BpC,WAD4B,GACZoC,SADY,CAC5BpC,WAD4B;;;AAGpC,UAAM2H,uBACJ3H,YAAYgD,qBAAZ,OAAwC,KAAKpF,KAAL,CAAWoC,WAAX,CAAuBgD,qBAAvB,EAD1C;AAGA,UAAI2E,oBAAJ,EAA0B;AACxB,YAAM5E,eAAe/C,YAAYgD,qBAAZ,EAArB;;AAEA,YAAM0E,4BACD,KAAK9J,KAAL,CAAW8J,YADV,CAAN;;AAIA,YAAME,WAAW7E,aAAa1I,MAAb,CAAoB;AAAA,iBAAS4I,MAAMC,UAAN,CAAiB,WAAjB,CAAT;AAAA,SAApB,EAA4DC,IAA5D,EAAjB;AACA,YAAIyE,QAAJ,EAAc;AACZF,uBAAaE,QAAb,GAAwBA,SACrBxE,OADqB,CACb,YADa,EACC,EADD,EAErBA,OAFqB,CAEb,IAFa,EAEP,EAFO,EAGrBA,OAHqB,CAGb,GAHa,EAGR,EAHQ,EAIrBC,IAJqB,EAAxB;AAKD;;AAED,YAAMwE,aAAa9E,aAAa1I,MAAb,CAAoB;AAAA,iBAAS4I,MAAMC,UAAN,CAAiB,aAAjB,CAAT;AAAA,SAApB,EAA8DC,IAA9D,EAAnB;AACA,YAAI0E,UAAJ,EAAgB;AACdH,uBAAaG,UAAb,GAA0BA,WACvBzE,OADuB,CACf,cADe,EACC,EADD,EAEvBA,OAFuB,CAEf,GAFe,EAEV,EAFU,EAGvBC,IAHuB,EAA1B;AAID;;AAED,YAAIqE,YAAJ,EAAkB;AAChB,eAAKnJ,QAAL,cAAmBmJ,YAAnB;AACD;AACF;AACF;;;qCAEiB/H,C,EAAG;AAAA,mBACqB,KAAK/B,KAD1B;AAAA,UACXoC,WADW,UACXA,WADW;AAAA,UACEC,cADF,UACEA,cADF;;AAEnB,UAAM2H,WAAWjI,EAAEmI,MAAF,CAAS7E,KAA1B;;AAEA,UAAI2E,QAAJ,EAAc;AACZ,YAAMG,0BAA0B,sBAAYtE,iBAAZ,CAC9BzD,WAD8B,kBAEhB4H,QAFgB,SAAhC;AAIA3H,uBAAe8H,uBAAf;AACA,aAAKxJ,QAAL,CAAc,EAAEqJ,kBAAF,EAAd;AACD;AACF;;;qCAEiBjI,C,EAAG;AAAA,oBACqB,KAAK/B,KAD1B;AAAA,UACXoC,WADW,WACXA,WADW;AAAA,UACEC,cADF,WACEA,cADF;;AAEnB,UAAM4H,aAAalI,EAAEmI,MAAF,CAAS7E,KAA5B;;AAEA,UAAM+E,4BAA4B,sBAAYvE,iBAAZ,CAChCzD,WADgC,oBAEhB6H,UAFgB,OAAlC;AAIA5H,qBAAe+H,yBAAf;AACA,WAAKzJ,QAAL,CAAc,EAAEsJ,sBAAF,EAAd;AACD;;;qCAEiB;AAChB,WAAKjK,KAAL,CAAWwC,WAAX;AACD;;;6BAES;AACR,aACE;AAAA;AAAA,UAAK,WAAU,eAAf;AACE;AACE,gBAAK,QADP;AAEE,iBAAO,KAAK5N,KAAL,CAAWoV,QAFpB;AAGE,oBAAU,KAAKK,gBAAL,CAAsBvF,IAAtB,CAA2B,IAA3B,CAHZ;AAIE,sBAAY,KAAKwF,cAAL,CAAoBxF,IAApB,CAAyB,IAAzB,CAJd;AAKE,qBAAU;AALZ,UADF;AAQE;AACE,oBAAU,KAAKyF,gBAAL,CAAsBzF,IAAtB,CAA2B,IAA3B,CADZ;AAEE,iBAAO,KAAKlQ,KAAL,CAAWqV,UAFpB;AAGE,sBAAY,KAAKK,cAAL,CAAoBxF,IAApB,CAAyB,IAAzB;AAHd;AARF,OADF;AAgBD;;;;;;kBAzFkB+E,Y;;;AA4FrBA,aAAapM,SAAb,GAAyB;AACvB2E,eAAa,oBAAUvE,MAAV,CAAiBF,UADP;AAEvB0E,kBAAgB,oBAAU3D,IAAV,CAAef,UAFR;AAGvB6E,eAAa,oBAAU9D,IAAV,CAAef,UAHL;AAIvBmM,gBAAc,oBAAUU,KAAV,CAAgB;AAC5BR,cAAU,oBAAUtM,MADQ;AAE5BuM,gBAAY,oBAAUrM;AAFM,GAAhB;;AAJS,CAAzB;;AAWO,IAAMwI,wCAAgB,SAAhBA,aAAgB,CAAC9I,KAAD,EAAW;AACtC,MAAM+I,SAAS,EAAf;AACA,MAAM2D,WAAW1M,MAAMb,MAAN,CAAa;AAAA,WAAS4I,MAAMC,UAAN,CAAiB,WAAjB,CAAT;AAAA,GAAb,EAAqDC,IAArD,EAAjB;AACA,MAAIyE,QAAJ,EAAc;AACZ3D,WAAO2D,QAAP,GAAkBA,SACfxE,OADe,CACP,YADO,EACO,EADP,EAEfA,OAFe,CAEP,GAFO,EAEF,EAFE,EAGfC,IAHe,EAAlB;AAID;AACD,MAAMwE,aAAa3M,MAAMb,MAAN,CAAa;AAAA,WAAS4I,MAAMC,UAAN,CAAiB,aAAjB,CAAT;AAAA,GAAb,EAAuDC,IAAvD,EAAnB;AACA,MAAI0E,UAAJ,EAAgB;AACd5D,WAAO4D,UAAP,GAAoBA,WACjBzE,OADiB,CACT,cADS,EACO,EADP,EAEjBA,OAFiB,CAET,GAFS,EAEJ,EAFI,EAGjBC,IAHiB,EAApB;AAID;AACD,SAAOY,MAAP;AACD,CAjBM,C;;;;;;;AChHP,yC;;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;;;;;;;IAEqBoE,e;;;;;;;;;;;sCACA;AAAA,mBACuB,KAAKzK,KAD5B;AAAA,UACToC,WADS,UACTA,WADS;AAAA,UACIC,cADJ,UACIA,cADJ;;;AAGjB,UAAI,CAACD,YAAYsI,YAAZ,GAA2BC,OAA3B,EAAL,EAA2C;AACzCtI,uBAAe,qBAAYuI,IAAZ,CAAiBxI,WAAjB,CAAf;AACA,aAAKpC,KAAL,CAAWwC,WAAX;AACD;AACF;;;sCAEkB;AAAA,oBACuB,KAAKxC,KAD5B;AAAA,UACToC,WADS,WACTA,WADS;AAAA,UACIC,cADJ,WACIA,cADJ;;AAEjB,UAAI,CAACD,YAAYyI,YAAZ,GAA2BF,OAA3B,EAAL,EAA2C;AACzCtI,uBAAe,qBAAYyI,IAAZ,CAAiB1I,WAAjB,CAAf;AACA,aAAKpC,KAAL,CAAWwC,WAAX;AACD;AACF;;;6BAES;AAAA,UACArB,eADA,GACoB,KAAKnB,KADzB,CACAmB,eADA;;;AAGR,aACE;AAAA;AAAA,UAAK,WAAU,iBAAf;AACE;AAAA;AAAA,YAAQ,MAAK,QAAb,EAAsB,WAAWA,eAAjC,EAAkD,SAAS,KAAK4J,eAAL,CAAqBjG,IAArB,CAA0B,IAA1B,CAA3D;AACE,+CAAG,WAAU,oBAAb;AADF,SADF;AAIE;AAAA;AAAA,YAAQ,MAAK,QAAb,EAAsB,WAAW3D,eAAjC,EAAkD,SAAS,KAAK6J,eAAL,CAAqBlG,IAArB,CAA0B,IAA1B,CAA3D;AACE,+CAAG,WAAU,sBAAb;AADF;AAJF,OADF;AAUD;;;;;;kBA/BkB2F,e;;;AAkCrBA,gBAAgBhN,SAAhB,GAA4B;AAC1B2E,eAAa,oBAAUvE,MAAV,CAAiBF,UADJ;AAE1B0E,kBAAgB,oBAAU3D,IAAV,CAAef,UAFL;AAG1B6E,eAAa,oBAAU9D,IAAV,CAAef,UAHF;AAI1BwD,mBAAiB,oBAAUvD;AAJD,CAA5B,C;;;;;;;;;;;;;;ACtCA;;;;AACA;;;;AACA;;;;AAEA,IAAMqN,OAAO,SAAPA,IAAO,OAA6B;AAAA,MAA1B1K,QAA0B,QAA1BA,QAA0B;AAAA,MAAhBqG,SAAgB,QAAhBA,SAAgB;;AAAA,4BACf,gBAAOG,GAAP,CAAWH,SAAX,EAAsBsE,OAAtB,EADe;AAAA,MAChC5K,IADgC,uBAChCA,IADgC;AAAA,MAC1B4J,MAD0B,uBAC1BA,MAD0B;;AAGxC,SACE;AAAA;AAAA,MAAG,MAAM5J,IAAT,EAAe,QAAQ4J,MAAvB;AAAgC3J;AAAhC,GADF;AAGD,CAND;;AAQA0K,KAAKxN,SAAL,GAAiB;AACfmJ,aAAW,oBAAUhJ,MAAV,CAAiBD;AADb,CAAjB;;kBAIesN,I;;;;;;;;;;;;;;;;;AChBf;;;;AACA;;;;AACA;;;;AACA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;AAEA,IAAME,mBAAmB,SAAnBA,gBAAmB,CAAC/I,WAAD,EAAiB;AACxC;AACA,SAAO,oCAAqBA,WAArB,EAAkC,MAAlC,EAA0CmD,IAA1C,EAAP;AACD,CAHD;;IAKqB6F,Y;;;AACnB,wBAAapL,KAAb,EAAoB;AAAA;;AAAA,4HACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa;AACXyW,iBAAW,KADA;AAEX/K,YAAM,EAFK;AAGX4J,cAAQ;AAHG,KAAb;AAFkB;AAOnB;;;;8CAE0B1F,S,EAAW;AAAA,UAC5BpC,WAD4B,GACZoC,SADY,CAC5BpC,WAD4B;;AAEpC,UAAIA,gBAAgB,KAAKpC,KAAL,CAAWoC,WAA/B,EAA4C;AAC1C,YAAMkJ,aAAaH,iBAAiB,KAAKnL,KAAL,CAAWoC,WAA5B,CAAnB;AACA,YAAMmJ,iBAAiBJ,iBAAiB/I,WAAjB,CAAvB;AACA,YAAImJ,kBAAkBA,mBAAmBD,UAAzC,EAAqD;AACnD,cAAME,iBAAiB,gBAAOzE,GAAP,CAAWwE,eAAe3E,SAA1B,CAAvB;;AADmD,sCAE1B4E,eAAeN,OAAf,EAF0B;AAAA,cAE3C5K,IAF2C,yBAE3CA,IAF2C;AAAA,cAErC4J,MAFqC,yBAErCA,MAFqC;;AAGnD,eAAKvJ,QAAL,CAAc,EAAEL,UAAF,EAAQ4J,cAAR,EAAgBuB,SAAS,IAAzB,EAAd;AACD,SAJD,MAIO;AACL,eAAK9K,QAAL,CAAc,EAAEL,MAAM,EAAR,EAAY4J,QAAQ,OAApB,EAA6BuB,SAAS,KAAtC,EAAd;AACD;AACF;AACF;;;wCAEoB;AACnB,WAAK9K,QAAL,CAAc,EAAE0K,WAAW,CAAC,KAAKzW,KAAL,CAAWyW,SAAzB,EAAd;AACD;;;kCAEc;AAAA,mBAC2B,KAAKrL,KADhC;AAAA,UACLoC,WADK,UACLA,WADK;AAAA,UACQC,cADR,UACQA,cADR;;;AAGb,UAAI,KAAKzN,KAAL,CAAW0L,IAAf,EAAqB;AAAA,qBACM,KAAK1L,KADX;AAAA,YACX0L,IADW,UACXA,IADW;AAAA,YACL4J,MADK,UACLA,MADK;;AAEnB7H,uBAAe,sBAAYwG,UAAZ,CAAuBzG,WAAvB,EAAoC,EAAE9B,UAAF,EAAQ4J,cAAR,EAApC,CAAf;AACD,OAHD,MAGO;AACL7H,uBAAe,sBAAYwG,UAAZ,CAAuBzG,WAAvB,EAAoC,IAApC,CAAf;AACD;;AAED,WAAKzB,QAAL,CAAc,EAAE0K,WAAW,KAAb,EAAd;AACA,WAAKrL,KAAL,CAAWwC,WAAX;AACD;;;iCAEa;AAAA,oBAC4B,KAAKxC,KADjC;AAAA,UACJoC,WADI,WACJA,WADI;AAAA,UACSC,cADT,WACSA,cADT;;AAEZA,qBAAe,sBAAYwG,UAAZ,CAAuBzG,WAAvB,EAAoC,IAApC,CAAf;AACA,WAAKpC,KAAL,CAAWwC,WAAX;AACD;;;uCAEmBT,C,EAAG;AACrB,WAAKpB,QAAL,CAAc,EAAEuJ,QAAQnI,EAAEmI,MAAF,CAASwB,OAAT,GAAmB,QAAnB,GAA8B,OAAxC,EAAd;AACD;;;6BAES;AAAA;;AAAA,oBACsC,KAAK1L,KAD3C;AAAA,UACAmB,eADA,WACAA,eADA;AAAA,UACiBwK,gBADjB,WACiBA,gBADjB;;;AAGR,aACE;AAAA;AAAA,UAAK,WAAU,cAAf;AACE;AAAA;AAAA,YAAQ,WAAW,0BAAWxK,eAAX,EAA4B,KAAKvM,KAAL,CAAW6W,OAAX,GAAqB,QAArB,GAAgC,IAA5D,CAAnB,EAAsF,SAAS,KAAKG,iBAAL,CAAuB9G,IAAvB,CAA4B,IAA5B,CAA/F;AACE,+CAAG,WAAU,YAAb;AADF,SADF;AAIG,aAAKlQ,KAAL,CAAWyW,SAAX,IACC;AAAA;AAAA,YAAK,WAAWM,gBAAhB;AACE;AAAA;AAAA,cAAK,WAAU,gBAAf;AACE;AACE,oBAAK,MADP;AAEE,qBAAO,KAAK/W,KAAL,CAAW0L,IAFpB;AAGE,wBAAU;AAAA,uBAAK,OAAKK,QAAL,CAAc,EAAEL,MAAMyB,EAAEmI,MAAF,CAAS7E,KAAjB,EAAd,CAAL;AAAA,eAHZ;AAIE,yBAAU;AAJZ,cADF;AAOE;AAAA;AAAA;AACE,2BAAU,2BADZ;AAEE,yBAAS,KAAKwG,WAAL,CAAiB/G,IAAjB,CAAsB,IAAtB;AAFX;AAIE,mDAAG,WAAU,aAAb;AAJF;AAPF,WADF;AAeE;AAAA;AAAA,cAAK,WAAU,oBAAf;AACE;AACE,kBAAG,UADL;AAEE,oBAAK,UAFP;AAGE,wBAAU,KAAKgH,kBAAL,CAAwBhH,IAAxB,CAA6B,IAA7B,CAHZ;AAIE,qBAAO,KAAKlQ,KAAL,CAAWsV,MAJpB;AAKE,uBAAS,KAAKtV,KAAL,CAAWsV,MAAX,KAAsB,QALjC;AAME,6CAA4B;AAN9B,cADF;AASE;AAAA;AAAA,gBAAO,SAAQ,UAAf,EAA0B,OAAO,EAAE6B,QAAQ,SAAV,EAAqBC,YAAY,QAAjC,EAAjC;AAAA;AAAA;AATF;AAfF,SALJ;AAiCE;AAAA;AAAA,YAAQ,WAAW7K,eAAnB,EAAoC,SAAS,KAAK8K,UAAL,CAAgBnH,IAAhB,CAAqB,IAArB,CAA7C;AACE,+CAAG,WAAU,cAAb;AADF;AAjCF,OADF;AAuCD;;;;;;kBA/FkBsG,Y;;;AAkGrBA,aAAa3N,SAAb,GAAyB;AACvB2E,eAAa,oBAAUvE,MAAV,CAAiBF,UADP;AAEvB0E,kBAAgB,oBAAU3D,IAAV,CAAef,UAFR;AAGvB6E,eAAa,oBAAU9D,IAAV,CAAef,UAHL;AAIvBwD,mBAAiB,oBAAUvD,MAJJ;AAKvB+N,oBAAkB,oBAAU/N;AALL,CAAzB;;AAQO,IAAMsO,gCAAY;AACvBC,kCADuB;AAEvBC;AAFuB,CAAlB,C;;;;;;;;;;;;;;AC1HP;;kBAEe,UAACnE,YAAD,EAAeoE,QAAf,EAA4B;AACzCpE,eAAatB,gBAAb,CAA8B,qBAAa;AACzC,QAAMC,YAAYC,UAAUC,SAAV,EAAlB;AACA,QAAIF,SAAJ,EAAe;AACb,UAAM4E,iBAAiB,gBAAOzE,GAAP,CAAWH,SAAX,CAAvB;AACA,aACI4E,mBAAmB,IAAnB,IACAA,eAAexE,OAAf,OAA6B,MAFjC;AAID;AACD,WAAO,KAAP;AACD,GAVD,EAUGqF,QAVH;AAWD,C;;;;;;;;;;;;;;;;ACdD;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMC,iB;;;AACJ,6BAAatM,KAAb,EAAoB;AAAA;;AAAA,sIACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa,EAAE2X,kBAAkB,KAApB,EAA2B7T,WAAW,KAAtC,EAA6C8T,OAAO,IAApD,EAAb;AAFkB;AAGnB;;;;uCAEmBzK,C,EAAG;AACrB,WAAKpB,QAAL,CAAc,EAAE4L,kBAAkB,CAAC,KAAK3X,KAAL,CAAW2X,gBAAhC,EAAd;AACD;;;2CAEuB;AACtB,WAAK5L,QAAL,CAAc,EAAEjI,WAAW,IAAb,EAAd;AACD;;;wCAEoB;AACnB,WAAKiI,QAAL,CAAc,EAAEjI,WAAW,KAAb,EAAd;AACD;;;uCAEmBqJ,C,EAAG;AAAA,UACb0K,kBADa,GACU,KAAKzM,KADf,CACbyM,kBADa;;AAErB,UAAMC,SAAS3K,EAAE4K,SAAF,CAAYC,SAAZ,CAAsB,CAAtB,EAAyB7K,EAAE4K,SAAF,CAAYpE,OAAZ,CAAoB,GAApB,CAAzB,CAAf;AACA,WAAK5H,QAAL,CAAc,EAAEjI,WAAW,KAAb,EAAoB8T,OAAOE,MAA3B,EAAd;;AAEAD,yBAAmBC,MAAnB;AACD;;;uCAEmB;AAClB,yBAASG,WAAT,CAAqB,KAAKC,SAA1B,EAAqCC,KAArC;AACD;;;6BAES;AAAA;;AAAA,UACA5L,eADA,GACoB,KAAKnB,KADzB,CACAmB,eADA;;;AAGR,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAQ,WAAWA,eAAnB,EAAoC,SAAS,KAAK6L,gBAAL,CAAsBlI,IAAtB,CAA2B,IAA3B,CAA7C;AACE,+CAAG,WAAU,aAAb;AADF,SADF;AAIE;AACE,sBAAemI,QAAQC,GAAR,CAAYC,OAA3B,aADF;AAEE,kBAAO,SAFT;AAGE,sBAAc,KAAKC,oBAAnB,MAAc,IAAd,CAHF;AAIE,mBAAW,KAAKC,iBAAhB,MAAW,IAAX,CAJF;AAKE,oBAAY,KAAKZ,kBAAjB,MAAY,IAAZ,CALF;AAME,eAAK,oBAAS;AAAE,mBAAKK,SAAL,GAAiBQ,KAAjB;AAAwB,WAN1C;AAOE,iBAAO;AACLC,sBAAU,UADL;AAELC,wBAAY;AAFP;AAPT;AAJF,OADF;AAmBD;;;;;;AAGHlB,kBAAkB7O,SAAlB,GAA8B;AAC5B0D,mBAAiB,oBAAUvD,MADC;AAE5B+N,oBAAkB,oBAAU/N,MAFA;AAG5B6O,sBAAoB,oBAAU/N,IAAV,CAAef;AAHP,CAA9B;;kBAMe2O,iB;;;;;;;;;;;;;;;;AClEf;;;;AACA;;;;;;;;;;;;IAEMmB,kB;;;AACJ,8BAAazN,KAAb,EAAoB;AAAA;;AAAA,wIACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa,EAAE8Y,iBAAiB,KAAnB,EAA0BC,QAAQ,EAAlC,EAAb;AAFkB;AAGnB;;;;+BAEWA,M,EAAQ;AAClB,UAAIA,OAAOrI,UAAP,CAAkB,SAAlB,CAAJ,EAAkC;AAChC,eAAO,QAAP;AACD,OAFD,MAEO,IAAIqI,OAAOrI,UAAP,CAAkB,SAAlB,CAAJ,EAAkC;AACvC,eAAO,QAAP;AACD;AACD,YAAM,IAAIrN,KAAJ,CAAU,kCAAV,CAAN;AACD;;;yCAEqB;AAAA,UACZ2V,kBADY,GACW,KAAK5N,KADhB,CACZ4N,kBADY;AAAA,UAEZD,MAFY,GAED,KAAK/Y,KAFJ,CAEZ+Y,MAFY;;;AAIpBC,yBAAmB,KAAKC,UAAL,CAAgBF,MAAhB,CAAnB,EAA4CA,MAA5C;AACA,WAAKhN,QAAL,CAAc,EAAEgN,QAAQ,EAAV,EAAcD,iBAAiB,KAA/B,EAAd;AACD;;;6BAES;AAAA;;AAAA,mBACsC,KAAK1N,KAD3C;AAAA,UACAmB,eADA,UACAA,eADA;AAAA,UACiBwK,gBADjB,UACiBA,gBADjB;;;AAGR,aACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,uBAAWxK,eADb;AAEE,qBAAS;AAAA,qBAAK,OAAKR,QAAL,CAAc,EAAE+M,iBAAiB,CAAC,OAAK9Y,KAAL,CAAW8Y,eAA/B,EAAd,CAAL;AAAA;AAFX;AAIE,+CAAG,WAAU,YAAb;AAJF,SADF;AAOG,SAAC,KAAK9Y,KAAL,CAAW8Y,eAAZ,GAA8B,IAA9B,GACC;AAAA;AAAA,YAAK,WAAW/B,gBAAhB;AACE;AACE,kBAAK,MADP;AAEE,mBAAO,KAAK/W,KAAL,CAAW+Y,MAFpB;AAGE,sBAAU;AAAA,qBAAK,OAAKhN,QAAL,CAAc,EAAEgN,QAAQ5L,EAAEmI,MAAF,CAAS7E,KAAnB,EAAd,CAAL;AAAA;AAHZ,YADF;AAME;AAAA;AAAA;AACE,yBAAU,2BADZ;AAEE,uBAAS,KAAKuI,kBAAL,CAAwB9I,IAAxB,CAA6B,IAA7B;AAFX;AAIE,iDAAG,WAAU,aAAb;AAJF;AANF;AARJ,OADF;AAyBD;;;;;;AAGH2I,mBAAmBhQ,SAAnB,GAA+B;AAC7B0D,mBAAiB,oBAAUvD,MADE;AAE7B+N,oBAAkB,oBAAU/N,MAFC;AAG7BgQ,sBAAoB,oBAAUlP,IAAV,CAAef;AAHN,CAA/B;;kBAMe8P,kB;;;;;;;;;;;;;;;;AC/Df;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMK,K;;;;;;;;;;;6BACM;AAAA,UACAjM,KADA,GACU,KAAK7B,KADf,CACA6B,KADA;;;AAGR,UAAM+E,YAAY/E,MAAMoH,WAAN,CAAkB,CAAlB,CAAlB;AACA,UAAMD,SAASpC,YAAY,gBAAOG,GAAP,CAAWH,SAAX,CAAZ,GAAoChO,SAAnD;;AAEA,UAAI,CAACoQ,MAAL,EAAa;AACX;AACA;AACA,eAAO,wCAAM,WAAU,cAAhB,GAAP;AACD;;AAVO,4BAkBJA,OAAOkC,OAAP,EAlBI;AAAA,UAcN5K,IAdM,mBAcNA,IAdM;AAAA,UAeN4J,MAfM,mBAeNA,MAfM;AAAA,UAiBH6D,UAjBG;;AAoBR,UAAMxH,aAAayC,OAAOhC,OAAP,GAAiBgH,WAAjB,EAAnB;;AAEA,UAAIzH,eAAe,OAAnB,EAA4B;AAC1B,YAAM0H,QAAQ,qCAASF,UAAT,CAAd;;AAEA,YAAIzN,IAAJ,EAAU;AACR,iBACE;AAAA;AAAA,cAAG,MAAMA,IAAT,EAAe,QAAQ4J,UAAU,QAAjC;AAA4C+D;AAA5C,WADF;AAGD;AACD,eAAOA,KAAP;AACD,OATD,MASO,IAAI1H,eAAe,QAAf,IAA2BA,eAAe,QAA9C,EAAwD;AAC7D;AACA,eAAO,uCAAK,WAAU,UAAf,EAA0B,yBAAyB,EAAE2H,QAAQH,WAAWI,GAArB,EAAnD,GAAP;AACD,OAHM,MAGA;AACL,cAAM,IAAIlW,KAAJ,CAAU,8BAAV,CAAN;AACD;AACF;;;;;;AAGH6V,MAAMrQ,SAAN,GAAkB;AAChB;AACAoE,SAAO,oBAAUhE,MAAV,CAAiBF;AAFR,CAAlB;;kBAKemQ,K;;;;;;;;;;;;;;;;;AClDf;;;;AACA;;;;AAEA;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;AAEA,IAAI,mBAAAnE,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,gEAAAA;;IAEXyE,a;;;;;;;;;;;sCACAC,S,EAAWC,M,EAAQ;AAAA,mBACI,KAAKtO,KADT;AAAA,UAC5BoC,WAD4B,UAC5BA,WAD4B;AAAA,UACfC,cADe,UACfA,cADe;;;AAGpC,UAAMuE,YAAY,gBAAOwC,MAAP,CAAciF,SAAd,EAAyB,WAAzB,EAAsC,EAAEF,KAAKG,MAAP,EAAtC,CAAlB;AACA,UAAMC,uBAAuB,0BAAiBC,iBAAjB,CAAmCpM,WAAnC,EAAgDwE,SAAhD,EAA2D,GAA3D,CAA7B;AACAvE,qBAAekM,oBAAf;;AAEA,WAAKvO,KAAL,CAAWwC,WAAX;AACD;;;6BAES;AAAA;;AAAA,oBACsC,KAAKxC,KAD3C;AAAA,UACAmB,eADA,WACAA,eADA;AAAA,UACiBwK,gBADjB,WACiBA,gBADjB;;;AAGR,aACE;AAAA;AAAA,UAAK,WAAU,eAAf;AACE;AACE,2BAAiBxK,eADnB;AAEE,4BAAkBwK,gBAFpB;AAGE,8BAAoB;AAAA,mBAAU,OAAK8C,iBAAL,CAAuB,OAAvB,EAAgCH,MAAhC,CAAV;AAAA;AAHtB,UADF;AAME;AACE,2BAAiBnN,eADnB;AAEE,4BAAkBwK,gBAFpB;AAGE,8BAAoB,KAAK8C,iBAAL,CAAuB3J,IAAvB,CAA4B,IAA5B;AAHtB;AANF,OADF;AAcD;;;;;;kBA5BkBsJ,a;;;AA+BrBA,cAAc3Q,SAAd,GAA0B;AACxB2E,eAAa,oBAAUvE,MAAV,CAAiBF,UADN;AAExB0E,kBAAgB,oBAAU3D,IAAV,CAAef,UAFP;AAGxB6E,eAAa,oBAAU9D,IAAV,CAAef,UAHJ;AAIxBwD,mBAAiB,oBAAUvD,MAJH;AAKxB+N,oBAAkB,oBAAU/N;AALJ,CAA1B;;AAQO,IAAM8Q,4CAAkB,SAAlBA,eAAkB,CAAC7M,KAAD,EAAW;AACxC,MAAIA,MAAMmF,OAAN,OAAoB,QAAxB,EAAkC;AAChC,WAAO;AACLoF;AADK,KAAP;AAGD;AACF,CANM,C;;;;;;;AClDP,yC;;;;;;;;;;;;;;ACAA;;AACA;;AAEA,IAAMuC,uBAAuB,SAAvBA,oBAAuB,CAACvM,WAAD,EAAcmE,UAAd,EAA6B;AACxD;AACA,MAAMb,kBAAkBtD,YAAYM,YAAZ,EAAxB;AACA,MAAM8D,YAAYd,gBAAgBe,YAAhB,EAAlB;;AAEA,MAAMvD,iBAAiBd,YAAYO,iBAAZ,EAAvB;;AAEA,MAAMd,QAAQqB,eAAeN,cAAf,CAA8B8C,gBAAgB7C,WAAhB,EAA9B,CAAd;;AAEA,MAAI+L,qBAAqB,2BAAzB;;AAEA/M,QAAM8E,gBAAN,CAAuB,qBAAa;AAClC,QAAMC,YAAYC,UAAUC,SAAV,EAAlB;AACA,WAAOF,cAAc,IAAd,IAAsB,gBAAOG,GAAP,CAAWH,SAAX,EAAsBI,OAAtB,OAAoCT,UAAjE;AACD,GAHD,EAGG,UAACU,KAAD,EAAQC,GAAR,EAAgB;AACjB,QAAMC,aAAaD,OAAOV,SAAP,IAAoBS,SAAST,SAAhD;;AAEA,QAAIW,UAAJ,EAAgB;AACdyH,2BAAqBA,mBAAmBC,GAAnB,CAAuB;AAC1CjH,kBAAU/F,MAAMkG,MAAN,EADgC;AAE1CnB,mBAAW/E,MAAMoH,WAAN,CAAkBhC,KAAlB,CAF+B;AAG1CA,oBAH0C;AAI1CC;AAJ0C,OAAvB,CAArB;AAMD;AACF,GAdD;;AAgBA,SAAO0H,kBAAP;AACD,CA5BD;;kBA8BeD,oB;;;;;;;;;;;;;;;;;;;;;;;;sDCuHNrX,O;;;;AAxJT;;;;AACA;;;;AACA;;;;AAEA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA,IAAI,mBAAAqS,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,kDAAAA;;IAE1BmF,O;;;;;;;;;;;sCACexR,K,EAAO;AAAA,mBACgB,KAAK0C,KADrB;AAAA,UAChBoC,WADgB,UAChBA,WADgB;AAAA,UACHC,cADG,UACHA,cADG;;AAExBA,qBAAe,mBAAUwD,iBAAV,CAA4BzD,WAA5B,EAAyC9E,KAAzC,CAAf;AACA,WAAK0C,KAAL,CAAWwC,WAAX;AACD;;;oCAEgBuM,S,EAAW;AAAA,oBACc,KAAK/O,KADnB;AAAA,UAClBoC,WADkB,WAClBA,WADkB;AAAA,UACLC,cADK,WACLA,cADK;;AAE1BA,qBAAe,mBAAU2M,eAAV,CAA0B5M,WAA1B,EAAuC2M,SAAvC,CAAf;AACA,WAAK/O,KAAL,CAAWwC,WAAX;AACD;;;mCAEe8F,W,EAAa;AAAA,UACnBlG,WADmB,GACH,KAAKpC,KADF,CACnBoC,WADmB;;AAE3B,UAAMJ,WAAWI,YAAYgD,qBAAZ,GAAoC3I,MAApC,CAA2C;AAAA,eAASa,UAAUgL,WAAnB;AAAA,OAA3C,CAAjB;AACA,aAAOtG,SAASkE,IAAT,GAAgB,CAAhB,GAAoB,QAApB,GAA+B,IAAtC;AACD;;;iCAEa6I,S,EAAW;AAAA,UACf3M,WADe,GACC,KAAKpC,KADN,CACfoC,WADe;;AAEvB,UAAMK,iBAAiBL,YAAYM,YAAZ,EAAvB;AACA,UAAMb,QAAQO,YAAYO,iBAAZ,GAAgCC,cAAhC,CAA+CH,eAAeI,WAAf,EAA/C,CAAd;AACA,aAAOhB,MAAMmF,OAAN,OAAoB+H,SAApB,GAAgC,QAAhC,GAA2C,IAAlD;AACD;;;6BAES;AAAA;;AAAA,oBASJ,KAAK/O,KATD;AAAA,UAENoC,WAFM,WAENA,WAFM;AAAA,UAGNC,cAHM,WAGNA,cAHM;AAAA,UAING,WAJM,WAINA,WAJM;AAAA,UAKNrB,eALM,WAKNA,eALM;AAAA,UAMNwK,gBANM,WAMNA,gBANM;AAAA,UAONxN,KAPM,WAONA,KAPM;AAAA,UAQNb,KARM,WAQNA,KARM;;AAUR,UAAM2R,gBAAgB,EAAE7M,wBAAF,EAAeC,8BAAf,EAA+BG,wBAA/B,EAAtB;;AAEA,aACE;AAAA;AAAA;AACE,qBAAU,qEADZ;AAEE,iBAAOlF;AAFT;AAIE;AAAA;AAAA;AAEE;AAAA;AAAA;AACE,oBAAK,QADP;AAEE,yBAAW,0BAAW6D,eAAX,EAA4B,KAAK+N,cAAL,CAAoB,MAApB,CAA5B,CAFb;AAGE,uBAAS;AAAA,uBAAM,OAAKrJ,iBAAL,CAAuB,MAAvB,CAAN;AAAA;AAHX;AAKE,iDAAG,WAAU,YAAb;AALF,WAFF;AASE;AAAA;AAAA;AACE,oBAAK,QADP;AAEE,yBAAW,0BAAW1E,eAAX,EAA4B,KAAK+N,cAAL,CAAoB,QAApB,CAA5B,CAFb;AAGE,uBAAS;AAAA,uBAAM,OAAKrJ,iBAAL,CAAuB,QAAvB,CAAN;AAAA;AAHX;AAKE,iDAAG,WAAU,cAAb;AALF,WATF;AAgBE;AAAA;AAAA;AACE,oBAAK,QADP;AAEE,yBAAW,0BAAW1E,eAAX,EAA4B,KAAK+N,cAAL,CAAoB,WAApB,CAA5B,CAFb;AAGE,uBAAS;AAAA,uBAAM,OAAKrJ,iBAAL,CAAuB,WAAvB,CAAN;AAAA;AAHX;AAKE,iDAAG,WAAU,iBAAb;AALF,WAhBF;AAwBE;AAAA;AAAA;AACE,oBAAK,QADP;AAEE,yBAAW,0BAAW1E,eAAX,EAA4B,KAAKgO,YAAL,CAAkB,mBAAlB,CAA5B,CAFb;AAGE,uBAAS;AAAA,uBAAM,OAAKH,eAAL,CAAqB,mBAArB,CAAN;AAAA;AAHX;AAKE,iDAAG,WAAU,eAAb;AALF,WAxBF;AA+BE;AAAA;AAAA;AACE,oBAAK,QADP;AAEE,yBAAW,0BAAW7N,eAAX,EAA4B,KAAKgO,YAAL,CAAkB,qBAAlB,CAA5B,CAFb;AAGE,uBAAS;AAAA,uBAAM,OAAKH,eAAL,CAAqB,qBAArB,CAAN;AAAA;AAHX;AAKE,iDAAG,WAAU,eAAb;AALF;AA/BF,SAJF;AA2CE;AACE,2BAAiB7N,eADnB;AAEE,4BAAkBwK;AAFpB,WAGMsD,aAHN,EA3CF;AAgDE;AACE,iBAAO9Q,KADT;AAEE,2BAAiBgD;AAFnB,WAGM8N,aAHN,EAhDF;AAqDE;AACE,wBAAc,EAAEjF,UAAU,EAAZ,EAAgBC,YAAY,EAA5B;AADhB,WAEMgF,aAFN,EArDF;AAyDE;AACE,2BAAiB9N;AADnB,WAEM8N,aAFN,EAzDF;AA6DE;AACE,2BAAiB9N;AADnB,WAEM8N,aAFN,EA7DF;AAiEE;AACE,2BAAiB9N,eADnB;AAEE,4BAAkBwK;AAFpB,WAGMsD,aAHN;AAjEF,OADF;AAyED;;;;;;AAGHH,QAAQrR,SAAR,GAAoB;AAClB2E,eAAa,oBAAUvE,MAAV,CAAiBF,UADZ;AAElB0E,kBAAgB,oBAAU3D,IAAV,CAAef,UAFb;AAGlB6E,eAAa,oBAAU9D,IAAV,CAAef,UAHV;AAIlBwD,mBAAiB,oBAAUvD,MAJT;AAKlB+N,oBAAkB,oBAAU/N,MALV;AAMlBO,SAAO,oBAAUP;AANC,CAApB;;AASO,IAAMwR,kDAAqB;AAChCV,iDADgC;AAEhCtI,iBAAe,uBAAC9I,KAAD,EAAW;AACxB,wBACK,iCAAkBA,KAAlB,CADL,EAEK,kCAAmBA,KAAnB,CAFL;AAID;AAP+B,CAA3B;;AAUA,IAAM4O,gCAAY,gCAAuB,yBAAvB,CAAlB;;kBAMQ4C,O;;;;;;;AC1Jf,yC;;;;;;;;;;;;;kBCAe;AACb7P,UAAQ,CACN,SADM,EAEN,SAFM,EAGN,SAHM,EAIN,SAJM,EAKN,SALM,EAMN,SANM,EAON,SAPM,CADK;AAUbC,aAAW,CACT,SADS,EAET,SAFS,EAGT,SAHS,CAVE;AAebC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,CAfF;AAoBbC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,CApBF;AAyBbC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,CAzBF;AA8BbC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,CA9BF;AAmCbC,kBAAgB,CACd,SADc,EAEd,SAFc,EAGd,SAHc,CAnCH;AAwCbC,oBAAkB,CAChB,SADgB,EAEhB,SAFgB,EAGhB,SAHgB,CAxCL;AA6CbC,cAAY,CACV,SADU,EAEV,SAFU,EAGV,SAHU,EAIV,SAJU,EAKV,SALU,EAMV,SANU,EAOV,SAPU,EAQV,SARU,CA7CC;AAuDbC,iBAAe,CACb,SADa,EAEb,SAFa,EAGb,SAHa,EAIb,SAJa,EAKb,SALa,EAMb,SANa,EAOb,SAPa,EAQb,SARa,EASb,SATa,EAUb,SAVa,EAWb,SAXa,EAYb,SAZa,EAab,SAba,EAcb,SAda,EAeb,SAfa,EAgBb,SAhBa,EAiBb,SAjBa,EAkBb,SAlBa,EAmBb,SAnBa,EAoBb,SApBa,EAqBb,SArBa,EAsBb,SAtBa,EAuBb,SAvBa,EAwBb,SAxBa,EAyBb,SAzBa,EA0Bb,SA1Ba,EA2Bb,SA3Ba,EA4Bb,SA5Ba,EA6Bb,SA7Ba,EA8Bb,SA9Ba,EA+Bb,SA/Ba,EAgCb,SAhCa,EAiCb,SAjCa,EAkCb,SAlCa,EAmCb,SAnCa,EAoCb,SApCa,EAqCb,SArCa,EAsCb,SAtCa,EAuCb,SAvCa,EAwCb,SAxCa,CAvDF;AAiGbC,oBAAkB,CAChB,SADgB,EAEhB,SAFgB,EAGhB,SAHgB,EAIhB,SAJgB,EAKhB,SALgB,EAMhB,SANgB,EAOhB,SAPgB,EAQhB,SARgB,EAShB,SATgB,EAUhB,SAVgB,EAWhB,SAXgB,EAYhB,SAZgB,EAahB,SAbgB,EAchB,SAdgB,EAehB,SAfgB,EAgBhB,SAhBgB,EAiBhB,SAjBgB,EAkBhB,SAlBgB,EAmBhB,SAnBgB,EAoBhB,SApBgB,EAqBhB,SArBgB,EAsBhB,SAtBgB,EAuBhB,SAvBgB,EAwBhB,SAxBgB,EAyBhB,SAzBgB,EA0BhB,SA1BgB,EA2BhB,SA3BgB,EA4BhB,SA5BgB,EA6BhB,SA7BgB,EA8BhB,SA9BgB,EA+BhB,SA/BgB,EAgChB,SAhCgB,EAiChB,SAjCgB,EAkChB,SAlCgB,EAmChB,SAnCgB,EAoChB,SApCgB,EAqChB,SArCgB,EAsChB,SAtCgB,EAuChB,SAvCgB,EAwChB,SAxCgB,CAjGL;AA2IbC,aAAW,CACT,SADS,EAET,SAFS,EAGT,SAHS,EAIT,SAJS,EAKT,SALS,EAMT,SANS,EAOT,SAPS,EAQT,SARS,EAST,SATS,EAUT,SAVS,EAWT,SAXS,EAYT,SAZS,EAaT,SAbS,EAcT,SAdS,EAeT,SAfS,EAgBT,SAhBS,EAiBT,SAjBS,EAkBT,SAlBS,EAmBT,SAnBS,EAoBT,SApBS,EAqBT,SArBS,EAsBT,SAtBS,EAuBT,SAvBS,EAwBT,SAxBS,EAyBT,SAzBS,EA0BT,SA1BS,EA2BT,SA3BS,EA4BT,SA5BS,EA6BT,SA7BS,EA8BT,SA9BS,EA+BT,SA/BS,EAgCT,SAhCS,EAiCT,SAjCS,EAkCT,SAlCS,EAmCT,SAnCS,EAoCT,SApCS,EAqCT,SArCS,EAsCT,SAtCS,EAuCT,SAvCS,EAwCT,SAxCS;AA3IE,C;;;;;;;;;;;;;;ACAf;;kBAEe,gBAAQ;AACrB,MAAMyH,eAAe,sBAAagI,cAAb,CAA4B/N,IAA5B,CAArB;AACA,MAAMgO,kBAAkB,2BAAajI,YAAb,CAAxB;AACA,SAAOkI,KAAKC,SAAL,CAAeF,eAAf,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;wDCyOQhY,O;;;;AA/OT;;;;AACA;;;;AACA;;AACA;;AAYA;;;;;;;;;;;;AADA;;;AAMA,IAAI,mBAAAqS,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,0CAAAA;;IAE1B8F,W;;;AACJ,uBAAazP,KAAb,EAAoB;AAAA;;AAAA,0HACZA,KADY;;AAGlB,QAAIoC,cAAc,qBAAYiG,WAAZ,oBAAlB;AACA,QAAI,MAAKrI,KAAL,CAAWqF,KAAf,EAAsB;AACpB,UAAIgC,qBAAJ;AACA,UAAI,OAAO,MAAKrH,KAAL,CAAWqF,KAAlB,KAA4B,QAAhC,EAA0C;AACxC;AACAgC,uBAAe,sBAAaqI,oBAAb,CAAkC,8BAAgB,MAAK1P,KAAL,CAAWqF,KAA3B,CAAlC,CAAf;AACD,OAHD,MAGO,IAAI,QAAO,MAAKrF,KAAL,CAAWqF,KAAlB,MAA4B,QAAhC,EAA0C;AAC/CgC,uBAAe,6BAAe,MAAKrH,KAAL,CAAWqF,KAA1B,CAAf;AACD,OAFM,MAEA;AACL,cAAM,IAAIpN,KAAJ,CAAU,eAAV,CAAN;AACD;;AAEDmK,oBAAc,qBAAYuN,iBAAZ,CAA8BtI,YAA9B,qBAAd;AACD;;AAED,UAAKzS,KAAL,GAAa,EAAEwN,wBAAF,EAAewN,UAAU,KAAzB,EAAb;AAlBkB;AAmBnB;;;;4BAEQ;AAAA;;AACP,WAAKjP,QAAL,CAAc;AACZiP,kBAAU;AADE,OAAd,EAEG;AAAA,eAAMC,WAAW;AAAA,iBAAM,OAAKC,IAAL,CAAUC,MAAV,CAAiBC,KAAjB,EAAN;AAAA,SAAX,CAAN;AAAA,OAFH;AAGD;;;wCAEoB5N,W,EAAa;AAChC,WAAKzB,QAAL,CAAc,EAAEyB,wBAAF,EAAd;AACD;;;qCAEiB6N,O,EAAS;AAAA,UACjB7N,WADiB,GACD,KAAKxN,KADJ,CACjBwN,WADiB;;AAEzB,UAAM8N,eAAe9N,YAClBO,iBADkB,GAElBC,cAFkB,CAEHR,YAAYM,YAAZ,GAA2BG,WAA3B,EAFG,CAArB;AAGA;AACA,UAAIoN,YAAY,aAAZ,IAA6BC,aAAalJ,OAAb,OAA2B,QAA5D,EAAsE;AACpE;AACA,YAAMiB,eAAe,0BAAiB;AACpChH,eAAK,sBAD+B;AAEpC7M,gBAAM;AAF8B,SAAjB,CAArB;AAIA,YAAM+b,kBAAkB,0BAAe,CACrC,CAAClI,aAAaF,MAAb,EAAD,EAAwBE,YAAxB,CADqC,CAAf,CAAxB;;AAIA,YAAM/E,iBAAiBd,YAAYO,iBAAZ,EAAvB;AACA,YAAMyN,kBAAkBlN,eAAemN,WAAf,EAAxB;;AAEA;AACA,YAAMC,cAAc,SAAdA,WAAc;AAAA,iBAASzO,UAAUqO,YAAnB;AAAA,SAApB;AACA,YAAMK,eAAeH,gBAAgBI,KAAhB,GAAwBC,SAAxB,CAAkCH,WAAlC,CAArB;AACA,YAAMI,cAAcN,gBACjBI,KADiB,GAEjBG,SAFiB,CAEPL,WAFO,EAGjBM,IAHiB,EAApB;;AAKA,YAAIC,iBAAJ;AACA,YAAIzO,YAAYM,YAAZ,GAA2BoO,eAA3B,KAA+C1O,YAAYM,YAAZ,GAA2BqO,cAA3B,EAAnD,EAAgG;AAC9F;AACAF,qBAAWN,aAAaS,MAAb,CACTb,gBAAgBK,KAAhB,EADS,EAETE,WAFS,EAGTO,YAHS,EAAX;AAID,SAND,MAMO;AACL;AACAJ,qBAAWN,aAAaS,MAAb,CACT,0BAAe,CAAC,CAACd,aAAanI,MAAb,EAAD,EAAwBmI,YAAxB,CAAD,CAAf,EAAwDM,KAAxD,EADS,EAETL,gBAAgBK,KAAhB,EAFS,EAGTE,WAHS,EAITO,YAJS,EAAX;AAKD;;AAED,YAAM7M,UAAUlB,eAAea,KAAf,CAAqB,EAAE8M,kBAAF,EAArB,CAAhB;AACA,YAAMK,2BAA2B,qBAAY5M,IAAZ,CAAiBlC,WAAjB,EAA8BgC,OAA9B,EAAuC,iBAAvC,CAAjC;;AAEA,aAAK+M,mBAAL,CAAyB,qBAAYC,cAAZ,CACvBF,wBADuB,EAEvBA,yBAAyBxO,YAAzB,GAAwCqB,KAAxC,CAA8C;AAC5CuD,qBAAWW,aAAaF,MAAb,EADiC;AAE5CpE,wBAAc,CAF8B;AAG5C0N,sBAAY;AAHgC,SAA9C,CAFuB,CAAzB;;AASA,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD;;;iCAEaxP,K,EAAO;AACnB;AADmB,UAEXO,WAFW,GAEK,KAAKxN,KAFV,CAEXwN,WAFW;;;AAInB,UAAID,YAAY,gCAAkBN,KAAlB,CAAhB;AACA,UAAI,CAACA,MAAMuG,OAAN,EAAL,EAAsB;AACpB,YAAIkJ,gBAAgBlP,YAAYO,iBAAZ,GAAgC4O,cAAhC,CAA+C1P,MAAMkG,MAAN,EAA/C,CAApB;AACA,YAAIuJ,aAAJ,EAAmB;AACjBnP,sBAAY,gCAAkBmP,aAAlB,CAAZ;AACD;AACF;AACD,6BAAqBnP,SAArB;AACD;;;sCAEkBqP,K,EAAO;AAAA,UAChBpP,WADgB,GACA,KAAKxN,KADL,CAChBwN,WADgB;;AAExB,UAAMe,YAAYf,YAAYM,YAAZ,EAAlB;AACA,UAAMb,QAAQO,YAAYO,iBAAZ,GAAgCC,cAAhC,CAA+CO,UAAUN,WAAV,EAA/C,CAAd;AACA,UAAI2O,UAAU,GAAV,IAAiB3P,MAAMmF,OAAN,OAAoB,QAAzC,EAAmD;AACjD,aAAKyK,gBAAL,CAAsB,aAAtB;AACA,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD;;;2BAEO;AACN,WAAKzR,KAAL,CAAW0R,UAAX,CAAsB,2BAAa,KAAK9c,KAAL,CAAWwN,WAAX,CAAuBO,iBAAvB,EAAb,CAAtB;AACA,WAAKhC,QAAL,CAAc,EAAEiP,UAAU,KAAZ,EAAd;AACD;;;6BAES;AACR;AADQ,UAEA+B,cAFA,GAEmB,KAAK3R,KAFxB,CAEA2R,cAFA;AAGR;;AAHQ,mBAI+C,KAAK3R,KAJpD;AAAA,UAIA4R,YAJA,UAIAA,YAJA;AAAA,UAIcC,qBAJd,UAIcA,qBAJd;AAAA,UAIqC1T,KAJrC,UAIqCA,KAJrC;AAKR;;AALQ,oBAMsC,KAAK6B,KAN3C;AAAA,UAMA8R,WANA,WAMAA,WANA;AAAA,UAMaC,UANb,WAMaA,UANb;AAAA,UAMyBC,QANzB,WAMyBA,QANzB;;;AAQR,UAAMC,gBAAgB,KAAKrd,KAAL,CAAWgb,QAAX,IAAuB,CAACoC,QAAxB,GAClBD,cAAc,EAAEG,SAAS,gBAAX,EADI,GAElB,EAFJ;;AAIA,aACE;AAAA;AAAA,UAAK,WAAU,cAAf,EAA8B,OAAOP,cAArC;AACG,SAACK,QAAD,GACC;AAAA;AAAA;AACE,uBAAU,mBADZ;AAEE,gCAAYH,qBAAZ,IAAmCM,SAAS,KAAKvd,KAAL,CAAWgb,QAAX,GAAsB,OAAtB,GAAgC,MAA5E;AAFF;AAIE;AACE,mBAAOzR,KADT;AAEE,6BAAgB,cAFlB;AAGE,8BAAiB,8CAHnB;AAIE,yBAAa,KAAKvJ,KAAL,CAAWwN,WAJ1B;AAKE,4BAAgB,KAAK+O,mBAAL,CAAyBrM,IAAzB,CAA8B,IAA9B,CALlB;AAME,yBAAa,KAAKkL,KAAL,CAAWlL,IAAX,CAAgB,IAAhB,CANf;AAOE,mBAAO8M;AAPT,YAJF;AAaE,iDAAK,WAAU,SAAf,EAAyB,SAAW,KAAK9Y,IAAhB,MAAW,IAAX,CAAzB;AAbF,SADD,GAgBG,IAjBN;AAkBE;AAAA;AAAA;AACE,uBAAU,QADZ;AAEE,gCAAYgZ,WAAZ,EAA4BG,aAA5B;AAFF;AAIE;AAAA;AAAA,cAAK,SAAS,KAAKjC,KAAL,CAAWlL,IAAX,CAAgB,IAAhB,CAAd;AACE;AACE,mBAAI,QADN;AAEE,wBAAUkN,QAFZ;AAGE,2BAAa,KAAKpd,KAAL,CAAWwN,WAH1B;AAIE,wBAAU,KAAK+O,mBAAL,CAAyBrM,IAAzB,CAA8B,IAA9B,CAJZ;AAKE,4BAAc,KAAKsN,YAAL,CAAkBtN,IAAlB,CAAuB,IAAvB,CALhB;AAME,gCAAkB,KAAK2M,gBAAL,CAAsB3M,IAAtB,CAA2B,IAA3B,CANpB;AAOE,iCAAmB,KAAKuN,iBAAL,CAAuBvN,IAAvB,CAA4B,IAA5B;AAPrB,4CADF;AAWE,mDAAK,OAAO,EAAE,SAAS,MAAX,EAAZ;AAXF,WAJF;AAiBG,WAACkN,QAAD,GACC;AAAA;AAAA;AACE,yBAAU,WADZ;AAEE,qBAAO;AACLG,yBAAS,KAAKvd,KAAL,CAAWgb,QAAX,GAAsB,OAAtB,GAAgC,MADpC;AAELpS,uBAAO,MAFF;AAGL+P,0BAAU;AAHL;AAFT;AAQE;AAAA;AAAA;AACE,2BAAU,oCADZ;AAEE,yBAAW,KAAKzU,IAAhB,MAAW,IAAX;AAFF;AAAA;AAAA,aARF;AAcE;AAAA;AAAA;AACE,2BAAU,+BADZ;AAEE,uBAAO;AACLyU,4BAAU,UADL;AAEL+E,yBAAO;AAFF,iBAFT;AAME,yBAAS,KAAKtS,KAAL,CAAWuS;AANtB;AAQE,mDAAG,WAAU,aAAb;AARF;AAdF,WADD,GA0BG;AA3CN;AAlBF,OADF;AAmED;;;;;;AAGH9C,YAAYhS,SAAZ,GAAwB;AACtBiU,cAAY,oBAAUhT,IADA;AAEtBsT,YAAU,oBAAUvT,IAAV,CAAed,UAFH;AAGtB0H,SAAO,oBAAUmN,GAHK;AAItBrU,SAAO,oBAAUP;AAJK,CAAxB;;AAOA6R,YAAYrS,YAAZ,GAA2B;AACzB4U,YAAU;AADe,CAA3B;;kBAIevC,W;;;;;;;AC7Of,yC;;;;;;;;;;;;;;;;;;;oDCGSnY,O;;;;;;;;;+DACAA,O;;;;;;;;;8DACAA,O;;;;;;;;;8DACAA,O;;;;;;;;;+DACAA,O;;;;;;;;;;;;;;;;;;;;ACPT;;;;AAEA;;;;;;;;;;AAEA,IAAI,mBAAAqS,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,iEAAAA;;IAE1B8I,0B;;;AACJ,wCAAe;AAAA;;AAAA;;AAEb,UAAK7d,KAAL,GAAa,EAAEuI,OAAO,SAAT,EAAb;AAFa;AAGd;;;;uCACsB;AAAA,UAAPuV,GAAO,QAAPA,GAAO;;AACrB,WAAK/R,QAAL,CAAc,EAAExD,OAAOuV,GAAT,EAAd;AACD;;;6BAES;AACR,aACE;AAAA;AAAA;AACE,mCAAsB,gBADxB;AAEE,iBAAO,EAAEP,SAAS,MAAX,EAAmBQ,KAAK,MAAxB,EAAgCL,OAAO,OAAvC,EAFT;AAGE,qBAAU;AAHZ;AAKE;AACE,gBAAK,MADP;AAEE,yCAA4B,OAF9B;AAGE,iBAAO,KAAK1d,KAAL,CAAWuI,KAHpB;AAIE,oBAAY,KAAK0H,YAAjB,MAAY,IAAZ,CAJF;AAKE,qBAAU;AALZ,UALF;AAYE;AACE,yBAAiB,KAAKA,YAAtB,MAAiB,IAAjB,CADF;AAEE,iBAAO,KAAKjQ,KAAL,CAAWuI;AAFpB,UAZF;AAiBE;AAAA;AAAA,YAAK,WAAU,0BAAf;AACE;AAAA;AAAA;AACE,8CAA6B,MAD/B;AAEE,yBAAU;AAFZ;AAAA;AAAA;AADF;AAjBF,OADF;AA4BD;;;;EAtCsC,gBAAMyE,S;;kBAyChC6Q,0B;;;;;;;AC/Cf,yC;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;AAMA;;IAAYG,c;;;;;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAMC,gEAA4B,SAA5BA,yBAA4B;AAAA,MAAGC,oBAAH,QAAGA,oBAAH;AAAA,MAAyBC,uBAAzB,QAAyBA,uBAAzB;AAAA,SACvC;AAAA;AAAA;AACE,+BAAsB,YADxB;AAEE,iBAAU,sBAFZ;AAGE,aAAO,EAAEZ,SAAS,MAAX;AAHT;AAKE;AACE,YAAK,MADP;AAEE,qCAA4B,MAF9B;AAGE,oBAAa,SAHf;AAIE,iBAAU;AAJZ,MALF;AAWE;AAAA;AAAA,QAAG,gCAA6B,MAAhC,EAAuC,WAAU,iBAAjD;AAAA;AAAA,KAXF;AAcE;AAAA;AAAA,QAAM,WAAU,KAAhB;AACE;AACE,cAAK,UADP;AAEE,cAAK,sBAFP;AAGE,kBAAU;AAAA,iBAAKY,wBAAwBhR,EAAEmI,MAAF,CAASwB,OAAT,GAAmB,QAAnB,GAA8B,OAAtD,CAAL;AAAA,SAHZ;AAIE,eAAOoH,oBAJT;AAKE,uCAA4B;AAL9B,QADF;AAQE;AAAA;AAAA,UAAO,SAAQ,sBAAf;AAAA;AAAA;AARF;AAdF,GADuC;AAAA,CAAlC;;AAdP;AACA;AACA;AACA;;;AAyCAD,0BAA0BpV,SAA1B,GAAsC;AACpCqV,wBAAsB,oBAAUlV,MAAV,CAAiBD;AAEzC;AAHsC,CAAtC,CAIA,IAAMkB,kBAAkB,SAAlBA,eAAkB;AAAA,SAAU;AAChCiU,0BAAsBle,MAAMoe,aAAN,CAAoBC,OAApB,CAA4B7O,OAA5B,CAAoC0O;AAD1B,GAAV;AAAA,CAAxB;;kBAIe,yBAAQjU,eAAR,EAAyB+T,cAAzB,EAAyCC,yBAAzC,C;;;;;;;;;;;;;;;;ACxDf;;;;AACA;;;;;;;;;;;;IAEMK,yB;;;AACJ,qCAAalT,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,sJACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa,EAAEue,mBAAmB,IAArB,EAAb;AAF2B;AAG5B;;;;2CAEuBpR,C,EAAG;AACzB,WAAKpB,QAAL,CAAc,EAAEwS,mBAAmBpR,EAAEmI,MAAF,CAAS7E,KAA9B,EAAd;AACD;;;4CAEwB;AACvB;AACA;AACA,yBAASwH,WAAT,CAAqB,KAAKiD,IAAL,CAAUsD,YAA/B,EAA6CrG,KAA7C;AACD;;;6BAES;AACR,aACE;AAAA;AAAA;AACE,mCAAsB,gBADxB;AAEE,iBAAO,EAAEoF,SAAS,MAAX,EAFT;AAGE,qBAAU;AAHZ;AAKE;AAAA;AAAA,YAAO,WAAU,SAAjB,EAA2B,SAAQ,OAAnC,EAA2C,OAAO,EAAEnG,YAAY,MAAd,EAAlD;AAAA;AAAA,SALF;AAQE;AACE,gBAAK,MADP;AAEE,gBAAK,OAFP;AAGE,qBAAU,yBAHZ;AAIE,iBAAO,KAAKpX,KAAL,CAAWue,iBAJpB;AAKE,oBAAY,KAAKE,sBAAjB,MAAY,IAAZ;AALF,UARF;AAeE;AAAA;AAAA;AACE,sCAAuB,YADzB;AAEE,4CAA8B,KAAKze,KAAL,CAAWue,iBAF3C;AAGE,qBAAW,KAAKG,qBAAhB,MAAW,IAAX,CAHF;AAIE,uBAAU,qBAJZ;AAAA;AAAA,SAfF;AAsBE;AAAA;AAAA;AACE,iBAAI,cADN;AAEE,4CAA6B,QAF/B;AAGE,uBAAU,qBAHZ;AAAA;AAAA;AAtBF,OADF;AA+BD;;;;EAhDqC,gBAAM1R,S;;kBAmD/BsR,yB;;;;;;;;;;;;;;;;ACtDf;;;;AACA;;;;;;;;;;;;IAEMK,0B;;;AACJ,sCAAavT,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,wJACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa;AACX4X,aAAO,IADI;AAEX9T,iBAAW;AAFA,KAAb;AAF2B;AAM5B;;;;2CAEuB;AACtB,WAAKiI,QAAL,CAAc,EAAEjI,WAAW,IAAb,EAAd;AACD;;;wCAEoB;AACnB,WAAKiI,QAAL,CAAc,EAAEjI,WAAW,KAAb,EAAd;AACD;;;uCAEmBqJ,C,EAAG;AACrB,WAAKpB,QAAL,CAAc;AACZ6L,eAAOzK,EAAE4K,SAAF,CAAYC,SAAZ,CAAsB,CAAtB,EAAyB7K,EAAE4K,SAAF,CAAYpE,OAAZ,CAAoB,GAApB,CAAzB,CADK;AAEZ7P,mBAAW;AAFC,OAAd;AAID;;;6BAES;AACR,aACE;AAAA;AAAA;AACE,mCAAsB,aADxB;AAEE,iBAAO,EAAEyZ,SAAS,MAAX,EAFT;AAGE,qBAAU;AAHZ;AAKE;AAAA;AAAA;AACE;AACE,uBAAU,2BADZ;AAEE,wBAAelF,QAAQC,GAAR,CAAYC,OAA3B,aAFF;AAGE,oBAAO,SAHT;AAIE,wBAAc,KAAKC,oBAAnB,MAAc,IAAd,CAJF;AAKE,qBAAW,KAAKC,iBAAhB,MAAW,IAAX,CALF;AAME,sBAAY,KAAKZ,kBAAjB,MAAY,IAAZ;AANF,YADF;AASE;AAAA;AAAA;AACE,yBAAU,cADZ;AAEE,qBAAO,EAAE0F,SAAS,KAAKvd,KAAL,CAAW8D,SAAX,GAAuB,cAAvB,GAAwC,MAAnD;AAFT;AAIE,iDAAG,WAAU,kCAAb;AAJF;AATF,SALF;AAsBE,iDAAO,+BAA4B,KAAnC,EAAyC,OAAO,KAAK9D,KAAL,CAAW4X,KAA3D,EAAkE,MAAK,QAAvE,GAtBF;AAuBE;AAAA;AAAA;AACE;AAAA;AAAA,cAAM,WAAU,KAAhB;AAAA;AAAA,WADF;AAEE;AAAA;AAAA;AACE,6CAA4B,WAD9B;AAEE,yBAAU;AAFZ;AAIE,sDAAQ,OAAM,EAAd,GAJF;AAKE;AAAA;AAAA,gBAAQ,OAAM,MAAd;AAAA;AAAA,aALF;AAME;AAAA;AAAA,gBAAQ,OAAM,OAAd;AAAA;AAAA;AANF;AAFF,SAvBF;AAkCE;AAAA;AAAA,YAAG,gCAA6B,MAAhC,EAAuC,WAAU,2BAAjD;AAAA;AAAA,SAlCF;AAmCE;AAAA;AAAA,YAAG,gCAA6B,QAAhC,EAAyC,WAAU,2BAAnD;AAAA;AAAA;AAnCF,OADF;AAuCD;;;;EAhEsC,gBAAM5K,S;;kBAmEhC2R,0B;;;;;;;;;;;;;;;;ACtEf;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;;;AAEA,IAAMC,iCAAiC,SAAjCA,8BAAiC,CAACtN,IAAD,EAAOlJ,SAAP;AAAA,SACrC;AAAA;AAAA;AACE;AAAA;AAAA;AACE,mBAAW,0BAAW,0CAAX,EAAuDA,SAAvD,CADb;AAEE,kCAAuB,UAFzB;AAGE,wCAA8BA;AAHhC;AAKGkJ;AALH;AADF,GADqC;AAAA,CAAvC;;IAYMuN,e;;;;;;;;;;;6BACM;AAAA,mBACiD,KAAKzT,KADtD;AAAA,UACA0T,SADA,UACAA,SADA;AAAA,UACW1W,SADX,UACWA,SADX;AAAA,UACsBM,KADtB,UACsBA,KADtB;AAAA,UAC6B6D,eAD7B,UAC6BA,eAD7B;;;AAGR,aACE;AAAA;AAAA,UAAK,IAAIuS,SAAT,EAAoB,WAAW1W,SAA/B,EAA0C,OAAOM,KAAjD;AACE;AAAA;AAAA,YAAG,0BAAuB,YAA1B,EAAuC,WAAW6D,eAAlD;AACE,+CAAG,WAAU,YAAb;AADF,SADF;AAIE;AAAA;AAAA,YAAG,0BAAuB,YAA1B,EAAuC,WAAWA,eAAlD;AACE,+CAAG,WAAU,cAAb;AADF,SAJF;AAOE;AAAA;AAAA,YAAG,0BAAuB,aAA1B,EAAwC,WAAWA,eAAnD;AACE,+CAAG,WAAU,aAAb;AADF,SAPF;AAUE;AAAA;AAAA,YAAG,0BAAuB,gBAA1B,EAA2C,WAAWA,eAAtD;AACE,+CAAG,WAAU,YAAb;AADF,SAVF;AAaE;AAAA;AAAA,YAAG,0BAAuB,qBAA1B,EAAgD,WAAWA,eAA3D;AACE,+CAAG,WAAU,eAAb;AADF,SAbF;AAgBE;AAAA;AAAA,YAAG,0BAAuB,mBAA1B,EAA8C,WAAWA,eAAzD;AACE,+CAAG,WAAU,eAAb;AADF,SAhBF;AAmBE;AAAA;AAAA,YAAG,0BAAuB,gBAA1B,EAA2C,WAAWA,eAAtD;AACE,+CAAG,WAAU,kBAAb;AADF,SAnBF;AAsBE;AAAA;AAAA,YAAG,0BAAuB,kBAA1B,EAA6C,WAAWA,eAAxD;AACE,+CAAG,WAAU,oBAAb;AADF,SAtBF;AAyBE;AAAA;AAAA,YAAG,0BAAuB,iBAA1B,EAA4C,WAAWA,eAAvD;AACE,+CAAG,WAAU,2BAAb;AADF,SAzBF;AA4BE;AAAA;AAAA,YAAG,0BAAuB,MAA1B,EAAiC,WAAWA,eAA5C;AACE,+CAAG,WAAU,oBAAb;AADF,SA5BF;AA+BE;AAAA;AAAA,YAAG,0BAAuB,MAA1B,EAAiC,WAAWA,eAA5C;AACE,+CAAG,WAAU,sBAAb;AADF,SA/BF;AAkCE;AAAA;AAAA,YAAG,0BAAuB,MAA1B,EAAiC,WAAWA,eAA5C;AACE,+CAAG,WAAU,YAAb;AADF,SAlCF;AAqCE;AAAA;AAAA,YAAG,0BAAuB,QAA1B,EAAmC,WAAWA,eAA9C;AACE,+CAAG,WAAU,cAAb;AADF,SArCF;AAwCE;AAAA;AAAA;AACE,kBAAK,aADP;AAEE,8BAAiB,QAFnB;AAGE,6BAAgB,8BAHlB;AAIE,2BAAc;AAJhB;AAMGqS,yCAA+B,CAA/B,EAAkC,IAAlC,CANH;AAOGA,yCAA+B,EAA/B,EAAmC,IAAnC,CAPH;AAQGA,yCAA+B,EAA/B,EAAmC,IAAnC,CARH;AASGA,yCAA+B,EAA/B,EAAmC,IAAnC,CATH;AAUGA,yCAA+B,EAA/B,EAAmC,IAAnC,CAVH;AAWGA,yCAA+B,EAA/B,EAAmC,IAAnC;AAXH,SAxCF;AAqDE;AAAA;AAAA,YAAG,0BAAuB,gBAA1B,EAA2C,WAAWrS,eAAtD;AACE,+CAAG,WAAU,kBAAb;AADF,SArDF;AAwDE,iFAxDF;AAyDE,gFAzDF;AA0DE,gFA1DF;AA2DE;AA3DF,OADF;AA+DD;;;;EAnE2B,gBAAMS,S;;AAsEpC6R,gBAAgBhW,SAAhB,GAA4B;AAC1BiW,aAAW,oBAAU9V,MADK;AAE1BZ,aAAW,oBAAUY,MAFK;AAG1BN,SAAO,oBAAUO,MAHS;AAI1BsD,mBAAiB,oBAAUvD;AAJD,CAA5B;;kBAOe6V,e;;;;;;;;;;;;;;;;;;;kDCpGNnc,O;;;;;;;;;4CACAA,O;;;;;;;;;;;;;;;;;;;;ACDT;;;;AACA;;;;;;;;;;;;IAEMqc,O;;;;;;;;;;;yCACkB;AACpB,UAAI,gBAAM/J,SAAV,EAAqB;AACnB,YAAM+D,SAASiG,SAASC,aAAT,CAAuB,QAAvB,CAAf;AACAlG,eAAOvZ,IAAP,GAAc,iBAAd;AACAuZ,eAAOQ,GAAP,GAAa,uCAAb;AACAR,eAAOmG,KAAP,GAAe,IAAf;AACAF,iBAASzd,IAAT,CAAc4d,WAAd,CAA0BpG,MAA1B;AACD;AACF;;;6BAES;AACR,aAAO,2CAAP;AACD;;;;;;kBAGYgG,O;;;;;;;;;;;;;;;;ACnBf;;;;AACA;;;;;;;;;;;;IAEMK,a;;;;;;;;;;;yCACkB;AACpB,UAAI,gBAAMpK,SAAV,EAAqB;AACnB,YAAM+D,SAASiG,SAASC,aAAT,CAAuB,QAAvB,CAAf;AACAlG,eAAOvZ,IAAP,GAAc,iBAAd;AACAuZ,eAAOrM,IAAP;AAWAsS,iBAASzd,IAAT,CAAc4d,WAAd,CAA0BpG,MAA1B;AACD;AACF;;;6BAES;AACR,aAAO,2CAAP;AACD;;;;;;kBAGYqG,a;;;;;;;;;;;;;AC5BR,IAAMC,0EAAiC,gCAAvC;AACA,IAAMC,kEAA6B,SAA7BA,0BAA6B;AAAA,SAAS,EAAE9f,MAAM6f,8BAAR,EAAwC7X,UAAxC,EAAT;AAAA,CAAnC,C;;;;;;;;;;;;;;;;;ACDP;;AAEO,IAAM9H,sCAAe;AAC1B8H,QAAM;;AAGR;AACA;AACA;AACA;AACA;AAR4B,CAArB,CASP,IAAM+X,6BAA6B,SAA7BA,0BAA6B,GAAuC;AAAA,MAAtCvf,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACxE,UAAQA,OAAOT,IAAf;AACE;AACE,0BAAYQ,KAAZ,IAAmBwH,MAAMvH,OAAOuH,IAAhC;AACF;AACE,aAAOxH,KAAP;AAJJ;AAMD,CAPD;;kBASeuf,0B;;;;;;;;;;;;;;;;ACpBf;;;;AACA;;;;AACA;;;;;;AAEA,IAAMlc,QAAQ,SAARA,KAAQ;AAAA,MAAGmc,OAAH,QAAGA,OAAH;AAAA,MAAYC,OAAZ,QAAYA,OAAZ;AAAA,MAAqB1L,MAArB,QAAqBA,MAArB;AAAA,SACZ;AAAA;AAAA;AACE,iBAAW,0BAAW,sDAAX,EAAmE0L,OAAnE,CADb;AAEE,0BAAY1L,MAAZ,CAFF;AAGGyL;AAHH,GADY;AAAA,CAAd;;AAQAnc,MAAMwF,SAAN,GAAkB;AAChB2W,WAAS,oBAAUxW,MAAV,CAAiBD,UADV;AAEhB0W,WAAS,oBAAUzV,KAFH;AAGhB+J,UAAQ,oBAAU9K;AAHF,CAAlB;;AAMA5F,MAAMmF,YAAN,GAAqB;AACnBiX,WAAS,EADU;AAEnB1L,UAAQ,EAAE7L,iBAAiB,SAAnB,EAA8BwX,aAAa,KAA3C;AAFW,CAArB;;kBAKerc,K;;;;;;;;;;;;;;;;;;;0CCvBNX,O;;;;;;;;;0CACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;;;;;;;;;;ACFT;;;;AACA;;;;AACA;;;;;;AAEA,IAAMid,eAAe,SAAfA,YAAe,OAAsC;AAAA,MAAnCC,SAAmC,QAAnCA,SAAmC;AAAA,MAAxB/S,MAAwB,QAAxBA,MAAwB;AAAA,MAAhBzE,SAAgB,QAAhBA,SAAgB;;AACzD,MAAMyX,OAAOD,YAAY/S,MAAzB;;AAEA,SACE;AAAA;AAAA,MAAM,WAAW,0BAAWzE,SAAX,EAAsB,EAAE0X,KAAKD,OAAO,EAAd,EAAtB,CAAjB;AACGA;AADH,GADF;AAKD,CARD;;AAUAF,aAAa9W,SAAb,GAAyB;AACvB+W,aAAW,oBAAU9W,MAAV,CAAiBC,UADL;AAEvB8D,UAAQ,oBAAU/D,MAFK;AAGvBV,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUC,KAAX,EAAkB,oBAAUhB,MAA5B,CAApB;AAHY,CAAzB;;kBAMe2W,Y;;;;;;;;;;;;;;ACpBf;;;;AACA;;;;AACA;;;;;;AAEA,IAAMI,QAAQ,SAARA,KAAQ;AAAA,MAAGC,GAAH,QAAGA,GAAH;AAAA,MAAQxgB,IAAR,QAAQA,IAAR;AAAA,MAAcygB,KAAd,QAAcA,KAAd;AAAA,MAAqBC,WAArB,QAAqBA,WAArB;AAAA,MAAkCpL,QAAlC,QAAkCA,QAAlC;AAAA,MAA4CqL,QAA5C,QAA4CA,QAA5C;AAAA,MAAsDC,IAAtD,QAAsDA,IAAtD;AAAA,MAA4DX,OAA5D,QAA4DA,OAA5D;AAAA,SACZ;AAAA;AAAA,MAAK,WAAU,gBAAf,EAAgC,OAAO,EAAElC,SAAS,CAAC6C,IAAD,GAAQ,MAAR,GAAiB,OAA5B,EAAvC;AACE;AAAA;AAAA;AACE,mBAAU,kCADZ;AAEE,eAAO;AACLhL,oBAAU,QADL;AAELiL,sBAAY,GAFP;AAGLC,wBAAc,MAHT;AAIL/X,iBAAO;AAJF;AAFT;AASG0X,WATH;AASUE,iBAAW,IAAX,GAAkB;AAT5B,KADF;AAYE;AACE,UAAI,WAAWH,GADjB;AAEE,iBAAW,0BAAW,kCAAX,EAA+CP,OAA/C,CAFb;AAGE,gBAAU3K,QAHZ;AAIE,mBAAaoL,WAJf;AAKE,YAAM1gB,IALR;AAME,gBAAU2gB;AANZ;AAZF,GADY;AAAA,CAAd;;AAwBAJ,MAAMlX,SAAN,GAAkB;AAChBmX,OAAK,oBAAUhX,MAAV,CAAiBD,UADN;AAEhBvJ,QAAM,oBAAUwJ,MAAV,CAAiBD,UAFP;AAGhBkX,SAAO,oBAAUjX,MAAV,CAAiBD,UAHR;AAIhBmX,eAAa,oBAAUlX,MAAV,CAAiBD,UAJd;AAKhB+L,YAAU,oBAAUhL,IAAV,CAAef,UALT;AAMhBoX,YAAU,oBAAUtW,IANJ;AAOhBuW,QAAM,oBAAUvW,IAPA;AAQhB4V,WAAS,oBAAU1V,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB;AARO,CAAlB;;AAWA+V,MAAMvX,YAAN,GAAqB;AACnBsM,YAAU,oBAAM,CAAE,CADC;AAEnBqL,YAAU,KAFS;AAGnBC,QAAM,IAHa;AAInBX,WAAS;AAJU,CAArB;;kBAOeM,K;;;;;;;;;;;;;;AC9Cf;;;;;;AAEA,IAAMQ,SAAS,SAATA,MAAS;AAAA,MAAG5U,QAAH,QAAGA,QAAH;AAAA,MAAanM,IAAb,QAAaA,IAAb;AAAA,MAAmB4I,SAAnB,QAAmBA,SAAnB;AAAA,MAA8BoY,QAA9B,QAA8BA,QAA9B;AAAA,MAAwCC,UAAxC,QAAwCA,UAAxC;AAAA,SACb;AAAA;AAAA;AACE,YAAMjhB,IADR;AAEE,iBAAW4I,SAFb;AAGE,gBAAU5I,SAAS,QAAT,GAAoBghB,YAAYC,UAAhC,GAA6C;AAHzD;AAKG9U;AALH,GADa;AAAA,CAAf;;AAUA4U,OAAO/X,YAAP,GAAsB;AACpBhJ,QAAM;AADc,CAAtB;;kBAIe+gB,M;;;;;;;;;;;;;;;AChBf;;;;;;AAEO,IAAMnU,sCAAe,SAAfA,YAAe,CAACT,QAAD,EAAWP,KAAX,EAAqB;AAC/C,MAAIO,SAASkB,MAAT,GAAkB,CAAtB,EAAyB;AACvB,WAAOlB,SAASlE,GAAT,CAAa;AAAA,aAAS,gBAAM2E,YAAN,CAAmBF,KAAnB,EAA0Bd,KAA1B,CAAT;AAAA,KAAb,CAAP;AACD;AACD,SAAO,gBAAMgB,YAAN,CAAmBT,QAAnB,EAA6BP,KAA7B,CAAP;AACD,CALM,C;;;;;;;;;;;;;;;;;;;;ACFP;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEM9B,W;;;;;;;;;;;4BACKf,K,EAAO;AACd,UAAI,QAAOA,KAAP,yCAAOA,KAAP,OAAiB,QAArB,EAA+B;AAAA,yBACGA,KADH,CACrBsH,GADqB;AAAA,YACdqB,CADc,cACdA,CADc;AAAA,YACXC,CADW,cACXA,CADW;AAAA,YACRC,CADQ,cACRA,CADQ;AAAA,YACLC,CADK,cACLA,CADK;;AAE7B,yBAAeH,CAAf,SAAoBC,CAApB,SAAyBC,CAAzB,SAA8BC,CAA9B;AACD,OAHD,MAGO,IAAI,OAAO9I,KAAP,KAAiB,QAArB,EAA+B;AACpC,YAAMmY,QAAQ,4DAAd;AACA,YAAMC,OAAOpY,MAAMqY,KAAN,CAAYF,KAAZ,CAAb;AACA,YAAIC,IAAJ,EAAU;AACR,iBAAO,EAAEzP,GAAGyP,KAAK,CAAL,CAAL,EAAcxP,GAAGwP,KAAK,CAAL,CAAjB,EAA0BvP,GAAGuP,KAAK,CAAL,CAA7B,EAAsCtP,GAAGsP,KAAK,CAAL,CAAzC,EAAP;AACD;AACF;AACD,aAAOpY,KAAP;AACD;;;6BAES;AAAA;;AACR,UAAMsY,YAAY,KAAKhV,OAAL,CAAaiV,UAA/B;;AADQ,iBAEoBD,aAAa,EAFjC;AAAA,UAEApQ,KAFA,QAEAA,KAFA;AAAA,UAEOqE,QAFP,QAEOA,QAFP;;AAAA,mBAGwB,KAAK1J,KAH7B;AAAA,UAGAhD,SAHA,UAGAA,SAHA;AAAA,UAGcgD,KAHd;;AAKR,aACE;AAAA;AAAA,UAAK,WAAW,0BAAW,SAAX,EAAsBhD,SAAtB,CAAhB;AACE,0EACMgD,KADN;AAEE,yBAAe;AAAA,mBAAS0J,SAAS,OAAKiM,OAAL,CAAaxY,KAAb,CAAT,CAAT;AAAA,WAFjB;AAGE,iBAAO,KAAKwY,OAAL,CAAatQ,KAAb;AAHT;AADF,OADF;AASD;;;;;;AAGHnH,YAAY0X,YAAZ,GAA2B;AACzBF,cAAY,oBAAU7X;AADG,CAA3B;;AAIAK,YAAYT,SAAZ,GAAwB;AACtB1I,YAAU,oBAAU2J,IAAV,CAAef,UADH;AAEtBQ,SAAO,oBAAUP,MAFK;AAGtBZ,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB;AAHW,CAAxB;;kBAMeV,W;;;;;;;;;;;;;;;;;AC/Cf;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;IAEa2X,c,WAAAA,c;;;;;;;;;;;6BACD;AAAA,gCACgD,KAAKpV,OADrD,CACAqV,UADA;AAAA,UACcC,WADd,uBACcA,WADd;AAAA,UAC2BC,cAD3B,uBAC2BA,cAD3B;AAAA,mBAEoE,KAAKhW,KAFzE;AAAA,UAEAiW,QAFA,UAEAA,QAFA;AAAA,UAEUZ,UAFV,UAEUA,UAFV;AAAA,UAEsBa,SAFtB,UAEsBA,SAFtB;AAAA,UAEiCC,KAFjC,UAEiCA,KAFjC;AAAA,UAEwCC,UAFxC,UAEwCA,UAFxC;AAAA,UAEoDC,KAFpD,UAEoDA,KAFpD;AAAA,UAE2DpgB,IAF3D,UAE2DA,IAF3D;;AAGR,aACE;AAAA;AAAA,UAAK,WAAW,0BACZ,iBADY,EAEZmgB,aAAa,kBAAb,GAAkC,oBAFtB,CAAhB;AAIGH,oBACC;AAAA;AAAA;AACE,uBAAU,mDADZ;AAEE,qBAASA;AAFX;AAIE;AACE,gBAAG,oCADL;AAEE,4BAAe;AAFjB;AAJF,SALJ;AAeE;AACE,gBAAK,QADP;AAEE,qBAAW,0BACT,iCADS,EAET,CAACI,KAAD,GAAS,WAAT,GAAuB,YAFd,EAGTJ,WAAW,WAAX,GAAyB,YAHhB,CAFb;AAOE,oBAAU,CAACI,KAAD,IAAUhB,UAAV,IAAwB,CAACc,KAPrC;AAQE,iBAAQd,aACJpf,KAAK6B,aAAL,CAAmB;AACnBvB,gBAAI,gDADe;AAEnBwB,4BAAgB;AAFG,WAAnB,CADI,GAKJge,eAAe9f,KAAK6B,aAAL,CAAmB;AAClCvB,gBAAI,iDAD8B;AAElCwB,4BAAgB;AAFkB,WAAnB;AAbrB,UAfF;AAkCGme,qBAAa,CAAC,CAACF,cAAf,IACC;AAAA;AAAA,YAAK,WAAU,kCAAf;AACGA,wBADH;AAEE,+CAAG,WAAU,0BAAb;AAFF;AAnCJ,OADF;AA2CD;;;;;;AAGHH,eAAeD,YAAf,GAA8B;AAC5BE,cAAY,oBAAUjY;AADM,CAA9B;;AAIAgY,eAAepY,SAAf,GAA2B;AACzB4X,cAAY,oBAAU5W,IADG;AAEzByX,aAAW,oBAAUzX,IAAV,CAAed,UAFD;AAGzBwY,SAAO,oBAAU1X,IAHQ;AAIzB4X,SAAO,oBAAU5X,IAJQ;AAKzB2X,cAAY,oBAAU3X,IAAV,CAAed,UALF;AAMzB1H,QAAM,qBAAU0H;AANS,CAA3B;;AASAkY,eAAezY,YAAf,GAA8B;AAC5BgZ,cAAY;AADgB,CAA9B;;kBAIe,2BAAWP,cAAX,C;;;;;;;;;;;;;;;;;;ACxEf;;;;AACA;;;;AACA;;;;AAGA;;AAGA;;;;;;;;;;;;AAJA;;;AAGA;;;IAGMS,Y;;;;;;;;;;;6BACM;AACR,UAAMb,YAAY,KAAKhV,OAAL,CAAaiV,UAA/B;AACA,UAAMa,YAAYd,aAAaA,UAAUc,SAAzC;AACA,UAAM1d,QAAQ4c,aAAaA,UAAU5c,KAArC;AACA,UAAM2d,UAAUf,aAAaA,UAAUe,OAAvC;;AAJQ,mBAM6E,KAAKxW,KANlF;AAAA,UAMAO,QANA,UAMAA,QANA;AAAA,kCAMUkW,OANV;AAAA,UAMUA,OANV,kCAMoBF,SANpB;AAAA,UAM+BvZ,SAN/B,UAM+BA,SAN/B;AAAA,UAM0CwX,SAN1C,UAM0CA,SAN1C;AAAA,UAMqDkC,SANrD,UAMqDA,SANrD;AAAA,UAMmE1W,KANnE;;AAQR,aACE;AAAA;AAAA,mBAAO,OAAO,EAAE+L,QAAQ,SAAV,EAAd,EAAqC,SAAS0K,OAA9C,IAA2DzW,KAA3D;AACE;AAAA;AAAA,YAAM,WAAW,0BAAW,MAAX,EAAmBhD,SAAnB,CAAjB;AAAiDuD;AAAjD,SADF;AAEG,SAACiU,SAAD,GAAa,IAAb,GACC;AACE,qBAAU,eADZ;AAEE,qBAAWA,SAFb;AAGE,kBAAQiB,UAAUpQ,KAAV,GAAkBoQ,UAAUpQ,KAAV,CAAgB5D,MAAlC,GAA2C;AAHrD,UAHJ;AASG5I,iBAAS2d,OAAT,IAAoB,CAACE,SAArB,IAAkC,yCAAO,OAAO7d,KAAd;AATrC,OADF;AAaD;;;;;;AAGHyd,aAAaV,YAAb,GAA4B;AAC1BF,cAAY,oBAAU7X;AADI,CAA5B;;AAIAyY,aAAa7Y,SAAb,GAAyB;AACvBgZ,WAAS,oBAAU7Y;AADI,CAAzB;;kBAIe0Y,Y;;;;;;;;;;;;;;;;;;AC3Cf;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;;;;;AAEA,IAAMK,oBAAoB,CAAC,OAAD,EAAU,UAAV,EAAsB,QAAtB,CAA1B;;IAEMC,W;;;;;;;;;;;6BACM;AAAA,mBAWJ,KAAK5W,KAXD;AAAA,UAEU4B,SAFV,UAENiV,cAFM;AAAA,UAGNC,kBAHM,UAGNA,kBAHM;AAAA,UAIN9Z,SAJM,UAINA,SAJM;AAAA,UAKNM,KALM,UAKNA,KALM;AAAA,UAMN4Y,SANM,UAMNA,SANM;AAAA,UAONa,SAPM,UAONA,SAPM;AAAA,UAQNxW,QARM,UAQNA,QARM;AAAA,UASN6D,OATM,UASNA,OATM;AAAA,UAUHpE,KAVG;;AAAA,qBAeJ,KAAKS,OAfD;AAAA,yCAaNqV,UAbM;AAAA,UAaQM,UAbR,uBAaQA,UAbR;AAAA,UAaoBf,UAbpB,uBAaoBA,UAbpB;AAAA,UAagCc,KAbhC,uBAagCA,KAbhC;AAAA,yCAcNT,UAdM;AAAA,UAcQa,SAdR,uBAcQA,SAdR;AAAA,UAcsBS,KAdtB;;AAiBR,UAAMC,aAAaC,OAAOC,MAAP,CAAc,EAAd,EAAkBH,KAAlB,CAAnB;AACA,UAAIL,kBAAkBpO,OAAlB,CAA0B3G,SAA1B,MAAyC,CAAC,CAA9C,EAAiD;AAC/C,eAAOqV,WAAWG,MAAlB;AACA,eAAOH,WAAWpe,KAAlB;AACA,eAAOoe,WAAWT,OAAlB;AACA,eAAOS,WAAWZ,KAAlB;AACD;;AAED,aACE;AAAA;AAAA,UAAK,WAAW,0BACdS,kBADc,EAEdC,cAAcne,SAAd,GAA0B,aAA1B,GAA0C,EAF5B,CAAhB;AAIE;AAAC,mBAAD;AAAA,uBACMoH,KADN,EAEMiX,UAFN;AAGE,gBAAIV,SAHN;AAIE,uBAAW,0BACT,uCADS,EAET3U,SAFS,EAGTwU,aAAa,cAAb,GAA8B,EAHrB,EAITW,cAAcne,SAAd,GAA0B,0BAA1B,GAAuD,EAJ9C,EAKToE,SALS,CAJb;AAWE,mBAAOM;AAXT;AAaGiD;AAbH,SAJF;AAmBGwW,qBAAa;AAAA;AAAA,YAAM,WAAU,YAAhB;AAA8BA;AAA9B,SAnBhB;AAoBG3S,eApBH;AAqBGgS,sBACC,gDAAoB,EAAEF,oBAAF,EAAab,sBAAb,EAAyBc,YAAzB,EAAgCkB,YAAY,KAA5C,EAAmDjB,sBAAnD,EAApB;AAtBJ,OADF;AA2BD;;;;;;AAGHQ,YAAYhB,YAAZ,GAA2B;AACzBE,cAAY,oBAAUtL,KAAV,CAAgB;AAC1B4L,gBAAY,oBAAU3X,IADI;AAE1B4W,gBAAY,oBAAU5W,IAFI;AAG1B0X,WAAO,oBAAU1X;AAHS,GAAhB,CADa;AAMzBiX,cAAY,oBAAUlL,KAAV,CAAgB;AAC1B+L,eAAW,oBAAU3Y;AADK,GAAhB;AANa,CAA3B;;AAWAgZ,YAAYnZ,SAAZ,GAAwB;AACtByY,aAAW,oBAAUzX,IAAV,CAAed,UADJ;AAEtBkZ,kBAAgB,oBAAUjZ,MAAV,CAAiBD,UAFX;AAGtBL,SAAO,oBAAUO;AAHK,CAAxB;;AAMA+Y,YAAYxZ,YAAZ,GAA2B;AACzByZ,kBAAgB,OADS;AAEzBX,aAAW;AAFc,CAA3B;;kBAKeU,W;;;;;;;;;;;;;;;;;;ACtFf;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEMU,Y;;;;;;;;;;;6BACM;AACR,UAAM7B,YAAY,KAAKhV,OAAL,CAAaiV,UAA/B;;AADQ,iBAEwBD,aAAa,EAFrC;AAAA,UAEAc,SAFA,QAEAA,SAFA;AAAA,UAEcS,KAFd;;AAAA,mBAGkC,KAAKhX,KAHvC;AAAA,UAGAhD,SAHA,UAGAA,SAHA;AAAA,UAGWuD,QAHX,UAGWA,QAHX;AAAA,UAGwBP,KAHxB;;AAKR,aAAOgX,MAAMI,MAAb;AACA,aAAOJ,MAAMne,KAAb;AACA,aAAOme,MAAMR,OAAb;AACA,aAAOQ,MAAMX,KAAb;;AAEA,aACE;AAAA;AAAA;AACE,cAAIE,SADN;AAEE,qBAAW,0BAAW,eAAX,EAA4BvZ,SAA5B;AAFb,WAGMga,KAHN,EAIMhX,KAJN;AAMG,SAAC,CAACO,QAAF,IAAcA;AANjB,OADF;AAUD;;;;;;AAGH+W,aAAa1B,YAAb,GAA4B;AAC1BF,cAAY,oBAAU7X;AADI,CAA5B;;AAIAyZ,aAAa7Z,SAAb,GAAyB;AACvBlH,MAAI,oBAAUqH,MADS;AAEvBZ,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUC,KAAX,EAAkB,oBAAUhB,MAA5B,CAApB;AAFY,CAAzB;;kBAKe0Z,Y;;;;;;;;;;;;;;;;ACrCf;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMC,S;;;;;;;;;;;6BACM;AAAA,UACc1e,KADd,GAC0B,KAAK4H,OAD/B,CACAqV,UADA,CACcjd,KADd;AAAA,UAEAmE,SAFA,GAEc,KAAKgD,KAFnB,CAEAhD,SAFA;;;AAIR,aAAO,CAACnE,KAAD,GAAS,IAAT,GACL;AAAA;AAAA,UAAK,WAAW,0BAAW,qCAAX,EAAkDmE,SAAlD,CAAhB;AACGnE;AADH,OADF;AAKD;;;;;;AAGH0e,UAAU3B,YAAV,GAAyB;AACvBE,cAAY,oBAAUjY;AADC,CAAzB;;AAIA0Z,UAAU9Z,SAAV,GAAsB;AACpBT,aAAW,oBAAUY;AADD,CAAtB;;kBAIe2Z,S;;;;;;;;;;;;;;;;ACzBf;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMC,S;;;;;;;;;;;sCACe;AAAA,mBAC6D,KAAKxX,KADlE;AAAA,UACTuW,SADS,UACTA,SADS;AAAA,UACEa,MADF,UACEA,MADF;AAAA,UACU/R,KADV,UACUA,KADV;AAAA,UACiBqE,QADjB,UACiBA,QADjB;AAAA,UAC2B+N,MAD3B,UAC2BA,MAD3B;AAAA,UACmC5e,KADnC,UACmCA,KADnC;AAAA,UAC0C2d,OAD1C,UAC0CA,OAD1C;AAAA,UACmDH,KADnD,UACmDA,KADnD;;AAEjB,aAAO;AACLX,oBAAY,EAAEa,oBAAF,EAAaa,cAAb,EAAqB/R,YAArB,EAA4BqE,kBAA5B,EAAsC+N,cAAtC,EAA8C5e,YAA9C,EAAqD2d,gBAArD,EAA8DH,YAA9D;AADP,OAAP;AAGD;;;6BAES;AAAA,oBACuC,KAAKrW,KAD5C;AAAA,UACAO,QADA,WACAA,QADA;AAAA,UACUvD,SADV,WACUA,SADV;AAAA,UACqBoa,MADrB,WACqBA,MADrB;AAAA,UAC6B9Z,KAD7B,WAC6BA,KAD7B;;AAER,UAAMoa,aAAaN,WAAW,QAAX,GAAsB,EAAEO,cAAc,MAAhB,EAAtB,GAAiD,EAApE;;AAEA,aACE;AAAA;AAAA;AACE,qBAAW,0BAAW,YAAX,EAAyB3a,SAAzB,CADb;AAEE,iBAAOka,OAAOC,MAAP,CAAcO,UAAd,EAA0Bpa,KAA1B;AAFT;AAIGiD;AAJH,OADF;AAQD;;;;;;AAGHiX,UAAU5B,YAAV,GAAyB;AACvBE,cAAY,oBAAUjY;AADC,CAAzB;;AAIA2Z,UAAU/Z,SAAV,GAAsB;AACpB8Y,aAAW,oBAAU3Y,MADD;AAEpBZ,aAAW,oBAAUY,MAFD;AAGpB/E,SAAO,oBAAU+E,MAHG;AAIpB4Y,WAAS,oBAAU/X,IAJC;AAKpB2Y,UAAQ,oBAAUQ,KAAV,CAAgB,CAAC,QAAD,EAAW,OAAX,CAAhB;AALY,CAAtB;;AAQAJ,UAAUpa,YAAV,GAAyB;AACvBga,UAAQ;AADe,CAAzB;;AAIAI,UAAUK,iBAAV,GAA8B;AAC5BnC,cAAY,oBAAU7X,MAAV,CAAiBF;AADD,CAA9B;;kBAIe6Z,S;;;;;;;;;;;;;;;;;;AC/Cf;;;;AACA;;;;AACA;;;;AAGA;;;;;;;;;;;;AADA;;;AAEA,IAAI,mBAAA7N,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,0CAAAA;;IAE1BmO,S;;;AACJ,qBAAa9X,KAAb,EAAoB;AAAA;;AAAA,sHACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa,EAAEshB,WAAW,KAAb,EAAb;AAFkB;AAGnB;;;;8CAE0B1R,S,EAAW;AAAA,mBACsB,KAAKxE,KAD3B;AAAA,UAC5B+X,cAD4B,UAC5BA,cAD4B;AAAA,UACZ1C,UADY,UACZA,UADY;AAAA,UACA2C,iBADA,UACAA,iBADA;;AAEpC,UAAMC,0BACJ5C,cACA,CAAC7Q,UAAU6Q,UADX,IAEA,CAAC7Q,UAAU0T,YAHb;AAKA,UAAMC,yBAAyB,CAACH,iBAAD,IAAsBxT,UAAUwT,iBAA/D;;AAEA,UAAIC,2BAA2BE,sBAA/B,EAAuD;AACrD,aAAKxX,QAAL,CAAc,EAAEuV,WAAW,IAAb,EAAd;AACA6B,0BAAkBA,gBAAlB;AACD;AACF;;;sCAEkB;AAAA,oBACwC,KAAK/X,KAD7C;AAAA,UACToY,MADS,WACTA,MADS;AAAA,UACDrC,WADC,WACDA,WADC;AAAA,UACYC,cADZ,WACYA,cADZ;AAAA,UAC+BpF,IAD/B;;AAEjB,aAAO;AACLkF,iCACKlF,IADL;AAEEwF,sBAAYgC,MAFd;AAGErC,kCAHF;AAIEC,wCAJF;AAKEE,qBAAW,KAAKthB,KAAL,CAAWshB;AALxB;AADK,OAAP;AASD;;;6BAES;AAAA,oBAeJ,KAAKlW,KAfD;AAAA,UAENO,QAFM,WAENA,QAFM;AAAA,UAGN8X,QAHM,WAGNA,QAHM;AAAA,UAINC,MAJM,WAINA,MAJM;AAAA,UAKNC,YALM,WAKNA,YALM;AAAA,UAMNlD,UANM,WAMNA,UANM;AAAA,UAONc,KAPM,WAONA,KAPM;AAAA,UAQNE,KARM,WAQNA,KARM;AAAA,UASN+B,MATM,WASNA,MATM;AAAA,UAUNpb,SAVM,WAUNA,SAVM;AAAA,UAWN+Y,WAXM,WAWNA,WAXM;AAAA,UAYNyC,QAZM,WAYNA,QAZM;AAAA,UAaNlb,KAbM,WAaNA,KAbM;AAAA,UAcN2Y,QAdM,WAcNA,QAdM;AAAA,UAgBAC,SAhBA,GAgBc,KAAKthB,KAhBnB,CAgBAshB,SAhBA;;;AAkBR,aACE;AAAA;AAAA;AACE,iBAAO5Y,KADT;AAEE,oBAAUib,aAAaD,UAAUD,QAAvB,CAFZ;AAGE,qBAAW,0BACT,iBADS,EAETtC,cAAc,WAAd,GAA4B,IAFnB,EAGT/Y,aAAa,aAHJ;AAHb;AASGuD,gBATH;AAUG,SAAC6X,MAAD,IAAW,CAACI,QAAZ,IAAwB,gDAAoB,EAAEtC,oBAAF,EAAab,sBAAb,EAAyBc,YAAzB,EAAgCE,YAAhC,EAAuCJ,kBAAvC,EAApB;AAV3B,OADF;AAcD;;;;;;AAGH6B,UAAUra,SAAV,GAAsB;AACpBT,aAAW,oBAAUY,MADD;AAEpBya,YAAU,oBAAU3Z,IAFA;AAGpB4Z,UAAQ,oBAAU5Z,IAHE;AAIpB;AACA6Z,gBAAc,oBAAU7Z,IAAV,CAAef,UALT;AAMpB0X,cAAY,oBAAU5W,IAAV,CAAed,UANP;AAOpBua,gBAAc,oBAAUzZ,IAAV,CAAed,UAPT;AAQpBwY,SAAO,oBAAU1X,IAAV,CAAed,UARF;AASpB0Y,SAAO,oBAAU5X,IAAV,CAAed,UATF;AAUpBya,UAAQ,oBAAU3Z,IAAV,CAAed,UAVH;AAWpBoY,eAAa,oBAAUnY,MAAV,CAAiBD,UAXV;AAYpBqY,kBAAgB,oBAAUpY;AAZN,CAAtB;;AAeAka,UAAU1a,YAAV,GAAyB;AACvBiY,cAAY,KADW;AAEvB+C,UAAQ,KAFe;AAGvBpb,aAAW,EAHY;AAIvB+Y,eAAa;AAJU,CAAzB;;AAOA+B,UAAUD,iBAAV,GAA8B;AAC5B/B,cAAY,oBAAUjY,MAAV,CAAiBF;AADD,CAA9B;;kBAIema,S;;;;;;;ACvGf,yC;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AAEA,IAAMW,OAAO,SAAPA,IAAO,OAAsD;AAAA,MAAnDlY,QAAmD,QAAnDA,QAAmD;AAAA,MAAzCgY,YAAyC,QAAzCA,YAAyC;AAAA,MAA3BnD,QAA2B,QAA3BA,QAA2B;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AACjE,SACE;AAAA;AAAA,MAAM,UAAUkD,YAAhB;AACGhY,gBAAY,gCAAaA,QAAb,EAAuB,EAAE6U,kBAAF,EAAYC,sBAAZ,EAAvB;AADf,GADF;AAKD,CAND;;kBAQeoD,I;;;;;;;;;;;;;;ACXf;;;;AACA;;;;AACA;;;;;;AAEA,IAAMC,YAAY,SAAZA,SAAY;AAAA,MAAGnY,QAAH,QAAGA,QAAH;AAAA,MAAavD,SAAb,QAAaA,SAAb;AAAA,SAChB;AAAA;AAAA,MAAK,WAAW,0BAAW,WAAX,EAAwBA,SAAxB,CAAhB;AACE;AAAA;AAAA,QAAO,WAAU,OAAjB;AACE;AAAA;AAAA;AAAMuD;AAAN;AADF;AADF,GADgB;AAAA,CAAlB;;AAQAmY,UAAUjb,SAAV,GAAsB;AACpBT,aAAW,oBAAUY;AADD,CAAtB;;kBAIe8a,S;;;;;;;;;;;;;;;;;;;gDChBNphB,O;;;;;;;;;mDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;gDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;+CACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;mDACAA,O;;;;;;;;;qDACAA,O;;;;;;;;;yCACAA,O;;;;;;;;;2CACAA,O;;;;;;;;;;;;;;;;;;;;AChBT;;;;;;AAEA,IAAMqd,QAAQ,SAARA,KAAQ;AAAA,MAAGrH,KAAH,QAAGA,KAAH;AAAA,MAAUuH,KAAV,QAAUA,KAAV;AAAA,MAAiBC,WAAjB,QAAiBA,WAAjB;AAAA,MAA8B1gB,IAA9B,QAA8BA,IAA9B;AAAA,uBAAoCukB,IAApC;AAAA,MAA4CnC,OAA5C,aAA4CA,OAA5C;AAAA,MAAqD3d,KAArD,aAAqDA,KAArD;AAAA,MAA4D+f,OAA5D,aAA4DA,OAA5D;AAAA,SACZ;AAAA;AAAA;AACG/D,aAAS;AAAA;AAAA;AAAQA;AAAR,KADZ;AAEE,wDAAWvH,KAAX,IAAkB,MAAMlZ,IAAxB,EAA8B,aAAa0gB,WAA3C,IAFF;AAGG0B,gBAAa3d,SAAS;AAAA;AAAA;AAAOA;AAAP,KAAV,IAAoC+f,WAAW;AAAA;AAAA;AAAOA;AAAP,KAA3D;AAHH,GADY;AAAA,CAAd;;kBAQejE,K;;;;;;;;;;;;;;;;;;ACVf;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEMkE,U;;;;;;;;;;;6BACM;AACR,UAAMpD,YAAY,KAAKhV,OAAL,CAAaiV,UAA/B;;AADQ,iBAEoBD,aAAa,EAFjC;AAAA,UAEApQ,KAFA,QAEAA,KAFA;AAAA,UAEU2R,KAFV;;AAAA,mBAGuC,KAAKhX,KAH5C;AAAA,UAGAO,QAHA,UAGAA,QAHA;AAAA,UAGUvD,SAHV,UAGUA,SAHV;AAAA,UAGqBoa,MAHrB,UAGqBA,MAHrB;AAAA,UAG6B9Z,KAH7B,UAG6BA,KAH7B;;;AAKR,aACE;AAAA;AAAA,UAAG,WAAW,0BAAW,KAAX,EAAkBN,SAAlB,CAAd,EAA4C,OAAOM,KAAnD;AACGiD,oBAAYA,SAASlE,GAAT,CAAa,UAACyE,KAAD,EAAQC,KAAR,EAAkB;AAC1C,iBAAO,gBAAMC,YAAN,CAAmBF,KAAnB;AACLG,4BAAcF,KADT;AAEL2K,qBAASrG,KAFJ;AAGLlD,uBAAWiV;AAHN,aAIFJ,KAJE,EAAP;AAMD,SAPY;AADf,OADF;AAYD;;;;;;AAGH6B,WAAWjD,YAAX,GAA0B;AACxBF,cAAY,oBAAU7X;AADE,CAA1B;;AAIAgb,WAAWpb,SAAX,GAAuB;AACrB2Z,UAAQ,oBAAUQ,KAAV,CAAgB,CAAC,YAAD,EAAe,UAAf,CAAhB,CADa;AAErBta,SAAO,oBAAUO;AAFI,CAAvB;;AAKAgb,WAAWzb,YAAX,GAA0B;AACxBga,UAAQ;AADgB,CAA1B;;kBAIeyB,U;;;;;;;;;;;;;;;;ACtCf;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMC,K;;;;;;;;;;;6BACM;AAAA,mBAC6D,KAAK9Y,KADlE;AAAA,UACAO,QADA,UACAA,QADA;AAAA,UACU4B,SADV,UACUA,SADV;AAAA,UACqBnF,SADrB,UACqBA,SADrB;AAAA,UACgC0O,OADhC,UACgCA,OADhC;AAAA,UACyCrG,KADzC,UACyCA,KADzC;AAAA,UACgDqE,QADhD,UACgDA,QADhD;;AAER,UAAMnT,gBAAc8O,KAAd,QAAN;AACA,UAAM0T,UAAU;AACdC,oBAAY,EAAE3E,SAAS,KAAX,EADE;AAEd4E,kBAAU,EAAE5E,SAAS,WAAX;AAFI,QAGdlS,SAHc,CAAhB;;AAKA,UAAM7E,QAAQ,EAAEyO,QAAQ,SAAV,EAAd;AACA,UAAI5J,cAAc,UAAlB,EAA8B;AAC5B7E,cAAM6U,OAAN,GAAgB,OAAhB;AACD;;AAED,aACE;AAAA;AAAA;AACE,qBAAW,0BAAW,YAAX,EAAyBnV,SAAzB,EAAoC+b,QAAQ1E,OAA5C,CADb;AAEE,iBAAO/W,KAFT;AAGE,mBAAS/G;AAHX;AAKE;AACE,gBAAK,OADP;AAEE,cAAIA,EAFN;AAGE,qBAAU,KAHZ;AAIE,iBAAO8O,KAJT;AAKE,oBAAUqE,QALZ;AAME,mBAASgC,YAAYrG;AANvB,UALF;AAaG9E;AAbH,OADF;AAiBD;;;;;;AAGHuY,MAAMrb,SAAN,GAAkB;AAChBiO,WAAS,oBAAU8G,GADH;AAEhBrQ,aAAW,oBAAUyV,KAAV,CAAgB,CAAC,YAAD,EAAe,UAAf,CAAhB;AAFK,CAAlB;;AAKAkB,MAAM1b,YAAN,GAAqB;AACnB+E,aAAW;AADQ,CAArB;;kBAIe2W,K;;;;;;;;;;;;;;;;AC/Cf;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAMI,QAAQ,SAARA,KAAQ,OAAoD;AAAA,MAAjDlc,SAAiD,QAAjDA,SAAiD;AAAA,MAAtCnE,KAAsC,QAAtCA,KAAsC;AAAA,MAA/Bge,cAA+B,QAA/BA,cAA+B;AAAA,MAAZ7W,KAAY;;AAChE,MAAM4B,YAAYiV,mBAAmBje,SAAnB,GAA+Bie,cAA/B,GAAgD,MAAlE;AACA,SACE;AAAC,aAAD;AAAA,eAAW,WAAW,0BAAW,KAAX,EAAkB7Z,SAAlB,CAAtB,IAAwDgD,KAAxD;AAAA,YAAsEnH;AAAtE,GADF;AAGD,CALD;;AAOAqgB,MAAMzb,SAAN,GAAkB;AAChB5E,SAAO,oBAAU+E,MAAV,CAAiBD;AADR,CAAlB;;kBAIeub,K;;;;;;;;;;;;;;;;ACff;;;;AACA;;;;;;;;;;;;IAEMC,c;;;;;;;;;;;6BACM;AAAA,UACcjD,SADd,GAC8B,KAAKzV,OADnC,CACAqV,UADA,CACcI,SADd;AAAA,UAEA5U,IAFA,GAES,KAAKtB,KAFd,CAEAsB,IAFA;;AAGR,aAAO4U,YACL;AAAA;AAAA,UAAK,WAAU,8BAAf;AACG5U,YADH;AAEE,6CAAG,WAAU,8BAAb;AAFF,OADK,GAKH,+CALJ;AAMD;;;;;;AAGH6X,eAAevD,YAAf,GAA8B;AAC5BE,cAAY,oBAAUjY;AADM,CAA9B;;AAIAsb,eAAe1b,SAAf,GAA2B;AACzB6D,QAAM,oBAAU3C,SAAV,CAAoB,CACxB,oBAAUf,MADc,EAExB,oBAAUC,MAFc,CAApB,EAGHF;AAJsB,CAA3B;;kBAOewb,c;;;;;;;;;;;;;;;;AC3Bf;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMC,gB;;;AACJ,4BAAapZ,KAAb,EAAoB;AAAA;;AAAA,oIACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa,EAAEoH,SAAS,KAAX,EAAb;AAFkB;AAGnB;;;;iCAEa;AACZ,UAAI,CAAC,KAAKpH,KAAL,CAAWoH,OAAhB,EAAyB;AACvB,aAAK2E,QAAL,CAAc,EAAE3E,SAAS,IAAX,EAAd;AACD;AACF;;;8BAEU;AACT,WAAK2E,QAAL,CAAc,EAAE3E,SAAS,KAAX,EAAd;AACD;;;6BAESwQ,K,EAAO;AACf,WAAK7L,QAAL,CAAc,EAAE3E,SAAS,KAAX,EAAd;AADe,UAEO0N,QAFP,GAEsB,KAAKjJ,OAF3B,CAEPiV,UAFO,CAEOhM,QAFP;;AAGf,UAAM3H,IAAI;AACRsD,eAAOmH,MAAMG,SAAN,CAAgBC,SAAhB,CAA0B,CAA1B,EAA6BJ,MAAMG,SAAN,CAAgBpE,OAAhB,CAAwB,GAAxB,CAA7B;AADC,OAAV;AAGAmB,eAAS3H,CAAT;AACD;;;8BAEU;AACT,yBAAS8K,WAAT,CAAqB,KAAKiD,IAAL,CAAUhD,SAA/B,EAA0CC,KAA1C;AACD;;;6BAES;AAAA,UACA/Q,OADA,GACY,KAAKpH,KADjB,CACAoH,OADA;AAAA,mBAEiC,KAAKgE,KAFtC;AAAA,UAEAhD,SAFA,UAEAA,SAFA;AAAA,UAEWqc,UAFX,UAEWA,UAFX;AAAA,UAEuBlb,KAFvB,UAEuBA,KAFvB;AAAA,UAGckH,KAHd,GAG0B,KAAK5E,OAH/B,CAGAiV,UAHA,CAGcrQ,KAHd;;;AAKR,UAAIjB,UAAW,qCAAG,WAAU,aAAb,GAAf;AACA,UAAIpI,OAAJ,EAAa;AACXoI,kBAAU,qCAAG,WAAU,mCAAb,GAAV;AACD,OAFD,MAEO,IAAIiB,KAAJ,EAAW;AAChBjB,kBAAU,uCAAK,KAAKiB,KAAV,EAAiB,MAAK,cAAtB,GAAV;AACD;;AAED,UAAIlH,UAAU,MAAd,EAAsB;AACpB,eACE;AAAA;AAAA,YAAK,WAAU,mBAAf;AACE;AAAA;AAAA;AACE,oBAAK,QADP;AAEE,wBAAUnC,OAFZ;AAGE,yBAAWgB,SAHb;AAIE,uBAAS,KAAKiD,OAAL,CAAa6E,IAAb,CAAkB,IAAlB;AAJX;AAMGV;AANH,WADF;AASE;AACE,wBAAYiV,UADd;AAEE,oBAAO,SAFT;AAGE,wBAAY,KAAKC,UAAL,CAAgBxU,IAAhB,CAAqB,IAArB,CAHd;AAIE,qBAAS,KAAKyU,OAAL,CAAazU,IAAb,CAAkB,IAAlB,CAJX;AAKE,sBAAU,KAAK0U,QAAL,CAAc1U,IAAd,CAAmB,IAAnB,CALZ;AAME,iBAAI;AANN;AATF,SADF;AAoBD;AACD;AACA,aAAO9I,UAAU,qCAAG,WAAU,uBAAb,GAAV,GACL;AACE,oBAAYqd,UADd;AAEE,gBAAO,SAFT;AAGE,oBAAY,KAAKC,UAAL,CAAgBxU,IAAhB,CAAqB,IAArB,CAHd;AAIE,iBAAS,KAAKyU,OAAL,CAAazU,IAAb,CAAkB,IAAlB,CAJX;AAKE,kBAAU,KAAK0U,QAAL,CAAc1U,IAAd,CAAmB,IAAnB,CALZ;AAME,aAAI,WANN;AAOE,mBAAU,0CAPZ;AAQE,eAAO;AACLyI,oBAAU,UADL;AAELkM,gBAAM,KAFD;AAGLC,kBAAQ,MAHH;AAILlc,iBAAO,KAJF;AAKLmc,sBAAY;AALP;AART,QADF;AAkBD;;;;;;AAGHP,iBAAiBxD,YAAjB,GAAgC;AAC9BF,cAAY,oBAAUlL,KAAV,CAAgB;AAC1BnF,WAAO,oBAAUmN,GADS;AAE1B9I,cAAU,oBAAUhL,IAAV,CAAef;AAFC,GAAhB;AADkB,CAAhC;;AAOAyb,iBAAiB3b,SAAjB,GAA6B;AAC3BT,aAAW,oBAAUY,MADM;AAE3Byb,cAAY,oBAAUzb,MAAV,CAAiBD,UAFF;AAG3BQ,SAAO,oBAAUyZ,KAAV,CAAgB,CAAC,SAAD,EAAY,MAAZ,CAAhB;AAHoB,CAA7B;;AAMAwB,iBAAiBhc,YAAjB,GAAgC;AAC9Be,SAAO;AADuB,CAAhC;;kBAIeib,gB;;;;;;;;;;;;;;;;;AC3Gf;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAI,mBAAAzP,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,2CAAAA;;AAEhC,IAAMiQ,aAAa,SAAbA,UAAa,OAAiD;AAAA,MAA9CrZ,QAA8C,QAA9CA,QAA8C;AAAA,MAApCsZ,WAAoC,QAApCA,WAAoC;AAAA,MAAvBrN,KAAuB,QAAvBA,KAAuB;AAAA,MAAhBrK,SAAgB,QAAhBA,SAAgB;;AAClE,MAAM2X,iBAAiB;AACrBC,YAAQ,QADa;AAErB,WAAO,YAFc;AAGrB,cAAU;AAHW,GAAvB;AAKA,MAAMC,iBAAiBF,eAAe3X,UAAU8X,CAAzB,CAAvB;AACA,MAAMC,aAAaJ,eAAe3X,UAAUgY,CAAzB,CAAnB;;AAEA,MAAMC,UAAU;AACdC,qBAAiB7N,mBAAgBA,KAAhB,WAA4B5T,SAD/B;AAEd0hB,cAAU,MAFI;AAGdJ,0BAHc;AAIdF;AAJc,GAAhB;;AAOA,SACE;AAAA;AAAA;AACE,iBAAU,oEADZ;AAEE,aAAOI;AAFT;AAIE;AAAA;AAAA,QAAK,WAAW,2CAA0BP,WAA1B,CAAhB;AACGtZ;AADH;AAJF,GADF;AAUD,CA1BD;;AA4BAqZ,WAAWnc,SAAX,GAAuB;AACrBoc,eAAa,oBAAUnc,MADF;AAErB8O,SAAO,oBAAU5O,MAFI;AAGrBuE,aAAW,oBAAUqI,KAAV,CAAgB;AACzByP,OAAG,oBAAUrc,MADY;AAEzBuc,OAAG,oBAAUvc;AAFY,GAAhB,EAGRD;AANkB,CAAvB;;AASAic,WAAWxc,YAAX,GAA0B;AACxByc,eAAa,CADW;AAExB1X,aAAW,EAAE8X,GAAG,QAAL,EAAeE,GAAG,QAAlB;AAFa,CAA1B;;AAKO,IAAMI,kBAAkB,SAAlBA,eAAkB;AAAA,MAAGha,QAAH,SAAGA,QAAH;AAAA,MAAgBP,KAAhB;;AAAA,SAC7B;AAAC,cAAD;AAAA;AACE,aAAO,mBAAA2J,CAAQ,OAAR,EAAiBC,SAAjB,GAA6B,mBAAAD,CAAA,uBAAAA,CAA7B,GAAsE,EAD/E;AAEE,mBAAa;AAFf,OAGM3J,KAHN;AAKGO;AALH,GAD6B;AAAA,CAAxB;;;kBAUQqZ,U;;;;;;;AC1Df,yC;;;;;;;;;;;;;;;;;;;uDCAStiB,O;;;;;;;;;8DACAA,O;;;;;;;;;2DACAA,O;;;;;;;;;+CACAA,O;;;;;;AAET;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;yCCLSA,O;;;;;;;;;0CACAA,O;;;;;;;;;;;;;;;;;;ACDT;;;;AACA;;;;AAEA;;;;AAKA,IAAI,mBAAAqS,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,uDAAAA;;AAEhC,IAAM6Q,wBAAwB,SAAxBA,qBAAwB,OAAkB;AAAA,MAAfja,QAAe,QAAfA,QAAe;;AAC9C,SACE;AAAA;AAAA,MAAoB,WAAU,yBAA9B;AACE;AAAA;AAAA;AACE,mBAAU,iCADZ;AAEE,uBAAc;AAFhB;AAIGA;AAJH;AADF,GADF;AAUD,CAXD;;AAaAia,sBAAsB/c,SAAtB,GAAkC;AAChC8C,YAAU,oBAAUka;AADY,CAAlC;;kBAIeD,qB;;;;;;;AC3Bf,yC;;;;;;;;;;;;;;ACAA;;;;;;AAEA,IAAME,6BAA6B,SAA7BA,0BAA6B;AAAA,MAAGna,QAAH,QAAGA,QAAH;AAAA,SACjC;AAAA;AAAA,MAAI,WAAU,YAAd;AACGA;AADH,GADiC;AAAA,CAAnC;;kBAMema,0B;;;;;;;;;;;;;;ACRf;;;;AACA;;;;AACA;;;;;;AAEA,IAAMC,4BAA4B,SAA5BA,yBAA4B;AAAA,MAChCpa,QADgC,QAChCA,QADgC;AAAA,MAEhCvD,SAFgC,QAEhCA,SAFgC;AAAA,MAGhC8Z,kBAHgC,QAGhCA,kBAHgC;AAAA,MAIhC8D,aAJgC,QAIhCA,aAJgC;AAAA,MAKhCN,QALgC,QAKhCA,QALgC;AAAA,SAOhC;AAAA;AAAA;AACE,iBAAW,0BACT,8DADS,gBAEGA,QAFH,EAGTtd,SAHS;AADb;AAOE;AAAA;AAAA;AACE,mBAAW,0BACT,wCADS,EAET,UAFS,EAGT8Z,kBAHS,EAIT8D,iBAAiB,oBAJR;AADb;AAQGra;AARH;AAPF,GAPgC;AAAA,CAAlC;;AA2BAoa,0BAA0Bld,SAA1B,GAAsC;AACpC8C,YAAU,oBAAU5B,SAAV,CAAoB,CAAC,oBAAUd,MAAX,EAAmB,oBAAUe,KAA7B,CAApB,EAAyDjB,UAD/B;AAEpCX,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB,CAFyB;AAGpCkY,sBAAoB,oBAAUnY,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB,CAHgB;AAIpCgc,iBAAe,oBAAUjc,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB;AAJqB,CAAtC;;AAOA+b,0BAA0Bvd,YAA1B,GAAyC;AACvCkd,YAAU;AAD6B,CAAzC;;kBAIeK,yB;;;;;;;;;;;;;;AC1Cf;;;;AACA;;;;AACA;;;;;;AAEA,IAAME,qBAAqB,SAArBA,kBAAqB;AAAA,MAAGta,QAAH,QAAGA,QAAH;AAAA,MAAavD,SAAb,QAAaA,SAAb;AAAA,SACzB;AAAA;AAAA;AACE,iBAAW,0BACT,oEADS,EAETA,SAFS;AADb;AAMGuD;AANH,GADyB;AAAA,CAA3B;;AAWAsa,mBAAmBpd,SAAnB,GAA+B;AAC7B8C,YAAU,oBAAU5B,SAAV,CAAoB,CAAC,oBAAUd,MAAX,EAAmB,oBAAUe,KAA7B,CAApB,EAAyDjB,UADtC;AAE7BX,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB;AAFkB,CAA/B;;kBAKeic,kB;;;;;;;;;;;;;;ACpBf;;;;AACA;;;;AACA;;;;;;AAEA,IAAMC,yBAAyB,SAAzBA,sBAAyB;AAAA,MAAGva,QAAH,QAAGA,QAAH;AAAA,MAAawa,KAAb,QAAaA,KAAb;AAAA,MAAoB/d,SAApB,QAAoBA,SAApB;AAAA,SAC7B;AAAA;AAAA;AACE,iBAAW,0BACT,iFADS,EAETA,SAFS;AADb;AAME;AAAA;AAAA,QAAI,WAAU,YAAd;AAA4B+d;AAA5B,KANF;AAOGxa;AAPH,GAD6B;AAAA,CAA/B;;AAYAua,uBAAuBrd,SAAvB,GAAmC;AACjC8C,YAAU,oBAAU5B,SAAV,CAAoB,CAAC,oBAAUd,MAAX,EAAmB,oBAAUe,KAA7B,CAApB,CADuB;AAEjC5B,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB,CAFsB;AAGjCmc,SAAO,oBAAUvI,GAAV,CAAc7U;AAHY,CAAnC;;kBAMemd,sB;;;;;;;;;;;;;;;;;;;iDCtBNxjB,O;;;;;;;;;+CACAA,O;;;;;;;;;yDACAA,O;;;;;;;;;;;;;;;;;;ACFT;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAM0jB,eAAe,SAAfA,YAAe,QAAS;AAC5B,MAAMjb,cAAc,SAAdA,WAAc,IAAK;AACvBgC,MAAE3B,cAAF;AADuB,QAEf6a,QAFe,GAEYjb,KAFZ,CAEfib,QAFe;AAAA,QAELC,YAFK,GAEYlb,KAFZ,CAELkb,YAFK;;AAGvB,QAAMhR,SAAS,4BAAM+Q,QAAN,CAAf;AACA,QAAME,aAAa,4BAAMD,YAAN,CAAnB;AACA,QAAME,YAAYlR,OAAOqD,QAAP,GAAkBoF,GAAlB,GAAwBwI,WAAWE,SAAX,EAAxB,GAAiDF,WAAW5N,QAAX,GAAsBoF,GAAzF;;AAEAwI,eAAWG,IAAX,GAAkBC,OAAlB,CAA0B,EAACF,WAAWD,SAAZ,EAA1B,EAAkD,GAAlD,EAAuD,YAAM;AAC3DjjB,aAAOqjB,QAAP,CAAgBC,IAAhB,GAAuBR,QAAvB;AACD,KAFD;AAGD,GAVD;;AAD4B,MAarBje,SAbqB,GAaUgD,KAbV,CAarBhD,SAbqB;AAAA,MAaVuD,QAbU,GAaUP,KAbV,CAaVO,QAbU;AAAA,MAaAmb,MAbA,GAaU1b,KAbV,CAaA0b,MAbA;;AAc5B,SACE;AAAA;AAAA;AACE,iBAAW,0BAAW1e,SAAX,EAAsB,wBAAtB,CADb;AAEE,eAAS+C,WAFX;AAGE;AAAA;AAAA,QAAM,OAAO,EAAE4b,SAASD,SAAS,KAAT,GAAiB,GAA5B,EAAb;AACGnb;AADH,KAHF;AAMGmb,cACC;AAAA;AAAA,QAAK,WAAU,mEAAf;AACE,2CAAG,WAAU,2BAAb;AADF;AAPJ,GADF;AAcD,CA5BD;;AA8BAV,aAAavd,SAAb,GAAyB;AACvBwd,YAAU,oBAAUrd,MAAV,CAAiBD,UADJ;AAEvBud,gBAAc,oBAAUtd,MAAV,CAAiBD,UAFR;AAGvBX,aAAW,oBAAUY,MAHE;AAIvB2C,YAAU,oBAAU3C,MAJG;AAKvB8d,UAAQ,oBAAUjd;AALK,CAAzB;;kBAQeuc,Y;;;;;;;;;;;;;;;;;;;AC3Cf;;;;AACA;;;;AACA;;AACA;;;;AAEA;;;;;;;;;;IAEaY,oB,WAAAA,oB;;;AACX,gCAAa5b,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,4IACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa;AACXinB,iBAAW,KADA;AAEXC,mBAAa;AAFF,KAAb;AAF2B;AAM5B;;;;4CAEwB;AACvB,WAAKnb,QAAL,CAAc;AACZkb,mBAAW,IADC;AAEZC,qBAAa;AAFD,OAAd;AAID;;;4CAEwB;AACvB,WAAKhM,IAAL,CAAUiM,UAAV,CAAqBC,IAArB;AADuB,mBAEQ,KAAKhc,KAFb;AAAA,UAEfic,WAFe,UAEfA,WAFe;AAAA,UAEFpa,KAFE,UAEFA,KAFE;;AAGvBoa,+BAAiBpa,KAAjB,IAAwBqa,aAAa,CAACra,MAAMqa,WAA5C;AACD;;;sCAEkB;AACjB,WAAKvb,QAAL,CAAc,EAACkb,WAAW,KAAZ,EAAd;AACD;;;sCAEkB;AACjB,WAAKlb,QAAL,CAAc,EAACmb,aAAa,IAAd,EAAd;AACD;;;qCAEiB;AAChB,WAAKnb,QAAL,CAAc,EAACmb,aAAa,KAAd,EAAd;AACD;;;2CAEuB;AACtB,UAAMK,0BAA0B,0BAC9B,0CAD8B,EAE9B,EAAEC,MAAM,KAAKxnB,KAAL,IAAc,CAAC,KAAKA,KAAL,CAAWknB,WAAlC,EAF8B,CAAhC;;AAKA,UAAMO,sBAAsB;AAC1B7e,eAAO,MADmB;AAE1B8e,gBAAQ,MAFkB;AAG1BC,iBAAS,CAHiB;AAI1B5C,oBAAY,KAJc;AAK1BpY,mBAAW;AALe,OAA5B;;AAQA,UAAMib,0BAA0B,8BAAhC;;AAEA,UAAMC,sBAAsB,0BAC1B,IAD0B,EAE1B,EAAC,gBAAgB,CAAC,KAAKzc,KAAL,CAAW6B,KAAX,CAAiBqa,WAAnC,EAF0B,EAG1B,EAAC,UAAU,KAAKlc,KAAL,CAAW6B,KAAX,CAAiBqa,WAA5B,EAH0B,CAA5B;;AAMA,aACE;AAAA;AAAA,UAAK,WAAU,UAAf;AACE;AAAA;AAAA,YAAK,WAAWC,uBAAhB;AACE;AAAA;AAAA;AACE,yBAAWK,uBADb;AAEE,qBAAOH,mBAFT;AAGE,uBAAW,KAAKK,qBAAhB,MAAW,IAAX;AAHF;AAKE,iDAAG,WAAU,cAAb;AALF,WADF;AAQE;AAAA;AAAA;AACE,mBAAI,YADN;AAEE,yBAAWF,uBAFb;AAGE,qBAAOH,mBAHT;AAIE,uBAAW,KAAKM,qBAAhB,MAAW,IAAX;AAJF;AAME,iDAAG,WAAWF,mBAAd;AANF;AARF;AADF,OADF;AAqBD;;;8BAEU5a,K,EAAO;AAChB,aAAOA,MAAM+a,IAAN,IAAc,KAAK5c,KAAL,CAAW/J,IAAX,CAAgB6B,aAAhB,CAA8B;AACjDvB,YAAI,qDAD6C;AAEjDwB,wBAAgB;AAFiC,OAA9B,EAGlB,EAAEwV,UAAU1L,MAAM0L,QAAlB,EAHkB,CAArB;AAID;;;yCAEqB;AAAA,oBACS,KAAKvN,KADd;AAAA,UACZ6B,KADY,WACZA,KADY;AAAA,UACL7E,SADK,WACLA,SADK;;;AAGpB,aACE;AAAA;AAAA;AACE,uBAAe,KAAK6f,eAApB,MAAe,IAAf,CADF;AAEE,sBAAc,KAAKvS,cAAnB,MAAc,IAAd,CAFF;AAGE;AAAA;AAAA;AACE,sBAAU,WAAWzI,MAAMtL,EAD7B;AAEE,0BAAa,aAFf;AAGE,oBAAQsL,MAAMqa,WAHhB;AAIE,uBAAWlf,SAJb;AAKG,eAAK8f,SAAL,CAAejb,KAAf;AALH,SAHF;AAUG,aAAK7B,KAAL,CAAW+c,QAAX,IAAuB,KAAKC,oBAAL;AAV1B,OADF;AAcD;;;uCAEmB;AAAA,UACVnb,KADU,GACA,KAAK7B,KADL,CACV6B,KADU;;;AAGlB,aACE,yDACM,KAAK7B,KADX;AAEE,sBAAc,KAAK8c,SAAL,CAAejb,KAAf,CAFhB;AAGE,yBAAmB,KAAKob,eAAxB,MAAmB,IAAnB;AAHF,SADF;AAOD;;;6BAES;AACR,aACE,KAAKroB,KAAL,CAAWinB,SAAX,GAAuB,KAAKqB,gBAAL,EAAvB,GAAiD,KAAKC,kBAAL,EADnD;AAGD;;;;EAzHuC,gBAAMvb,S;;AA4HhDga,qBAAqBne,SAArB,GAAiC;AAC/BoE,SAAO,oBAAUhE,MAAV,CAAiBF,UADO;AAE/B5I,YAAU,oBAAU2J,IAFW;AAG/BjH,QAAM,oBAAUoG,MAHe;AAI/Bb,aAAW,oBAAUY,MAJU;AAK/B3H,QAAM,qBAAU0H;AALe,CAAjC;;kBAQe,2BAAWie,oBAAX,C;;;;;;;;;;;;;;;;;;AC3If;;;;AACA;;;;;;;;;;;;IAEMwB,U;;;AACJ,sBAAapd,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,wHACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa;AACXgoB,YAAM5c,MAAMqd;AADD,KAAb;AAF2B;AAK5B;;;;wCAEoB;AACnB,WAAKvN,IAAL,CAAUwN,SAAV,CAAoBtN,KAApB;AACA,WAAKF,IAAL,CAAUwN,SAAV,CAAoBC,MAApB;AACAplB,aAAOqlB,gBAAP,CAAwB,OAAxB,EAAiC,KAAKC,WAAtC;AACD;;;2CAEuB;AACtBtlB,aAAOulB,mBAAP,CAA2B,OAA3B,EAAoC,KAAKD,WAAzC;AACD;;;gCAEY1b,C,EAAG;AACd,UAAIA,EAAE4b,OAAF,KAAc,EAAlB,EAAsB;AACpB,aAAKrF,MAAL,CAAYvW,CAAZ;AACD;AACF;;;qCAEiBA,C,EAAG;AACnB,WAAKpB,QAAL,CAAc,EAACic,MAAM7a,EAAEmI,MAAF,CAAS7E,KAAhB,EAAd;AACD;;;2BAEOtD,C,EAAG;AACTA,QAAE3B,cAAF;AADS,mBAML,KAAKJ,KANA;AAAA,UAGP6B,KAHO,UAGPA,KAHO;AAAA,UAIPoa,WAJO,UAIPA,WAJO;AAAA,UAKPgB,eALO,UAKPA,eALO;;;AAQThB,+BAAiBpa,KAAjB,IAAwB+a,MAAM,KAAKhoB,KAAL,CAAWgoB,IAAzC;AACAK;AACD;;;6BAES;AACR,aACE;AAAA;AAAA,UAAM,WAAU,cAAhB,EAA+B,UAAY,KAAK3E,MAAjB,MAAY,IAAZ,CAA/B;AACE;AACE,gBAAK,MADP;AAEE,eAAI,WAFN;AAGE,qBAAU,mBAHZ;AAIE,iBAAO,KAAK1jB,KAAL,CAAWgoB,IAJpB;AAKE,oBAAY,KAAKgB,gBAAjB,MAAY,IAAZ;AALF,UADF;AAQE;AACE,qBAAU,wCADZ;AAEE,mBAAW,KAAKtF,MAAhB,MAAW,IAAX,CAFF;AARF,OADF;AAcD;;;;EAvDsB,gBAAM1W,S;;AA0D/Bwb,WAAW3f,SAAX,GAAuB;AACrBwf,mBAAiB,oBAAUve,IAAV,CAAef,UADX;AAErBkgB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAFV;AAGrBkE,SAAO,oBAAUhE,MAAV,CAAiBF,UAHH;AAIrBse,eAAa,oBAAUvd,IAAV,CAAef,UAJP;AAKrB0f,gBAAc,oBAAUzf;AALH,CAAvB;;kBAQewf,U;;;;;;;;;;;;;;ACrEf;;;;AACA;;;;;;AAEA,IAAMU,mBAAmB,SAAnBA,gBAAmB;AAAA,MAAG5X,IAAH,QAAGA,IAAH;AAAA,SACvB;AAAA;AAAA;AACE,aAAM,4BADR;AAEE,aAAOA,IAFT;AAGE,cAAQA,IAHV;AAIE,eAAQ;AAJV;AAME;AAAA;AAAA,QAAG,WAAU,uCAAb;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAG,kDAAM,GAAE,gVAAR;AAAH,SADF;AAEE;AAAA;AAAA;AAAG,kDAAM,GAAE,sUAAR;AAAH,SAFF;AAGE;AAAA;AAAA;AAAG,kDAAM,GAAE,sUAAR;AAAH,SAHF;AAIE;AAAA;AAAA;AAAG,kDAAM,GAAE,0UAAR;AAAH,SAJF;AAKE;AAAA;AAAA;AAAG,kDAAM,GAAE,kVAAR;AAAH,SALF;AAME;AAAA;AAAA;AAAG,kDAAM,GAAE,gVAAR;AAAH,SANF;AAOE;AAAA;AAAA;AAAG,kDAAM,GAAE,yUAAR;AAAH;AAPF,OADF;AAUE;AAAA;AAAA;AAAG,mDAAS,QAAO,wDAAhB;AAAH,OAVF;AAWE;AAAA;AAAA;AAAG,mDAAS,MAAK,MAAd,EAAqB,QAAO,oDAA5B;AAAH,OAXF;AAYE;AAAA;AAAA;AAAG,mDAAS,MAAK,MAAd,EAAqB,QAAO,kDAA5B;AAAH,OAZF;AAaE;AAAA;AAAA;AAAG,mDAAS,MAAK,MAAd,EAAqB,QAAO,uCAA5B;AAAH,OAbF;AAcE;AAAA;AAAA;AACE,gDAAM,MAAK,SAAX,EAAqB,GAAE,wUAAvB,GADF;AAEE,gDAAM,GAAE,orBAAR;AAFF;AAdF;AANF,GADuB;AAAA,CAAzB;;IA6BQvH,S,uBAAAA,S;IAAWf,M,uBAAAA,M;IAAQF,M,uBAAAA,M;;;AAE3BogB,iBAAiB1gB,YAAjB,GAAgC;AAC9B8I,QAAM;AADwB,CAAhC;;AAIA4X,iBAAiBrgB,SAAjB,GAA6B;AAC3ByI,QAAMvH,UAAU,CAACf,MAAD,EAASF,MAAT,CAAV;AADqB,CAA7B;;kBAIeogB,gB;;;;;;;;;;;;;;;;;;;yCC1CNxmB,O;;;;;;;;;wCACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;;;;;;;;;;;;ACFT;;;;AACA;;;;AACA;;;;;;AAEA,IAAI,mBAAAqS,CAAQ,OAAR,EAAiBC,SAArB,EAAgC;AAC9BD,EAAA,mBAAAA,CAAA,8CAAAA;AACD;;AAED,IAAMoU,YAAY,SAAZA,SAAY,OAA+D;AAAA,MAA5Dxd,QAA4D,QAA5DA,QAA4D;AAAA,MAAlDqB,SAAkD,QAAlDA,SAAkD;AAAA,MAAvCoc,IAAuC,QAAvCA,IAAuC;AAAA,MAAjChhB,SAAiC,QAAjCA,SAAiC;AAAA,MAAtBihB,QAAsB,QAAtBA,QAAsB;AAAA,MAAZ3gB,KAAY,QAAZA,KAAY;;AAC/E,MAAM4gB,gBAAgB,EAAtB;;AAEA,MAAIF,IAAJ,EAAUE,cAAcC,EAAd,GAAmBH,IAAnB;;AAEV,SACE;AAAC,aAAD;AAAA,iBACME,aADN;AAEE,iBAAW,0BACT,4BADS,EAET,EAAE,aAAaD,QAAf,EAFS,EAGTjhB,SAHS,CAFb;AAOE,aAAOM;AAPT;AASGiD;AATH,GADF;AAaD,CAlBD;;AAoBAwd,UAAUtgB,SAAV,GAAsB;AACpB8C,YAAU,oBAAUka,IAAV,CAAe9c,UADL;AAEpBiE,aAAW,oBAAU6Y,IAAV,CAAe9c,UAFN;AAGpBX,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB,CAHS;AAIpBof,QAAM,oBAAUpgB,MAJI;AAKpBqgB,YAAU,oBAAUxf,IALA;AAMpBnB,SAAO,oBAAUM;AANG,CAAtB;;kBASemgB,S;;;;;;;ACrCf,yC;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;AAEA,IAAI,mBAAApU,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,uCAAAA;;IAE1ByU,G;;;;;;;;;;;6BACM;AAAA,mBACkD,KAAKpe,KADvD;AAAA,UACAsB,IADA,UACAA,IADA;AAAA,UACMP,KADN,UACMA,KADN;AAAA,UACaid,IADb,UACaA,IADb;AAAA,UACmBC,QADnB,UACmBA,QADnB;AAAA,UAC6BjhB,SAD7B,UAC6BA,SAD7B;AAAA,UACwCM,KADxC,UACwCA,KADxC;;AAER,UAAI0gB,IAAJ,EAAU;AACR,eACE;AAAA;AAAA;AACE,gBAAIA,IADN;AAEE,uBAAW,0BACT,qDADS,EAETC,WAAW,cAAX,GAA4B,IAFnB,EAGTjhB,SAHS,CAFb;AAOE,mBAAOM;AAPT;AASGgE;AATH,SADF;AAaD;AACD,aACE;AAAA;AAAA,UAAM,OAAOhE,KAAb,EAAoB,WAAW,0BAC7B,0BAD6B,EAE7B2gB,WAAW,YAAX,GAA0B,IAFG,EAG7BjhB,SAH6B,CAA/B;AAKE;AAAA;AAAA,YAAG,WAAW,0BACZ,4BADY,EAEZihB,WAAW,YAAX,GAA0B,WAFd,EAGd3c,OAAO,KAAP,GAAe,IAHD,CAAd;AAKGP;AALH,SALF;AAYGO;AAZH,OADF;AAgBD;;;;;;AAGH8c,IAAI3gB,SAAJ,GAAgB;AACd6D,QAAM,oBAAUmZ,IADF;AAEdwD,YAAU,oBAAUxf,IAFN;AAGduf,QAAM,oBAAUrf,SAAV,CAAoB,CACxB,oBAAUf,MADc,EAExB,oBAAUC,MAFc,CAApB,CAHQ;AAOdkD,SAAO,oBAAUrD;AAPH,CAAhB;;AAUA0gB,IAAIhhB,YAAJ,GAAmB;AACjB6gB,YAAU;AADO,CAAnB;;kBAIeG,G;;;;;;;AC1Df,yC;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAI,mBAAAzU,CAAQ,OAAR,EAAiBC,SAArB,EAAgC;AAC9BD,EAAA,mBAAAA,CAAA,wCAAAA;AACD;;AAED,IAAM0U,OAAO,SAAPA,IAAO;AAAA,MAAG9d,QAAH,QAAGA,QAAH;AAAA,MAAavD,SAAb,QAAaA,SAAb;AAAA,MAAwBM,KAAxB,QAAwBA,KAAxB;AAAA,SACX;AAAA;AAAA;AACE,iBAAW,0BAAW,aAAX,EAA0BN,SAA1B,CADb;AAEE,aAAOM;AAFT;AAIGiD;AAJH,GADW;AAAA,CAAb;;AASA8d,KAAK5gB,SAAL,GAAiB;AACf8C,YAAU,oBAAUka,IAAV,CAAe9c,UADV;AAEfX,aAAW,oBAAU2B,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB,CAFI;AAGftB,SAAO,oBAAUM;AAHF,CAAjB;;kBAMeygB,I;;;;;;;ACvBf,yC;;;;;;;;;;;;;ACAO,IAAMC,kFAAqC,oCAA3C;AACA,IAAMC,8CAAmB,SAAnBA,gBAAmB;AAAA,SAAU,EAAEnqB,MAAMkqB,kCAAR,EAA4Cvd,YAA5C,EAAV;AAAA,CAAzB,C;;;;;;;;;;;;;;;;;ACDP;;AAIO,IAAMzM,sCAAe,EAArB;;AAEP;AACA;AACA;AACA;AACA;AACA,IAAMkqB,wBAAwB,SAAxBA,qBAAwB,GAAuC;AAAA,MAAtC5pB,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACnE,UAAQA,OAAOT,IAAf;AACE;AACE,0BAAYQ,KAAZ,IAAmB6pB,eAAe5pB,OAAOkM,KAAzC;AACF;AACE,aAAOnM,KAAP;AAJJ;AAMD,CAPD;;kBASe4pB,qB;;;;;;;ACpBf,iF;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;AAEA,IAAME,sBAAsB,SAAtBA,mBAAsB,OAAoB;AAAA,MAAjBpe,IAAiB,QAAjBA,IAAiB;AAAA,MAAXrK,IAAW,QAAXA,IAAW;;AAC9C,MAAM8J,cAAc,SAAdA,WAAc,GAAM;AACxB5H,WAAOuI,IAAP,2CAC0CJ,IAD1C,EAEErK,KAAK6B,aAAL,CAAmB;AACjBvB,UAAI,8CADa;AAEjBwB,sBAAgB;AAFC,KAAnB,CAFF,EAME,sBANF;AAQD,GATD;;AAWA,SACE;AAAA;AAAA;AACE,iBAAU,wCADZ;AAEE,eAASgI,WAFX;AAGE,aAAO,EAAEjD,iBAAiB,SAAnB;AAHT;AAKE;AACE,UAAG,8CADL;AAEE,sBAAe;AAFjB;AALF,GADF;AAYD,CAxBD;;AA0BA4hB,oBAAoBjhB,SAApB,GAAgC;AAC9B6C,QAAM,oBAAU1C,MAAV,CAAiBD,UADO;AAE9B1H,QAAM,qBAAU0H;AAFc,CAAhC;;kBAKe,2BAAW+gB,mBAAX,C;;;;;;;;;;;;;;;;;;;wDCnCNpnB,O;;;;;;;;;uDACAA,O;;;;;;;;;wDACAA,O;;;;;;;;;gDACAA,O;;;;;;;;;;;;;;;;;;;ACFT;;;;;gDAYSA,O;;;;AAbT;;;;AAEA;;;;;;AAEA,IAAMuH,kBAAkB,SAAlBA,eAAkB,QAAS;AAAA,6BACejK,KADf,CACvB+pB,aADuB;AAAA,MACNC,QADM,wBACNA,QADM;AAAA,MACIC,IADJ,wBACIA,IADJ;;AAAA,8BAES,yBAAajqB,KAAb,EAAoBkqB,eAApB,EAFT;AAAA,MAERC,YAFQ,yBAEvBC,aAFuB;;AAI/B,SAAO;AACL1e,UAAMye,gBAAmBH,QAAnB,WAAiCC;AADlC,GAAP;AAGD,CAPD;;kBAUe,yBAAQhgB,eAAR,wB;;;;;;;;;;;;;;ACdf;;;;AACA;;;;AACA;;AAEA;;;;AAEA,IAAMogB,cAAc,SAAdA,WAAc,OAUd;AAAA,MATJC,OASI,QATJA,OASI;AAAA,MARJ5e,IAQI,QARJA,IAQI;AAAA,MAPJ8T,OAOI,QAPJA,OAOI;AAAA,MALkB+K,gBAKlB,QANJtB,YAMI,CALFuB,kBAKE;AAAA,MAHJC,QAGI,QAHJA,QAGI;AAAA,MAFJC,UAEI,QAFJA,UAEI;AAAA,MADJC,MACI,QADJA,MACI;;AACJ,MAAMC,WAAWD,OAAOC,QAAP,IAAmB,EAApC;;AAEA,SACE;AAAA;AAAA,MAAK,WAAU,uCAAf;AACE;AAAA;AAAA,QAAK,WAAU,YAAf;AAA6BpL;AAA7B,KADF;AAEE;AAAA;AAAA,QAAK,WAAU,KAAf;AACE,6CAAK,KAAKiL,QAAV,EAAoB,OAAO,EAAE7hB,OAAO8hB,cAAc,GAAvB,EAA3B;AADF,KAFF;AAKE;AAAA;AAAA;AACE;AACE,YAAG,sCADL;AAEE,wBAAe;AAFjB;AADF,KALF;AAWE;AAAA;AAAA;AAAG,6DAAqB,MAAMhf,IAA3B;AAAH,KAXF;AAYE;AAAA;AAAA;AAAG,4DAAoB,MAAMA,IAA1B,EAAgC,MAAM6e,gBAAtC;AAAH,KAZF;AAaE;AAAA;AAAA;AAAG,6DAAqB,cAAcK,SAASC,aAAT,IAA0Bnf,IAA7D,EAAmE,SAAS4e,OAA5E;AAAH;AAbF,GADF;AAiBD,CA9BD;;AAgCAD,YAAYxhB,SAAZ,GAAwB;AACtByhB,WAAS,oBAAUzgB,IADG;AAEtBof,gBAAc,oBAAUrT,KAAV,CAAgB;AAC5B4U,wBAAoB,oBAAUxhB;AADF,GAAhB,EAEXD,UAJmB;AAKtB4hB,UAAQ,oBAAU/U,KAAV,CAAgB;AACtBgV,cAAU,oBAAUhV,KAAV,CAAgB;AACxBiV,qBAAe,oBAAU7hB;AADD,KAAhB;AADY,GAAhB,EAILD,UATmB;AAUtByW,WAAS,oBAAUxW,MAAV,CAAiBD,UAVJ;AAWtB2C,QAAM,oBAAU1C,MAAV,CAAiBD,UAXD;AAYtB0hB,YAAU,oBAAUzhB,MAZE;AAatB0hB,cAAY,oBAAU1hB;AAbA,CAAxB;;AAgBAqhB,YAAY7hB,YAAZ,GAA2B;AACzBiiB,YAAU,mBAAA1V,CAAQ,OAAR,EAAiBC,SAAjB,GAA6B,mBAAAD,CAAA,yCAAAA,CAA7B,GAAiE;AADlD,CAA3B;;kBAIesV,W;;;;;;;;;;;;;;AC1Df;;;;AACA;;;;AACA;;;;AAEA,IAAMS,qBAAqB,SAArBA,kBAAqB,OAA0B;AAAA,MAAvBpf,IAAuB,QAAvBA,IAAuB;AAAA,MAAjBgB,IAAiB,QAAjBA,IAAiB;AAAA,MAAXrL,IAAW,QAAXA,IAAW;;AACnD,MAAM8J,cAAc,SAAdA,WAAc,GAAM;AACxB;AACA;AACA;AACA;AACA5H,WAAOuI,IAAP,4CAC2Cif,mBAAmBre,IAAnB,CAD3C,aAC2EhB,IAD3E,EAEErK,KAAK6B,aAAL,CAAmB;AACjBvB,UAAI,6CADa;AAEjBwB,sBAAgB;AAFC,KAAnB,CAFF,EAME,sBANF;AAQD,GAbD;;AAeA,SACE;AAAA;AAAA;AACE,iBAAU,wCADZ;AAEE,eAASgI,WAFX;AAGE,aAAO,EAACjD,iBAAiB,SAAlB;AAHT;AAKE;AACE,UAAG,6CADL;AAEE,sBAAe;AAFjB;AALF,GADF;AAYD,CA5BD;;AA8BA4iB,mBAAmBjiB,SAAnB,GAA+B;AAC7B6C,QAAM,oBAAU1C,MAAV,CAAiBD,UADM;AAE7B2D,QAAM,oBAAU1D,MAAV,CAAiBD,UAFM;AAG7B1H,QAAM,qBAAU0H;AAHa,CAA/B;;kBAMe,2BAAW+hB,kBAAX,C;;;;;;;;;;;;;;ACxCf;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAME,sBAAsB,SAAtBA,mBAAsB,OAA6C;AAAA,MAA1CV,OAA0C,QAA1CA,OAA0C;AAAA,MAAjCW,YAAiC,QAAjCA,YAAiC;AAAA,MAAnBhC,YAAmB,QAAnBA,YAAmB;;AACvE,SACE;AAAA;AAAA;AACE,iBAAW,0BACT,mDADS,EAET,EAAE,WAAW,CAACqB,OAAd,EAFS,CADb;AAKE,sCAA8BS,mBAAmBE,YAAnB,CALhC;AAME,aAAO,EAAE/iB,iBAAiB,SAAnB,EAA8BK,OAAO,MAArC;AANT;AAQE;AACE,UAAG,8CADL;AAEE,sBAAe;AAFjB;AARF,GADF;AAeD,CAhBD;;AAkBAyiB,oBAAoBniB,SAApB,GAAgC;AAC9B6C,QAAM,oBAAU1C,MAAV,CAAiBD,UADO;AAE9BuhB,WAAS,oBAAUzgB,IAFW;AAG9BohB,gBAAc,oBAAUjiB;AAHM,CAAhC;;kBAMegiB,mB;;;;;;;;;;;;;;;;AC3Bf;;;AAKA;;;AAGA;;;AAGA;;;kBAkBwBE,a;;AA/BxB;;AAGA;;AACA;;AACA;;AAGA;;AAGA;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMxrB,eAAe;AACnBuqB,QAAM,EADa;AAEnBD,YAAU;AAFS,CAArB;;AAKA,IAAMD,gBAAgB,SAAhBA,aAAgB;AAAA,MAAC/pB,KAAD,uEAASN,YAAT;AAAA,MAAuBO,MAAvB,uEAAgC,EAAhC;AAAA,SAAuCD,KAAvC;AAAA,CAAtB;;AAEA;AACA;AACe,SAASkrB,aAAT,CAAwBC,aAAxB,EAAuC;AACpD,SAAO;AACLpB,gCADK;AAELqB,UAAM,mBAAKC,SAAL,CAAe;AACnBC,gDADmB;AAEnBC;AAFmB,KAAf,CAFD;AAMLC,YAAQ,qBAASzrB,OAAT,EANH;AAOL0rB,mBAAe,sBAPV;AAQL5oB,4BARK;AASL6oB,4BATK;AAULtN,qCAVK;AAWL7W,iCAXK;AAYL2C,oCAZK;AAaLyhB,sCAbK;AAcLtqB;AAdK,KAeF8pB,aAfE,EAAP;AAiBD,C;;;;;;;;;;;;;;;;ACjDD;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;kDCASzoB,O;;;;;;;;;2DACAA,O;;;;;;;;;8DACAA,O;;;;;;;;;;;;;;;;;;;;ACFT;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;ACAA;;;;AAEA;AACA;AACA;kBACe;AAAA,8BAAGkpB,WAAH;AAAA,MAAGA,WAAH,oCAAiB,EAAjB;AAAA,gDAYPA,YAAYC,IAAZ,CAAiB,GAAjB,CAZO;AAAA,C;;;;;;;;;;;;;;;;ACLf;;;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;ACJA;;;;;;;;;;;;;;;;;;;;;;;6DCASnpB,O;;;;;;;;;2DACAA,O;;;;;;;;;sEACAA,O;;;;;;;;;2EACAA,O;;;;;;;;;6DACAA,O;;;;;;;;;+DACAA,O;;;;;;;;;;;;;;;;;;;;ACLT;;;;;;;;;;;ACAA,yE;;;;;;;;;;;;;ACAA,IAAM2D,YAAY,SAAZA,SAAY;AAAA,6BAAkC4iB,aAAatnB,EAA/C;AAAA,CAAlB;;AAEO,IAAMmqB,oCAAc,SAAdA,WAAc;AAAA,SAAmBzlB,UAAU4iB,YAAV,CAAnB;AAAA,CAApB,C;;;;;;;;;;;;;;;ACFP;;;;;;AAEO,IAAM7K,wCAAgB,SAAhBA,aAAgB;AAAA,SAAM,gBAAN;AAAA,CAAtB;AACA,IAAM6K,sCAAe,sBAACA,aAAD,EAA0D;AAAA,MAA3CtiB,MAA2C,uEAAlC,iBAAoBolB,SAAc;;AACpF,MAAIplB,UAAUA,OAAOgN,OAAP,CAAe,SAAf,MAA8B,CAAC,CAA7C,EAAgD;AAC9C,uBAAiBsV,cAAa+C,IAA9B,SAAsCrlB,MAAtC;AACD;;AAED,SAAOsiB,cAAamB,aAAb,eACOnB,cAAamB,aADpB,eAEOnB,cAAa+C,IAFpB,SAE4BrlB,MAFnC;AAGD,CARM;AASA,IAAMslB,kDAAqB,SAArBA,kBAAqB;AAAA,6BAAwBtqB,EAAxB;AAAA,CAA3B;AACA,IAAMuqB,wDAAwB,SAAxBA,qBAAwB;AAAA,6BAAwBvqB,EAAxB;AAAA,CAA9B;AACA,IAAMwqB,4CAAkB,SAAlBA,eAAkB;AAAA,SAAM,oBAAN;AAAA,CAAxB;AACA,IAAMC,8CAAmB,SAAnBA,gBAAmB;AAAA,6BAAwBzqB,EAAxB;AAAA,CAAzB;AACA,IAAM0qB,8CAAmB,SAAnBA,gBAAmB;AAAA,6BAAwB1qB,EAAxB;AAAA,CAAzB;AACA,IAAM2qB,oDAAsB,SAAtBA,mBAAsB;AAAA,6BAAwB3qB,EAAxB;AAAA,CAA5B;AACA,IAAM4qB,oDAAsB,SAAtBA,mBAAsB;AAAA,6BAAwB5qB,EAAxB;AAAA,CAA5B;AACA,IAAM6qB,kDAAqB,SAArBA,kBAAqB;AAAA,6BAAwB7qB,EAAxB;AAAA,CAA3B;AACA,IAAM8qB,wDAAwB,SAAxBA,qBAAwB;AAAA,6BAAwB9qB,EAAxB;AAAA,CAA9B;AACA,IAAM+qB,oDAAsB,SAAtBA,mBAAsB;AAAA,6BAAwB/qB,EAAxB;AAAA,CAA5B;AACA,IAAMgrB,8DAA2B,SAA3BA,wBAA2B;AAAA,6BAAwBhrB,EAAxB;AAAA,CAAjC,C;;;;;;;;;;;;;ACtBA,IAAMirB,4DAA0B,yBAAhC;AACA,IAAMC,4DAA0B,yBAAhC;AACA,IAAMC,4DAA0B,yBAAhC;;AAEA,IAAMC,0DAAyB,wBAA/B;AACA,IAAMC,0DAAyB,wBAA/B;AACA,IAAMC,0DAAyB,wBAA/B;;AAEA,IAAMC,8DAA2B,0BAAjC;AACA,IAAMC,8DAA2B,0BAAjC;AACA,IAAMC,8DAA2B,0BAAjC;;AAEA,IAAMC,4CAAkB,iBAAxB,C;;;;;;;;;;;;;ACZA,IAAMC,oEAA8B,SAA9BA,2BAA8B;AAAA,6BACvBrE,aAAatnB,EADU;AAAA,CAApC;;AAGA,IAAM4rB,gEAA4B,SAA5BA,yBAA4B;AAAA,SACvC,+BADuC;AAAA,CAAlC;;AAGA,IAAMC,oEAA8B,SAA9BA,2BAA8B;AAAA,uCACbC,UADa;AAAA,CAApC;;AAGA,IAAMC,sEAA+B,SAA/BA,4BAA+B;AAAA,uCACdD,UADc;AAAA,CAArC;;AAGA,IAAME,oEAA8B,SAA9BA,2BAA8B;AAAA,6BACvB1E,aAAatnB,EADU;AAAA,CAApC;;AAGA,IAAMisB,wFAAwC,SAAxCA,qCAAwC;AAAA,6BACjC3E,aAAatnB,EADoB;AAAA,CAA9C;;AAGA,IAAMksB,wFAAwC,SAAxCA,qCAAwC;AAAA,6BACjC5E,aAAatnB,EADoB;AAAA,CAA9C,C;;;;;;;;;;;;;;AClBP;;AAEA;;;;AACA;;;;AACA;;;;;;kBAEe,4BAAgB;AAC7B6F,sBAD6B;AAE7BsmB,gCAF6B;AAG7BC;AAH6B,CAAhB,C;;;;;;;;;;;;;;;kQCNf;;;AACA;;IAAYxuB,C;;;;;;AAEL,IAAMG,sCAAe;AAC1B0H,WAAS,KADiB;AAE1B+C,UAAQ,KAFkB;AAG1B6jB,UAAQ,EAHkB;AAI1BC,UAAQ,EAJkB;AAK1BR,cAAYzpB;AALc,CAArB;;AAQP,IAAMkqB,+BAA+B,SAA/BA,4BAA+B,GAAuC;AAAA,MAAtCluB,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AAC1E,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAEqtB,uBAAP;AACE,0BAAY5sB,KAAZ,IAAmBoH,SAAS,IAA5B;AACF,SAAK7H,EAAEstB,uBAAP;AACE,UAAMsB,YAAYluB,OAAOmuB,QAAP,CAAgBJ,MAAhB,GACd,EAAEA,qCAAYhuB,MAAMguB,MAAlB,IAA0B/tB,OAAOmuB,QAAjC,EAAF,EADc,GAEd,EAAEH,qCAAYjuB,MAAMiuB,MAAlB,IAA0BhuB,OAAOmuB,QAAjC,EAAF,EAFJ;AAGA,0BAAYpuB,KAAZ,IAAmBoH,SAAS,KAA5B,EAAmC+C,QAAQ,IAA3C,IAAoDgkB,SAApD;AACF,SAAK5uB,EAAEutB,uBAAP;AACE,0BAAY9sB,KAAZ,IAAmBoH,SAAS,KAA5B,EAAmCnD,OAAOhE,OAAOgE,KAAjD;;AAEF,SAAK1E,EAAEwtB,sBAAP;AACE,0BAAY/sB,KAAZ,IAAmBoH,SAAS,IAA5B;AACF,SAAK7H,EAAEytB,sBAAP;AACE,UAAI/sB,OAAOkuB,SAAX,EAAsB;AACpBnuB,cAAMguB,MAAN,GAAe/tB,OAAOkuB,SAAP,CAAiBtmB,MAAjB,CAAwB;AAAA,iBAAYumB,SAASJ,MAArB;AAAA,SAAxB,CAAf;AACAhuB,cAAMiuB,MAAN,GAAehuB,OAAOkuB,SAAP,CAAiBtmB,MAAjB,CAAwB;AAAA,iBAAY,CAACumB,SAASJ,MAAtB;AAAA,SAAxB,CAAf;AACD;AACD,0BAAYhuB,KAAZ,IAAmBoH,SAAS,KAA5B,EAAmC+C,QAAQ,IAA3C;AACF,SAAK5K,EAAE0tB,sBAAP;AACE,0BAAYjtB,KAAZ,IAAmBoH,SAAS,KAA5B,EAAmCnD,OAAOhE,OAAOgE,KAAjD;;AAEF,SAAK1E,EAAE2tB,wBAAP;AACE,0BAAYltB,KAAZ,IAAmBoH,SAAS,IAA5B;AACF,SAAK7H,EAAE4tB,wBAAP;AACE,UAAMhhB,QAAQnM,MAAMiuB,MAAN,CAAaI,SAAb,CAAuB;AAAA,eAAYD,SAASzsB,EAAT,KAAgB1B,OAAOmuB,QAAP,CAAgBzsB,EAA5C;AAAA,OAAvB,CAAd;AACA,0BACK3B,KADL;AAEEoH,iBAAS,KAFX;AAGE6mB,6CAAYjuB,MAAMiuB,MAAN,CAAaK,KAAb,CAAmB,CAAnB,EAAsBniB,KAAtB,CAAZ,sBAA6CnM,MAAMiuB,MAAN,CAAaK,KAAb,CAAmBniB,QAAQ,CAA3B,CAA7C;AAHF;AAKF,SAAK5M,EAAE6tB,wBAAP;AACE,0BAAYptB,KAAZ,IAAmBoH,SAAS,KAA5B,EAAmCnD,OAAOhE,OAAOgE,KAAjD;AACF,SAAK1E,EAAE8tB,eAAP;AACE,0BACKrtB,KADL;AAEEytB,oBAAYxtB,OAAOC;AAFrB;AAIF;AACE,aAAOF,KAAP;AAvCJ;AAyCD,CA1CD;;kBA4CekuB,4B;;;;;;;;;;;;;ACvDR,IAAMzrB,sCAAe,SAAfA,YAAe,CAACjD,IAAD,EAAOU,OAAP;AAAA,SAAoB,EAAEV,UAAF,EAAQU,gBAAR,EAApB;AAAA,CAArB,C;;;;;;;;;;;;;;;;;;;4DCAEwC,O;;;;;;;;;;;;;;;;;;ACAT;;IAAYnD,C;;AACZ;;;;AAEA,IAAM4e,0BAA0B,SAA1BA,uBAA0B;AAAA,SAAQ,gCAAa5e,EAAEgvB,2BAAf,EAA4C/uB,IAA5C,CAAR;AAAA,CAAhC;;kBAEe2e,uB;;;;;;;;;;;;;ACLR,IAAMoQ,oEAA8B,6BAApC,C;;;;;;;;;;;;;;;;;;;ACAP;;;;AACA;;;;AACA;;AAEA;;;;;;;;;;IAEaC,O,WAAAA,O;;;AACX,mBAAapjB,KAAb,EAAoB;AAAA;;AAAA,kHACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa,EAAEyuB,sBAAsB,KAAxB,EAAb;AAFkB;AAGnB;;;;wCAEoB;AACnB,WAAK1iB,QAAL,CAAc,EAAE0iB,sBAAsB,IAAxB,EAAd;AACD;;;mCAEe;AACd,UAAMjP,UAAU,KAAKpU,KAAL,CAAW/J,IAAX,CAAgB6B,aAAhB,CAA8B;AAC5CvB,YAAI,iDADwC;AAE5CwB,wBAAgB;AAF4B,OAA9B,CAAhB;AAIA,UAAII,OAAOmrB,OAAP,CAAelP,OAAf,CAAJ,EAA6B;AAC3B,aAAKpU,KAAL,CAAWujB,MAAX,cACK,KAAKvjB,KAAL,CAAWuf,MADhB;AAEEC,oBAAU5mB,SAFZ;AAGE4qB,gBAAM;AAHR;AAKD;AACF;;;6BAES;AAAA;;AAAA,mBACmC,KAAKxjB,KADxC;AAAA,UACUwf,QADV,UACAD,MADA,CACUC,QADV;AAAA,UACsBzC,QADtB,UACsBA,QADtB;;;AAGR,UAAI;AACF;AACA,YAAM3Y,UAAUmL,KAAKkU,KAAL,CAAWjE,SAASpb,OAApB,CAAhB;AACA,eAAOA,QAAQsf,SAAR,GACL,kEACM,KAAK1jB,KADX;AAEE,wBAAc,KAAK2jB,YAAL,CAAkB7e,IAAlB,CAAuB,IAAvB;AAFhB,WADK,GAML,oEACM,KAAK9E,KADX;AAEE,mBAASwf,SAASpb,OAFpB;AAGE,oBAAU,CAAC2Y,QAHb;AAIE,sBAAY,2BAAS;AACnB,gBAAM6G,MAAMrU,KAAKC,SAAL,CAAenK,MAAMwe,MAAN,EAAf,CAAZ;;AAEA,gBAAIrE,SAASpb,OAAT,KAAqBwf,GAAzB,EAA8B;AAAA,4BACD,OAAK5jB,KADJ;AAAA,kBACpBujB,MADoB,WACpBA,MADoB;AAAA,kBACZhE,MADY,WACZA,MADY;;AAE5BgE,kCACKhE,MADL;AAEEC,0BAAU,EAAEpb,SAASwf,GAAX;AAFZ;AAID;AACF,WAdH;AAeE,wBAAc,KAAKD,YAAL,CAAkB7e,IAAlB,CAAuB,IAAvB;AAfhB,WANF;AAwBD,OA3BD,CA2BE,OAAO/C,CAAP,EAAU;AACV;AACA,YAAI,KAAKnN,KAAL,CAAWyuB,oBAAf,EAAqC;AACnC,iBACE,kEACM,KAAKrjB,KADX;AAEE,0BAAc,KAAK2jB,YAAL,CAAkB7e,IAAlB,CAAuB,IAAvB;AAFhB,aADF;AAMD,SAPD,MAOO;AACL,iBACE;AACE,+BAAmB,KAAKgf,iBAAL,CAAuBhf,IAAvB,CAA4B,IAA5B;AADrB,aAEM,KAAK9E,KAFX,EADF;AAMD;AACF;AACF;;;;;;AAGHojB,QAAQ3lB,SAAR,GAAoB;AAClBogB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UADb;AAElB4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF,UAFP;AAGlBof,YAAU,oBAAUte,IAAV,CAAed,UAHP;AAIlBomB,UAAQ,oBAAUrlB,IAAV,CAAef,UAJL;AAKlBqmB,gBAAc,oBAAUtlB,IAAV,CAAef,UALX;AAMlB4lB,UAAQ,oBAAU7kB,IANA;AAOlBzI,QAAM,qBAAU0H;AAPE,CAApB;;kBAUe,2BAAWylB,OAAX,C;;;;;;;;;;;;;;;;AC3Ff;;;;AACA;;;;;;AAEA,IAAMa,eAAe,SAAfA,YAAe;AAAA,MAAG1jB,QAAH,QAAGA,QAAH;AAAA,MAAa2jB,OAAb,QAAaA,OAAb;AAAA,MAAsBC,WAAtB,QAAsBA,WAAtB;AAAA,MAAmClkB,QAAnC,QAAmCA,OAAnC;AAAA,MAA4C8a,KAA5C,QAA4CA,KAA5C;AAAA,MAAmDzd,KAAnD,QAAmDA,KAAnD;AAAA,MAA0DN,SAA1D,QAA0DA,SAA1D;AAAA,MAAqEqI,KAArE,QAAqEA,KAArE;AAAA,SACnB;AAAA;AAAA;AACE,iBAAW,0BAAW,wBAAX,EAAqCrI,SAArC,CADb;AAEE,eAAS;AAAA,eAAMiD,SAAQoF,KAAR,EAAe8e,WAAf,CAAN;AAAA,OAFX;AAGE;AACE5W,kBAAU,UADZ;AAEE4E,iBAAS+R,UAAU,cAAV,GAA2B;AAFtC,SAGK5mB,KAHL,CAHF;AAQE,aAAOyd;AART;AAUGxa;AAVH,GADmB;AAAA,CAArB;;kBAee0jB,Y;;;;;;;;;;;;;;AClBf;;AACA;;;;AACA;;;;AAEA,IAAMG,oBAAoB;AACxBL,UAAQ;AAAA,WAAM,gCAAW,QAAX,CAAN;AAAA,GADgB;AAExBC,gBAAc;AAAA,WAAM,sCAAiB,QAAjB,CAAN;AAAA;AAFU,CAA1B;;kBAKe,yBAAQprB,SAAR,EAAmBwrB,iBAAnB,sB;;;;;;;;;;;;;;;;;;ACTf;;;;AACA;;;;AAEA;;AACA;;;;;;;;;;;;AACA,IAAI,mBAAAza,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,8EAAAA;;IAE1B0a,S;;;AACJ,qBAAarkB,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,sHACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa;AACXsvB,eAAS,KADE;AAEX9f,eAASpE,MAAMuf,MAAN,CAAaC,QAAb,CAAsBpb,OAFpB;AAGXpI,eAAS;AAHE,KAAb;AAF2B;AAO5B;;;;8CAE0BwI,S,EAAW;AACpC,UAAI,KAAK5P,KAAL,CAAWoH,OAAX,IAAsB,KAAKgE,KAAL,CAAWuf,MAAX,CAAkBC,QAAlB,CAA2Bpb,OAA3B,KAAuCI,UAAU+a,MAAV,CAAiBC,QAAjB,CAA0Bpb,OAA3F,EAAoG;AAClG,aAAKzD,QAAL,CAAc,EAAE3E,SAAS,KAAX,EAAd;AACD;AACF;;;oCAEgB;AACf,UAAI,KAAKpH,KAAL,CAAWoH,OAAf,EAAwB;AACtB,eACE,mDADF;AAGD;AACF;;;+BAEWsoB,U,EAAY;AAAA,UACJ9E,QADI,GACW,KAAKxf,KADhB,CACduf,MADc,CACJC,QADI;;;AAGtB,UAAIA,SAASpb,OAAT,KAAqBkgB,UAAzB,EAAqC;AAAA,qBACR,KAAKtkB,KADG;AAAA,YAC3BujB,MAD2B,UAC3BA,MAD2B;AAAA,YACnBhE,MADmB,UACnBA,MADmB;;AAEnC,aAAK5e,QAAL,CAAc,EAAE3E,SAAS,IAAX,EAAd;;AAEAunB,4BACKhE,MADL;AAEEC,oBAAU,EAAEpb,SAASmL,KAAKC,SAAL,CAAe8U,UAAf,CAAX;AAFZ;AAID;AACF;;;6BAES;AAAA,oBACiD,KAAKtkB,KADtD;AAAA,UACA+c,QADA,WACAA,QADA;AAAA,UACUc,YADV,WACUA,YADV;AAAA,UACkC2B,QADlC,WACwBD,MADxB,CACkCC,QADlC;AAAA,UAEW+E,QAFX,GAEwB1G,YAFxB,CAEA2G,SAFA;;;AAIR,UAAMrmB,QACJ0f,gBAAgBA,aAAa4G,YAA7B,GACI5G,aAAa4G,YAAb,CAA0Bjf,OAA1B,CAAkC,SAAlC,EAA6C,EAA7C,CADJ,GAEI,IAHN;;AAMA,UAAIH,cAAJ;AACA,UAAI;AACFA,gBAAQkK,KAAKkU,KAAL,CAAWjE,SAASpb,OAApB,CAAR;AACD,OAFD,CAEE,OAAOrC,CAAP,EAAU;AACVsD,gBAAQma,SAASpb,OAAjB;AACD;;AAED,aACE;AAAA;AAAA,UAAK,WAAU,2CAAf,EAA2D,OAAO,EAAE6F,YAAYsa,QAAd,EAAlE;AACE;AACE,iBAAOlf,KADT;AAEE,iBAAOlH,KAFT;AAGE,oBAAU,CAAC4e,QAHb;AAIE,sBAAY,KAAKrL,UAAL,CAAgB5M,IAAhB,CAAqB,IAArB,CAJd;AAKE,wBAAc,KAAK9E,KAAL,CAAWuS;AAL3B;AADF,OADF;AAWD;;;;EAlEqB,gBAAM3Q,S;;AAqE9ByiB,UAAU5mB,SAAV,GAAsB;AACpBogB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UADX;AAEpB4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF,UAFL;AAGpBof,YAAU,oBAAUte,IAAV,CAAed,UAHL;AAIpBomB,UAAQ,oBAAUrlB,IAAV,CAAef,UAJH;AAKpBqmB,gBAAc,oBAAUtlB,IAAV,CAAef,UALT;AAMpB4lB,UAAQ,oBAAU7kB,IANE;AAOpB6T,gBAAc,oBAAU7T;AAPJ,CAAtB;;kBAUe2lB,S;;;;;;;ACtFf,yC;;;;;;;;;;;;;;ACAA;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAMxlB,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR,EAAkB;AACxC,MAAM0kB,YAAY,yBAAa9vB,KAAb,EAAoBoL,KAApB,CAAlB;AACA,SAAO;AACL6d,kBAAc6G,UAAU5F,eAAV;AADT,GAAP;AAGD,CALD;;AAOA,IAAMsF,oBAAoB;AACxBL,UAAQ;AAAA,WAAM,gCAAW,QAAX,CAAN;AAAA,GADgB;AAExBC,gBAAc;AAAA,WAAM,sCAAiB,QAAjB,CAAN;AAAA;AAFU,CAA1B;;kBAKe,yBAAQnlB,eAAR,EAAyBulB,iBAAzB,sB;;;;;;;;;;;;;;;;;;ACjBf;;;;AACA;;;;AACA;;;;AACA;;;;AAWA;;AACA;;;;;;;;;;AAVA,IAAIO,kBAAJ;AAAA,IAAeC,6BAAf;AACA;AACA,IAAI,mBAAAjb,CAAQ,OAAR,EAAiBC,SAArB,EAAgC;AAC9BzR,SAAO0sB,KAAP,GAAe,mBAAAlb,CAAQ,yCAAR,CAAf;AACAgb,cAAY,mBAAAhb,CAAQ,kIAAR,CAAZ;AACAib,yBAAuB,mBAAAjb,CAAQ,6IAAR,CAAvB;AACD;;AAED;;IAIMmb,S;;;AACJ,qBAAa9kB,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,sHACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa;AACXsvB,eAAS,KADE;AAEXnU,cAAQ,IAFG;AAGX3L,eAASpE,MAAMuf,MAAN,CAAaC,QAAb,CAAsBpb,OAHpB;AAIX2gB,wCAAgC,MAAK/kB,KAAL,CAAWuf,MAAX,CAAkBhpB,EAJvC;AAKXyF,eAAS;AALE,KAAb;AAF2B;AAS5B;;;;wCAEoB;AACnB,UAAI,KAAKgE,KAAL,CAAW+c,QAAf,EAAyB;AACvB,YAAMhN,SAAS,IAAI4U,UAAUK,MAAd,CACb,KAAKlV,IAAL,CAAU1L,OADG,EACM;AACjB6gB,mBAAS,KAAKrwB,KAAL,CAAWmwB,SADH;AAEjBG,uBAAaN;AAFI,SADN,EAKbO,EALa,CAKV,OALU,EAKC,KAAKC,iBALN,MAKC,IALD,EAAf;AAMA,aAAKzkB,QAAL,CAAc,EAACoP,QAAQA,MAAT,EAAd;AACD,OARD,MAQO;AACL,aAAKsV,QAAL;AACD;AACF;;;8CAE0B7gB,S,EAAW;AACpC,UAAI,KAAK5P,KAAL,CAAWoH,OAAX,IAAsB,KAAKgE,KAAL,CAAWuf,MAAX,CAAkBC,QAAlB,CAA2Bpb,OAA3B,KAAuCI,UAAU+a,MAAV,CAAiBC,QAAjB,CAA0Bpb,OAA3F,EAAoG;AAClG,aAAKzD,QAAL,CAAc,EAAC3E,SAAS,KAAV,EAAd;AACD;AACF;;;mCAEe;AACd,WAAK2E,QAAL,CAAc,EAACujB,SAAS,IAAV,EAAd;AACA,WAAKlkB,KAAL,CAAW+jB,MAAX,IAAqB,KAAK/jB,KAAL,CAAW+jB,MAAX,EAArB;AACA5rB,aAAOqlB,gBAAP,CAAwB,OAAxB,EAAmC,KAAK8H,iBAAxC,MAAmC,IAAnC;AACD;;;oCAEgB;AACf,WAAK3kB,QAAL,CAAc,EAACujB,SAAS,KAAV,EAAd;AACA,WAAKlkB,KAAL,CAAWgkB,YAAX,IAA2B,KAAKhkB,KAAL,CAAWgkB,YAAX,EAA3B;AACA7rB,aAAOulB,mBAAP,CAA2B,OAA3B,EAAsC,KAAK4H,iBAA3C,MAAsC,IAAtC;AACA,WAAKxV,IAAL,CAAU1L,OAAV,CAAkB4X,IAAlB;AACD;;;wCAEoB;AACnB,WAAKuJ,YAAL;AACD;;;sCAEkBxjB,C,EAAG;AACpB,UAAIA,EAAE4b,OAAF,KAAc,EAAlB,EAAsB;AACpB,aAAK7kB,IAAL;AACD;AACF;;;yCAEqB;AACpB,WAAKA,IAAL;AACD;;;+BAEW;AACV,UAAM0sB,QAAQ5R,SAAS6R,gBAAT,CAA0B,0CAA1B,CAAd;AADU;AAAA;AAAA;;AAAA;AAEV,6BAAiBD,KAAjB,8HAAwB;AAAA,cAAfE,IAAe;;AACtB,gCAAEA,IAAF,EAAQP,EAAR,CAAW,kBAAX,EAAiC,KAAKplB,WAAtC,MAAiC,IAAjC;AACD;AAJS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKX;;;gCAEYgC,C,EAAG;AACdA,QAAE3B,cAAF;AACA,UAAM8J,SAAS,sBAAEnI,EAAEmI,MAAJ,EAAYyb,OAAZ,CAAoB,GAApB,EAAyBC,IAAzB,CAA8B,MAA9B,CAAf;AACA,UAAMzK,aAAa,sBAAE,cAAF,CAAnB;AACA,UAAMC,YAAY,sBAAElR,MAAF,EAAU2b,MAAV,GAAmBlT,GAAnB,GAAyBwI,WAAWE,SAAX,EAAzB,GAAkDF,WAAW5N,QAAX,GAAsBoF,GAA1F;;AAEAwI,iBAAWG,IAAX,GAAkBC,OAAlB,CAA0B,EAACF,WAAWD,SAAZ,EAA1B,EAAkD,GAAlD,EAAuD,YAAM;AAC3DjjB,eAAOqjB,QAAP,CAAgBC,IAAhB,GAAuBvR,MAAvB;AACD,OAFD;AAGD;;;2BAEO;AAAA,mBACsB,KAAKtV,KAD3B;AAAA,UACEmb,MADF,UACEA,MADF;AAAA,UACU3L,OADV,UACUA,OADV;;AAEN,UAAM0hB,aAAa/V,OAAOgW,QAAP,OAAsB3hB,OAAzC;AACA,WAAKzD,QAAL,CAAc,EAACyD,SAAS2L,OAAOgW,QAAP,EAAV,EAAd;AACA,WAAKC,aAAL;;AAEA,UAAIF,UAAJ,EAAgB;AAAA,qBACa,KAAK9lB,KADlB;AAAA,YACNujB,MADM,UACNA,MADM;AAAA,YACEhE,MADF,UACEA,MADF;;;AAGd,aAAK5e,QAAL,CAAc,EAAC3E,SAAS,IAAV,EAAd;AACAunB,4BACKhE,MADL;AAEEC,oBAAU,EAAEpb,SAAS,KAAKxP,KAAL,CAAWmb,MAAX,CAAkBgW,QAAlB,EAAX;AAFZ;AAID;AACF;;;oCAEgB;AACf,UAAI,KAAKnxB,KAAL,CAAWoH,OAAf,EAAwB;AACtB,eACE,mDADF;AAGD;AACF;;;4CAEwB;AAAA,UACf8nB,iBADe,GACO,KAAK9jB,KADZ,CACf8jB,iBADe;;AAEvB,UAAI3rB,OAAOmrB,OAAP,wKAAJ,EAE2D;AACzDQ;AACD;AACF;;;6BAES;AAAA,oBACuB,KAAKlvB,KAD5B;AAAA,UACAmwB,SADA,WACAA,SADA;AAAA,UACWb,OADX,WACWA,OADX;AAAA,gCAEmE,KAAKlkB,KAFxE,CAEA6d,YAFA;AAAA,UAE6BoI,UAF7B,uBAEgBC,WAFhB;AAAA,UAEoD3B,QAFpD,uBAEyCC,SAFzC;AAAA,UAGAV,iBAHA,GAGsB,KAAK9jB,KAH3B,CAGA8jB,iBAHA;;AAIR,aACE;AAAA;AAAA,UAAK,WAAU,yBAAf;AACE;AAAA;AAAA,YAAK,WAAW,0BAAW,uBAAX,EAAoC,EAAC,gBAAgB,CAACI,OAAlB,EAApC,CAAhB;AACE;AACE,uBAAWa,SADb;AAEE,uBAAU,sCAFZ;AAGE,6BAAgB,cAHlB;AAIE,mBAAO,EAAEtL,MAAM,CAAR;AAJT,YADF;AAOE;AACE,uBAAU,wCADZ;AAEE,qBAAW,KAAK5Y,kBAAhB,MAAW,IAAX;AAFF;AAPF,SADF;AAaE;AAAA;AAAA,YAAK,WAAW,0BAAW,UAAX,EAAuBqjB,UAAU,IAAV,GAAiB,IAAxC,CAAhB;AACE;AACE,uBAAW,0BAAW,QAAX,EAAwB+B,UAAxB,cAAgD1B,QAAhD,WADb;AAEE,qCAAyB,EAACrW,QAAQ,KAAKtZ,KAAL,CAAWwP,OAApB,EAF3B;AAGE,iBAAI;AAHN,YADF;AAME;AAAA;AAAA,cAAK,WAAW,0BAAW,WAAX,EAAwB,EAAC,gBAAgB,CAAC8f,OAAlB,EAAxB,CAAhB;AACGJ,gCACC;AAAA;AAAA;AACE,yBAAS,KAAKqC,qBAAL,CAA2BrhB,IAA3B,CAAgC,IAAhC,CADX;AAEE,2BAAU;AAFZ;AAAA;AAAA,aADD,GAOG,IARN;AASE;AAAA;AAAA;AACE,yBAAW,KAAKhM,IAAhB,MAAW,IAAX,CADF;AAEE,2BAAU;AAFZ;AAAA;AAAA;AATF;AANF,SAbF;AAoCG,aAAKstB,aAAL;AApCH,OADF;AAwCD;;;;EA3JqB,gBAAMxkB,S;;AA8J9BkjB,UAAUrnB,SAAV,GAAsB;AACpBogB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UADX;AAEpB4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF,UAFL;AAGpBof,YAAU,oBAAUte,IAAV,CAAed,UAHL;AAIpBomB,UAAQ,oBAAUrlB,IAAV,CAAef,UAJH;AAKpBqmB,gBAAc,oBAAUtlB,IAAV,CAAef,UALT;AAMpB4lB,UAAQ,oBAAU7kB;AANE,CAAtB;;kBASeomB,S;;;;;;;;;;;;;;;;;;;ACxLf;;;;AACA;;AACA;;;;AACA;;AAiBA;;;;AACA;;AACA;;AAEA;;;;;;;;;;;;AAEA,IAAI,mBAAAnb,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,gFAAAA;;AAEhC,IAAM0c,wBAAwB,EAAEC,iBAAiB,EAAnB,EAA9B;AACA,IAAMC,qBAAqB,mCAAsBhR,IAAtB,CAA2B,EAAEzP,GAAG,GAAL,EAAUC,GAAG,GAAb,EAAkBC,GAAG,GAArB,EAA0BC,GAAG,CAA7B,EAA3B,EAA6DugB,GAA7D,EAA3B;;AAEA,IAAMvT,UAAU,CACd,mCADc,EAEd,8BAFc,EAGd,+BAHc,EAId,+BAJc,EAKd,oCALc,EAMd,iCAAeoT,qBAAf,CANc,EAOd,8BAPc,EAQd,+BARc,EASd,gCATc,EAUd,8BAVc,EAWd,8BAXc,EAYd,uCAZc,EAad,mCAbc,CAAhB;;AAgBA,IAAMI,aAAa;AACjBC,UAAQ,gDADS;AAEjBC,YAAU,2CAFO;AAGjBrZ,SAAO,8BAHU;AAIjBsZ,cAAY;AAJK,CAAnB;;IAOMC,W;;;AACJ,uBAAa7mB,KAAb,EAAoB;AAAA;;AAAA,0HACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa;AACXsvB,eAAS,KADE;AAEXloB,eAAS,KAFE;AAGX1H,oBAAcib,KAAKkU,KAAL,CAAWzjB,MAAMoE,OAAjB;AAHH,KAAb;AAFkB;AAOnB;;;;4CAEwBxP,K,EAAO+L,Q,EAAU;AACxC,UAAMmmB,aAAa,+BAAMC,SAAN,CAAgB,KAAKnyB,KAAL,CAAWN,YAA3B,CAAnB;AACA,UAAMsvB,MAAM,+BAAMmD,SAAN,CAAgBnyB,KAAhB,CAAZ;AACA,UAAIkyB,eAAelD,GAAnB,EAAwB;AACtB,YAAIzrB,OAAOmrB,OAAP,CAAe,KAAKtjB,KAAL,CAAW/J,IAAX,CAAgB6B,aAAhB,CAA8B;AAC/CvB,cAAI,uCAD2C;AAE/CwB,0BAAgB;AAF+B,SAA9B,CAAf,CAAJ,EAGK;AACH,eAAK4I,QAAL,CAAc,EAAEujB,SAAS,KAAX,EAAd;AACAvjB,mBAAS,KAAK/L,KAAL,CAAWN,YAApB;AACD;AACF,OARD,MAQO;AACL,aAAKqM,QAAL,CAAc,EAAEujB,SAAS,KAAX,EAAd;AACD;AACF;;;+BAEWtvB,K,EAAO;AACjB,WAAK+L,QAAL,CAAc,EAAErM,cAAcM,KAAhB,EAAd;AACA,WAAKoL,KAAL,CAAW0R,UAAX,CAAsB9c,KAAtB;AACD;;;6BAES;AAAA;;AAAA,mBACyD,KAAKoL,KAD9D;AAAA,UACAuS,YADA,UACAA,YADA;AAAA,UACcP,QADd,UACcA,QADd;AAAA,UACwBgV,aADxB,UACwBA,aADxB;AAAA,UACuCC,aADvC,UACuCA,aADvC;;AAER,aACE;AAAA;AAAA,UAAK,WAAU,yBAAf;AACE;AAAA;AAAA;AACE,qBAAShU,OADX;AAEE,0BAAc,KAAKre,KAAL,CAAWN,YAF3B;AAGE,mBAAO,EAAE6I,OAAO,MAAT;AAHT;AAKE;AAAA;AAAA,cAAc,oBACT,iBAAO8nB,OADE;AAEZ9S,yBAAS,KAAKvd,KAAL,CAAWsvB,OAAX,GAAqB,OAArB,GAA+B;AAF5B,iBAGT8C,aAHS,CAAd;AAKE,qEAAY,WAAWP,WAAWC,MAAlC,GALF;AAME,uEAAc,WAAWD,WAAWC,MAApC,GANF;AAOE,0EAAiB,WAAWD,WAAWC,MAAvC,GAPF;AAQE,8EAAqB,WAAWD,WAAWC,MAA3C,GARF;AASE,6EAAoB,WAAWD,WAAWC,MAA1C,GATF;AAUE,qEAAY,WAAWD,WAAWC,MAAlC,GAVF;AAWE,wEAAe,WAAWD,WAAWC,MAArC,GAXF;AAYE,6EAAoB,WAAWD,WAAWE,QAA1C,EAAoD,OAAO,iBAAOA,QAAlE,GAZF;AAaE,iFAAe,WAAWF,WAAWnZ,KAArC,IAAgD+Y,qBAAhD,IAAuE,OAAO,iBAAO/Y,KAArF,IAbF;AAcE,sEAAa,WAAWmZ,WAAWC,MAAnC,EAA2C,YAAe,iBAAoBQ,MAAnC,aAA3C,GAdF;AAeE,sEAAa,WAAWT,WAAWC,MAAnC,EAA2C,cAAcH,kBAAzD,EAA6E,uBAAuB,EAAEtM,GAAG,CAAL,EAAQE,GAAG,EAAX,EAApG,GAfF;AAgBE,wEAAe,WAAWsM,WAAWC,MAArC,GAhBF;AAiBE,sEAAa,WAAWD,WAAWC,MAAnC;AAjBF,WALF;AAyBE;AACE,0BAAc,EAAEnZ,UAAU,UAAZ,EAAwB4Z,QAAQ,KAAKvyB,KAAL,CAAWsvB,OAAX,GAAqB,CAArB,GAAyB,SAAzD,EADhB;AAEE,8BAASkD,WAAW,GAApB,IAA4BH,aAA5B,CAFF;AAGE,qBAAS,mBAAM;AACb,kBAAI,CAACjV,QAAL,EAAe,OAAKrR,QAAL,CAAc,EAAEujB,SAAS,IAAX,EAAd;AAChB,aALH;AAME,uBAAW,mBAAC/jB,KAAD,EAAQ3K,IAAR,EAAcZ,KAAd,EAAwB;AACjC,kBAAIY,KAAK6xB,KAAL,IAAc7xB,KAAKyL,GAAL,KAAa,GAA/B,EAAoC;AAClCd,sBAAMC,cAAN;AACA,uBAAKsR,UAAL,CAAgB9c,KAAhB;AACD;AACF,aAXH;AAYE,uBAAW,CAACod,QAAD,GAAY,UAAZ,GAAyB,EAZtC;AAaE,sBAAUA;AAbZ,YAzBF;AAyCE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,yBAAS,KAAKpd,KAAL,CAAWsvB,OADtB;AAEE,uBAAM,SAFR;AAGE,uBAAO;AACL3W,4BAAU,UADL;AAEL+E,yBAAO,CAFF;AAGLoH,0BAAQ;AAHH,iBAHT;AAQE,2BAAU,KARZ;AASE,yBAASnH;AATX;AAWE,mDAAG,WAAU,aAAb;AAXF,aADF;AAcE;AAAA;AAAA;AACE,yBAAS,KAAK3d,KAAL,CAAWsvB,OADtB;AAEE,2BAAU,iBAFZ;AAGE,yBAAS,KAAKxS,UAAL,CAAgB5M,IAAhB,CAAqB,IAArB;AAHX;AAKE;AACE,oBAAG,kCADL;AAEE,gCAAe;AAFjB;AALF,aAdF;AAwBE;AAAA;AAAA;AACE,yBAAS,KAAKlQ,KAAL,CAAWsvB,OADtB;AAEE,2BAAU,qBAFZ;AAGE,yBAAS,KAAKoD,uBAAL,CAA6BxiB,IAA7B,CAAkC,IAAlC;AAHX;AAKE;AACE,oBAAG,oCADL;AAEE,gCAAe;AAFjB;AALF;AAxBF,WAzCF;AA4EE;AACE,qBAAS,KAAKlQ,KAAL,CAAWsvB,OADtB;AAEE,qBAAS,KAAKoD,uBAAL,CAA6BxiB,IAA7B,CAAkC,IAAlC;AAFX;AA5EF,SADF;AAkFG,aAAKlQ,KAAL,CAAWoH,OAAX,IAAsB;AAlFzB,OADF;AAsFD;;;;;;AAGH6qB,YAAYppB,SAAZ,GAAwB;AACtBxH,QAAM,qBAAU0H;AADM,CAAxB;;AAIAkpB,YAAYzpB,YAAZ,GAA2B;AACzBsU,cAAY,sBAAM,CAAE;AADK,CAA3B;;AAIO,IAAM6V,oDAAsB,SAAtBA,mBAAsB;AAAA,SAAWhY,KAAKC,SAAL,CAC5C,+BAAMgY,WAAN,CAAkBpjB,OAAlB,EAA2Byf,MAA3B,EAD4C,CAAX;AAAA,CAA5B;;kBAIQ,2BAAWgD,WAAX,C;;;;;;;AC5Lf,yC;;;;;;;;;;;;;kBCAe;AACbH,UAAQ;AACNe,iBAAa;AADP,GADK;AAIbd,YAAU;AACRpZ,cAAU,UADF;AAERoF,SAAK,CAFG;AAGR7V,qBAAiB,OAHT;AAIRwf,YAAQ,EAJA;AAKRoL,iBAAa,EALL;AAMRC,YAAQ,mBANA;AAORxqB,WAAO,SAPC;AAQRyqB,YAAQ,GARA;AASRC,sBAAkB,MATV;AAURtL,aAAS;AAVD,GAJG;AAgBbjP,SAAO;AACLC,cAAU,UADL;AAELoF,SAAK,CAFA;AAGL7V,qBAAiB,OAHZ;AAILgrB,kBAAc,CAJT;AAKLxL,YAAQ,EALH;AAMLsL,YAAQ,CANH;AAOLzqB,WAAO,SAPF;AAQLwqB,YAAQ;AARH,GAhBM;AA0Bb1C,WAAS;AACP1X,cAAU,UADH;AAEPoF,SAAK,CAFE;AAGP8G,UAAM,CAHC;AAIPjc,WAAO,MAJA;AAKP2pB,YAAQ,CALD;AAMPhV,aAAS;AANF,GA1BI;AAkCb4V,WAAS;AACPxa,cAAU,UADH;AAEPoF,SAAK,CAFE;AAGP+G,YAAQ,CAHD;AAIPD,UAAM,CAJC;AAKPnH,WAAO,CALA;AAMPxV,qBAAiB,MANV;AAOPK,WAAO,MAPA;AAQP2qB,kBAAc,CARP;AASPnM,aAAS,KATF;AAUP1G,gBAAY,GAVL;AAWPjL,cAAU,SAXH;AAYP+B,YAAQ,SAZD;AAaPoG,aAAS;AAbF;AAlCI,C;;;;;;;;;;;;;;ACAf;;;;;;;;kBAEe;AAAA,MAAG5R,QAAH,QAAGA,QAAH;AAAA,MAAgBP,KAAhB;;AAAA,SACb;AAAA;AAAA,MAAK,OAAO,EAAEuN,UAAU,UAAZ,EAAwB4Z,QAAQ,CAAhC,EAAZ;AACG5mB,gBAAYA,SAASlE,GAAT,CAAa;AAAA,aAAS,gBAAM2E,YAAN,CAAmBF,KAAnB,EAA0Bd,KAA1B,CAAT;AAAA,KAAb;AADf,GADa;AAAA,C;;;;;;;;;;;;;;;;;;;8CCFN1I,O;;;;;;;;;8CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;gDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;;;;;;;;;;ACNT;;;;;;AAEA,IAAM0wB,QAAQ,SAARA,KAAQ,OAA8C;AAAA,MAA3C9D,OAA2C,QAA3CA,OAA2C;AAAA,MAAlCjkB,QAAkC,QAAlCA,OAAkC;AAAA,MAAzBoF,KAAyB,QAAzBA,KAAyB;AAAA,MAAlB8e,WAAkB,QAAlBA,WAAkB;;AAC1D,SACE;AACE,WAAO;AACLhS,eAAS+R,UAAU,OAAV,GAAoB,MADxB;AAEL3W,gBAAU,OAFL;AAGLkM,YAAM,CAHD;AAIL9G,WAAK,CAJA;AAKL+G,cAAQ,CALH;AAMLpH,aAAO,CANF;AAOLxV,uBAAiB,gBAPZ;AAQLqqB,cAAQ;AARH,KADT;AAWE,aAAS;AAAA,aAAMlnB,SAAQoF,KAAR,EAAe8e,WAAf,CAAN;AAAA;AAXX,IADF;AAeD,CAhBD;;kBAkBe6D,K;;;;;;;;;;;;;;;;;ACpBf;;IAAY7zB,C;;;;AAEL,IAAMG,sCAAe;AAC1Bwe,wBAAsB;AADI,CAArB;AAGA,IAAMmV,wCAAgB,EAAE7zB,MAAM,EAAR,EAAtB;;kBAEQ,YAAkD;AAAA,MAAjDQ,KAAiD,uEAAzCN,YAAyC;AAAA,MAA3BO,MAA2B,uEAAlBozB,aAAkB;;AAC/D,UAAQpzB,OAAOT,IAAf;AACE,SAAKD,EAAEgvB,2BAAP;AACE,0BAAYvuB,KAAZ,IAAmBke,sBAAsBje,OAAOC,OAAhD;;AAEF;AACE,aAAOF,KAAP;AALJ;AAOD,C;;;;;;;;;;;;;;ACdD;;AACA;;IAAYyrB,a;;AACZ;;AACA;;;;AACA;;IAAYlsB,C;;AACZ;;;;;;AANA;AAQA,IAAM+zB,iCAAiC,SAAjCA,8BAAiC;AAAA,SAAU,UAACnzB,QAAD,EAAWC,QAAX,QAAuC;AAAA,QAAhBC,GAAgB,QAAhBA,GAAgB;AAAA,QAAXgB,IAAW,QAAXA,IAAW;;AACtF,QAAMrB,QAAQI,UAAd;AACA,QAAMkB,+BAA6BiyB,OAAOC,eAApC,eAAN;AACA,QAAMjyB,OAAO,EAAEkyB,UAAUC,kBAAkBH,MAAlB,CAAZ,EAAb;;AAEApzB,aAAS,EAAEX,MAAMD,EAAEo0B,yCAAV,EAAT;AACA,WAAOtzB,IAAIE,IAAJ,CAASe,QAAT,EAAmBC,IAAnB,EACJd,IADI,CACC,oBAAY;AAChBN,eAAS,EAAEX,MAAMD,EAAEq0B,yCAAV,EAAT;;AAEA,UAAI5zB,MAAMoe,aAAN,CAAoBC,OAApB,CAA4BoV,QAA5B,CAAqCI,YAAzC,EAAuD;AACrD1zB,iBAAS,+BAAwB6D,SAAxB,CAAT;AACD;;AAED,gCAAgB8vB,qBAAhB;AACA,aAAOhzB,QAAQG,OAAR,EAAP;AACD,KAVI,EAWJC,KAXI,CAWE,mBAAW;AAChBf,eAAS,gCAAaZ,EAAEw0B,yCAAf,EAA0DzwB,OAA1D,CAAT;AACAnD,eAAS,6BAAgBsrB,cAAcuI,mBAAd,CAAkC3yB,IAAlC,CAAhB,CAAT;;AAEA,UAAIiC,QAAQ2wB,MAAR,IAAkB3wB,QAAQ2wB,MAAR,CAAerzB,IAArC,EAA2C;AACzC,YAAI;AACF,cAAMszB,cAAcvZ,KAAKkU,KAAL,CAAWvrB,QAAQ2wB,MAAR,CAAerzB,IAA1B,CAApB;AACAT,mBAAS,+BAAwB+zB,YAAYT,QAAZ,CAAqBU,QAA7C,CAAT;AACD,SAHD,CAGE,OAAOlwB,KAAP,EAAc;AACdmwB,kBAAQnwB,KAAR,CAAc,gEAAd;AACAmwB,kBAAQnwB,KAAR,CAAcA,KAAd;AACD;AACF;;AAED,aAAOnD,QAAQC,MAAR,CAAe,EAAEszB,sBAAoB1Z,KAAKC,SAAL,CAAetX,OAAf,CAAtB,EAAf,CAAP;AACD,KA1BI,CAAP;AA2BD,GAjCsC;AAAA,CAAvC;;kBAmCegwB,8B;;;AAEf,IAAMI,oBAAoB,SAApBA,iBAAoB;AAAA,SAAW;AACnCY,eAAWf,OAAOe,SADiB;AAEnCC,eAAWhB,OAAOgB,SAFiB;AAGnCC,oBAAgBjB,OAAOiB,cAHY;AAInCC,YAAQlB,OAAOkB,MAJoB;AAKnCN,cAAUZ,OAAOY,QALkB;AAMnCO,kBAAcnB,OAAOmB,YANc;AAOnCC,YAAQpB,OAAOqB;AAPoB,GAAX;AAAA,CAA1B,C;;;;;;;;;;;;;AC7CO,IAAMnyB,sCAAe,SAAfA,YAAe,CAACjD,IAAD,EAAOU,OAAP;AAAA,SAAoB,EAAEV,UAAF,EAAQU,gBAAR,EAApB;AAAA,CAArB,C;;;;;;;;;;;;;;;;;;;mECGEwC,O;;;;;;;;;4DAKAA,O;;;;;;;;;;;;;;;;;;ACRT;;IAAYnD,C;;AACZ;;;;AAEA,IAAMs1B,0BAA0B,SAA1BA,uBAA0B;AAAA,SAAQ,yBAAat1B,EAAEu1B,0BAAf,EAA2Cl0B,IAA3C,CAAR;AAAA,CAAhC;;kBAEei0B,uB;;;;;;;;;;;;;ACLf;AACA;AACA;AACO,IAAMlB,gGAA4C,2CAAlD;AACA,IAAMC,gGAA4C,2CAAlD;AACA,IAAMG,gGAA4C,2CAAlD;;AAEP;AACA;AACA;AACO,IAAMe,kEAA6B,4BAAnC,C;;;;;;;;;;;;;;;;ACVP;;AACA;;AACA;;AACA;;;;AACA;;AAEA;;IAAYC,c;;AACZ;;AACA;;AACA;;;;;;;;AAEA,IAAMC,WAAW,+BAAgB;AAC/BC,sDAD+B;AAE/BC;AAF+B,CAAhB,CAAjB;;AAKA,IAAMjrB,kBAAkB,SAAlBA,eAAkB;AAAA,SAAU;AAChCkrB,0BAAsBn1B,MAAMoe,aAAN,CAAoBC,OAApB,CAA4BoV,QAA5B,CAAqCI;AAD3B,GAAV;AAAA,CAAxB;;AAIA,IAAMuB,qBAAqB,SAArBA,kBAAqB;AAAA,SAAa;AACtCC,qCAAiC;AAAA,UAC/BpM,YAD+B,QAC/BA,YAD+B;AAAA,UAE/B0B,MAF+B,QAE/BA,MAF+B;AAAA,UAG/B2K,aAH+B,QAG/BA,aAH+B;AAAA,UAI/BC,mBAJ+B,QAI/BA,mBAJ+B;AAAA,UAK/BC,QAL+B,QAK/BA,QAL+B;AAAA,UAM/B7Q,OAN+B,QAM/BA,OAN+B;AAAA,UAO/B8Q,0BAP+B,QAO/BA,0BAP+B;AAAA,aAQ3B,IAAI30B,OAAJ,CAAY,UAACG,OAAD,EAAUF,MAAV,EAAqB;AACrC,YAAM20B,cAAc/K,OAAOC,QAAP,CAAgB+K,YAApC;AACA,YAAMC,kBAAkBjL,OAAOC,QAAP,CAAgBgK,gBAAxC;AACA,YAAMiB,YAAYlL,OAAOC,QAAP,CAAgBkL,UAAhB,GACdnL,OAAOC,QAAP,CAAgBkL,UADF,GAEd,SAFJ;;AAIA,YAAMC,WAAW,IAAIC,gBAAgBC,QAApB,CAA6B;AAC5CC,0BAAgB7d,QAAQC,GAAR,CAAY6d,WAAZ,IAA2B,eADC;AAE5CC,mBAAS,iBAACx1B,IAAD,EAAU;AACjBA,iBAAK8zB,YAAL,GAAoBgB,gBAAgB,cAAhB,GACfH,wBAAwB,QADT,GAEhB30B,KAAK8zB,YAAL,GAAqBgB,gBAAgB,QAFzC;;AAIA90B,iBAAKg0B,gBAAL,GAAwBgB,eAAxB;AACAh1B,iBAAK4yB,eAAL,GAAuBvK,aAAatnB,EAApC;AACAf,iBAAK0zB,SAAL,GAAiB3J,OAAOhpB,EAAxB;AACAf,iBAAK6zB,MAAL,GAAc9J,OAAOC,QAAP,CAAgB,mBAAmB0K,aAAnC,IAAoD,IAAlE;;AAEAn1B,qBAAS,oDAA+BS,IAA/B,CAAT,EACGH,IADH,CACQQ,OADR,EAEGC,KAFH,CAESH,MAFT;AAGD,WAf2C;AAgB5CkD,iBAAO,eAACoyB,GAAD,EAAS;AAAEjC,oBAAQnwB,KAAR,CAAcoyB,GAAd;AAAoB;AAhBM,SAA7B,CAAjB;;AAmBA,YAAMxC,eAAe,EAArB;AACA,YAAI4B,0BAAJ,EAAgC;AAC9B,cAAM7tB,IAAI6tB,0BAAV;;AAEA;AACA5B,uBAAayC,YAAb,GAA4B1uB,EAAEogB,IAA9B;AACA6L,uBAAa0C,sBAAb,GAAsC3uB,EAAE4uB,eAAxC;AACA3C,uBAAa4C,aAAb,GAA6B7uB,EAAEvF,KAA/B;AACAwxB,uBAAa6C,gBAAb,GAAgC9uB,EAAE+uB,KAAF,CAAQC,GAAxC;AACA/C,uBAAagD,mBAAb,GAAmCjvB,EAAE+uB,KAAF,CAAQ7tB,MAA3C;AACA+qB,uBAAaiD,sBAAb,GAAsClvB,EAAEmvB,OAAF,CAAUC,OAAhD;AACAnD,uBAAaoD,qBAAb,GAAqCrvB,EAAEmvB,OAAF,CAAUG,MAA/C;AACArD,uBAAasD,2BAAb,GAA2CvvB,EAAEmvB,OAAF,CAAUK,aAArD;AACAvD,uBAAawD,4BAAb,GAA4CzvB,EAAEmvB,OAAF,CAAUO,aAAtD;AACAzD,uBAAa0D,2BAAb,GAA2C3vB,EAAEmvB,OAAF,CAAUS,YAArD;AACA3D,uBAAa4D,mBAAb,GAAmC7vB,EAAEmvB,OAAF,CAAUW,IAA7C;AACA7D,uBAAa8D,oBAAb,GAAoC/vB,EAAEmvB,OAAF,CAAU/2B,KAA9C;AACD;;AAED,YAAMuzB;AACJqE,uBAAa,OADT;AAEJnD,kBAAQ9J,OAAOC,QAAP,CAAgB,mBAAmB0K,aAAnC,IAAoD,IAFxD;AAGJzB,wBAAc,MAHV;AAIJgE,0BAAgBlN,OAAOC,QAAP,CAAgBkN,eAAhB,KAAoC,MAApC,GAA6C,oBAA7C,GAAoE,aAJhF;AAKJC,mBAASlC,SALL;AAMJmC,6BAAmBrN,OAAOC,QAAP,CAAgBqN;AAN/B,WAODpE,YAPC,CAAN;;AAUA,kCAAgBqE,gBAAhB;;AAEAnC,iBAASjqB,IAAT,CAAcynB,MAAd;AACD,OA1DK,CAR2B;AAAA;AADK,GAAb;AAAA,CAA3B;;kBAsEe,0BACbwB,eAAeoD,sBADF,EAC0B;AACrCnQ,QAAM,mBAD+B;AAErCoQ,WAAS;AAAA,WAAU,EAAEC,WAAW,EAAEC,UAAUltB,MAAMuf,MAAN,CAAahpB,EAAzB,EAAb,EAAV;AAAA;AAF4B,CAD1B,EAIV,yBAAQsI,eAAR,EAAyBmrB,kBAAzB,EAA6C,2BAAWJ,QAAX,CAA7C,CAJU,C;;;;;;;;;;;;;;AC1Ff;;;;AACA;;;;AACA;;AAEA;;IAAYuD,K;;AACZ;;;;;;AAEA,IAAMC,sBAAsB,SAAtBA,mBAAsB,OAAuC;AAAA,MAApClO,OAAoC,QAApCA,OAAoC;AAAA,MAA3BrB,YAA2B,QAA3BA,YAA2B;AAAA,MAAb0B,MAAa,QAAbA,MAAa;;AACjE,SACE;AACE,aAASL,OADX;AAEE,kBAAcrB,YAFhB;AAGE,YAAQ0B,MAHV;AAIE,aACE;AACE,UAAG,4CADL;AAEE,sBAAe;AAFjB,MALJ;AAUE,UAAM4N,MAAMtP,YAAN,CAAmBA,YAAnB;AAVR,IADF;AAcD,CAfD;;AAiBAuP,oBAAoB3vB,SAApB,GAAgC;AAC9ByhB,WAAS,oBAAUzgB,IADW;AAE9Bof,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAFD;AAG9B4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF;AAHK,CAAhC;;kBAMeyvB,mB;;;;;;;;;;;;;;;;;;;+CC9BN91B,O;;;;;;;;;iDACAA,O;;;;;;;;;wDACAA,O;;;;;;;;;;;;;;;;;;ACFT;;;;AACA;;;;AACA;;AAEA;;IAAY61B,K;;AACZ;;AACA;;;;;;AAEA,IAAME,eAAe,SAAfA,YAAe,OAAwC;AAAA,MAArCxP,YAAqC,QAArCA,YAAqC;AAAA,MAAvB0B,MAAuB,QAAvBA,MAAuB;AAAA,MAAf/D,QAAe,QAAfA,QAAe;;AAC3D,MAAM8R,eAAeH,MAAM9E,QAAN,CAAexK,aAAatnB,EAA5B,EAAgCgpB,OAAOhpB,EAAvC,IAA6C,WAAlE;AACA,MAAMg3B,0BAA0BJ,MAAM9E,QAAN,CAAexK,aAAatnB,EAA5B,EAAgCgpB,OAAOhpB,EAAvC,CAAhC;AACA,MAAMi3B,uBAAuBL,MAAMM,gBAAN,CAAuB5P,aAAatnB,EAApC,EAAwCgpB,OAAOhpB,EAA/C,CAA7B;AACA,MAAMm3B,qBAAqBP,MAAMQ,cAAN,CAAqB9P,aAAatnB,EAAlC,EAAsCgpB,OAAOhpB,EAA7C,CAA3B;;AAEA,SACE;AAAA;AAAA;AACE,aACE;AACE,YAAG,0CADL;AAEE,wBAAe;AAFjB;AAFJ;AAQE;AAAA;AAAA;AACE;AACE,cAAMg3B,uBADR;AAEE,kBAAUA,4BAA4B/R,SAASoS,QAFjD;AAGE,cACE;AACE,cAAG,iDADL;AAEE,0BAAe;AAFjB;AAJJ,QADF;AAWE;AACE,cAAMN,YADR;AAEE,kBAAUA,iBAAiB9R,SAASoS,QAFtC;AAGE,cACE;AACE,cAAG,8CADL;AAEE,0BAAe;AAFjB;AAJJ,QAXF;AAqBE;AACE,cAAMJ,oBADR;AAEE,kBAAUA,yBAAyBhS,SAASoS,QAF9C;AAGE,cACE;AACE,cAAG,kDADL;AAEE,0BAAe;AAFjB;AAJJ,QArBF;AA+BE;AACE,cAAMF,kBADR;AAEE,kBAAUA,uBAAuBlS,SAASoS,QAF5C;AAGE,cACE;AACE,cAAG,qDADL;AAEE,0BAAe;AAFjB;AAJJ;AA/BF;AARF,GADF;AAqDD,CA3DD;;AA6DAP,aAAa5vB,SAAb,GAAyB;AACvBogB,gBAAc,oBAAUrT,KAAV,CAAgB,EAAEjU,IAAI,oBAAUmH,MAAV,CAAiBC,UAAvB,EAAhB,EAAqDA,UAD5C;AAEvB4hB,UAAQ,oBAAU/U,KAAV,CAAgB,EAAEjU,IAAI,oBAAUmH,MAAV,CAAiBC,UAAvB,EAAhB,EAAqDA,UAFtC;AAGvB6d,YAAU,oBAAUhR,KAAV,CAAgB,EAAEojB,UAAU,oBAAUhwB,MAAV,CAAiBD,UAA7B,EAAhB,EAA2DA;AAH9C,CAAzB;;kBAMe0vB,Y;;;;;;;;;;;;;AC3Ef,IAAM5kB,SAAS,SAATA,MAAS,CAAColB,cAAD,EAAiBX,QAAjB,EAA2BlP,IAA3B;AAAA,6BACK6P,cADL,iBAC+BX,QAD/B,SAC2ClP,IAD3C;AAAA,CAAf;;AAGO,IAAMqK,8BAAW,SAAXA,QAAW,CAACyF,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,UAAjB,CAAd;AAAA,CAAjB;AACA,IAAMN,8CAAmB,SAAnBA,gBAAmB,CAACK,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,mBAAjB,CAAd;AAAA,CAAzB;AACA,IAAMC,0CAAiB,SAAjBA,cAAiB,CAACF,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,iBAAjB,CAAd;AAAA,CAAvB;AACA,IAAMJ,0CAAiB,SAAjBA,cAAiB,CAACG,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,iBAAjB,CAAd;AAAA,CAAvB,C;;;;;;;;;;;;;;;;;ACNP;;IAAY55B,C;;;;AAEL,IAAMG,sCAAe;AAC1BqE,UAAQ,KADkB;AAE1BE,SAAOD,SAFmB;AAG1B6vB,gBAAc7vB;AAHY,CAArB;AAKA,IAAMqvB,wCAAgB,EAAE7zB,MAAM,EAAR,EAAtB;;kBAEQ,YAAkD;AAAA,MAAjDQ,KAAiD,uEAAzCN,YAAyC;AAAA,MAA3BO,MAA2B,uEAAlBozB,aAAkB;;AAC/D,UAAQpzB,OAAOT,IAAf;AACE,SAAKD,EAAEo0B,yCAAP;AACE,0BAAY3zB,KAAZ,IAAmB+D,QAAQ,IAA3B;AACF,SAAKxE,EAAEq0B,yCAAP;AACE,0BAAY5zB,KAAZ,IAAmB+D,QAAQ,KAA3B;AACF,SAAKxE,EAAEw0B,yCAAP;AACE,0BAAY/zB,KAAZ,IAAmB+D,QAAQ,KAA3B,EAAkCE,OAAOhE,OAAOC,OAAhD;;AAEF,SAAKX,EAAEu1B,0BAAP;AACE,0BAAY90B,KAAZ,IAAmB6zB,cAAc5zB,OAAOC,OAAxC;;AAEF;AACE,aAAOF,KAAP;AAZJ;AAcD,C;;;;;;;;;;;;;;;ACrBD;;;;;2CAOS0C,O;;;;AAVT;;AACA;;;;AAGA;;IAAY22B,U;;;;;;AAEZ,IAAMjE,qBAAqB;AACzBkE,wBAAsBD,WAAWC;AADR,CAA3B;;kBAKe,yBAAQt1B,SAAR,EAAmBoxB,kBAAnB,EAAuC,4CAAvC,C;;;;;;;;;;;;;;;;;;ACXf;;;;AACA;;;;AACA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AAEA;;IAAYmD,K;;AACZ;;AACA;;AACA;;AACA;;;;AACA;;;;;;;;;;;;IAEM1U,I;;;AACJ,gBAAazY,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,4GACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa;AACXu5B,oBAAc,KADH;AAEXnyB,eAAS,KAFE;AAGXgvB,eAAS,KAHE;AAIXv1B,cAAQ;AAJG,KAAb;AAF2B;AAQ5B;;;;gDAE4B;AAC3B,UAAI,KAAKb,KAAL,CAAWoH,OAAf,EAAwB;AACtB,aAAK2E,QAAL,CAAc,EAAC3E,SAAS,KAAV,EAAiBgvB,SAAS,IAA1B,EAAd;AACD;AACF;;;6BAES;AAAA,UACAxL,QADA,GACa,KAAKxf,KAAL,CAAWuf,MADxB,CACAC,QADA;;AAER,aAAQA,YAAYA,SAAS4O,MAArB,GAA8B5O,SAAS4O,MAAvC,GAAgD,EAAxD;AACD;;;2CAEuB;AAAA,mBACqB,KAAKpuB,KAD1B;AAAA,UACd6d,YADc,UACdA,YADc;AAAA,UACA0B,MADA,UACAA,MADA;AAAA,UACQxC,QADR,UACQA,QADR;;AAEtB,UAAIA,QAAJ,EAAc;AACZ,oCAAezY,IAAf,CAAoB6oB,MAAMkB,wBAAN,CAA+BxQ,aAAatnB,EAA5C,EAAgDgpB,OAAOhpB,EAAvD,CAApB;AACD;AACF;;;6BAES;AAAA;;AACR,UAAI,CAAC,KAAKyJ,KAAL,CAAW+c,QAAhB,EAA0B;AAAA,sBAC+B,KAAK/c,KADpC;AAAA,YAChBkuB,oBADgB,WAChBA,oBADgB;AAAA,YACMrQ,YADN,WACMA,YADN;AAAA,YACoB0B,MADpB,WACoBA,MADpB;;;AAGxB,YAAM+O,kBAAkB/O,OAAOC,QAAP,CAAgB4O,MAAhB,CAAuB/xB,GAAvB,CAA2B;AAAA,8BAC9C2a,KAD8C;AAEjD3R,mBAAO,kCAAY2R,MAAMpC,GAAlB,EAAyB2Z,GAAzB;AAF0C;AAAA,SAA3B,CAAxB;AAIA,YAAM94B,SAAS,KAAK+4B,QAAL,CAAcF,eAAd,CAAf;AACA,aAAK3tB,QAAL,CAAc,EAAElL,cAAF,EAAd;;AAEA,YAAIA,OAAOgM,MAAP,KAAkB,CAAtB,EAAyB;AACvB,eAAKd,QAAL,CAAc,EAAE3E,SAAS,IAAX,EAAd;AACA,cAAMyyB,YAAY;AAChBvF,uBAAW3J,OAAOhpB,EADF;AAEhB63B,oBAAQ7e,KAAKC,SAAL,CAAe8e,eAAf;AAFQ,WAAlB;AAIAJ,+BAAqB,EAAErQ,0BAAF,EAAgB4Q,oBAAhB,EAArB,EAAkDp5B,IAAlD,CAAuD,YAAM;AAC3D,mBAAKsL,QAAL,CAAc,EAAE3E,SAAS,KAAX,EAAkBgvB,SAAS,IAA3B,EAAd;AACD,WAFD;AAGD;AACF;AACF;;;6BAESsD,e,EAAiB;AACzB,UAAM74B,SAAS,EAAf;AACA64B,sBAAgB1lB,OAAhB,CAAwB,UAACoO,KAAD,EAAW;AACjC,YAAIA,MAAMjC,QAAN,KAAmB,MAAnB,IAA6BiC,MAAM3R,KAAN,KAAgB,EAAjD,EAAqD;AACnD5P,iBAAO6O,IAAP,CAAe0S,MAAMnC,KAArB;AACD,SAFD,MAEO,IAAImC,MAAM3R,KAAN,KAAgB,EAAhB,IAAsB2R,MAAMwM,IAAN,KAAe,OAArC,IAAgD,CAAC,oCAAaxM,MAAM3R,KAAnB,CAArD,EAAgF;AACrF5P,iBAAO6O,IAAP,CAAe0S,MAAMnC,KAArB;AACD;AACF,OAND;AAOA,aAAOpf,MAAP;AACD;;;yCAEqB;AAAA,oBAC8D,KAAKuK,KADnE;AAAA,UACZ0uB,YADY,WACZA,YADY;AAAA,UACEnP,MADF,WACEA,MADF;AAAA,UACuC0G,UADvC,WACUpI,YADV,CAC0BqI,WAD1B;AAAA,UACqDjwB,IADrD,WACqDA,IADrD;;AAEpB,UAAM04B,eAAe,CACnBpP,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBoP,cAAnC,GACIrP,OAAOC,QAAP,CAAgBoP,cADpB,GAEI34B,KAAK6B,aAAL,CAAmB;AACnBvB,YAAI,iDADe;AAEnBwB,wBAAgB;AAFG,OAAnB,CAHe,EAOnByN,OAPmB,CAOX,IAPW,EAOL,YAPK,CAArB;;AASA,aAAOkpB,eAAe,IAAf,GACL;AACE,mBAAU,sBADZ;AAEE,iCAAyB,EAACxgB,QAAQygB,YAAT,EAF3B;AAGE,eAAO,EAAE1kB,YAAYgc,UAAd;AAHT,QADF;AAOD;;;mCAEe;AAAA;;AACd,UAAMmI,SAAS,KAAKA,MAAL,EAAf;AACA,aAAOA,OAAO/xB,GAAP,CAAW,UAAC2a,KAAD,EAAQjW,KAAR,EAAkB;AAClC,eACE,+DACM,OAAKf,KADX;AAEE,eAAKgX,MAAMpC,GAFb;AAGE,eAAKoC,MAAMpC,GAHb;AAIE,kBAASia,OAAO9tB,KAAP,MAAkB,CAAlB,GAAsB,0BAAgB+tB,YAAhB,CAA6BhqB,IAA7B,2BAAtB,GAA2E,YAAM,CAAE,CAJ9F;AAKE,qBAAW/D,UAAU,CALvB;AAME,uBAAaA,UAAUqtB,OAAO3sB,MAAP,GAAgB,CANzC;AAOE,6BAAmB,OAAKzB,KAAL,CAAW+uB,WAAX,IAA0BhuB,UAAUqtB,OAAO3sB,MAAP,GAAgB,CAPzE;AAQE,iBAAOuV;AART,WADF;AAYD,OAbM,CAAP;AAcD;;;mCAEe;AAAA,oBACyB,KAAKhX,KAD9B;AAAA,UACN0uB,YADM,WACNA,YADM;AAAA,UACQnP,MADR,WACQA,MADR;AAAA,UACgBtpB,IADhB,WACgBA,IADhB;AAAA,mBAEe,KAAKrB,KAFpB;AAAA,UAENoH,OAFM,UAENA,OAFM;AAAA,UAEGgvB,OAFH,UAEGA,OAFH;;;AAId,UAAI,CAAC0D,YAAL,EAAmB;AACjB,eACE,gEACM,KAAK1uB,KADX;AAEE,sBACGuf,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBqN,WAApC,IACA52B,KAAK6B,aAAL,CAAmB;AACjBvB,gBAAI,kDADa;AAEjBwB,4BAAgB;AAFC,WAAnB,CAJJ;AASE,uBAAe,KAAKugB,MAApB,MAAe,IAAf,CATF;AAUE,mBAAStc,OAVX;AAWE,mBAASgvB;AAXX,WADF;AAeD;AACF;;;kCAEc;AAAA,UACKxL,QADL,GACoB,KAAKxf,KADzB,CACLuf,MADK,CACKC,QADL;;AAEb,UAAI,CAAC,KAAKxf,KAAL,CAAW0uB,YAAZ,IAA4BlP,QAA5B,IAAwCA,SAASwP,UAArD,EAAiE;AAAA,sBAK3D,KAAKhvB,KALsD;AAAA,YAElCivB,aAFkC,WAE7DptB,KAF6D,CAEpDqtB,gBAFoD;AAAA,YAG/BC,KAH+B,WAG7D5P,MAH6D,CAGnD6P,kBAHmD;AAAA,YAIlC7K,QAJkC,WAI7D1G,YAJ6D,CAI7C2G,SAJ6C;;;AAO/D,eACE;AAAA;AAAA,YAAK,WAAU,qBAAf,EAAqC,OAAO,EAAEva,YAAYsa,QAAd,EAA5C;AACE;AACE,mBAAO,CADT;AAEE,iBAAK,CAAC8K,MAAMF,KAAN,CAAD,IAAiBF,aAAjB,GAAiCJ,OAAOM,KAAP,CAAjC,GAAiD,CAFxD;AAGE,sBAAU;AAHZ,YADF;AAAA;AAOG3P,mBAASwP;AAPZ,SADF;AAWD;AACF;;;mCAEe;AAAA,UACNv5B,MADM,GACK,KAAKb,KADV,CACNa,MADM;;;AAGd,aAAOA,OAAOgM,MAAP,GAAgB,CAAhB,IACL;AAAA;AAAA;AAAMhM,eAAO4G,GAAP,CAAW;AAAA,iBAAS,iDAAO,SAASxD,KAAhB,GAAT;AAAA,SAAX;AAAN,OADF;AAGD;;;yCAEqB;AACpB,UAAMu1B,SAAS,KAAKA,MAAL,EAAf;AACA,UAAIha,UAAU,EAAd;AACAga,aAAO/xB,GAAP,CAAW,UAAC2a,KAAD,EAAW;AACpB,YAAIA,MAAMwM,IAAN,KAAe,WAAnB,EAAgC;AAC9BpP,oBAAU4C,MAAMlC,WAAhB;AACD;AACF,OAJD;AAKA,UAAIV,YAAY,EAAhB,EAAoB;AAAA,sBACe,KAAKpU,KADpB;AAAA,YACV6d,YADU,WACVA,YADU;AAAA,YACI0B,MADJ,WACIA,MADJ;AAAA,YAEuB+P,iBAFvB,GAE+C/P,MAF/C,CAEVC,QAFU,CAEE+P,mBAFF;;AAGlB,eAAOD,sBAAsB,QAAtB,GACL,iEAAqB,QAAQ/P,MAA7B,GADK,GAGL,8DAAiB,cAAc1B,YAA/B,EAA6C,QAAQ0B,MAArD,GAHF;AAKD,OARD,MAQO;AACL,eAAO;AAAA;AAAA,YAAG,WAAU,uBAAb;AAAsCnL;AAAtC,SAAP;AACD;AACF;;;iCAEa;AAAA,oBAKR,KAAKpU,KALG;AAAA,UAEV+c,QAFU,WAEVA,QAFU;AAAA,UAGV2R,YAHU,WAGVA,YAHU;AAAA,UAIAlP,QAJA,WAIVD,MAJU,CAIAC,QAJA;;AAMZ,UAAM1iB,kBAAkB0iB,YAAYA,SAASkL,UAArB,GACpBlL,SAASkL,UADW,GAEpB,kBAFJ;;AAIA,aACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,uBAAW,0BACT,SADS,EAET,EAAE,eAAe3N,YAAY,CAAC2R,YAA9B,EAFS,CADb;AAKE,mBAAO,EAAE5xB,iBAAiB,CAAC4xB,YAAD,GAAgB5xB,eAAhB,GAAkC,IAArD;AALT;AAOG,eAAK0yB,kBAAL,EAPH;AAQG,eAAKC,YAAL,EARH;AASG,eAAKC,YAAL,EATH;AAUG,eAAKC,YAAL;AAVH;AADF,OADF;AAgBD;;;6BAES;AAAA,UAC6B1J,UAD7B,GAC8C,KAAKjmB,KADnD,CACA6d,YADA,CACgBqI,WADhB;AAAA,UAEA8E,OAFA,GAEY,KAAKp2B,KAFjB,CAEAo2B,OAFA;;;AAIR,aACE;AAAA;AAAA,UAAK,uBAAqB/E,UAArB,YAAL;AACG+E,kBAAU,KAAK4E,kBAAL,EAAV,GAAsC,KAAKC,UAAL,EADzC;AAEG,aAAKC,WAAL;AAFH,OADF;AAMD;;;;;;AAGHrX,KAAKhb,SAAL,GAAiB;AACfogB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UADhB;AAEf4hB,UAAQ,oBAAU/U,KAAV,CAAgB;AACtBgV,cAAU,oBAAUhV,KAAV,CAAgB;AACxB+kB,2BAAqB,oBAAU3xB;AADP,KAAhB,EAEPD;AAHmB,GAAhB,EAILA,UANY;AAOfof,YAAU,oBAAUte,IAPL;AAQfiwB,gBAAc,oBAAUjwB,IART;AASfswB,eAAa,oBAAUtwB,IATR;AAUfxI;AAVe,CAAjB;;kBAaewiB,I;;;;;;;;;;;;;;ACvPf;;;;AACA;;;;;;AAEA,IAAMtD,SAAS,SAATA,MAAS;AAAA,MACb6V,OADa,QACbA,OADa;AAAA,MAEb+E,UAFa,QAEbA,UAFa;AAAA,MAGb/zB,OAHa,QAGbA,OAHa;AAAA,MAIb+D,WAJa,QAIbA,WAJa;AAAA,MAKcwkB,QALd,QAKb1G,YALa,CAKG2G,SALH;AAAA,SAOb;AAAA;AAAA,MAAK,OAAO,EAAEva,YAAYsa,QAAd,EAAZ;AACE;AAAA;AAAA;AACE,kBAAUvoB,OADZ;AAEE,mBAAU,sDAFZ;AAGE,iBAAS+D,WAHX;AAIG/D,gBAAU,aAAV,GAA0B+zB;AAJ7B,KADF;AAOG/E,eACC;AAAA;AAAA,QAAK,WAAU,QAAf;AAAA;AAAA;AARJ,GAPa;AAAA,CAAf;;AAoBA7V,OAAO1X,SAAP,GAAmB;AACjButB,WAAS,oBAAUvsB,IAAV,CAAed,UADP;AAEjBoyB,cAAY,oBAAUnyB,MAFL;AAGjB5B,WAAS,oBAAUyC,IAAV,CAAed,UAHP;AAIjBoC,eAAa,oBAAUrB,IAAV,CAAef,UAJX;AAKjBkgB,gBAAc,oBAAUhgB,MAAV,CAAiBF;AALd,CAAnB;;kBAQewX,M;;;;;;;;;;;;;;AC/Bf;;;;AACA;;;;AACA;;AAGA;;IAAYgY,K;;AACZ;;;;;;AAFA;AAIA,IAAM6C,kBAAkB,SAAlBA,eAAkB;AAAA,MAAG9Q,OAAH,QAAGA,OAAH;AAAA,MAAYrB,YAAZ,QAAYA,YAAZ;AAAA,MAA0B0B,MAA1B,QAA0BA,MAA1B;AAAA,SACtB;AACE,aAASL,OADX;AAEE,kBAAcrB,YAFhB;AAGE,YAAQ0B,MAHV;AAIE,aACE;AACE,UAAG,+CADL;AAEE,sBAAe;AAFjB,MALJ;AAUE,UAAM4N,MAAMtP,YAAN,CAAmBA,YAAnB;AAVR,IADsB;AAAA,CAAxB;;AAeAmS,gBAAgBvyB,SAAhB,GAA4B;AAC1ByhB,WAAS,oBAAUzgB,IADO;AAE1Bof,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAFL;AAG1B4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF;AAHC,CAA5B;;kBAMeqyB,e;;;;;;;;;;;;;;;;;;;2CC7BN14B,O;;;;;;;;;2CACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;oDACAA,O;;;;;;;;;;;;;;;;;;;;;;;ACLT;;;;AACA;;AACA;;AACA;;;;AAEA;;IAAY22B,U;;;;;;;;;;;;IAECgC,S,WAAAA,S;;;AACX,qBAAajwB,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,sHACrBT,KADqB,EACdS,OADc;;AAAA,QAEnBuW,KAFmB,GAET,MAAKhX,KAFI,CAEnBgX,KAFmB;;AAG3B,UAAKpiB,KAAL,GAAa;AACXoH,eAAS,KADE;AAEXwnB,YAAMxM,MAAMwM,IAFD;AAGX3O,aAAOmC,MAAMnC,KAHF;AAIXC,mBAAakC,MAAMlC,WAJR;AAKXC,gBAAUiC,MAAMjC;AALL,KAAb;AAH2B;AAU5B;;;;0CAEsB;AAAA,UACbH,GADa,GACL,KAAK5U,KADA,CACb4U,GADa;;AAErB,4BAAE,WAAWA,GAAb,EAAkBwH,IAAlB;AACA,4BAAE,WAAWxH,GAAb,EAAkBsb,SAAlB,CAA4B,GAA5B;AACD;;;8CAE0B1rB,S,EAAW;AAAA;;AAAA,UAC5BoQ,GAD4B,GACpB,KAAK5U,KADe,CAC5B4U,GAD4B;;AAEpC,UAAI,KAAKhgB,KAAL,CAAWoH,OAAX,IAAsB,KAAKgE,KAAL,CAAWgX,KAAX,KAAqBxS,UAAUwS,KAAzD,EAAgE;AAC9D,aAAKrW,QAAL,CAAc,EAAE3E,SAAS,KAAX,EAAd;AACA,8BAAE,WAAW4Y,GAAb,EAAkBub,OAAlB,CAA0B,GAA1B,EAA+B,YAAM;AACnC,iBAAKnwB,KAAL,CAAWowB,OAAX,IAAsB,OAAKpwB,KAAL,CAAWowB,OAAX,EAAtB;AACD,SAFD;AAGD;AACF;;;4BAEQ;AAAA,UACCpZ,KADD,GACW,KAAKhX,KADhB,CACCgX,KADD;;AAEP,aAAOA,MAAMwM,IAAN,KAAe,KAAK5uB,KAAL,CAAW4uB,IAA1B,IACAxM,MAAMnC,KAAN,KAAgB,KAAKjgB,KAAL,CAAWigB,KAD3B,IAEAmC,MAAMlC,WAAN,KAAsB,KAAKlgB,KAAL,CAAWkgB,WAFjC,IAGAkC,MAAMjC,QAAN,KAAmB,KAAKngB,KAAL,CAAWmgB,QAHrC;AAID;;;sCAEkB5U,K,EAAO;AACxB,WAAKQ,QAAL,CAAc,EAACkU,OAAO1U,MAAM+J,MAAN,CAAa7E,KAArB,EAAd;AACD;;;4CAEwBlF,K,EAAO;AAC9B,WAAKQ,QAAL,CAAc,EAACmU,aAAa3U,MAAM+J,MAAN,CAAa7E,KAA3B,EAAd;AACD;;;yCAEqBlF,K,EAAO;AAC3B,WAAKQ,QAAL,CAAc,EAACoU,UAAU5U,MAAM+J,MAAN,CAAa7E,KAAxB,EAAd;AACD;;;qCAEiBlF,K,EAAO;AACvB,WAAKQ,QAAL,CAAc,EAAC6iB,MAAMrjB,MAAM+J,MAAN,CAAa7E,KAApB,EAAd;AACD;;;mCAEegrB,S,EAAW;AAAA,mBACI,KAAKrwB,KADT;AAAA,UACjBjL,QADiB,UACjBA,QADiB;AAAA,UACPwqB,MADO,UACPA,MADO;AAAA,UAEjBC,QAFiB,GAEJD,MAFI,CAEjBC,QAFiB;;;AAIzB,WAAK7e,QAAL,CAAc,EAAE3E,SAAS,IAAX,EAAd;AACAjH,eAASk5B,WAAWqC,iBAAX,cACJ/Q,MADI;AAEPC,+BAAeA,QAAf,IAAyB4O,QAAQiC,SAAjC;AAFO,SAAT;AAID;;;iCAEalwB,K,EAAO;AAAA;;AACnBA,YAAMC,cAAN;AACAD,YAAMowB,eAAN;AAFmB,oBAGI,KAAKvwB,KAHT;AAAA,UAGXgX,KAHW,WAGXA,KAHW;AAAA,UAGJpC,GAHI,WAGJA,GAHI;;AAInB,WAAKjU,QAAL,CAAc;AACZ6iB,cAAMxM,MAAMwM,IADA;AAEZ3O,eAAOmC,MAAMnC,KAFD;AAGZC,qBAAakC,MAAMlC,WAHP;AAIZC,kBAAUiC,MAAMjC;AAJJ,OAAd;AAMA,4BAAE,WAAWH,GAAb,EAAkBub,OAAlB,CAA0B,GAA1B,EAA+B,YAAM;AACnC,eAAKnwB,KAAL,CAAWowB,OAAX,IAAsB,OAAKpwB,KAAL,CAAWowB,OAAX,EAAtB;AACD,OAFD;AAGD;;;+BAEWjwB,K,EAAO;AAAA;;AACjBA,YAAMC,cAAN;AACAD,YAAMowB,eAAN;AAFiB,UAGTnC,MAHS,GAGE,KAAKpuB,KAAL,CAAWuf,MAAX,CAAkBC,QAHpB,CAGT4O,MAHS;;AAIjB,UAAMiC,YAAYjC,OAAO/xB,GAAP,CAAW,UAAC2a,KAAD,EAAW;AACtC,YAAIA,MAAMpC,GAAN,KAAc,OAAK5U,KAAL,CAAWgX,KAAX,CAAiBpC,GAAnC,EAAwC;AACtC,iBAAO;AACLA,iBAAKoC,MAAMpC,GADN;AAEL4O,kBAAM,OAAK5uB,KAAL,CAAW4uB,IAFZ;AAGL3O,mBAAO,OAAKjgB,KAAL,CAAWigB,KAHb;AAILC,yBAAa,OAAKlgB,KAAL,CAAWkgB,WAJnB;AAKLC,sBAAU,OAAKngB,KAAL,CAAWmgB;AALhB,WAAP;AAOD,SARD,MAQO;AACL,iBAAOiC,KAAP;AACD;AACF,OAZiB,CAAlB;AAaA,WAAKwZ,cAAL,CAAoBH,SAApB;AACD;;;iCAEalwB,K,EAAO;AAAA;;AACnBA,YAAMC,cAAN;AACAD,YAAMowB,eAAN;AAFmB,UAGXnC,MAHW,GAGA,KAAKpuB,KAAL,CAAWuf,MAAX,CAAkBC,QAHlB,CAGX4O,MAHW;;AAInB,UAAMiC,YAAYjC,OAAO/xB,GAAP,CAAW,UAAC2a,KAAD,EAAQjW,KAAR,EAAkB;AAC7C,YAAIA,QAAQ,CAAR,GAAYqtB,OAAO3sB,MAAnB,IAA6B2sB,OAAOrtB,QAAQ,CAAf,EAAkB6T,GAAlB,KAA0B,OAAK5U,KAAL,CAAWgX,KAAX,CAAiBpC,GAA5E,EAAiF;AAC/E,iBAAO,OAAK5U,KAAL,CAAWgX,KAAlB;AACD,SAFD,MAEO,IAAIA,MAAMpC,GAAN,KAAc,OAAK5U,KAAL,CAAWgX,KAAX,CAAiBpC,GAAnC,EAAwC;AAC7C,iBAAOwZ,OAAOrtB,QAAQ,CAAf,CAAP;AACD,SAFM,MAEA;AACL,iBAAOiW,KAAP;AACD;AACF,OARiB,CAAlB;AASA,WAAKwZ,cAAL,CAAoBH,SAApB;AACD;;;mCAEelwB,K,EAAO;AAAA;;AACrBA,YAAMC,cAAN;AACAD,YAAMowB,eAAN;AAFqB,UAGbnC,MAHa,GAGF,KAAKpuB,KAAL,CAAWuf,MAAX,CAAkBC,QAHhB,CAGb4O,MAHa;;AAIrB,UAAMiC,YAAYjC,OAAO/xB,GAAP,CAAW,UAAC2a,KAAD,EAAQjW,KAAR,EAAkB;AAC7C,YAAIA,QAAQ,CAAR,IAAaqtB,OAAOrtB,QAAQ,CAAf,EAAkB6T,GAAlB,KAA0B,OAAK5U,KAAL,CAAWgX,KAAX,CAAiBpC,GAA5D,EAAiE;AAC/D,iBAAO,OAAK5U,KAAL,CAAWgX,KAAlB;AACD,SAFD,MAEO,IAAIA,MAAMpC,GAAN,KAAc,OAAK5U,KAAL,CAAWgX,KAAX,CAAiBpC,GAAnC,EAAwC;AAC7C,iBAAOwZ,OAAOrtB,QAAQ,CAAf,CAAP;AACD,SAFM,MAEA;AACL,iBAAOiW,KAAP;AACD;AACF,OARiB,CAAlB;AASA,WAAKwZ,cAAL,CAAoBH,SAApB;AACD;;;iCAEalwB,K,EAAO;AAAA;;AACnBA,YAAMC,cAAN;AACAD,YAAMowB,eAAN;AACA,UAAIjN,QAAQ,KAAKtjB,KAAL,CAAW/J,IAAX,CAAgB6B,aAAhB,CAA8B;AACxCvB,YAAI,0DADoC;AAExCwB,wBAAgB;AAFwB,OAA9B,CAAR,CAAJ,EAGK;AAAA,YACKq2B,MADL,GACgB,KAAKpuB,KAAL,CAAWuf,MAAX,CAAkBC,QADlC,CACK4O,MADL;;AAEH,YAAMiC,YAAYjC,OAAO3xB,MAAP,CAAc;AAAA,iBAC9Bua,MAAMpC,GAAN,KAAc,OAAK5U,KAAL,CAAWgX,KAAX,CAAiBpC,GADD;AAAA,SAAd,CAAlB;AAGA,aAAK4b,cAAL,CAAoBH,SAApB;AACD;AACF;;;uCAEmBlwB,K,EAAO;AACzBA,YAAMC,cAAN;AACAD,YAAMowB,eAAN;AACA,UAAMpa,QAAQ,KAAKA,KAAL,EAAd;AACA,UAAI,CAACA,KAAD,IAAWA,SAASmN,QAAQ,KAAKtjB,KAAL,CAAW/J,IAAX,CAAgB6B,aAAhB,CAA8B;AAC5DvB,YAAI,iEADwD;AAE5DwB,wBAAgB;AAF4C,OAA9B,CAAR,CAAxB,EAGM;AACJ,aAAK04B,YAAL,CAAkBtwB,KAAlB;AACD;AACF;;;6BAES;AAAA,oBACsC,KAAKH,KAD3C;AAAA,UACA0wB,SADA,WACAA,SADA;AAAA,UACWC,WADX,WACWA,WADX;AAAA,UACwB/b,GADxB,WACwBA,GADxB;AAAA,UAC6B3e,IAD7B,WAC6BA,IAD7B;;AAER,aACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,0BAAY2e,GADd;AAEE,uBAAU;AAFZ;AAIE;AAAA;AAAA,cAAK,WAAU,WAAf;AACE;AAAA;AAAA,gBAAK,WAAU,kBAAf;AACE;AAAA;AAAA,kBAAK,WAAU,+BAAf;AACE;AAAA;AAAA,oBAAO,WAAU,SAAjB;AACE;AACE,wBAAG,sDADL;AAEE,oCAAe;AAFjB;AADF;AADF,eADF;AASE;AAAA;AAAA,kBAAK,WAAU,kBAAf;AACE;AACE,6BAAU,UADZ;AAEE,+BAAa3e,KAAK6B,aAAL,CAAmB;AAC9BvB,wBAAI,4DAD0B;AAE9BwB,oCAAgB;AAFc,mBAAnB,CAFf;AAME,wBAAK,MANP;AAOE,yBAAO,KAAKnD,KAAL,CAAWigB,KAPpB;AAQE,4BAAY,KAAK+b,iBAAjB,MAAY,IAAZ;AARF;AADF;AATF,aADF;AAwBE;AAAA;AAAA,gBAAK,WAAU,kBAAf;AACE;AAAA;AAAA,kBAAK,WAAU,+BAAf;AACE;AAAA;AAAA,oBAAO,WAAU,SAAjB;AACE;AACE,wBAAG,4DADL;AAEE,oCAAe;AAFjB;AADF;AADF,eADF;AASE;AAAA;AAAA,kBAAK,WAAU,kBAAf;AACE;AACE,6BAAU,UADZ;AAEE,+BAAa36B,KAAK6B,aAAL,CAAmB;AAC9BvB,wBAAI,kEAD0B;AAE9BwB,oCAAgB;AAFc,mBAAnB,CAFf;AAME,wBAAK,MANP;AAOE,yBAAO,KAAKnD,KAAL,CAAWkgB,WAPpB;AAQE,4BAAY,KAAK+b,uBAAjB,MAAY,IAAZ;AARF;AADF;AATF,aAxBF;AA+CE;AAAA;AAAA,gBAAK,WAAU,kBAAf;AACE;AAAA;AAAA,kBAAK,WAAU,+BAAf;AACE;AAAA;AAAA,oBAAO,WAAU,SAAjB;AACE;AACE,wBAAG,qDADL;AAEE,oCAAe;AAFjB;AADF;AADF,eADF;AASE;AAAA;AAAA,kBAAK,WAAU,kBAAf;AACE;AAAA;AAAA;AACE,+BAAU,WADZ;AAEE,8BAAY,KAAKC,gBAAjB,MAAY,IAAZ,CAFF;AAGE,2BAAO,KAAKl8B,KAAL,CAAW4uB,IAHpB;AAIE;AAAA;AAAA,sBAAQ,OAAM,MAAd;AACE;AACE,0BAAG,4DADL;AAEE,sCAAe;AAFjB;AADF,mBAJF;AAUE;AAAA;AAAA,sBAAQ,OAAM,OAAd;AACE;AACE,0BAAG,6DADL;AAEE,sCAAe;AAFjB;AADF,mBAVF;AAgBE;AAAA;AAAA,sBAAQ,OAAM,QAAd;AACE;AACE,0BAAG,8DADL;AAEE,sCAAe;AAFjB;AADF,mBAhBF;AAsBE;AAAA;AAAA,sBAAQ,OAAM,UAAd;AACE;AACE,0BAAG,gEADL;AAEE,sCAAe;AAFjB;AADF,mBAtBF;AA4BE;AAAA;AAAA,sBAAQ,OAAM,WAAd;AACE;AACE,0BAAG,iEADL;AAEE,sCAAe;AAFjB;AADF;AA5BF;AADF;AATF,aA/CF;AA+FE;AAAA;AAAA,gBAAK,WAAU,kBAAf;AACE;AAAA;AAAA,kBAAK,WAAU,gCAAf;AACE;AAAA;AAAA,oBAAO,WAAU,SAAjB;AACE;AACE,wBAAG,yDADL;AAEE,oCAAe;AAFjB;AADF;AADF,eADF;AASE;AAAA;AAAA,kBAAK,WAAU,kBAAf;AACE;AACE,yCAAqB5O,GADvB;AAEE,wBAAK,OAFP;AAGE,sCAAkBA,GAHpB;AAIE,yBAAM,MAJR;AAKE,2BAAS,KAAKhgB,KAAL,CAAWmgB,QAAX,KAAwB,MALnC;AAME,4BAAY,KAAKgc,oBAAjB,MAAY,IAAZ;AANF,kBADF;AASE;AAAA;AAAA,oBAAO,WAAU,SAAjB,EAA2B,4BAA0Bnc,GAArD;AACE;AACE,wBAAG,mEADL;AAEE,oCAAe;AAFjB;AADF,iBATF;AAeE;AACE,0CAAsBA,GADxB;AAEE,wBAAK,OAFP;AAGE,sCAAkBA,GAHpB;AAIE,yBAAM,OAJR;AAKE,2BAAS,KAAKhgB,KAAL,CAAWmgB,QAAX,KAAwB,OALnC;AAME,4BAAY,KAAKgc,oBAAjB,MAAY,IAAZ;AANF,kBAfF;AAuBE;AAAA;AAAA,oBAAO,WAAU,KAAjB,EAAuB,6BAA2Bnc,GAAlD;AACE;AACE,wBAAG,kEADL;AAEE,oCAAe;AAFjB;AADF;AAvBF;AATF;AA/FF,WAJF;AA6IE;AAAA;AAAA,cAAK,WAAU,eAAf;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,4BAAU,CAAC8b,SADb;AAEE,6BAAU,wBAFZ;AAGE,yBAAO,EAAE5zB,iBAAiB,OAAnB,EAA4BK,OAAO,MAAnC,EAHT;AAIE,2BAAW,KAAK6zB,YAAhB,MAAW,IAAX;AAJF;AAME,qDAAG,WAAU,sBAAb,GANF;AAOE;AACE,sBAAG,mDADL;AAEE,kCAAe;AAFjB;AAPF;AADF,aADF;AAgBE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,4BAAU,CAACL,WADb;AAEE,6BAAU,wBAFZ;AAGE,yBAAO,EAAE7zB,iBAAiB,OAAnB,EAA4BK,OAAO,MAAnC,EAHT;AAIE,2BAAW,KAAK8zB,cAAhB,MAAW,IAAX;AAJF;AAME,qDAAG,WAAU,wBAAb,GANF;AAOE;AACE,sBAAG,qDADL;AAEE,kCAAe;AAFjB;AAPF;AADF,aAhBF;AA+BE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,6BAAU,wBADZ;AAEE,yBAAO,EAAEn0B,iBAAiB,OAAnB,EAA4BK,OAAO,MAAnC,EAFT;AAGE,2BAAW,KAAK+zB,YAAhB,MAAW,IAAX;AAHF;AAKE,qDAAG,WAAU,iBAAb,GALF;AAME;AACE,sBAAG,kDADL;AAEE,kCAAe;AAFjB;AANF;AADF,aA/BF;AA6CE;AAAA;AAAA,gBAAK,WAAU,SAAf;AACE;AAAA;AAAA;AACE,6BAAU,2CADZ;AAEE,2BAAW,KAAKT,YAAhB,MAAW,IAAX;AAFF;AAIE;AACE,sBAAG,kDADL;AAEE,kCAAe;AAFjB;AAJF,eADF;AAUE;AAAA;AAAA;AACE,4BAAU,KAAK77B,KAAL,CAAWoH,OADvB;AAEE,6BAAU,0CAFZ;AAGE,2BAAW,KAAK0V,UAAhB,MAAW,IAAX;AAHF;AAKG,qBAAK9c,KAAL,CAAWoH,OAAX,GAEG;AACE,sBAAG,uDADL;AAEE,kCAAe;AAFjB,kBAFH,GAOG;AACE,sBAAG,wDADL;AAEE,kCAAe;AAFjB;AAZN;AAVF;AA7CF;AA7IF,SADF;AA4NE;AACE,qBAAU,wCADZ;AAEE,mBAAW,KAAK6E,kBAAhB,MAAW,IAAX;AAFF;AA5NF,OADF;AAmOD;;;;;;AAGHovB,UAAUxyB,SAAV,GAAsB;AACpBxH,QAAM,qBAAU0H;AADI,CAAtB;;kBAIe,2BAAU,2BAAWsyB,SAAX,CAAV,C;;;;;;;;;;;;;;;;;;ACjZf;;;;AACA;;AACA;;;;AACA;;;;AAGA;;;;;;;;;;AADA;;;IAGMtb,K;;;AACJ,iBAAa3U,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,8GACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa;AACXu5B,oBAAc,KADH;AAEXjK,eAAS,MAAKlkB,KAAL,CAAWmxB;AAFT,KAAb;AAF2B;AAM5B;;;;sCAEkB;AACjB,WAAKxwB,QAAL,CAAc,EAACwtB,cAAc,IAAf,EAAd;AACD;;;qCAEiB;AAChB,WAAKxtB,QAAL,CAAc,EAACwtB,cAAc,KAAf,EAAd;AACD;;;kCAEc;AACb,UAAI,KAAKnuB,KAAL,CAAW0uB,YAAf,EAA6B;AAC3B,aAAK/tB,QAAL,CAAc,EAACujB,SAAS,IAAV,EAAd;AACD;AACF;;;sCAEkB;AACjB,WAAKvjB,QAAL,CAAc,EAACujB,SAAS,KAAV,EAAd;AACD;;;iCAEa;AAAA,UACJtP,GADI,GACI,KAAK5U,KADT,CACJ4U,GADI;;AAEZ,aACE;AAAA;AAAA;AACE,0EAAe,KAAK5U,KAApB,IAA2B,SAAW,KAAKid,eAAhB,MAAW,IAAX,CAA3B,EAA4D,KAAK,UAAUrI,GAA3E;AADF,OADF;AAKD;;;yCAEqB;AAAA,UACZ8Z,YADY,GACK,KAAK1uB,KADV,CACZ0uB,YADY;;AAEpB,UAAIA,gBAAgB,KAAK95B,KAAL,CAAWu5B,YAA/B,EAA6C;AAC3C,eACE;AAAA;AAAA,YAAK,WAAU,OAAf;AACE,+CAAG,WAAU,2BAAb,GADF;AAEE;AACE,gBAAG,6CADL;AAEE,4BAAe;AAFjB;AAFF,SADF;AASD;AACF;;;sCAEkB;AAAA,mBACsC,KAAKnuB,KAD3C;AAAA,UACTgX,KADS,UACTA,KADS;AAAA,UACFpC,GADE,UACFA,GADE;AAAA,UACGmI,QADH,UACGA,QADH;AAAA,UACa2R,YADb,UACaA,YADb;AAAA,UAC2BjX,MAD3B,UAC2BA,MAD3B;;;AAGjB,UAAIT,MAAMwM,IAAN,KAAe,UAAnB,EAA+B;AAC7B,eAAQ;AAAA;AAAA;AACN,gBAAI,WAAW5O,GADT;AAEN,uBAAU,mCAFJ;AAGN,mBAAO;AACL7I,sBAAQgR,YAAY2R,YAAZ,GAA2B,SAA3B,GAAuC,IAD1C;AAEL5G,4BAAc,KAFT;AAGLvL,uBAAS,MAHJ;AAILpK,uBAAS,cAJJ;AAKLmK,sBAAQ;AALH;AAHD;AAWN;AAAA;AAAA,cAAQ,OAAM,EAAd;AACE;AACE,kBAAG,8DADL;AAEE,8BAAe;AAFjB;AADF,WAXM;AAkBJtF,gBAAMlC,WAAN,CAAkBpM,KAAlB,CAAwB,GAAxB,EAA6BrM,GAA7B,CAAiC,UAAU+0B,CAAV,EAAarwB,KAAb,EAAoB;AACnD,mBAAO;AAAA;AAAA,gBAAQ,0BAAwBA,KAAhC;AAA0CqwB;AAA1C,aAAP;AACD,WAFD;AAlBI,SAAR;AAuBD,OAxBD,MAwBO,IAAIpa,MAAMwM,IAAN,KAAe,WAAnB,EAAgC;AACrC,eACEzG,YAAY2R,YAAZ,GACE;AAAA;AAAA,YAAG,WAAU,kBAAb;AACE;AAAA;AAAA;AACE;AACE,kBAAG,qDADL;AAEE,8BAAe;AAFjB;AADF,WADF;AAOE,mDAPF;AAQG1X,gBAAMlC;AART,SADF,GAYE,IAbJ;AAeD,OAhBM,MAgBA;AACL,eACE;AACE,yBAAaF,GADf;AAEE,qBAAU,kCAFZ;AAGE,iBAAO;AACL7I,oBAAQgR,YAAY2R,YAAZ,GAA2B,SAA3B,GAAuC,IAD1C;AAEL5G,0BAAc,KAFT;AAGLvL,qBAAS;AAHJ,WAHT;AAQE,kBAAQ9E,MARV;AASE,uBAAaT,MAAMlC,WATrB;AAUE,gBAAMkC,MAAMwM,IAAN,KAAe,OAAf,GAAyB,OAAzB,GAAmC;AAV3C,UADF;AAcD;AACF;;;kCAEc;AAAA,oBAQT,KAAKxjB,KARI;AAAA,UAEXgX,KAFW,WAEXA,KAFW;AAAA,UAGX+F,QAHW,WAGXA,QAHW;AAAA,UAIX2R,YAJW,WAIXA,YAJW;AAAA,UAMEnK,QANF,WAKX1G,YALW,CAMT2G,SANS;;;AAUb,aACE;AAAA;AAAA;AACE,qBAAU,KADZ;AAEE,wBAAgB,KAAK3H,eAArB,MAAgB,IAAhB,CAFF;AAGE,wBAAgB,KAAKvS,cAArB,MAAgB,IAAhB,CAHF;AAIE,iBAAO;AACLyB,oBAAQgR,YAAY2R,YAAZ,GAA2B,SAA3B,GAAuC,IAD1C;AAELzkB,wBAAYsa;AAFP,WAJT;AAQE,mBAAW,KAAKxkB,WAAhB,MAAW,IAAX,CARF;AASE;AAAA;AAAA;AACE,uBAAW,0BACT,4BADS,EAET2uB,eAAe,YAAf,GAA8B,OAFrB,CADb;AAKE,mBAAO;AACL3iB,sBAAQgR,YAAY2R,YAAZ,GAA2B,SAA3B,GAAuC,IAD1C;AAEL1kB,wBAAU,QAFL;AAGLiL,0BAAY,GAHP;AAILC,4BAAc;AAJT;AALT;AAYG8B,gBAAMnC,KAZT;AAYgBmC,gBAAMjC,QAAN,KAAmB,MAAnB,GAA4B,GAA5B,GAAkC;AAZlD,SATF;AAuBG,aAAKsc,kBAAL,EAvBH;AAwBG,aAAKC,eAAL;AAxBH,OADF;AA4BD;;;6BAES;AACR,aAAQ,KAAK18B,KAAL,CAAWsvB,OAAX,GAAqB,KAAK2L,UAAL,EAArB,GAAyC,KAAK0B,WAAL,EAAjD;AACD;;;;;;kBAGY5c,K;;;;;;;;;;;;;;ACrKf;;;;AACA;;;;AACA;;AACA;;IAAYwY,K;;AACZ;;AACA;;;;;;AAEA,IAAME,eAAe,SAAfA,YAAe,OAAwC;AAAA,MAArCxP,YAAqC,QAArCA,YAAqC;AAAA,MAAvB0B,MAAuB,QAAvBA,MAAuB;AAAA,MAAf/D,QAAe,QAAfA,QAAe;;AAC3D,MAAMgW,aAAarE,MAAMkB,wBAAN,CAA+BxQ,aAAatnB,EAA5C,EAAgDgpB,OAAOhpB,EAAvD,CAAnB;AACA,MAAMk7B,WAAWtE,MAAMuE,sBAAN,CAA6B7T,aAAatnB,EAA1C,EAA8CgpB,OAAOhpB,EAArD,CAAjB;AACA,MAAMo7B,mBAAmBxE,MAAMyE,YAAN,CAAmB/T,aAAatnB,EAAhC,EAAoCgpB,OAAOhpB,EAA3C,CAAzB;AACA,MAAMs7B,iBAAiB1E,MAAM2E,UAAN,CAAiBjU,aAAatnB,EAA9B,EAAkCgpB,OAAOhpB,EAAzC,CAAvB;AACA,MAAMw7B,aAAa5E,MAAM6E,wBAAN,CAA+BnU,aAAatnB,EAA5C,EAAgDgpB,OAAOhpB,EAAvD,CAAnB;;AAEA,SACE;AAAA;AAAA;AACE,aACE;AACE,YAAG,6CADL;AAEE,wBAAe;AAFjB;AAFJ;AAQE;AAAA;AAAA;AACE;AACE,cAAMk7B,QADR;AAEE,kBAAUA,aAAajW,SAASoS,QAFlC;AAGE,cACE;AACE,cAAG,qDADL;AAEE,0BAAe;AAFjB;AAJJ,QADF;AAWE;AACE,cAAM4D,UADR;AAEE,kBAAUA,eAAehW,SAASoS,QAFpC;AAGE,cACE;AACE,cAAG,oDADL;AAEE,0BAAe;AAFjB;AAJJ,QAXF;AAqBE;AACE,cAAM+D,gBADR;AAEE,kBAAUA,qBAAqBnW,SAASoS,QAF1C;AAGE,cACE;AACE,cAAG,sDADL;AAEE,0BAAe;AAFjB;AAJJ,QArBF;AA+BE;AACE,cAAMiE,cADR;AAEE,kBAAUA,mBAAmBrW,SAASoS,QAFxC;AAGE,cACE;AACE,cAAG,oDADL;AAEE,0BAAe;AAFjB;AAJJ,QA/BF;AAyCE;AACE,cAAMmE,UADR;AAEE,kBAAUA,eAAevW,SAASoS,QAFpC;AAGE,cACE;AACE,cAAG,yDADL;AAEE,0BAAe;AAFjB;AAJJ;AAzCF;AARF,GADF;AA+DD,CAtED;;AAwEAP,aAAa5vB,SAAb,GAAyB;AACvBogB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UADR;AAEvB4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF,UAFF;AAGvB6d,YAAU,oBAAU3d,MAAV,CAAiBF;AAHJ,CAAzB;;kBAMe0vB,Y;;;;;;;;;;;;;ACrFf,IAAM5kB,SAAS,SAATA,MAAS,CAAColB,cAAD,EAAiBX,QAAjB,EAA2BtM,IAA3B;AAAA,6BACKiN,cADL,iBAC+BX,QAD/B,SAC2CtM,IAD3C;AAAA,CAAf;;AAGO,IAAM8Q,0DAAyB,SAAzBA,sBAAyB,CAAC5D,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,MAAjB,CAAd;AAAA,CAA/B;AACA,IAAM6D,sCAAe,SAAfA,YAAe,CAAC9D,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,eAAjB,CAAd;AAAA,CAArB;AACA,IAAM+D,kCAAa,SAAbA,UAAa,CAAChE,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,aAAjB,CAAd;AAAA,CAAnB;AACA,IAAMM,8DAA2B,SAA3BA,wBAA2B,CAACP,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,aAAjB,CAAd;AAAA,CAAjC;AACA,IAAMiE,8DAA2B,SAA3BA,wBAA2B,CAAClE,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,aAAjB,CAAd;AAAA,CAAjC,C;;;;;;;;;;;;;;;;;;;+CCPEz2B,O;;;;;;;;;gDACAA,O;;;;;;;;;gDACAA,O;;;;;;;;;gDACAA,O;;;;;;;;;;;;;;;;;;kQCHT;;;AACA;;;;AACA;;;;AACA;;IAAYnD,C;;AACZ;;IAAY89B,c;;AACZ;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAMC,kBAAkB,SAAlBA,eAAkB;AAAA,MAAYC,IAAZ,QAAGr9B,OAAH;AAAA,MAAkByqB,MAAlB,QAAkBA,MAAlB;AAAA,SAA+B,UAACxqB,QAAD,EAAWC,QAAX,SAAiC;AAAA,QAAVC,GAAU,SAAVA,GAAU;;AACtF,QAAML,QAAQI,UAAd;;AAEA;AACA,QAAMkB,yBAAuBqpB,OAAOhpB,EAA9B,UAAN;AACA,QAAMJ,OAAO,EAAEg8B,UAAF,EAAb;;AAEAp9B,aAAS,EAAEX,MAAMD,EAAEi+B,4BAAV,EAAT;AACA,WAAOn9B,IAAIE,IAAJ,CAASe,QAAT,EAAmBC,IAAnB,EACJd,IADI,CACC,iBAAc;AAAA,UAAXG,IAAW,SAAXA,IAAW;;AAClBT,eAAS,gCAAaZ,EAAEk+B,4BAAf,EAA6C9S,OAAOhpB,EAApD,CAAT;AACAxB,eAAS,gCACPk9B,eAAeK,qBADR,EAEPC,aAAa39B,KAAb,EAAoBY,IAApB,CAFO,CAAT;;AAKA,gCAAgBg9B,iBAAhB;;AAEA,aAAO98B,QAAQG,OAAR,EAAP;AACD,KAXI,EAYJC,KAZI,CAYE,mBAAW;AAChBf,eAAS,gCAAaZ,EAAEs+B,4BAAf,EAA6Cv6B,OAA7C,CAAT;AACA,aAAOxC,QAAQC,MAAR,CAAe,EAAEszB,sBAAoB/wB,OAAtB,EAAf,CAAP;AACD,KAfI,CAAP;AAgBD,GAxBuB;AAAA,CAAxB;;AA0BA,IAAMq6B,eAAe,SAAfA,YAAe,CAAC39B,KAAD,EAAQE,OAAR,EAAoB;AAAA,MACpByB,EADoB,GACNzB,OADM,CAC/Bo0B,SAD+B;AAAA,MAChBiG,KADgB,GACNr6B,OADM,CAChBq6B,KADgB;;AAEvC,MAAM5P,SAAS,yBAAa3qB,KAAb,EAAoB89B,SAApB,CAA8Bn8B,EAA9B,CAAf;AACA,sBAAYgpB,MAAZ,IAAoB4P,YAApB;AACD,CAJD;;kBAMe+C,e;;;;;;;;;;;;;AC5CR,IAAM76B,sCAAe,SAAfA,YAAe,CAACjD,IAAD,EAAOU,OAAP;AAAA,SAAoB,EAAEV,UAAF,EAAQU,gBAAR,EAApB;AAAA,CAArB,C;;;;;;;;;;;;;;;;;;;oDCAEwC,O;;;;;;;;;;;;;;;;;ACAF,IAAM86B,sEAA+B,8BAArC;AACA,IAAMC,sEAA+B,8BAArC;AACA,IAAMI,sEAA+B,8BAArC,C;;;;;;;;;;;;;;;;;;;ACFP;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;IAAYE,gB;;AACZ;;IAAYhJ,c;;AACZ;;IAAYiJ,c;;AACZ;;IAAYzF,K;;AACZ;;IAAYvuB,K;;AACZ;;;;AACA;;IAAYi0B,e;;AACZ;;AACA;;;;;;;;;;;;AAEA;;;;IAIaC,Q,WAAAA,Q;;;AACX,oBAAa9yB,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,oHACrBT,KADqB,EACdS,OADc;;AAE3B,UAAK7L,KAAL,GAAa;AACXm+B,cAAQ,KADG;AAEXC,uBAAiB,EAFN;AAGXC,4BAAsBr6B,SAHX;AAIXs6B,sBAAgBt6B,SAJL;AAKXu6B,uBAAiBv6B,SALN;AAMXw6B,6BAAuBx6B,SANZ;AAOX;AACAy6B,4BAAsB,KARX;AASXC,0BAAoB16B,SATT;AAUX26B,yBAAmB;AAVR,KAAb;AAF2B;AAc5B;;;;yCAEqB;AAAA;;AACpB,UAAMC,kBAAkBZ,eAAe5rB,OAAf,CAAuB,KAAKysB,aAAL,EAAvB,MAAiDb,eAAec,mBAAxF;AACA,UAAMC,aAAa,CAAC,CAAC,KAAK3zB,KAAL,CAAWuf,MAAX,CAAkBC,QAAlB,CAA2BwP,UAAhD;AACA,UAAI2E,cAAcH,eAAlB,EAAmC;AACjC,6BAAgBI,KAAhB,CAAsB;AACpBA,iBAAOjK,eAAekK,wBADF;AAEpB5G,qBAAW,EAAEC,UAAU,KAAKltB,KAAL,CAAWuf,MAAX,CAAkBhpB,EAA9B;AAFS,SAAtB,EAIGlB,IAJH,CAIQ,gBAAsE;AAAA,cAA7Bi+B,kBAA6B,QAAnE99B,IAAmE,CAA3Ds+B,cAA2D,CAAzCC,UAAyC;;AAC1E,iBAAKpzB,QAAL,CAAc,EAAE2yB,sCAAF,EAAd;AACD,SANH,EAOGx9B,KAPH,CAOS;AAAA,iBAAOkzB,QAAQnwB,KAAR,CAAcoyB,GAAd,CAAP;AAAA,SAPT;AAQD;AACF;;;8CAE0BzmB,S,EAAW;AACpC,WAAK7D,QAAL,CAAc,EAAEoyB,QAAQ,KAAK/yB,KAAL,CAAWrH,MAAX,IAAqB,CAAC6L,UAAU7L,MAA1C,EAAd;AACD;;;oCAEgB;AAAA,kBACK,KAAKqH,KAAL,CAAWuf,MAAX,CAAkBC,QAAlB,IAA8B,EAAEwU,SAAS,EAAX,EADnC;AAAA,UACPA,OADO,SACPA,OADO;;AAEf,aAAOA,WAAWA,QAAQtrB,KAAR,CAAc,GAAd,EAAmBjM,MAAnB,CAA0B;AAAA,eAAU,CAAC,CAACyN,OAAOzE,IAAP,EAAZ;AAAA,OAA1B,CAAlB;AACD;;;mCAEeyE,M,EAAQ;AACtB,UAAM+pB,cAAc/pB,OAAOxB,KAAP,CAAa,GAAb,CAApB;AACA,aAAOurB,YAAY,CAAZ,EAAezuB,OAAf,CAAuB,GAAvB,EAA4B,EAA5B,CAAP;AACD;;;0CAEsBwtB,e,EAAiB;AACtC,WAAKryB,QAAL,CAAc,EAAEqyB,gCAAF,EAAd;AACD;;;gCAEYp+B,K,EAAO;AAClB,WAAK+L,QAAL,CAAc/L,KAAd;AACD;;;iCAEaY,I,EAAM;AAAA;;AAClB,UAAIA,KAAK0+B,YAAL,KAAsBtB,eAAeuB,mBAAzC,EAA8D;AAAA,qBACxB,KAAKn0B,KADmB;AAAA,YACpDuf,MADoD,UACpDA,MADoD;AAAA,YAC5C2S,eAD4C,UAC5CA,eAD4C;;AAE5D,YAAMp9B,UAAU;AACds/B,oBAAU;AACRC,uBAAW7+B,KAAKonB,IADR;AAER0X,sBAAU9+B,KAAK8+B,QAFP;AAGRr9B,mBAAOzB,KAAKyB,KAHJ;AAIRq1B,kBAAM92B,KAAK82B,IAAL,IAAa;AAJX,WADI;AAOdiI,gBAAM;AACJC,gBAAI,KAAKf,aAAL,GAAqBp3B,GAArB,CAAyB;AAAA,qBAAU,OAAKo4B,cAAL,CAAoBvqB,MAApB,CAAV;AAAA,aAAzB,CADA;AAEJwqB,qBAASl/B,KAAKk/B,OAFV;AAGJv+B,kBAAMX,KAAKW;AAHP;AAPQ,SAAhB;AAaA+7B,wBAAgB,EAAEp9B,gBAAF,EAAWyqB,cAAX,EAAhB;AACD,OAhBD,MAgBO,IAAI/pB,KAAK0+B,YAAL,KAAsBtB,eAAec,mBAAzC,EAA8D;AACnE,YAAI,CAAC,KAAK9+B,KAAL,CAAWo+B,eAAX,CAA2BvxB,MAA5B,IAAsC,KAAK7M,KAAL,CAAWy+B,oBAArD,EAA2E;AACzE,eAAK1yB,QAAL,CAAc;AACZsyB,kCACE;AAFU,WAAd;AAID,SALD,MAKO;AACL;AACAz9B,eAAK+1B,KAAL,GAAa,MAAMoJ,IAAN,CAAWn/B,KAAK+1B,KAAhB,IAAyB/1B,KAAK+1B,KAA9B,SAA0C/1B,KAAK+1B,KAA5D;;AAEA,eAAK5qB,QAAL,CAAc,EAAEsyB,sBAAsBr6B,SAAxB,EAAd;;AAEA;AACA,cAAMw6B,wBAAwB,SAAxBA,qBAAwB,YAAa;AACzC,mBAAKx+B,KAAL,CAAW0+B,kBAAX,IAAiC,EAAE,OAAK1+B,KAAL,CAAW0+B,kBAA9C;AACA,mBAAO,qBAAgBsB,MAAhB,CAAuB;AAC5BC,wBAAUlC,iBAAiBmC,aADC;AAE5B7H;AAF4B,aAAvB,CAAP;AAID,WAND;;AAQAmG,gCAAsB;AACpBlG,sBAAU,KAAKltB,KAAL,CAAWuf,MAAX,CAAkBhpB,EADR;AAEpBw+B,kBAAMv/B,KAAK+1B,KAFS;AAGpBpN,gBAAI,KAAKsW,cAAL,CAAoB71B,MAAMo2B,OAAN,CAAc,KAAKvB,aAAL,EAAd,EAAoC,CAApC,CAApB;AAHgB,WAAtB,EAIGp+B,IAJH,CAIQ,YAAM;AACZ,gBAAI,CAAC,OAAKT,KAAL,CAAWu+B,eAAhB,EAAiC;AAC/B,kBAAMA,kBAAkB,mBAAc,EAAE8B,SAAS,KAAX,EAAd,EAAkCC,UAAlC,CAA6C;AACnEC,8BAAc,IADqD;AAEnEvB,uBAAOjK,eAAeyL,0BAF6C;AAGnEnI,2BAAW,EAAEC,UAAU,OAAKltB,KAAL,CAAWuf,MAAX,CAAkBhpB,EAA9B,EAAkCw+B,MAAMv/B,KAAK+1B,KAA7C;AAHwD,eAA7C,CAAxB;AAKA4H,8BAAgBkC,SAAhB,CAA0B;AACxBh6B,sBAAM,qBAA8D;AAAA,sBAAvB63B,cAAuB,SAA3D19B,IAA2D,CAAnD4/B,0BAAmD;;AAClE,yBAAKz0B,QAAL,CAAc,EAAEuyB,8BAAF,EAAd;AACD;AAHuB,eAA1B;AAKA,qBAAKvyB,QAAL,CAAc,EAAEwyB,gCAAF,EAAd;AACD;AACF,WAlBD;;AAoBA,cAAI,CAAC,KAAKv+B,KAAL,CAAWw+B,qBAAhB,EAAuC;AACrC,iBAAKzyB,QAAL,CAAc,EAAEyyB,4CAAF,EAAd;AACD;AACF;AACF;AACF;;;yCAEqBrxB,C,EAAG;AAAA,oBACoB,KAAK/B,KADzB;AAAA,UACf6d,YADe,WACfA,YADe;AAAA,UACD0B,MADC,WACDA,MADC;AAAA,UACOxC,QADP,WACOA,QADP;;AAEvB,UAAIA,QAAJ,EAAc;AACZ,YAAIhb,CAAJ,EAAOA,EAAE3B,cAAF;AACP,oCAAekE,IAAf,CACE6oB,MAAMmI,QAAN,CAAezX,aAAatnB,EAA5B,EAAgCgpB,OAAOhpB,EAAvC,CADF;AAGD;AACF;;;6BAES;AAAA,oBAQJ,KAAKyJ,KARD;AAAA,UAEN6B,KAFM,WAENA,KAFM;AAAA,UAGN0d,MAHM,WAGNA,MAHM;AAAA,UAINxC,QAJM,WAINA,QAJM;AAAA,UAKNpkB,MALM,WAKNA,MALM;AAAA,UAMN48B,qBANM,WAMNA,qBANM;AAAA,UAON1X,YAPM,WAONA,YAPM;AAAA,UASaoI,UATb,GAS4BpI,YAT5B,CASAqI,WATA;;AAAA,kBAsBJ3G,OAAOC,QAAP,IAAmB;AACrBkL,oBAAY,SADS;AAErB8K,oBAAY,mDAFS;AAGrB3I,qBAAa,eAHQ;AAIrB4I,4BAAoB;AAJC,OAtBf;AAAA,UAWMhL,SAXN,SAWNC,UAXM;AAAA,UAYUiE,YAZV,SAYNC,cAZM;AAAA,UAaM8G,SAbN,SAaNF,UAbM;AAAA,UAcOzF,UAdP,SAcNlD,WAdM;AAAA,UAiBM8I,SAjBN,SAiBN3G,UAjBM;AAAA,UAkBY4G,eAlBZ,SAkBNC,gBAlBM;AAAA,UAmBSC,YAnBT,SAmBNC,aAnBM;AAAA,UAoBezG,iBApBf,SAoBNC,mBApBM;AAAA,UAqBcyG,gBArBd,SAqBNP,kBArBM;;AA6BR,aACE;AAAA;AAAA;AACE,oBAAU1Y,QADZ;AAEE,mBAAW,KAAKkZ,oBAAhB,MAAW,IAAX,CAFF;AAGE,gBAAK;AAHP;AAKGV,8BAAsBW,QAAtB,CAA+B3W,OAAOhpB,EAAtC,KAA6C,KAAK3B,KAAL,CAAW2+B,iBAAxD,GACCjE,sBAAsB,QAAtB,GACE,iEAAqB,QAAQ/P,MAA7B,GADF,GAGE,kEAAqB,cAAc1B,YAAnC,EAAiD,QAAQ0B,MAAzD,GAJH,GAOC;AAAA;AAAA,YAAK,WAAU,iBAAf;AACE,iDAAK,WAAW,mBAACxd,CAAD;AAAA,qBAAOA,EAAEwuB,eAAF,EAAP;AAAA,aAAhB,GADF;AAEE;AAAA;AAAA;AACE,yBAAU,qCADZ;AAEE,qBAAO,EAAEzzB,iBAAiB2tB,SAAnB,EAA8BxgB,YAAYgc,UAA1C;AAFT;AAIG0I,4BAAgB+G;AAJnB,WAFF;AAQE;AACE,qBAAW,KAAKjC,aAAP,MAAE,IAAF,KAA0B,EADrC;AAEE,sBAAY,KAAK0C,qBAAjB,MAAY,IAAZ,CAFF;AAGE,0BAAc,KAAKvhC,KAAL,CAAWq+B,oBAH3B;AAIE,wBAAY,KAAKI;AAJnB,YARF;AAcE;AAAA;AAAA;AACE,wBAAU2C,qBAAqB,GADjC;AAEE,sBAAQzW,MAFV;AAGE,0BAAa5mB,UAAU,CAACokB,QAAX,GAAsB,aAAtB,GAAsCgT,UAHrD;AAIE,2BAAatF,SAJf;AAKE,uBAASmL,eALX;AAME,oBAAME,YANR;AAOE,wBAAY,KAAKvd,YAAjB,MAAY,IAAZ,CAPF;AAQE,0BAAY,KAAKkb,aAAL,EARd;AASE,+BAAiB,KAAKT,eATxB;AAUE,8BAAgB,KAAKp+B,KAAL,CAAWs+B,cAV7B;AAWE,qCAAuB,KAAKt+B,KAAL,CAAWw+B,qBAXpC;AAYE,iCAAqB,KAAKjP,WAA1B,MAAqB,IAArB;AAZF;AAcGwR,yBACC;AACE,qBAAO,KAAK/gC,KAAL,CAAW0+B,kBAAX,IAAiC/T,OAAO4P,KAAxC,IAAiD,CAD1D;AAEE,qBAAO1E,SAFT;AAGE,oBAAMkL,SAHR;AAIE,6BAAe9zB,MAAMqtB;AAJvB;AAfJ;AAdF;AAZJ,OADF;AAsDD;;;;;;AAGH4D,SAASr1B,SAAT,GAAqB;AACnBsf,YAAU,oBAAUte,IADD;AAEnBof,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAFZ;AAGnB4hB,UAAQ,oBAAU/U,KAAV,CAAgB;AACtBgV,cAAU,oBAAUhV,KAAV,CAAgB;AACxB+kB,2BAAqB,oBAAU3xB,MADP;AAExBw4B,sBAAgB,oBAAUx4B,MAFF;AAGxBy4B,iCAA2B,oBAAUz4B;AAHb,KAAhB,EAIPD;AALmB,GAAhB,EAMLA,UATgB;AAUnBhF,UAAQ,oBAAU8F,IAVC;AAWnB82B,yBAAuB,oBAAU32B,KAXd;AAYnB;AACAszB,mBAAiB,oBAAUxzB;AAbR,CAArB;;AAgBA,IAAMG,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR,EAAkB;AACxC,MAAMs1B,WAAW,yBAAa1gC,KAAb,EAAoBoL,KAApB,EAA2Bs2B,SAA3B,CAAqC,UAArC,CAAjB;AADwC,MAEhC39B,MAFgC,GAEE28B,QAFF,CAEhC38B,MAFgC;AAAA,MAExB48B,qBAFwB,GAEED,QAFF,CAExBC,qBAFwB;;AAGxC,SAAO,EAAE58B,cAAF,EAAU48B,4CAAV,EAAP;AACD,CAJD;;AAMA,IAAMvL,kCAA0B6I,eAA1B,CAAN;;kBAEe,yBACbh0B,eADa,EAEbmrB,kBAFa,EAGb8I,QAHa,C;;;;;;;;;;;;;;;;;;;+CClQNx7B,O;;;;;;;;;kDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;wDACAA,O;;;;;;;;;+CACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;;;;;;;;;;ACNT;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMi/B,gBAAgB,SAAhBA,aAAgB,OAA2C;AAAA,MAAxClxB,KAAwC,QAAxCA,KAAwC;AAAA,MAAjClI,KAAiC,QAAjCA,KAAiC;AAAA,MAA1BmE,IAA0B,QAA1BA,IAA0B;AAAA,MAApB2tB,aAAoB,QAApBA,aAAoB;;AAC/D;;;;;AAKA,MAAMuH,gBAAgB;AACpBC,eAAW;AADS,GAAtB;AAGA,SACE;AAAA;AAAA,MAAK,WAAU,2CAAf,EAA2D,OAAOD,aAAlE;AACE;AAAA;AAAA,QAAG,WAAU,WAAb;AACE;AAAA;AAAA,UAAK,WAAU,IAAf,EAAoB,OAAO,EAAEr5B,YAAF,EAA3B;AACE;AACE,iBAAO,CADT;AAEE,eAAK,CAACkyB,MAAMhqB,KAAN,CAAD,IAAiB4pB,aAAjB,GAAiCJ,OAAOxpB,KAAP,CAAjC,GAAiD,CAFxD;AAGE,oBAAU;AAHZ;AADF,OADF;AAQE;AAAA;AAAA,UAAM,WAAU,mBAAhB;AACG/D,gBACC;AACE,cAAG,gCADL;AAEE,0BAAe;AAFjB;AAFJ;AARF;AADF,GADF;AAqBD,CA9BD;;AAgCAi1B,cAAc94B,SAAd,GAA0B;AACxB4H,SAAO,oBAAU3H,MADO;AAExBP,SAAO,oBAAUS,MAFO;AAGxB0D,QAAM,oBAAU1D,MAHQ;AAIxBqxB,iBAAe,oBAAUxwB;AAJD,CAA1B;;AAOA83B,cAAcn5B,YAAd,GAA6B;AAC3BiI,SAAO,CADoB;AAE3B4pB,iBAAe;AAFY,CAA7B;;kBAKesH,a;;;;;;;;;;;;;;;;;;ACjDf;;;;AACA;;;;AACA;;;;AACA;;AACA;;IAAY3D,c;;AACZ;;AACA;;;;;;;;;;;;;;AAEA,IAAI,mBAAAjpB,CAAQ,OAAR,EAAiBC,SAArB,EAAgC;AAC9BD,EAAA,mBAAAA,CAAA,kFAAAA;AACAA,EAAA,mBAAAA,CAAA,wFAAAA;AACD;;AAED;AACA,IAAM+sB,mBAAmB,SAAzB;AACA,IAAMC,aAAa;AACjBhP,UAAQ,MADS;AAEjBpL,WAAS,GAFQ;AAGjBD,UAAQ,MAHS;AAIjBpK,WAAS;AAJQ,CAAnB;;AAOA,IAAM0kB,cAAc,SAAdA,WAAc,SAAU;AAC5B,MAAM3C,cAAc/pB,OAAOxB,KAAP,CAAa,GAAb,CAApB;AACA,MAAM2N,QAAQ4d,YAAYxyB,MAAZ,KAAuB,CAArC;AACA,SAAO4U,QAAQ,EAAEuG,MAAMqX,YAAY,CAAZ,EAAexuB,IAAf,EAAR,EAA+BJ,OAAO4uB,YAAY,CAAZ,EAAezuB,OAAf,CAAuB,GAAvB,EAA4B,EAA5B,CAAtC,EAAR,GAAkF,IAAzF;AACD,CAJD;;IAMMqxB,oB;;;AACJ,gCAAa72B,KAAb,EAAoB;AAAA;;AAAA,4IACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa,EAAEkiC,UAAU,CAAZ,EAAeC,UAAUn+B,SAAzB,EAAb;AAFkB;AAGnB;;;;4BAEQ;AACP,WAAK+H,QAAL,CAAc,EAAEm2B,UAAU,KAAKliC,KAAL,CAAWkiC,QAAX,GAAsB,CAAlC,EAAd;AACD;;;wCAEoB;AACnB,WAAKn2B,QAAL,CAAc,EAAEo2B,UAAUC,YAAY,KAAKC,KAAjB,EAAwB,IAAxB,CAAZ,EAAd;AACD;;;2CAEuB;AACtBC,oBAAc,KAAKtiC,KAAL,CAAWmiC,QAAzB;AACD;;;6BAES;AACR,aAAO;AAAA;AAAA;AAAU,aAAKniC,KAAL,CAAWkiC,QAArB;AAAA,OAAP;AACD;;;;;;IAGGK,Y;;;AACJ,wBAAan3B,KAAb,EAAoB;AAAA;;AAAA,6HACZA,KADY;;AAElB,WAAKpL,KAAL,GAAa;AACXqC,aAAO,EADI;AAEXs0B,aAAO,EAFI;AAGX3O,YAAM,EAHK;AAIX0X,gBAAU,EAJC;AAKXhI,YAAM,EALK;AAMXoI,eAAS10B,MAAM00B,OANJ;AAOXv+B,YAAM6J,MAAM7J,IAPD;AAQX+9B,oBAActB,eAAe5rB,OAAf,CAAuBhH,MAAMo3B,UAA7B,KAA4Cx+B,SAR/C;AASXy+B,sBAAgBz+B;AATL,KAAb;AAFkB;AAanB;;;;8CAE0BoH,K,EAAO;AAAA;;AAChC,UAAI,CAAC,KAAKA,KAAL,CAAWkzB,cAAZ,IAA8BlzB,MAAMo3B,UAApC,IAAkDp3B,MAAMo3B,UAAN,CAAiB31B,MAAvE,EAA+E;AAC7E,aAAKd,QAAL,CAAc;AACZ02B,0BAAgBr3B,MAAMo3B,UAAN,CAAiB/6B,GAAjB,CAAqB;AAAA,gCAChCu6B,YAAY1sB,MAAZ,CADgC;AAEnCotB,wBAAU;AAFyB;AAAA,WAArB;AADJ,SAAd;AAMD;;AAED,UACEt3B,MAAMkzB,cAAN,IACAlzB,MAAMo3B,UADN,IAEAp3B,MAAMo3B,UAAN,CAAiB31B,MAFjB,IAGA8N,KAAKC,SAAL,CAAe,KAAKxP,KAAL,CAAWkzB,cAA1B,MAA8C3jB,KAAKC,SAAL,CAAexP,MAAMkzB,cAArB,CAJhD,EAKE;AACA,aAAKvyB,QAAL,CAAc;AACZ02B,0BAAgB,KAAKziC,KAAL,CAAWyiC,cAAX,CAA0Bh7B,GAA1B,CAA8B,UAAC6N,MAAD,EAASnJ,KAAT,EAAmB;AAC/D,gBAAMw2B,wBAAwBrtB,OAAO7E,KAAP,KAAiBrF,MAAMkzB,cAAN,CAAqBsE,YAApE;AACA,gBAAMC,aAAaF,wBAAwBv3B,MAAMkzB,cAA9B,GAA+C,EAAlE;AAF+D,gBAG3B39B,MAH2B,GAGhBkiC,UAHgB,CAGvDC,0BAHuD;;AAI/D,gBAAMC,eAAe,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,EAAgCzB,QAAhC,CAAyC3gC,MAAzC,CAArB;;AAEA,gBAAI+hC,WAAW,OAAK1iC,KAAL,CAAWyiC,cAAX,CAA0Bt2B,KAA1B,EAAiCu2B,QAAhD;AACA,gBAAIC,yBAAyBI,YAA7B,EAA2CL;;AAE3C,gCAAYptB,MAAZ,EAAuButB,UAAvB,IAAmCH,kBAAnC;AACD,WAVe;AADJ,SAAd;AAaD;AACF;;;+BAEW;AAAA;;AAAA,mBACkE,KAAKt3B,KADvE;AAAA,UACFo3B,UADE,UACFA,UADE;AAAA,UAC2CQ,QAD3C,UACUrY,MADV,CACoBC,QADpB,CACgCqY,SADhC;AAAA,UACyD5hC,IADzD,UACyDA,IADzD;;AAEV,UAAM6hC,cAAc7hC,KAAK6B,aAAL,CAAmB;AACrCvB,YAAI,+DADiC;AAErCwB,wBAAgB;AAFqB,OAAnB,CAApB;AAIA,UAAMtC,SAAS,EAAE4gB,OAAO,IAAT,EAAf;;AAEA,UAAI,KAAKzhB,KAAL,CAAWs/B,YAAX,KAA4BtB,eAAeuB,mBAA/C,EAAoE;AAClE,YAAI,CAAC,KAAKv/B,KAAL,CAAWqC,KAAhB,EAAuB;AACrBxB,iBAAOwB,KAAP,GAAe6gC,WAAf;AACD,SAFD,MAEO,IAAI,CAAC,oCAAa,KAAKljC,KAAL,CAAWqC,KAAxB,CAAL,EAAqC;AAC1CxB,iBAAOwB,KAAP,GAAehB,KAAK6B,aAAL,CAAmB;AAChCvB,gBAAI,iFAD4B;AAEhCwB,4BAAgB;AAFgB,WAAnB,CAAf;AAID,SALM,MAKA,IAAIq/B,cAAcA,WAAWW,IAAX,CAAgB;AAAA,iBAAU7tB,OAAOsL,KAAP,OAAiB,OAAK5gB,KAAL,CAAWqC,KAA5B,OAAV;AAAA,SAAhB,CAAlB,EAAoF;AACzFxB,iBAAOwB,KAAP,GAAehB,KAAK6B,aAAL,CAAmB;AAChCvB,gBAAI,6EAD4B;AAEhCwB,4BAAgB;AAFgB,WAAnB,CAAf;AAID;AACD,YAAI,CAAC,KAAKnD,KAAL,CAAW8/B,OAAhB,EAAyB;AACvBj/B,iBAAOi/B,OAAP,GAAiBoD,WAAjB;AACD;AACD,YAAI,CAAC,KAAKljC,KAAL,CAAWuB,IAAhB,EAAsB;AACpBV,iBAAOU,IAAP,GAAc2hC,WAAd;AACD;AACF;AACD,UAAI,KAAKljC,KAAL,CAAWs/B,YAAX,KAA4BtB,eAAec,mBAA/C,EAAoE;AAAA,YAC1DnI,KAD0D,GAChD,KAAK32B,KAD2C,CAC1D22B,KAD0D;;AAElE,YAAMyM,YAAY,MAAMrD,IAAN,CAAWpJ,KAAX,IAAoBA,KAApB,SAAgCA,KAAlD;AACA,YAAI,CAACA,KAAL,EAAY;AACV91B,iBAAO81B,KAAP,GAAeuM,WAAf;AACD,SAFD,MAEO,IAAI,CAAC,wCAAiBE,SAAjB,CAAL,EAAkC;AACvC,cAAI,CAAC,EAAD,EAAK,EAAL,EAAS9B,QAAT,CAAkB8B,UAAUv2B,MAA5B,CAAJ,EAAyC;AACvChM,mBAAO81B,KAAP,GAAet1B,KAAK6B,aAAL,CAAmB;AAChCvB,kBAAI,gEAD4B;AAEhCwB,8BAAgB;AAFgB,aAAnB,CAAf;AAID,WALD,MAKO;AACLtC,mBAAO81B,KAAP,GAAet1B,KAAK6B,aAAL,CAAmB;AAChCvB,kBAAI,oEAD4B;AAEhCwB,8BAAgB;AAFgB,aAAnB,CAAf;AAID;AACF,SAZM,MAYA,IACLq/B,cACAA,WAAWW,IAAX,CACE;AAAA,iBAAU7tB,OAAO1E,OAAP,CAAe,KAAf,EAAsB,EAAtB,EACPgQ,KADO,MACE,OAAK5gB,KAAL,CAAW22B,KAAX,CAAiB/lB,OAAjB,CAAyB,KAAzB,EAAgC,EAAhC,CADF,CAAV;AAAA,SADF,CAFK,EAML;AACA/P,iBAAO81B,KAAP,GAAet1B,KAAK6B,aAAL,CAAmB;AAChCvB,gBAAI,6EAD4B;AAEhCwB,4BAAgB;AAFgB,WAAnB,CAAf;AAID;AACF;AACD,UAAI,CAAC,KAAKnD,KAAL,CAAWgoB,IAAhB,EAAsB;AACpBnnB,eAAOmnB,IAAP,GAAckb,WAAd;AACD;AACD,UAAI,CAAC,KAAKljC,KAAL,CAAW0/B,QAAhB,EAA0B;AACxB7+B,eAAO6+B,QAAP,GAAkBwD,WAAlB;AACD;AACD,UAAIF,aAAa,WAAb,IAA4B,CAAC,KAAKhjC,KAAL,CAAW03B,IAA5C,EAAkD;AAChD72B,eAAO62B,IAAP,GAAcwL,WAAd;AACD;;AAED,UAAI5gB,OAAO+gB,IAAP,CAAYxiC,MAAZ,EAAoBgM,MAApB,GAA6B,CAAjC,EAAoC;AAClChM,eAAO4gB,KAAP,GAAe,KAAf;AACD;AACD,aAAO5gB,MAAP;AACD;;;iCAEasM,C,EAAG;AACfA,QAAE3B,cAAF;AADe,UAEPiY,QAFO,GAEM,KAAKrY,KAFX,CAEPqY,QAFO;;AAGf,UAAM5iB,SAAS,KAAK+4B,QAAL,EAAf;;AAEA,WAAK7tB,QAAL,CAAc,EAAElL,cAAF,EAAd;AACA,UAAIA,OAAO4gB,KAAX,EAAkBgC,YAAYA,SAAS,KAAKzjB,KAAd,CAAZ;AACnB;;;6BAES;AAAA;;AAAA,oBAUJ,KAAKoL,KAVD;AAAA,UAENkzB,cAFM,WAENA,cAFM;AAAA,UAGNgF,WAHM,WAGNA,WAHM;AAAA,UAINnI,UAJM,WAINA,UAJM;AAAA,UAKNxvB,QALM,WAKNA,QALM;AAAA,UAMNgf,MANM,WAMNA,MANM;AAAA,UAONrf,QAPM,WAONA,QAPM;AAAA,UAQNkzB,qBARM,WAQNA,qBARM;AAAA,UASNn9B,IATM,WASNA,IATM;AAAA,mBAcJ,KAAKrB,KAdD;AAAA,UAYNqC,KAZM,UAYNA,KAZM;AAAA,UAYCs0B,KAZD,UAYCA,KAZD;AAAA,UAYQ3O,IAZR,UAYQA,IAZR;AAAA,UAYc0X,QAZd,UAYcA,QAZd;AAAA,UAYwBhI,IAZxB,UAYwBA,IAZxB;AAAA,UAY8BoI,OAZ9B,UAY8BA,OAZ9B;AAAA,UAYuCv+B,IAZvC,UAYuCA,IAZvC;AAAA,UAY6CV,MAZ7C,UAY6CA,MAZ7C;AAAA,UAaN4hC,cAbM,UAaNA,cAbM;;;AAgBR,aACE;AAAA;AAAA;AACE,qBAAW,0BACT,eADS,EAET,EAAE,cAAc,CAAC,CAACnE,cAAlB,EAFS,CADb;AAKE,oBAAY,KAAK3a,YAAjB,MAAY,IAAZ;AALF;AAOE;AAAA;AAAA;AACE,uBAAW,0BACT,wBADS,EAET,CAAChY,QAAD,GAAY,gBAAZ,GAA+B,IAFtB;AADb;AAME;AAAA;AAAA,cAAK,WAAU,8BAAf;AACG,iBAAK3L,KAAL,CAAWs/B,YAAX,KAA4B,OAA5B,IACC;AAAA;AAAA,gBAAK,WAAW,0BAAW,YAAX,EAAyBwC,gBAAzB,CAAhB;AACE;AAAA;AAAA,kBAAO,WAAU,UAAjB,EAA4B,SAAQ,0BAApC;AACE;AACE,sBAAG,uDADL;AAEE,kCAAe;AAFjB,kBADF;AAKIjhC,0BAAUA,OAAO,OAAP,CAAV,IAA6B;AAAA;AAAA,oBAAM,WAAU,OAAhB;AAAyBA,yBAAO,OAAP;AAAzB;AALjC,eADF;AAQE;AACE,oBAAG,0BADL;AAEE,2BAAU,QAFZ;AAGE,uBAAOkhC,UAHT;AAIE,wBAAU,0BAAgBwB,gBAA1B,gCAJF;AAKE,sBAAK,OALP;AAME,6BAAaliC,KAAK6B,aAAL,CAAmB;AAC9BvB,sBAAI,6DAD0B;AAE9BwB,kCAAgB;AAFc,iBAAnB,CANf;AAUE,uBAAOd,KAVT;AAWE,0BAAU;AAAA,yBAAK,OAAK0J,QAAL,CAAc,EAAE1J,OAAO8K,EAAEmI,MAAF,CAAS7E,KAAlB,EAAd,CAAL;AAAA;AAXZ;AARF,aAFJ;AAyBG,iBAAKzQ,KAAL,CAAWs/B,YAAX,KAA4B,OAA5B,IACC;AAAA;AAAA,gBAAK,WAAW,0BAAW,YAAX,EAAyBwC,gBAAzB,CAAhB;AACE;AAAA;AAAA,kBAAO,WAAU,UAAjB,EAA4B,SAAQ,0BAApC;AACE;AACE,sBAAG,uDADL;AAEE,kCAAe;AAFjB,kBADF;AAKIjhC,0BAAUA,OAAO,OAAP,CAAV,IAA6B;AAAA;AAAA,oBAAM,WAAU,OAAhB;AAAyBA,yBAAO,OAAP;AAAzB;AALjC,eADF;AAQE;AACE,oBAAG,0BADL;AAEE,2BAAU,QAFZ;AAGE,uBAAOkhC,UAHT;AAIE,wBAAU,0BAAgBwB,gBAA1B,gCAJF;AAKE,sBAAK,MALP;AAME,6BAAaliC,KAAK6B,aAAL,CAAmB;AAC9BvB,sBAAI,6DAD0B;AAE9BwB,kCAAgB;AAFc,iBAAnB,CANf;AAUE,uBAAOwzB,KAVT;AAWE,0BAAU;AAAA,yBAAK,OAAK5qB,QAAL,CAAc,EAAE4qB,OAAOxpB,EAAEmI,MAAF,CAAS7E,KAAlB,EAAd,CAAL;AAAA;AAXZ;AARF,aA1BJ;AAiDE;AAAA;AAAA,gBAAK,WAAW,0BAAW,YAAX,EAAyBqxB,gBAAzB,CAAhB;AACE;AAAA;AAAA,kBAAO,WAAU,UAAjB,EAA4B,SAAQ,8BAApC;AACE;AACE,sBAAG,sDADL;AAEE,kCAAe;AAFjB,kBADF;AAKIjhC,0BAAUA,OAAO,MAAP,CAAV,IAA4B;AAAA;AAAA,oBAAM,WAAU,OAAhB;AAAyBA,yBAAO,MAAP;AAAzB;AALhC,eADF;AAQE;AACE,oBAAG,8BADL;AAEE,2BAAU,QAFZ;AAGE,uBAAOkhC,UAHT;AAIE,sBAAK,MAJP;AAKE,6BAAa1gC,KAAK6B,aAAL,CAAmB;AAC9BvB,sBAAI,4DAD0B;AAE9BwB,kCAAgB;AAFc,iBAAnB,CALf;AASE,uBAAO6kB,IATT;AAUE,0BAAU;AAAA,yBAAK,OAAKjc,QAAL,CAAc,EAAEic,MAAM7a,EAAEmI,MAAF,CAAS7E,KAAjB,EAAd,CAAL;AAAA;AAVZ;AARF,aAjDF;AAsEE;AAAA;AAAA,gBAAK,WAAW,0BAAW,YAAX,EAAyBqxB,gBAAzB,CAAhB;AACE;AAAA;AAAA,kBAAO,WAAU,UAAjB,EAA4B,SAAQ,6BAApC;AACE;AACE,sBAAG,0DADL;AAEE,kCAAe;AAFjB,kBADF;AAKIjhC,0BAAUA,OAAO,UAAP,CAAV,IAAgC;AAAA;AAAA,oBAAM,WAAU,OAAhB;AAAyBA,yBAAO,UAAP;AAAzB;AALpC,eADF;AAQE;AACE,oBAAG,6BADL;AAEE,2BAAU,QAFZ;AAGE,uBAAOkhC,UAHT;AAIE,sBAAK,MAJP;AAKE,6BAAa1gC,KAAK6B,aAAL,CAAmB;AAC9BvB,sBAAI,gEAD0B;AAE9BwB,kCAAgB;AAFc,iBAAnB,CALf;AASE,uBAAOu8B,QATT;AAUE,0BAAU;AAAA,yBAAK,OAAK3zB,QAAL,CAAc,EAAE2zB,UAAUvyB,EAAEmI,MAAF,CAAS7E,KAArB,EAAd,CAAL;AAAA;AAVZ;AARF,aAtEF;AA4FI,aAACka,OAAOC,QAAP,CAAgBqY,SAAjB,IAA8BtY,OAAOC,QAAP,CAAgBqY,SAAhB,KAA8B,WAA5D,GAA0E,IAA1E,GACE;AAAA;AAAA,gBAAK,WAAW,0BAAW,YAAX,EAAyBnB,gBAAzB,CAAhB;AACE;AAAA;AAAA,kBAAO,WAAU,UAAjB,EAA4B,SAAQ,yBAApC;AACE;AACE,sBAAG,sDADL;AAEE,kCAAe;AAFjB,kBADF;AAKIjhC,0BAAUA,OAAO,MAAP,CAAV,IAA4B;AAAA;AAAA,oBAAM,WAAU,OAAhB;AAAyBA,yBAAO,MAAP;AAAzB;AALhC,eADF;AAQE;AACE,2BAAU,QADZ;AAEE,uBAAOkhC,UAFT;AAGE,sBAAK,MAHP;AAIE,6BAAa1gC,KAAK6B,aAAL,CAAmB;AAC9BvB,sBAAI,4DAD0B;AAE9BwB,kCAAgB;AAFc,iBAAnB,CAJf;AAQE,uBAAOu0B,IART;AASE,0BAAU;AAAA,yBAAK,OAAK3rB,QAAL,CAAc,EAAE2rB,MAAMvqB,EAAEmI,MAAF,CAAS7E,KAAjB,EAAd,CAAL;AAAA;AATZ;AARF,aA7FN;AAmHG,iBAAKzQ,KAAL,CAAWs/B,YAAX,KAA4B,OAA5B,IACC;AAAA;AAAA,gBAAK,WAAW,0BAAW,YAAX,EAAyBwC,gBAAzB,CAAhB;AACE;AAAA;AAAA,kBAAO,WAAU,UAAjB,EAA4B,SAAQ,qBAApC;AACE;AACE,sBAAG,yDADL;AAEE,kCAAe;AAFjB,kBADF;AAKIjhC,0BAAUA,OAAO,SAAP,CAAV,IAA+B;AAAA;AAAA,oBAAM,WAAU,OAAhB;AAAyBA,yBAAO,SAAP;AAAzB;AALnC,eADF;AAQE;AACE,oBAAG,qBADL;AAEE,2BAAU,QAFZ;AAGE,uBAAOkhC,UAHT;AAIE,sBAAK,MAJP;AAKE,uBAAOjC,OALT;AAME,0BAAUx0B,QANZ;AAOE,0BAAU;AAAA,yBAAK,OAAKS,QAAL,CAAc,EAAE+zB,SAAS3yB,EAAEmI,MAAF,CAAS7E,KAApB,EAAd,CAAL;AAAA;AAPZ;AARF,aApHJ;AAuIG,iBAAKzQ,KAAL,CAAWs/B,YAAX,KAA4B,OAA5B,IACC;AAAA;AAAA,gBAAK,WAAW,0BAAW,YAAX,EAAyBwC,gBAAzB,CAAhB;AACE;AAAA;AAAA,kBAAO,WAAU,UAAjB,EAA4B,SAAQ,kBAApC;AACE;AACE,sBAAG,sDADL;AAEE,kCAAe;AAFjB,kBADF;AAKIjhC,0BAAUA,OAAO,MAAP,CAAV,IAA4B;AAAA;AAAA,oBAAM,WAAU,OAAhB;AAAyBA,yBAAO,MAAP;AAAzB;AALhC,eADF;AAQE;AACE,oBAAG,kBADL;AAEE,2BAAU,YAFZ;AAGE,oCAAWkhC,UAAX,IAAuBra,QAAQ,MAA/B,GAHF;AAIE,uBAAOnmB,IAJT;AAKE,0BAAU+J,QALZ;AAME,0BAAU;AAAA,yBAAK,OAAKS,QAAL,CAAc,EAAExK,MAAM4L,EAAEmI,MAAF,CAAS7E,KAAjB,EAAd,CAAL;AAAA;AANZ;AARF;AAxIJ,WANF;AAiKE;AAAA;AAAA,cAAK,WAAU,aAAf;AACE;AAAA;AAAA;AACE,sBAAK,QADP;AAEE,yBAAW,KAAKkT,YAAhB,MAAW,IAAX,CAFF;AAGE,2BAAU,mCAHZ;AAIE,uBAAO,EAAEzb,iBAAiBo7B,WAAnB;AAJT;AAMGnI;AANH;AADF;AAjKF,SAPF;AAoLE;AAAA;AAAA,YAAK,WAAU,aAAf;AACE;AAAA;AAAA;AACGsH,8BAAkBA,eAAe51B,MAAjC,IAA2C41B,eAAeh7B,GAAf,CAAmB,kBAAU;AAAA,kBAErEugB,IAFqE,GAQnE1S,MARmE,CAErE0S,IAFqE;AAAA,kBAGrEvX,KAHqE,GAQnE6E,MARmE,CAGrE7E,KAHqE;AAAA,kBAIrEiyB,QAJqE,GAQnEptB,MARmE,CAIrEotB,QAJqE;AAAA,kBAKvDnZ,EALuD,GAQnEjU,MARmE,CAKrEstB,YALqE;AAAA,kBAMzCjiC,MANyC,GAQnE2U,MARmE,CAMrEwtB,0BANqE;AAAA,kBAOnCZ,QAPmC,GAQnE5sB,MARmE,CAOrEkuB,gCAPqE;;AASvE,kBAAIC,WAAW,0CAAf;;AAEA,kBAAIla,OAAO9Y,KAAX,EAAkB;AAChB,oBAAI9P,WAAW,WAAf,EAA4B;AAC1B8iC,6BACE;AAAA;AAAA,sBAAI,WAAU,SAAd;AACE;AAAA;AAAA,wBAAK,WAAU,gBAAf;AACE;AAAA;AAAA,0BAAK,WAAU,WAAf;AACE;AAAA;AAAA;AACE,+DAAG,WAAU,oBAAb;AADF,yBADF;AAIE;AAAA;AAAA,4BAAK,WAAU,aAAf;AAA8Bzb;AAA9B;AAJF,uBADF;AAOE;AAAA;AAAA,0BAAK,WAAU,QAAf;AACGka,gCADH;AAAA;AAEE,6DAAG,WAAU,oBAAb;AAFF;AAPF;AADF,mBADF;AAgBD,iBAjBD,MAiBO,IAAI,CAAC,WAAD,EAAc,SAAd,EAAyB,aAAzB,EAAwCZ,QAAxC,CAAiD3gC,MAAjD,CAAJ,EAA8D;AACnE8iC,6BACE;AAAA;AAAA,sBAAI,WAAU,SAAd;AACE;AAAA;AAAA,wBAAK,WAAU,gBAAf;AACE;AAAA;AAAA,0BAAK,WAAU,WAAf;AACE;AAAA;AAAA;AACE,kEAAM,WAAU,kBAAhB;AADF,yBADF;AAIE;AAAA;AAAA,4BAAK,WAAU,aAAf;AACGzb,8BADH;AACQ,mEADR;AAEE;AACE,gCAAG,+DADL;AAEE,4CAAe;AAFjB;AAFF;AAJF,uBADF;AAaE;AAAA;AAAA,0BAAK,WAAU,kBAAf;AACE;AAAA;AAAA,4BAAK,WAAU,QAAf;AACGrnB,qCAAW,aAAX,IAA4B,8BAAC,oBAAD;AAD/B;AADF;AAbF;AADF,mBADF;AAuBD,iBAxBM,MAwBA,IAAI,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,EAAgC2gC,QAAhC,CAAyC3gC,MAAzC,CAAJ,EAAsD;AAC3D8iC,6BACE;AAAA;AAAA,sBAAI,WAAU,QAAd;AACE;AAAA;AAAA,wBAAK,WAAU,gBAAf;AACE;AAAA;AAAA,0BAAK,WAAU,WAAf;AACE,gEAAM,WAAU,oBAAhB,GADF;AAEE;AAAA;AAAA,4BAAK,WAAU,aAAf;AAA8Bzb;AAA9B;AAFF,uBADF;AAKE;AAAA;AAAA,0BAAK,WAAU,QAAf;AAAA;AAEE,gEAAM,WAAU,oBAAhB;AAFF;AALF;AADF,mBADF;AAcA,sBAAI0a,WAAW,CAAf,EAAkB;AAChBe,+BACE;AAAA;AAAA,wBAAI,WAAU,QAAd;AACE;AAAA;AAAA,0BAAK,WAAU,gBAAf;AACE;AAAA;AAAA,4BAAK,WAAU,WAAf;AACE,kEAAM,WAAU,oBAAhB,GADF;AAEE;AAAA;AAAA,8BAAK,WAAU,aAAf;AAA8Bzb;AAA9B;AAFF,yBADF;AAKE;AAAA;AAAA,4BAAK,WAAU,kBAAf;AACE;AAAA;AAAA,8BAAK,WAAU,QAAf;AACG0a,oCADH;AAAA;AAAA,2BADF;AAIE;AAAA;AAAA;AACE,yCAAU,mBADZ;AAEE,uCAAS,oBAAK;AACZv1B,kCAAE3B,cAAF;AACAgzB,sDAAsB;AACpBlG,4CAAU,OAAKltB,KAAL,CAAWuf,MAAX,CAAkBhpB,EADR;AAEpBw+B,wCAAM,OAAKngC,KAAL,CAAW22B,KAFG;AAGpBpN,sCAAI9Y;AAHgB,iCAAtB;AAKD;AATH;AAWE;AACE,kCAAG,6DADL;AAEE,8CAAe;AAFjB;AAXF;AAJF;AALF;AADF,qBADF;AA+BD;AACF;AACF,eA3FD,MA2FO;AACLgzB,2BACE;AAAA;AAAA;AACE;AAAA;AAAA,sBAAK,WAAU,gBAAf;AACE;AAAA;AAAA,wBAAK,WAAU,WAAf;AACE,8DAAM,WAAU,4BAAhB,GADF;AAEE;AAAA;AAAA,0BAAK,WAAU,aAAf;AAA8Bzb;AAA9B;AAFF,qBADF;AAKE;AAAA;AAAA;AACE,mCAAU,kBADZ;AAEE,8BAAK,QAFP;AAGE,iCAAS,oBAAK;AACZ7a,4BAAE3B,cAAF;AACAgzB,gDAAsB;AACpBlG,sCAAU,OAAKltB,KAAL,CAAWuf,MAAX,CAAkBhpB,EADR;AAEpBw+B,kCAAM,OAAKngC,KAAL,CAAW22B,KAFG;AAGpBpN,gCAAI9Y;AAHgB,2BAAtB;AAKD;AAVH;AAYE;AACE,4BAAG,4DADL;AAEE,wCAAe;AAFjB;AAZF;AALF;AADF,iBADF;AA2BD;AACD,qBAAOgzB,QAAP;AACD,aApI2C;AAD9C,WADF;AAyIE;AAAA;AAAA,cAAK,WAAU,cAAf;AACE;AACE,kBAAG,oEADL;AAEE,8BAAe;AAFjB,cADF;AAKE;AAAA;AAAA;AACE;AAAA;AAAA;AACE;AACE,sBAAG,2EADL;AAEE,kCAAe;AAFjB;AADF,eADF;AAOE;AAAA;AAAA;AACE;AACE,sBAAG,2EADL;AAEE,kCAAe;AAFjB;AADF,eAPF;AAaE;AAAA;AAAA;AACE;AACE,sBAAG,2EADL;AAEE,kCAAe;AAFjB;AADF,eAbF;AAmBE;AAAA;AAAA;AACE;AACE,sBAAG,2EADL;AAEE,kCAAe;AAFjB;AADF;AAnBF;AALF,WAzIF;AA0KE;AAAA;AAAA,cAAK,OAAO,EAAEzQ,QAAQ,QAAV,EAAoBrL,SAAS,QAA7B,EAAZ;AACE;AAAA;AAAA;AACE,sBAAK,QADP;AAEE,2BAAU,qBAFZ;AAGE,uBAAO,EAAEzf,iBAAiBo7B,WAAnB,EAHT;AAIE,yBAAS,oBAAK;AACZn2B,oBAAE3B,cAAF;AACA,yBAAKJ,KAAL,CAAWs4B,iBAAX,CAA6B,EAAE/E,mBAAmB,IAArB,EAA7B;AACD;AAPH;AASE;AACE,oBAAG,kEADL;AAEE,gCAAe;AAFjB;AATF;AADF;AA1KF,SApLF;AA+WGhzB;AA/WH,OADF;AAmXD;;;;;;AAGH42B,aAAa15B,SAAb,GAAyB;AACvB4a,YAAU,oBAAU3Z,IADG;AAEvBw5B,eAAa,oBAAUt6B,MAFA;AAGvBmyB,cAAY,oBAAUnyB,MAHC;AAIvB82B,WAAS,oBAAU92B,MAJI;AAKvBzH,QAAM,oBAAUyH,MALO;AAMvB2hB,UAAQ,oBAAU1hB,MANK;AAOvBy6B,qBAAmB,oBAAU55B,IAAV,CAAef,UAPX;AAQvB1H;AARuB,CAAzB;;AAWAkhC,aAAa/5B,YAAb,GAA4B;AAC1Bs3B,WAAS,EADiB;AAE1Bv+B,QAAM,EAFoB;AAG1BmiC,qBAAmB,6BAAM,CAAE;AAHD,CAA5B;;kBAMe,2BAAWnB,YAAX,C;;;;;;;AC9kBf,yC;;;;;;;ACAA,yC;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;AAEA;;;;AAEA,IAAMoB,sBAAsB,SAAtBA,mBAAsB;AAAA,MAAGrZ,OAAH,QAAGA,OAAH;AAAA,MAAYrB,YAAZ,QAAYA,YAAZ;AAAA,MAA0B0B,MAA1B,QAA0BA,MAA1B;AAAA,SAC1B;AACE,aAASL,OADX;AAEE,kBAAcrB,YAFhB;AAGE,YAAQ0B,MAHV;AAIE,aACE;AACE,UAAG,wCADL;AAEE,sBAAe;AAFjB;AALJ,IAD0B;AAAA,CAA5B;;AAcAgZ,oBAAoB96B,SAApB,GAAgC;AAC9ByhB,WAAS,oBAAUzgB,IADW;AAE9Bof,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAFD;AAG9B4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF;AAHK,CAAhC;;kBAMe46B,mB;;;;;;;;;;;;;;AC1Bf;;;;AACA;;;;AAGA;;AAGA;;;;AAJA;AAMA,IAAMC,eAAe,SAAfA,YAAe;AAAA,MAAGj4B,QAAH,QAAGA,QAAH;AAAA,MAAaib,QAAb,QAAaA,QAAb;AAAA,MAAuBqC,YAAvB,QAAuBA,YAAvB;AAAA,MAAqC0B,MAArC,QAAqCA,MAArC;AAAA,SACnB;AAAA;AAAA;AACE;AACE,gBAAU/D,QADZ;AAEE,oBAAcqC,YAFhB;AAGE,cAAQ0B;AAHV,MADF;AAMGhf;AANH,GADmB;AAAA,CAArB;;AAHA;;;AAcAi4B,aAAa/6B,SAAb,GAAyB;AACvB+d,YAAU,oBAAUhR,KAAV,CAAgB;AACxBojB,cAAU,oBAAUhwB;AADI,GAAhB,EAEPD,UAHoB;AAIvBkgB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAJR;AAKvB4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF;AALF,CAAzB;;kBAQe66B,Y;;;;;;;;;;;;;;AC5Bf;;;;AACA;;;;AACA;;AAEA;;IAAYrL,K;;AACZ;;AACA;;;;;;AAEA,IAAME,eAAe,SAAfA,YAAe,OAAwC;AAAA,MAArC7R,QAAqC,QAArCA,QAAqC;AAAA,MAA3BqC,YAA2B,QAA3BA,YAA2B;AAAA,MAAb0B,MAAa,QAAbA,MAAa;;AAC3D,MAAMkZ,eAAetL,MAAMmI,QAAN,CAAezX,aAAatnB,EAA5B,EAAgCgpB,OAAOhpB,EAAvC,CAArB;AACA,MAAMmiC,oBAAoBvL,MAAMwL,aAAN,CAAoB9a,aAAatnB,EAAjC,EAAqCgpB,OAAOhpB,EAA5C,CAA1B;AACA,MAAMqiC,uBAAuBzL,MAAM0L,gBAAN,CAAuBhb,aAAatnB,EAApC,EAAwCgpB,OAAOhpB,EAA/C,CAA7B;AACA,MAAMuiC,qBAAqB3L,MAAM4L,cAAN,CAAqBlb,aAAatnB,EAAlC,EAAsCgpB,OAAOhpB,EAA7C,CAA3B;;AAEA,SACE;AAAA;AAAA;AACE,aACE;AACE,YAAG,iDADL;AAEE,wBAAe;AAFjB;AAFJ;AAQE;AAAA;AAAA;AACE;AACE,cAAMkiC,YADR;AAEE,kBAAUA,iBAAiBjd,SAASoS,QAFtC;AAGE,cACE;AACE,cAAG,sDADL;AAEE,0BAAe;AAFjB;AAJJ,QADF;AAWE;AACE,cAAM8K,iBADR;AAEE,kBAAUA,sBAAsBld,SAASoS,QAF3C;AAGE,cACE;AACE,cAAG,gEADL;AAEE,0BAAe;AAFjB;AAJJ,QAXF;AAqBE;AACE,cAAMgL,oBADR;AAEE,kBAAUA,yBAAyBpd,SAASoS,QAF9C;AAGE,cACE;AACE,cAAG,0DADL;AAEE,0BAAe;AAFjB;AAJJ,QArBF;AA+BE;AACE,cAAMkL,kBADR;AAEE,kBAAUA,uBAAuBtd,SAASoS,QAF5C;AAGE,cACE;AACE,cAAG,6DADL;AAEE,0BAAe;AAFjB;AAJJ;AA/BF;AARF,GADF;AAqDD,CA3DD;;AA6DAP,aAAa5vB,SAAb,GAAyB;AACvB+d,YAAU,oBAAUhR,KAAV,CAAgB;AACxBojB,cAAU,oBAAUhwB;AADI,GAAhB,EAEPD,UAHoB;AAIvBkgB,gBAAc,oBAAUrT,KAAV,CAAgB;AAC5BjU,QAAI,oBAAUmH,MAAV,CAAiBC;AADO,GAAhB,EAEXA,UANoB;AAOvB4hB,UAAQ,oBAAU/U,KAAV,CAAgB;AACtBjU,QAAI,oBAAUmH,MAAV,CAAiBC;AADC,GAAhB,EAELA;AAToB,CAAzB;;kBAYe0vB,Y;;;;;;;;;;;;;;;;ACjFf;;;;AACA;;;;AACA;;AACA;;IAAYzuB,K;;AACZ;;IAAYg0B,c;;;;;;;;;;;;;;AAEZ,IAAI,mBAAAjpB,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,gFAAAA;;AAEhC,IAAMitB,cAAc,SAAdA,WAAc,SAAU;AAC5B,MAAM3C,cAAc/pB,OAAOxB,KAAP,CAAa,GAAb,CAApB;AACA,MAAM2N,QAAQ4d,YAAYxyB,MAAZ,KAAuB,CAArC;AACA,SAAO4U,QAAQ,EAAEuG,MAAMqX,YAAY,CAAZ,EAAexuB,IAAf,EAAR,EAA+BJ,OAAO4uB,YAAY,CAAZ,EAAezuB,OAAf,CAAuB,GAAvB,EAA4B,EAA5B,CAAtC,EAAR,GAAkF,IAAzF;AACD,CAJD;;IAMMwzB,U;;;AACJ,sBAAah5B,KAAb,EAAoB;AAAA;;AAAA,wHACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa;AACXo/B,eAASh0B,MAAMg0B,OADJ;AAEXhB,uBAAiB;AAFN,KAAb;AAFkB;AAMnB;;;;wCAEoB;AAAA;;AACnB;AACA;AACA;AACA;AACA,UAAI,mBAAArpB,CAAQ,OAAR,EAAiBC,SAArB,EAAgC;AAAA,YACtBoqB,OADsB,GACV,KAAKh0B,KADK,CACtBg0B,OADsB;;;AAG9BnkB,mBAAW,YAAM;AACf,iBAAKlP,QAAL,CAAc,EAAEqzB,SAASp1B,MAAMo2B,OAAN,CAAchB,OAAd,CAAX,EAAd;AACD,SAFD,EAEG,CAFH;AAGD;AACF;;;6BAES;AAAA;;AAAA,UACAA,OADA,GACY,KAAKp/B,KADjB,CACAo/B,OADA;AAAA,mBAEuC,KAAKh0B,KAF5C;AAAA,UAEAi5B,QAFA,UAEAA,QAFA;AAAA,UAEUphC,YAFV,UAEUA,YAFV;AAAA,UAEwB8qB,UAFxB,UAEwBA,UAFxB;;AAGR,UAAMuR,eAAetB,eAAe5rB,OAAf,CAAuBgtB,OAAvB,CAArB;AACA;AACA,UAAMR,kBAAkBU,iBAAiBtB,eAAec,mBAAxD;;AAEA,aACE;AAAA;AAAA,UAAK,WAAU,qBAAf;AACE;AAAA;AAAA,YAAK,WAAU,wBAAf;AACG/Q,uBACC;AACE,gBAAG,6CADL;AAEE,gOAFF;AAQE,oBAAQ,EAAEuW,cAAcC,OAAOv6B,MAAMw6B,KAAN,CAAYpF,OAAZ,EAAqBvyB,MAA5B,CAAhB;AARV,YADD,GAYC;AACE,gBAAG,0CADL;AAEE,qNAFF;AAQE,oBAAQ,EAAEy3B,cAAcC,OAAOv6B,MAAMw6B,KAAN,CAAYpF,OAAZ,EAAqBvyB,MAA5B,CAAhB;AARV,YAbJ;AAwBGkhB,wBAAc9qB,YAAd,IACC;AAAA;AAAA,cAAK,WAAU,SAAf;AAA0BA;AAA1B;AAzBJ,SADF;AA6BE;AAAA;AAAA,YAAK,WAAU,gCAAf;AACE;AAAA;AAAA,cAAK,WAAU,8BAAf;AACGm8B,oBAAQvyB,MAAR,GAAiB,CAAjB,IAAsBuyB,QAAQ33B,GAAR,CAAY,UAACg9B,GAAD,EAAMt4B,KAAN,EAAgB;AACjD,kBAAMmJ,SAAS0sB,YAAYyC,GAAZ,CAAf;AACA,qBAAO,CAACnvB,MAAD,GAAU,IAAV,GACL;AAAA;AAAA;AACE,wCAAoBnJ,KADtB;AAEE,6BAAU;AAFZ;AAIG4hB,8BACC;AACE,wBAAK,UADP;AAEE,4BAAU,wBAA6B;AAAA,wBAAhBjX,OAAgB,QAA1BxB,MAA0B,CAAhBwB,OAAgB;AAAA,wBAC7BsnB,eAD6B,GACT,OAAKp+B,KADI,CAC7Bo+B,eAD6B;;AAErC,wBAAItnB,OAAJ,EAAa;AACX;AACA,6BAAK9W,KAAL,CAAWo+B,eAAX,gCAAiCA,eAAjC,IAAkD9oB,MAAlD;AACD,qBAHD,MAGO;AACL,0BAAMovB,eAAe,SAAfA,YAAe;AAAA,+BAAKnlC,EAAEyoB,IAAF,KAAW1S,OAAO0S,IAAvB;AAAA,uBAArB;AACA,0BAAM7b,SAAQiyB,gBAAgB/P,SAAhB,CAA0BqW,YAA1B,CAAd;AACA;AACA,6BAAK1kC,KAAL,CAAWo+B,eAAX,gCACKA,gBAAgB9P,KAAhB,CAAsB,CAAtB,EAAyBniB,MAAzB,CADL,sBAEKiyB,gBAAgB9P,KAAhB,CAAsBniB,SAAQ,CAA9B,CAFL;AAID;AACDk4B,gCAAYA,SAAS,OAAKrkC,KAAL,CAAWo+B,eAApB,CAAZ;AACD;AAjBH,kBALJ;AAyBE;AAAA;AAAA,oBAAG,WAAU,aAAb;AACE;AAAA;AAAA,sBAAM,WAAU,uBAAhB;AAAyC9oB,2BAAO0S;AAAhD,mBADF;AAEG,mBAAC4W,eAAD,IAAoB;AAAA;AAAA,sBAAM,WAAU,cAAhB;AAAgCtpB,2BAAO7E;AAAvC;AAFvB;AAzBF,eADF;AAgCD,aAlCsB;AADzB;AADF;AA7BF,OADF;AAuED;;;;;;AAGH2zB,WAAWv7B,SAAX,GAAuB;AACrBu2B,WAAS,oBAAUuF,OAAV,CAAkB,oBAAU37B,MAA5B,CADY;AAErBq7B,YAAU,oBAAUv6B,IAAV,CAAef,UAFJ;AAGrB9F,gBAAc,oBAAU+F,MAHH;AAIrB+kB,cAAY,oBAAUlkB;AAJD,CAAvB;;AAOAu6B,WAAW57B,YAAX,GAA0B;AACxB42B,WAAS,EADe;AAExBrR,cAAY;AAFY,CAA1B;;kBAKeqW,U;;;;;;;AClIf,yC;;;;;;;;;;;;;ACAA,IAAMvwB,SAAS,SAATA,MAAS,CAAColB,cAAD,EAAiBX,QAAjB,EAA2BlP,IAA3B;AAAA,6BACK6P,cADL,iBAC+BX,QAD/B,SAC2ClP,IAD3C;AAAA,CAAf;;AAGO,IAAMsX,8BAAW,SAAXA,QAAW,CAACxH,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,UAAjB,CAAd;AAAA,CAAjB;AACA,IAAM8K,8CAAmB,SAAnBA,gBAAmB,CAAC/K,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,mBAAjB,CAAd;AAAA,CAAzB;AACA,IAAM4K,wCAAgB,SAAhBA,aAAgB,CAAC7K,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,gBAAjB,CAAd;AAAA,CAAtB;AACA,IAAMgL,0CAAiB,SAAjBA,cAAiB,CAACjL,GAAD,EAAMC,GAAN;AAAA,SAActlB,OAAOqlB,GAAP,EAAYC,GAAZ,EAAiB,iBAAjB,CAAd;AAAA,CAAvB,C;;;;;;;;;;;;;;;;;kBCUiByL,gB;;AAhBxB;;IAAYrlC,C;;;;;;AAEL,IAAMG,sCAAe;AAC1BqE,UAAQ,KADkB;AAE1B;AACA;AACA;AACA;AACA;AACA48B,yBAAuB,EAPG;AAQ1BxC,UAAQ,KARkB;AAS1Bl6B,SAAOD;AATmB,CAArB;;AAYA,IAAMqvB,wCAAgB,EAAE7zB,MAAM,EAAR,EAAtB;;AAEQ,SAASolC,gBAAT,GAAyE;AAAA,MAA9C5kC,KAA8C,uEAAtCN,YAAsC;AAAA,MAAxBO,MAAwB,uEAAfozB,aAAe;;AACtF,UAAQpzB,OAAOT,IAAf;AACE,SAAKD,EAAEi+B,4BAAP;AACE,0BAAYx9B,KAAZ,IAAmB+D,QAAQ,IAA3B;AACF,SAAKxE,EAAEk+B,4BAAP;AACE,0BACKz9B,KADL;AAEE+D,gBAAQ,KAFV;AAGE48B,4DACK3gC,MAAM2gC,qBADX,IAEE1gC,OAAOC,OAFT;AAHF;AAQF,SAAKX,EAAEs+B,4BAAP;AACE,0BAAY79B,KAAZ,IAAmB+D,QAAQ,KAA3B,EAAkCE,OAAOhE,OAAOC,OAAhD;;AAEF;AACE,aAAOF,KAAP;AAhBJ;AAkBD,C;;;;;;;;;;;;;;ACnCD;;AAEA;;;;AACA;;;;AACA;;;;;;kBAEe,4BAAgB;AAC7B0gC,8BAD6B;AAE7BjN,8BAF6B;AAG7BjkB;AAH6B,CAAhB,C;;;;;;;;;;;;;;;;ACNf;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA,IAAIuE,SAAS,mBAAAgB,CAAQ,OAAR,EAAiBC,SAAjB,GAA6B,mBAAAD,CAAA,mDAAAA,CAA7B,GAA2D,EAAxE;;AAEA,IAAM8vB,WAAW,SAAXA,QAAW;AAAA,MAAGC,IAAH,QAAGA,IAAH;AAAA,MAAY9oB,IAAZ;;AAAA,SACf;AAAA;AAAA;AACE,iBAAW,0BACT,uBADS,EAETjI,OAAOgxB,QAFE;AADb;AAOID,SACGj9B,MADH,CACU;AAAA,aAAO,CAAC,CAACm9B,IAAIn0B,IAAJ,EAAT;AAAA,KADV,EAEGpJ,GAFH,CAEO,UAACu9B,GAAD,EAAM74B,KAAN;AAAA,aACH;AACE,aAAQ64B,GAAR,SAAe74B,KADjB;AAEE,eAAO64B;AAFT,SAGMhpB,IAHN,EADG;AAAA,KAFP;AAPJ,GADe;AAAA,CAAjB;;AAqBA6oB,SAASh8B,SAAT,GAAqB;AACnBi8B,QAAM,oBAAUH,OAAV,CAAkB,oBAAU37B,MAA5B,CADa;AAEnBqC,WAAS,oBAAUvB,IAFA;AAGnBm7B,YAAU,oBAAUn7B;AAHD,CAArB;;AAMA+6B,SAASr8B,YAAT,GAAwB;AACtBs8B,QAAM;AADgB,CAAxB;;kBAIeD,Q;;;;;;;ACvCf;AACA,kBAAkB,sC;;;;;;;;;;;;;;;;ACDlB;;;;AACA;;;;AACA;;AAEA;;;;;;;;;;IAEMK,U;;;;;;;;;;;wCACiB;AAAA,UACXC,eADW,GACS,KAAK/5B,KADd,CACX+5B,eADW;;AAEnBA;AACD;;;mCAEexa,M,EAAQ;AAAA,UACDya,UADC,GACcza,MADd,CACd0a,WADc;;AAEtB,UAAMz9B,IAAI,IAAI09B,IAAJ,CAASf,OAAOa,UAAP,CAAT,CAAV;;AAEA,UAAMG,MAAM,SAANA,GAAM;AAAA,eAAS,QAAM90B,KAAN,EAAe6d,KAAf,CAAqB,CAAC,CAAtB,CAAT;AAAA,OAAZ;AACA,UAAMkX,OAAUD,IAAI39B,EAAE69B,OAAF,EAAJ,CAAV,SAA8BF,IAAI39B,EAAE89B,QAAF,KAAe,CAAnB,CAA9B,SAAuD99B,EAAE+9B,WAAF,EAA7D;AACA,UAAMC,OAAUL,IAAI39B,EAAEi+B,QAAF,EAAJ,CAAV,SAA+BN,IAAI39B,EAAEk+B,UAAF,EAAJ,CAArC;AACA,aACE;AACE,YAAG,oDADL;AAEE,wBAAe,qBAFjB;AAGE,gBAAQ,EAAEN,UAAF,EAAQI,UAAR;AAHV,QADF;AAOD;;;2CAEuB;AACtB,aACE;AAAA;AAAA;AACE,6CAAG,WAAU,uCAAb,GADF;AAEE;AACE,cAAG,iDADL;AAEE,0BAAe;AAFjB;AAFF,OADF;AASD;;;4CAEwB;AAAA,UACfjb,MADe,GACJ,KAAKvf,KADD,CACfuf,MADe;;AAEvB,aACE;AAAA;AAAA,UAAM,WAAU,OAAhB;AACE;AACE,cAAG,kDADL;AAEE,0BAAe,iDAFjB;AAGE,kBAAQ,EAAEob,kBAAkB,KAAKC,cAAL,CAAoBrb,MAApB,CAApB;AAHV,UADF;AAME,6CAAG,WAAU,4BAAb;AANF,OADF;AAUD;;;yCAEqB;AAAA,UACZ1mB,KADY,GACF,KAAKmH,KADH,CACZnH,KADY;;AAEpB,aAAO;AAAA;AAAA,UAAM,WAAU,KAAhB;AAAuBA;AAAvB,OAAP;AACD;;;6BAES;AAAA,mBACgE,KAAKmH,KADrE;AAAA,UACA6d,YADA,UACAA,YADA;AAAA,UACc7hB,OADd,UACcA,OADd;AAAA,UACuBnD,KADvB,UACuBA,KADvB;AAAA,UAC8B0mB,MAD9B,UAC8BA,MAD9B;AAAA,UACsCsb,qBADtC,UACsCA,qBADtC;;AAER,UAAMC,WAAWjd,aAAajB,IAA9B;;AAEA,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAK,WAAU,mCAAf;AACE,+CAAG,WAAU,0DAAb,GADF;AAEE;AAAA;AAAA,cAAM,WAAU,6BAAhB;AACE;AACE,kBAAG,8CADL;AAEE,8BAAe;AAFjB;AADF;AAFF,SADF;AAWE;AAAA;AAAA,YAAG,WAAU,mBAAb;AACE;AACE,gBAAG,oDADL;AAEE,4BACE,gEACA;AAJJ;AADF,SAXF;AAqBE;AAAA;AAAA,YAAG,WAAU,KAAb;AACE;AAAA;AAAA;AACE,wBAAU5gB,OADZ;AAEE,uBAAS;AAAA,uBAAM6+B,sBAAsB,EAAEhd,0BAAF,EAAgB0B,cAAhB,EAAwBub,kBAAxB,EAAtB,CAAN;AAAA;AAFX;AAIE;AACE,kBAAG,+CADL;AAEE,8BAAe;AAFjB;AAJF;AADF,SArBF;AAiCE;AAAA;AAAA,YAAK,WAAU,KAAf;AACI9+B,oBAAU,KAAK++B,oBAAL,EAAV,GAAwC,IAD5C;AAEIxb,iBAAO0a,WAAP,IAAsB,CAACj+B,OAAvB,GAAiC,KAAKg/B,qBAAL,EAAjC,GAAgE,IAFpE;AAGIniC,kBAAQ,KAAKoiC,kBAAL,EAAR,GAAoC;AAHxC;AAjCF,OADF;AAyCD;;;;;;AAGHnB,WAAWr8B,SAAX,GAAuB;AACrBzB,WAAS,oBAAUyC,IAAV,CAAed,UADH;AAErB9E,SAAO,oBAAUgF,MAFI;AAGrB0hB,UAAQ,oBAAU1hB,MAAV,CAAiBF,UAHJ;AAIrB;AACAk9B,yBAAuB,oBAAUn8B,IAAV,CAAef,UALjB;AAMrBo8B,mBAAiB,oBAAUr7B,IAAV,CAAef;AANX,CAAvB;;kBASem8B,U;;;;;;;;;;;;;;ACpHf;;;;AACA;;;;AAGA;;;;AACA;;;;AAFA;AAIA,IAAMoB,sBAAsB,SAAtBA,mBAAsB,OAA0B;AAAA,MAAvBlpB,QAAuB,QAAvBA,QAAuB;AAAA,MAAbuN,MAAa,QAAbA,MAAa;AAAA,yBAMhDA,MANgD,CAElDC,QAFkD;AAAA,MAGhC2b,aAHgC,oBAGhD/E,cAHgD;AAAA,MAIrBgF,uBAJqB,oBAIhD/E,yBAJgD;;AAOpD,MAAMjyB,UAAUi3B,WAAWF,aAAX,CAAhB;;AAEA,SAAO/2B,QAAQsf,SAAR,GACL;AACE,cAAU1R,QADZ;AAEE,WAAO5N,OAFT;AAGE,iBAAa;AACXtH,iCAAyBs+B,uBAAzB,MADW;AAEXtT,oBAAc;AAFH;AAHf,IADK,GAUL;AACE,aAASqT,aADX;AAEE,cAAUnpB,QAFZ;AAGE,mBAAe,EAAElV,iBAAiB,MAAnB,EAA2BK,OAAO,MAAlC,EAA0Cof,SAAS,EAAnD;AAHjB,IAVF;AAgBD,CAzBD;;AA2BA;AACA;AACA;AACA,IAAM8e,aAAa,SAAbA,UAAa,UAAW;AAC5B,MAAI;AACF,WAAO9rB,KAAKkU,KAAL,CAAWrP,OAAX,CAAP;AACD,GAFD,CAEE,OAAOrS,CAAP,EAAU;AACV,WAAOqS,OAAP;AACD;AACF,CAND;;AAQA;AACA;AACA;AACA8mB,oBAAoBz9B,SAApB,GAAgC;AAC9B8hB,UAAQ,oBAAU/U,KAAV,CAAgB;AACtBgV,cAAU,oBAAUhV,KAAV,CAAgB;AACxB4rB,sBAAgB,oBAAUx4B,MAAV,CAAiBD,UADT;AAExB04B,iCAA2B,oBAAUz4B,MAAV,CAAiBD;AAFpB,KAAhB,EAGPA;AAJmB,GAAhB,EAKLA,UAN2B;AAO9BqU,YAAU,oBAAUvT;AAPU,CAAhC;;AAUAy8B,oBAAoB99B,YAApB,GAAmC;AACjC4U,YAAU;AADuB,CAAnC;;kBAIekpB,mB;;;;;;;;;;;;;;;;;AC9Df;;;;AACA;;;;AAEA;;AACA;;AACA;;AACA;;IAAYI,S;;;;;;;;AAEZ,IAAMC,eAAe,SAAfA,YAAe,QAAS;AAAA,sBAYxBv7B,KAZwB,CAE1BouB,MAF0B;AAAA,MAGXoN,UAHW,iBAGxBC,WAHwB;AAAA,MAIVC,WAJU,iBAIxBC,YAJwB;AAAA,MAKTC,YALS,iBAKxBC,aALwB;AAAA,MAMZC,SANY,iBAMxBC,UANwB;AAAA,MAQ1Bxc,MAR0B,GAYxBvf,KAZwB,CAQ1Buf,MAR0B;AAAA,MAS1Byc,iBAT0B,GAYxBh8B,KAZwB,CAS1Bg8B,iBAT0B;AAAA,MAU1B/lC,IAV0B,GAYxB+J,KAZwB,CAU1B/J,IAV0B;AAAA,MAWvB2a,IAXuB,4BAYxB5Q,KAZwB;;AAc5B,SACE;AAAA;AAAA,iBACM4Q,IADN;AAEE,kBACE;AACE,YAAG,sDADL;AAEE,wBAAe;AAFjB,QAHJ;AAQE,gBAAU,0BAAU;AAClB,YAAM4O,WAAWD,OAAOC,QAAP,IAAmB,EAApC;AACA,eAAOwc,+BAAuBzc,MAAvB,IAA+BC,uBAAeA,QAAf,EAA4Byc,MAA5B,CAA/B,IAAP;AACD,OAXH;AAYE,sBACEhmC,KAAK6B,aAAL,CAAmB;AACjBvB,YAAI,wDADa;AAEjBwB,wBAAgB;AAFC,OAAnB;AAbJ;AAmBE;AAAA;AAAA,iBAAW,WAAU,YAArB,IAAsCyjC,UAAtC;AACE;AAAA;AAAA;AACE;AACE,cAAG,0DADL;AAEE,0BAAe;AAFjB;AADF,OADF;AAOE;AACE,cAAK,MADP;AAEE,qBACEvlC,KAAK6B,aAAL,CAAmB;AACjBvB,cAAI,gEADa;AAEjBwB,0BAAgB;AAFC,SAAnB;AAHJ;AAPF,KAnBF;AAoCE;AAAA;AAAA,iBAAW,WAAU,aAArB,IAAuC2jC,WAAvC;AACE;AAAA;AAAA;AACE;AACE,cAAG,2DADL;AAEE,0BAAe;AAFjB;AADF,OADF;AAOE;AACE,cAAK,MADP;AAEE,qBACEzlC,KAAK6B,aAAL,CAAmB;AACjBvB,cAAI,iEADa;AAEjBwB,0BAAgB;AAFC,SAAnB;AAHJ;AAPF,KApCF;AAqDE;AAAA;AAAA,iBAAW,WAAU,cAArB,IAAwC6jC,YAAxC;AACE;AAAA;AAAA;AACE;AACE,cAAG,4DADL;AAEE,0BAAe;AAFjB;AADF,OADF;AAOE;AACE,cAAK,MADP;AAEE,qBACE3lC,KAAK6B,aAAL,CAAmB;AACjBvB,cAAI,kEADa;AAEjBwB,0BAAgB;AAFC,SAAnB;AAHJ;AAPF,KArDF;AAsEE;AAAA;AAAA,iBAAW,WAAU,WAArB,IAAqC+jC,SAArC;AACE;AAAA;AAAA;AACE;AACE,cAAG,yDADL;AAEE,0BAAe;AAFjB;AADF,OADF;AAOE;AACE,wBAAe,UADjB;AAEE,cAAK,GAFP;AAGE,qBACE7lC,KAAK6B,aAAL,CAAmB;AACjBvB,cAAI,+DADa;AAEjBwB,0BAAgB,oEACd,kFADc,GAEd,iFAFc,GAGd;AALe,SAAnB;AAJJ;AAPF;AAtEF,GADF;AA8FD,CA5GD;;AA8GAwjC,aAAa99B,SAAb,GAAyB;AACvB2wB,UAAQ,oBAAUvwB,MAAV,CAAiBF,UADF;AAEvB4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF,UAFF;AAGvB;AACAq+B,qBAAmB,oBAAUt9B,IAAV,CAAef,UAJX;AAKvB;AACA1H,QAAM,qBAAU0H;AANO,CAAzB;;AASO,IAAMywB,0BAAS,CAAC,aAAD,EAAgB,cAAhB,EAAgC,eAAhC,EAAiD,YAAjD,CAAf;;AAEA,IAAMI,8BAAW,SAAXA,QAAW,CAACyN,MAAD,QAAsB;AAAA,MAAXhmC,IAAW,QAAXA,IAAW;;AAC5C,MAAMR,SAAS,EAAf;AACA,MAAI,CAAC6lC,UAAUY,YAAV,CAAuBD,OAAON,YAA9B,CAAL,EAAkD;AAChDlmC,WAAOkmC,YAAP,GAAsB1lC,KAAK6B,aAAL,CAAmB;AACvCvB,UAAI,qFADmC;AAEvCwB,sBAAgB;AAFuB,KAAnB,CAAtB;AAID;AACD,SAAOtC,MAAP;AACD,CATM;;kBAWQ8lC,Y;;;;;;;;;;;;;AC5IR,IAAMxrB,0BAAU;AACrB+X,gBAAc,CADO;AAErBhrB,mBAAiB,MAFI;AAGrB6qB,UAAQ;AAHa,CAAhB;;AAMA,IAAMwU,oCAAe;AAC1BxU,UAAQ,mBADkB;AAE1BzV,WAAS,MAFiB;AAG1BukB,aAAW,iEAHe;AAI1Bl1B,aAAW;AAJe,CAArB;;AAOA,IAAM66B,0DAA0B;AACrC7uB,YAAU;AAD2B,CAAhC;;AAIA,IAAM8uB,wCAAiB;AAC5B5iB,QAAM,CADsB;AAE5BlM,YAAU;AAFkB,CAAvB;;AAKA,IAAM+uB,4CAAmB;AAC9BlV,aAAW;AADmB,CAAzB;;AAIA,IAAMmV,sDAAwB;AACnCvyB,YAAU,MADyB;AAEnCwyB,iBAAe,QAFoB;AAGnCr/B,SAAO;AAH4B,CAA9B,C;;;;;;;;;;;;;;;;;AC1BP;;;;AACA;;;;AACA;;AACA;;AAEA;;AAOA;;AACA;;;;AACA;;;;AAGA;;IAAYwL,M;;;;;;;;AAEL,IAAM8zB,oBAAoB,SAApBA,iBAAoB,QAAS;AAAA,MAChC5e,YADgC,GAC+B7d,KAD/B,CAChC6d,YADgC;AAAA,MAClBuQ,MADkB,GAC+BpuB,KAD/B,CAClBouB,MADkB;AAAA,MACVpY,cADU,GAC+BhW,KAD/B,CACVgW,cADU;AAAA,MACMuJ,MADN,GAC+Bvf,KAD/B,CACMuf,MADN;AAAA,MACiBmd,SADjB,4BAC+B18B,KAD/B;;AAAA,MAElB28B,WAFkB,GAEF9e,YAFE,CAEhC4G,YAFgC;AAAA,MAGhCxF,WAHgC,GAGhBjf,KAHgB,CAGhCif,WAHgC;AAAA,MAKhChpB,IALgC,GAKvB+J,KALuB,CAKhC/J,IALgC;AAAA,MAQjBq5B,iBARiB,GAWpClB,MAXoC,CAQtCmB,mBARsC;AAAA,MAStB4L,aATsB,GAWpC/M,MAXoC,CAStCgI,cATsC;AAAA,MAUvBvW,YAVuB,GAWpCuO,MAXoC,CAUtC3O,aAVsC;;;AAaxC,MAAImd,4BAAJ;AACA,MAAI;AACFA,0BAAsBrtB,KAAKkU,KAAL,CAAW0X,cAAc91B,KAAzB,CAAtB;AACD,GAFD,CAEE,OAAOtD,CAAP,EAAU;AACV66B,0BAAsBzB,cAAc91B,KAApC;AACD;;AAED,SACE;AAAA;AAAA,iBACMq3B,SADN;AAEE,gBAAU,0BAAU;AAClB,eAAO18B,MAAMg8B,iBAAN,cACFzc,MADE;AAELC,iCAAeD,OAAOC,QAAtB,EAAmCyc,MAAnC;AAFK,WAAP;AAID,OAPH;AAQE,sBAAgBjmB,kBACd;AACE,YAAG,yDADL;AAEE,wBAAe;AAFjB;AATJ;AAeE;AAAA;AAAA,iBAAW,WAAU,wBAArB,IAAkDsZ,iBAAlD;AACE;AAAA;AAAA;AACE;AACE,cAAG,oDADL;AAEE,0BAAe;AAFjB;AADF,OADF;AAOE;AAAA;AAAA;AACE;AAAA;AAAA,YAAO,OAAM,OAAb;AACE;AACE,gBAAG,0DADL;AAEE,4BAAe;AAFjB;AADF,SADF;AAOE;AAAA;AAAA,YAAO,OAAM,QAAb;AACE;AACE,gBAAG,2DADL;AAEE,4BAAe;AAFjB;AADF;AAPF;AAPF,KAfF;AAsCGA,sBAAkBjqB,KAAlB,KAA4B,OAA5B,IACC;AAAA;AAAA;AACE;AAAA;AAAA,mBAAW,WAAU,kBAArB,IAA4Cwa,YAA5C;AACE;AAAA;AAAA;AACE,+CAAG,WAAU,oBAAb,EAAkC,OAAOlX,OAAO4zB,oBAAhD,GADF;AAEE;AACE,gBAAG,mEADL;AAEE,4BAAe;AAFjB;AAFF,SADF;AAQE;AACE,gBAAK,GADP;AAEE,0BAAe,UAFjB;AAGE,uBACEtmC,KAAK6B,aAAL,CAAmB;AACjBvB,gBAAI,yEADa;AAEjBwB,4BAAgB;AAFC,WAAnB;AAJJ;AARF;AADF,KAvCJ;AA8DE;AAAA;AAAA,QAAO,WAAU,8BAAjB;AACE;AACE,YAAG,uDADL;AAEE,wBAAe;AAFjB;AADF,KA9DF;AAoEGu3B,sBAAkBjqB,KAAlB,KAA4B,OAA5B,IACC,8BAAC,WAAD,IAAa,aAAb,EAAqB,cAAcwY,YAAnC,EAAiD,QAAQ0B,MAAzD,GArEJ;AAuEG+P,sBAAkBjqB,KAAlB,KAA4B,QAA5B,IACC;AAAA;AAAA,QAAK,WAAU,8BAAf;AACE;AAAA;AAAA,UAAK,WAAU,UAAf;AACE,iDAAO,MAAK,QAAZ,EAAqB,MAAK,gBAA1B,GADF;AAEE,iDAAO,MAAK,QAAZ,EAAqB,MAAK,2BAA1B,GAFF;AAGGu3B,4BAAoBC,WAApB,KAAoC3lB,MAApC,IAA8C0lB,oBAAoBlZ,SAAlE,GACC;AACE,iBAAOkZ,mBADT;AAEE,iBAAOD,YAAYn3B,OAAZ,CAAoB,SAApB,EAA+B,EAA/B,CAFT;AAGE,iCAAuBmD,OAAOyzB,sBAHhC;AAIE,wBAAczzB,OAAO0zB,aAJvB;AAKE,0BAAgB1zB,OAAO2zB,eALzB;AAME,sBAAY3zB,OAAOwzB,WANrB;AAOE,uBAAaxzB,OAAOoH,MAPtB;AAQE,sBAAY,gCAAc;AAAEorB,0BAAczxB,QAAd,CAAuB6F,KAAKC,SAAL,CAAe8U,UAAf,CAAvB;AAAoD;AARlF,UADD,GAYC;AACE,mBAAS6W,cAAc91B,KADzB;AAEE,sBAAY,2BAAS;AACnB,gBAAMue,MAAMrU,KAAKC,SAAL,CAAenK,MAAMwe,MAAN,EAAf,CAAZ;AACA,gBAAIsX,cAAc91B,KAAd,KAAwBue,GAA5B,EAAiCuX,cAAczxB,QAAd,CAAuBka,GAAvB;AAClC,WALH;AAME,yBAAe,EAAErW,UAAU,UAAZ,EAAwB2H,cAAc,EAAtC,EAA0CiS,QAAQ,CAAlD,EANjB;AAOE,yBAAe,EAAErqB,iBAAiB,MAAnB,EAA2BK,OAAO,MAAlC,EAA0Cof,SAAS,EAAnD;AAPjB;AAfJ;AADF;AAxEJ,GADF;AAwGD,CA5HM;;AA8HP;;AACA,IAAM6R,SAAS,CACb,qBADa,EAEb,gBAFa,EAGb,2BAHa,EAIb,eAJa,CAAf;;AAOA,IAAMI,WAAW,SAAXA,QAAW,CAACyN,MAAD,QAAsB;AAAA,MAAXhmC,IAAW,QAAXA,IAAW;;AACrC,MAAMR,SAAS,EAAf;AACA,MAAI,CAACwmC,OAAO1M,mBAAZ,EAAiC;AAC/B95B,WAAO85B,mBAAP,GAA6Bt5B,KAAK6B,aAAL,CAAmB;AAC9CvB,UAAI,kEAD0C;AAE9CwB,sBAAgB;AAF8B,KAAnB,CAA7B;AAID;AACD,SAAOtC,MAAP;AACD,CATD;;AAWA,IAAMoJ,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR,EAAkB;AACxC,MAAMwf,WAAWxf,MAAMuf,MAAN,CAAaC,QAAb,IAAyB,EAA1C;AADwC,MAEhCvpB,IAFgC,GAEvB+J,KAFuB,CAEhC/J,IAFgC;;AAGxC,SAAO;AACL6mC,mBAAe;AACbvN,2BAAqB/P,SAAS+P,mBAAT,IAAgC,OADxC;AAEb6G,sBAAgB5W,SAAS4W,cAAT,IAChB,sCAAoBngC,KAAK6B,aAAL,CAAmB;AACrCvB,YAAI,gEADiC;AAErCwB,wBAAgB;AAFqB,OAAnB,CAApB,CAHa;AAObs+B,iCAA2B7W,SAAS6W,yBAAT,IAAsC,eAPpD;AAQb5W,qBAAeD,SAASC,aAAT,IAA0B;AAR5B;AADV,GAAP;AAYD,CAfD;;AAiBA;AACA;AACA;AACAgd,kBAAkBh/B,SAAlB,GAA8B;AAC5B;AACAwhB,eAAa,oBAAUtgB,SAAV,CAAoB,CAAC,oBAAU8b,IAAX,EAAiB,oBAAU/b,IAA3B,CAApB,EAAsDf,UAFvC;AAG5B;AACAywB,UAAQ,oBAAUvwB,MAAV,CAAiBF,UAJG;AAK5B0X,cAAY,oBAAU5W,IAAV,CAAed,UALC;AAM5B9E,SAAO,oBAAU+E,MANW;AAO5BoY,kBAAgB,oBAAUpY,MAPE;AAQ5B;AACAigB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UATH;AAU5B4hB,UAAQ,oBAAU1hB,MAAV,CAAiBF,UAVG;AAW5Bq+B,qBAAmB,oBAAUt9B,IAAV,CAAef,UAXN;AAY5B;AACA1H,QAAM,qBAAU0H;AAbY,CAA9B;;kBAgBe,2BACb,0BACE,EAAEqiB,MAAM,mBAAR,EAA6BoO,cAA7B,EAAqCI,kBAArC,EADF,EAEE3vB,eAFF,EAGE49B,iBAHF,CADa,C;;;;;;;;;;;;;;;;;;;6CCxMNnlC,O;;;;;;;;;6CACAA,O;;;;;;;;;wCACAA,O;;;;;;;;;sDACAA,O;;;;;;;;;kDACAA,O;;;;;;;;;wDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;+CACAA,O;;;;;;;;;;;;;;;;;;;;;ACPT;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;AACA;;IAAYsH,K;;AACZ;;IAAYm+B,E;;;;;;;;;;;;;;AAEZ,IAAIp0B,SAAS,mBAAAgB,CAAQ,OAAR,EAAiBC,SAAjB,GAA6B,mBAAAD,CAAA,mDAAAA,CAA7B,GAA2D,EAAxE;;IAEaqzB,Q,WAAAA,Q;;;AACX,oBAAah9B,KAAb,EAAoB;AAAA;;AAAA,oHACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa;AACXiE,aAAOD,SADI;AAEXyM,aAAO;AAFI,KAAb;AAFkB;AAMnB;;;;mCAEetD,C,EAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,UAAMk7B,MAAMF,GAAGG,KAAH,MAAc,uBAAQn7B,CAAR,MAAe,OAA7B,IAAwCA,EAAEo7B,WAAF,CAAcC,OAAlE;AACA,UAAMC,UAAUN,GAAGO,SAAH,MAAkB,uBAAQv7B,CAAR,MAAe,OAAjC,IAA4CA,EAAEw7B,OAA9D;AACA,UAAMC,QAAQ,CAACT,GAAGU,OAAH,MAAgBV,GAAGW,MAAH,EAAjB,KAAiC,uBAAQ37B,CAAR,MAAe,OAAhD,IAA2DA,EAAEw7B,OAA3E;;AAEA,UAAIN,OAAOI,OAAP,IAAkBG,KAAtB,EAA6B;AAC3Bz7B,UAAE3B,cAAF;AAD2B,qBAEO,KAAKJ,KAFZ;AAAA,YAEnB29B,WAFmB,UAEnBA,WAFmB;AAAA,YAENnP,QAFM,UAENA,QAFM;;AAG3B,YAAMwF,UAAUjyB,EAAEmI,MAAF,CAAS7E,KAAT,CAAeqD,KAAf,CAAqB,IAArB,CAAhB;AACA,YAAMjT,SAAS+4B,YAAYA,SAASwF,OAAT,CAA3B;;AAEA,YAAIv+B,UAAU,CAACA,OAAO4gB,KAAtB,EAA6B;AAC3B,eAAK1V,QAAL,CAAc,EAAE9H,OAAOpD,OAAO2e,OAAhB,EAAd;AACD,SAFD,MAEO;AACLupB,yBAAeA,YAAY3J,OAAZ,CAAf;AACA,eAAKrzB,QAAL,CAAc,EAAE0E,OAAO,EAAT,EAAaxM,OAAOD,SAApB,EAAd;AACD;AACF;AACF;;;+BAEWsR,M,EAAQ;AAAA,UACV0zB,WADU,GACM,KAAK59B,KADX,CACV49B,WADU;;AAElBA,qBAAeA,YAAY1zB,MAAZ,CAAf;AACA,UAAM7E,QAAQ,6BAAIzG,MAAMw6B,KAAN,CAAY,KAAKxkC,KAAL,CAAWyQ,KAAX,CAAiBqD,KAAjB,CAAuB,IAAvB,CAAZ,CAAJ,IAA+CwB,MAA/C,GAAuDuW,IAAvD,CAA4D,IAA5D,CAAd;AACA,WAAK9f,QAAL,CAAc,EAAE0E,YAAF,EAASxM,OAAOD,SAAhB,EAAd;AACD;;;6BAES;AAAA;;AAAA,oBAC8D,KAAKoH,KADnE;AAAA,UACAi8B,MADA,WACAA,MADA;AAAA,UACQpnB,KADR,WACQA,KADR;AAAA,UACe+oB,WADf,WACeA,WADf;AAAA,UAC4BC,WAD5B,WAC4BA,WAD5B;AAAA,UACyCC,UADzC,WACyCA,UADzC;AAAA,UACqD7nC,IADrD,WACqDA,IADrD;;;AAGR,aACE;AAAA;AAAA,UAAK,WAAU,WAAf;AACG6nC,kBADH;AAEE;AAAA;AAAA,YAAK,WAAU,eAAf;AACE;AAAA;AAAA,cAAK,WAAU,eAAf;AACE;AAAA;AAAA,gBAAK,WAAU,YAAf;AACGjpB,uBACC;AAAA;AAAA;AACE,yBAAO,EAAE9I,QAAQ,SAAV,EADT;AAEE,6BAAU,cAFZ;AAGE,2BAAQ;AAHV;AAKG8I,qBALH;AAMI,qBAAKjgB,KAAL,CAAWiE,KAAX,IAAoB;AAAA;AAAA,oBAAM,WAAU,KAAhB;AAAA;AAA0B,uBAAKjE,KAAL,CAAWiE;AAArC;AANxB,eAFJ;AAWE;AACE,qBAAI,QADN;AAEE,oBAAG,eAFL;AAGE,sBAAK,MAHP;AAIE,sBAAK,GAJP;AAKE,6BACE5C,KAAK6B,aAAL,CAAmB;AACjBvB,sBAAI,sDADa;AAEjBwB,kCACE,gDACA,2CADA,GAEA,6CAFA,GAGA,yCAHA,GAIA,yCAJA,GAKA;AARe,iBAAnB,CANJ;AAkBE,2BAAW,0BAAW,+BAAX,EAA4C4Q,OAAOo1B,QAAnD,CAlBb;AAmBE,uBAAO,KAAKnpC,KAAL,CAAWyQ,KAnBpB;AAoBE,0BAAU,kBAACtD,CAAD;AAAA,yBAAO,OAAKpB,QAAL,CAAc,EAAE0E,OAAOtD,EAAEmI,MAAF,CAAS7E,KAAlB,EAAd,CAAP;AAAA,iBApBZ;AAqBE,2BAAa,KAAK24B,cAAlB,MAAa,IAAb;AArBF;AAXF;AADF,WADF;AAuCE;AAAA;AAAA,cAAK,WAAU,eAAf;AACGp/B,kBAAMw6B,KAAN,CAAY6C,MAAZ,EAAoBx6B,MAApB,GAA6B,CAA7B,IACC;AAAA;AAAA,gBAAK,WAAU,YAAf;AACE;AAAA;AAAA,kBAAO,WAAU,cAAjB;AACE;AACE,sBAAG,0CADL;AAEE,kCAAe,oCAFjB;AAGE,0BAAQ,EAAEy3B,cAAcC,OAAOv6B,MAAMw6B,KAAN,CAAY6C,MAAZ,EAAoBx6B,MAA3B,CAAhB;AAHV;AADF,eADF;AAQE;AACE,sBAAMw6B,MADR;AAEE,yBAAW,KAAKgC,UAAhB,MAAW,IAAX,CAFF;AAGE,0BAAUL;AAHZ,gBARF;AAaE;AAAA;AAAA,kBAAK,WAAWj1B,OAAOu1B,OAAvB;AACE;AAAA;AAAA;AACE,0BAAK,QADP;AAEE,+BAAWv1B,OAAOw1B,YAFpB;AAGE,6BAASN,WAHX;AAIE,8BAAU,CAACj/B,MAAMw6B,KAAN,CAAY6C,MAAZ,EAAoBx6B;AAJjC;AAME,uDAAG,WAAU,iBAAb,GANF;AAOE;AACE,wBAAG,iDADL;AAEE,oCAAe;AAFjB;AAPF;AADF;AAbF;AAFJ;AAvCF;AAFF,OADF;AA6ED;;;;;;AAGHu7B,SAASv/B,SAAT,GAAqB;AACnBoX,SAAO,oBAAUjX,MADE;AAEnBq+B,UAAQ,oBAAU1C,OAAV,CAAkB,oBAAU37B,MAA5B,EAAoCD,UAFzB;AAGnB6wB,YAAU,oBAAU9vB,IAHD;AAInBi/B,eAAa,oBAAUj/B,IAAV,CAAef,UAJT;AAKnBigC,eAAa,oBAAUl/B,IAAV,CAAef,UALT;AAMnBkgC,eAAa,oBAAUn/B,IAAV,CAAef,UANT;AAOnBmgC,cAAY,oBAAUrjB,IAAV,CAAe9c,UAPR;AAQnB1H,QAAM,qBAAU0H;AARG,CAArB;;kBAWe,2BAAWq/B,QAAX,C;;;;;;;ACnJf;AACA,kBAAkB,mH;;;;;;;;;;;;;;ACDlB;;;;AACA;;;;;;AAEA,IAAIr0B,SAAS,mBAAAgB,CAAQ,OAAR,EAAiBC,SAAjB,GAA6B,mBAAAD,CAAA,6CAAAA,CAA7B,GAAqD,EAAlE;;AAEA,IAAMy0B,MAAM,SAANA,GAAM,OAAkC;AAAA,MAA/B/4B,KAA+B,QAA/BA,KAA+B;AAAA,MAAxBpF,OAAwB,QAAxBA,OAAwB;AAAA,MAAf45B,QAAe,QAAfA,QAAe;;AAC5C,MAAMwE,YAAYp+B,WAAW,OAAOA,OAAP,KAAmB,UAAhD;AACA,MAAMq+B,YAAYzE,YAAY,OAAOA,QAAP,KAAoB,UAAlD;;AAEA,SACE;AAAA;AAAA;AACE,iBAAWlxB,OAAOixB,GADpB;AAEE,aAAO,EAAE7tB,QAAQsyB,YAAY,SAAZ,GAAwB,IAAlC;AAFT;AAIE;AAAA;AAAA;AACE,mBAAYC,YAAY,KAAZ,GAAoB,IADlC;AAEE,iBAAUD,YAAY;AAAA,iBAAMp+B,QAAQoF,KAAR,CAAN;AAAA,SAAZ,GAAmC;AAF/C;AAIGA;AAJH,KAJF;AAUIi5B,gBAAY,qCAAG,WAAU,aAAb,EAA2B,SAAS;AAAA,eAAMzE,SAASx0B,KAAT,CAAN;AAAA,OAApC,GAAZ,GAA4E;AAVhF,GADF;AAcD,CAlBD;;AAoBA+4B,IAAI3gC,SAAJ,GAAgB;AACd4H,SAAO,oBAAUzH,MAAV,CAAiBD,UADV;AAEdsC,WAAS,oBAAUvB,IAFL;AAGdm7B,YAAU,oBAAUn7B;AAHN,CAAhB;;kBAMe0/B,G;;;;;;;AC/Bf;AACA,kBAAkB,+B;;;;;;;;;;;;;;;;ACDlB;;;;AACA;;;;;;;;;;;;AAEA;AACA,IAAI,mBAAAz0B,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,8DAAAA;;IAE1B40B,a;;;AACJ,yBAAav+B,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,8HACrBT,KADqB;;AAE3B,UAAKS,OAAL,GAAeA,OAAf;AACA,UAAK7L,KAAL,GAAa,EAAEu5B,cAAc,KAAhB,EAAb;AAH2B;AAI5B;;;;qCAEiBpsB,C,EAAG;AACnB,UAAIA,CAAJ,EAAOA,EAAE3B,cAAF;AACP,WAAKO,QAAL,CAAc,EAAEwtB,cAAc,IAAhB,EAAd;AACD;;;qCAEiBpsB,C,EAAG;AACnB,UAAIA,CAAJ,EAAOA,EAAE3B,cAAF;AACP,WAAKO,QAAL,CAAc,EAAEwtB,cAAc,KAAhB,EAAd;AACD;;;6BAES;AAAA,mBACsC,KAAKnuB,KAD3C;AAAA,UACAO,QADA,UACAA,QADA;AAAA,UACUwc,QADV,UACUA,QADV;AAAA,UACoB9c,OADpB,UACoBA,OADpB;AAAA,UAC6BqB,IAD7B,UAC6BA,IAD7B;;AAER,aACE;AAAA;AAAA,UAAK,WAAU,UAAf;AACE,iBAAOyb,WAAW,EAAEhR,QAAQ,SAAV,EAAX,GAAmC,IAD5C;AAEE,wBAAgB,KAAKyyB,gBAArB,MAAgB,IAAhB,CAFF;AAGE,wBAAgB,KAAKC,gBAArB,MAAgB,IAAhB,CAHF;AAIE,mBAASx+B;AAJX;AAMGM,gBANH;AAQI,SAACwc,QAAD,IAAa,CAAC,KAAKnoB,KAAL,CAAWu5B,YAAzB,GAAwC,IAAxC,GACE;AAAA;AAAA,YAAK,WAAU,wDAAf;AACE;AAAA;AAAA,cAAK,WAAU,iCAAf;AACE;AAAA;AAAA,gBAAK,WAAU,+BAAf;AACG7sB,sBAAQ;AADX;AADF;AADF;AATN,OADF;AAqBD;;;;;;AAGHi9B,cAAc9gC,SAAd,GAA0B;AACxBsf,YAAU,oBAAUte,IAAV,CAAed,UADD;AAExB4C,YAAU,oBAAU5B,SAAV,CAAoB,CAC5B,oBAAUd,MADkB,EAE5B,oBAAUe,KAFkB,CAApB,EAGPjB,UALqB;AAMxBsC,WAAS,oBAAUvB,IANK;AAOxB4C,QAAM,oBAAU1D;AAPQ,CAA1B;;AAUA2gC,cAAcnhC,YAAd,GAA6B;AAC3B2f,YAAU;AADiB,CAA7B;;kBAIewhB,a;;;;;;;AC/Df,yC;;;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;;;;;;;;;;;;;;;ACFA;;;;;;;;IAEMG,e;AACJ,6BAAe;AAAA;;AACb,SAAKC,WAAL,GAAmB,EAAEC,UAAU,YAAZ,EAA0B/pC,QAAQ,wBAAlC,EAAnB;AACA,SAAKgqC,UAAL,GAAkB,EAAED,UAAU,YAAZ,EAA0B/pC,QAAQ,0BAAlC,EAAlB;;AAEA,SAAKiqC,gBAAL,GAAwB,EAAEF,UAAU,QAAZ,EAAsB/pC,QAAQ,gBAA9B,EAAxB;AACA,SAAKkqC,iBAAL,GAAyB,EAAEH,UAAU,QAAZ,EAAsB/pC,QAAQ,wBAA9B,EAAzB;;AAEA,SAAKmqC,eAAL,GAAuB,EAAEJ,UAAU,SAAZ,EAAuB/pC,QAAQ,wBAA/B,EAAvB;AACA,SAAKoqC,cAAL,GAAsB,EAAEL,UAAU,SAAZ,EAAuB/pC,QAAQ,0BAA/B,EAAtB;;AAEA,SAAKqqC,aAAL,GAAqB,EAAEN,UAAU,eAAZ,EAA6B/pC,QAAQ,kBAArC,EAArB;AACD;;;;8BACUsL,K,EAAO;AAChB,aAAO,kBAAQA,KAAR,CAAcA,KAAd,CAAP;AACD;;;mCAEe;AACd,aAAO,KAAKg/B,SAAL,CAAe,KAAKR,WAApB,CAAP;AACD;;;oCAEgB;AACf,aAAO,KAAKQ,SAAL,CAAe,KAAKN,UAApB,CAAP;AACD;;;uCAEmB;AAClB,aAAO,KAAKM,SAAL,CAAe,KAAKL,gBAApB,CAAP;AACD;;;0CAEsBz5B,K,EAAO;AAC5B,aAAO,KAAK85B,SAAL,cAAmB,KAAKJ,iBAAxB,IAA2ClqB,OAAOxP,KAAlD,IAAP;AACD;;;uCAEmB;AAClB,aAAO,KAAK85B,SAAL,CAAe,KAAKH,eAApB,CAAP;AACD;;;wCAEoB;AACnB,aAAO,KAAKG,SAAL,CAAe,KAAKF,cAApB,CAAP;AACD;;;iCAEa3wB,M,EAAQhN,I,EAAM;AAC1B,UAAI89B,mBAAW,KAAKF,aAAhB,CAAJ;AACAE,UAAIvqC,MAAJ,GAAauqC,IAAIvqC,MAAJ,GAAayZ,MAA1B;AACA8wB,UAAIvqB,KAAJ,GAAYvT,IAAZ;AACA,aAAO,KAAK69B,SAAL,CAAeC,GAAf,CAAP;AACD;;;;;;kBAGY,IAAIV,eAAJ,E;;;;;;;;;;;;;;;ACnDf;;IAAYpD,S;;;;AAEL,IAAMnH,oDAAsB,OAA5B;AACA,IAAMT,oDAAsB,OAA5B;AACA,IAAM1sB,4BAAU,SAAVA,OAAU,GAAkB;AAAA,MAAjBgtB,OAAiB,uEAAP,EAAO;;AACvC,MAAIA,QAAQvyB,MAAZ,EAAoB;AAClB,QAAI65B,UAAU+D,kBAAV,CAA6BrL,QAAQ,CAAR,CAA7B,CAAJ,EAA8C,OAAOG,mBAAP;AAC9C,QAAImH,UAAUgE,kBAAV,CAA6BtL,QAAQ,CAAR,CAA7B,CAAJ,EAA8C,OAAON,mBAAP;AAC9C,WAAO,SAAP;AACD;AACF,CANM,C;;;;;;;ACJP,yC;;;;;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;IAAY6L,kB;;AACZ;;;;;;;;;;;;AAEA,IAAI,mBAAA51B,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,+CAAAA;;kBAEjB,gBAGT;AAAA,MAFiBuxB,mBAEjB,QAFJrR,mBAEI;AAAA,MADSuD,mBACT,QADJtD,WACI;;AAAA,MACEF,QADF;AAAA;;AAEF,sBAAa5pB,KAAb,EAAoBS,OAApB,EAA6B;AAAA;;AAAA,sHACrBT,KADqB,EACdS,OADc;;AAE3B,YAAK7L,KAAL,GAAa;AACXu5B,sBAAc,KADH;AAEXnyB,iBAAS,KAFE;AAGXgvB,iBAAS,KAHE;AAIXwU,wBAAgB,CAJL;AAKXC,+BAAuB,WALZ;AAMXhqC,gBAAQ;AANG,OAAb;AAF2B;AAU5B;;AAZC;AAAA;AAAA,0CAcmB;AAAA,YACX8pB,MADW,GACA,KAAKvf,KADL,CACXuf,MADW;;;AAGnB,YAAMmgB,uBACJngB,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBmgB,sBAAnC,GACIpgB,OAAOC,QAAP,CAAgBmgB,sBADpB,GAEI,CAHN;AAKA,aAAKh/B,QAAL,CAAc,EAAE6+B,gBAAgB3Q,OAAO6Q,oBAAP,CAAlB,EAAd;AACD;AAvBC;AAAA;AAAA,gDAyByBl7B,SAzBzB,EAyBoC;AACpC,YAAI,KAAK5P,KAAL,CAAWoH,OAAf,EAAwB;AACtB,eAAK2E,QAAL,CAAc,EAAE3E,SAAS,KAAX,EAAkBgvB,SAAS,IAA3B,EAAd;AACD;AACF;AA7BC;AAAA;AAAA,iDA+B0BoG,CA/B1B,EA+B6B;AAC7B,aAAKzwB,QAAL,CAAc,EAAE8+B,uBAAuBrO,CAAzB,EAAd;AACD;AAjCC;AAAA;AAAA,kDAmC2BA,CAnC3B,EAmC8B;AAC9B,aAAKzwB,QAAL,CAAc,EAAE6+B,gBAAgB3Q,OAAOuC,CAAP,CAAlB,EAAd;AACD;AArCC;AAAA;AAAA,0CAuCmB;AAAA;;AAAA,qBACoC,KAAKpxB,KADzC;AAAA,YACX6d,YADW,UACXA,YADW;AAAA,YACG0B,MADH,UACGA,MADH;AAAA,YACWwK,oBADX,UACWA,oBADX;AAAA,qBAKf,KAAKn1B,KALU;AAAA,YAGDs1B,aAHC,UAGjBsV,cAHiB;AAAA,YAIMrV,mBAJN,UAIjBsV,qBAJiB;;;AAOnB,aAAKz/B,KAAL,CAAWiqB,+BAAX,CAA2C;AACzCpM,oCADyC;AAEzC0B,wBAFyC;AAGzC2K,sCAHyC;AAIzCC,kDAJyC;AAKzCE,sCAA4BN;AALa,SAA3C,EAMG10B,IANH,CAMQ,YAAM;AACZ,iBAAKsL,QAAL,CAAc,EAAEqqB,SAAS,IAAX,EAAd;AACD,SARD;AASD;AAvDC;AAAA;AAAA,wCAyDiBP,SAzDjB,EAyD4B;AAC5B,YAAImV,0BAAJ;AAD4B,sBAE8B,KAAK5/B,KAFnC;AAAA,YAEpB6/B,iBAFoB,WAEpBA,iBAFoB;AAAA,qCAEDtgB,MAFC;AAAA,YAESC,QAFT,kBAESA,QAFT;AAAA,YAEmBsgB,IAFnB,kBAEmBA,IAFnB;;;AAI5B,YAAMC,YACJ,CAACF,iBAAD,IACA,CAACA,kBAAkBrqC,IADnB,IAEAqqC,kBAAkB7jC,OAHF,GAKdpD,SALc,GAMd2W,KAAKkU,KAAL,CAAWoc,kBAAkBrqC,IAA7B,CANJ;;AAQA,YAAIgqB,YAAYA,SAASwgB,eAAzB,EAA0C;AACxC,cAAMC,MAAM,IAAI/F,IAAJ,EAAZ;;AADwC,sCAEb1a,SAASwgB,eAAT,CAAyBt3B,KAAzB,CAA+B,GAA/B,CAFa;AAAA;AAAA,cAEjCw3B,GAFiC;AAAA,cAE5BC,KAF4B;AAAA,cAErBC,IAFqB;;AAGxC,cAAMC,WAAW,IAAInG,IAAJ,CAAYkG,IAAZ,SAAoBD,KAApB,SAA6BD,GAA7B,CAAjB;AACAN,8BAAoBU,KAAKC,IAAL,CAAU,CAACF,WAAWJ,GAAZ,KAAoB,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArC,CAAV,CAApB;AACD;;AAED,YAAMjgC,QAAQ;AACZqF,iBAAO,CADK;AAEZm7B,wBAAc,EAFF;AAGZC,yBAAe,EAHH;AAIZC,2BAAiB,EAJL;AAKZC,4BAAkB;AALN,SAAd;;AAQA,YAAIZ,SAAJ,EAAe;AACb,cAAIA,UAAUa,OAAd,EAAuB;AACrB5gC,kBAAM6gC,cAAN,GACE;AAAA;AAAA;AACE;AAAA;AAAA,kBAAK,OAAO;AACV1jC,2BAAOstB,SADG;AAEVzgB,8BAAU,OAFA;AAGVgC,gCAAY,KAHF;AAIViJ,gCAAY;AAJF,mBAAZ;AAMGsqB,mCAAmBuB,WAAnB,CAA+Bf,UAAUa,OAAzC;AANH,eADF;AASE;AAAA;AAAA,kBAAK,OAAO;AACVzjC,2BAAO,MADG;AAEV8X,gCAAY,MAFF;AAGV8rB,mCAAe,WAHL;AAIVnZ,4BAAQ;AAJE,mBAAZ;AAME;AACE,sBAAG,qDADL;AAEE,kCAAe;AAFjB;AANF;AATF,aADF;AAuBD;AACD,cAAImY,UAAUiB,QAAd,EAAwB;AACtBhhC,kBAAMqF,KAAN,GAAc06B,UAAUiB,QAAxB;AACD;AACD,cAAIjB,UAAUkB,eAAd,EAA+B;AAC7BjhC,kBAAM0gC,eAAN,GACE;AAAA;AAAA,gBAAM,OAAO,EAAEvjC,OAAO,SAAT,EAAb;AACE;AACE,oBAAG,oDADL;AAEE,0MAFF;AAQE,wBAAQ,EAAE+jC,gBAAgBnB,UAAUkB,eAA5B;AARV;AADF,aADF;AAcD;AACF;;AAED,YAAInB,IAAJ,EAAU;AACR9/B,gBAAMmhC,iBAAN,GACE;AAAA;AAAA;AACE;AAAA;AAAA,gBAAM,OAAO,EAAEhkC,OAAO,SAAT,EAAb;AACE;AACE,oBAAG,gDADL;AAEE,gCAAe;AAFjB;AADF,aADF;AAOG,eAPH;AAOQoiC,+BAAmBuB,WAAnB,CAA+BhB,IAA/B;AAPR,WADF;AAWD;AACD,YAAIF,sBAAsBhnC,SAA1B,EAAqC;AACnC,cAAIgnC,sBAAsB,CAA1B,EAA6B;AAC3B5/B,kBAAM2gC,gBAAN,GACE;AACE,kBAAG,yDADL;AAEE,8BAAe;AAFjB,cADF;AAMD,WAPD,MAOO,IAAIf,oBAAoB,CAApB,IAAyBA,oBAAoB,CAAjD,EAAoD;AACzD5/B,kBAAM2gC,gBAAN,GACE;AACE,kBAAG,0DADL;AAEE,8BAAe;AAFjB,cADF;AAMD,WAPM,MAOA,IAAIf,sBAAsB,CAA1B,EAA6B;AAClC5/B,kBAAM2gC,gBAAN,GACE;AACE,kBAAG,0DADL;AAEE,8BAAe;AAFjB,cADF;AAMD,WAPM,MAOA,IAAIf,oBAAoB,CAAxB,EAA2B;AAChC5/B,kBAAM2gC,gBAAN,GACE;AACE,kBAAG,0DADL;AAEE,wMAFF;AAQE,sBAAQ,EAAEf,oCAAF;AARV,cADF;AAYD;;AAED5/B,gBAAM2gC,gBAAN,GACE;AAAA;AAAA,cAAG,OAAO,EAAExjC,OAAOstB,SAAT,EAAV;AACGzqB,kBAAM2gC;AADT,WADF;AAKD;;AAED,eAAO,CAACb,QAAQF,sBAAsBhnC,SAA/B,KACL,qDAAU,WAAW6xB,SAArB,IAAoCzqB,KAApC,EADF;AAGD;AA/LC;AAAA;AAAA,qCAiMc;AAAA,sBAMV,KAAKA,KANK;AAAA,YAEZ0uB,YAFY,WAEZA,YAFY;AAAA,YAGFlP,QAHE,WAGZD,MAHY,CAGFC,QAHE;AAAA,YAIiByG,UAJjB,WAIZpI,YAJY,CAIIqI,WAJJ;AAAA,YAKZjwB,IALY,WAKZA,IALY;AAAA,sBAWV,KAAKrB,KAXK;AAAA,YASIs1B,aATJ,WASZsV,cATY;AAAA,YAUWrV,mBAVX,WAUZsV,qBAVY;;;AAad,YAAM1P,aAAcvQ,YAAYA,SAASqN,WAAtB,IACjB;AACE,cAAG,kDADL;AAEE,0BAAe;AAFjB,UADF;AAMA,YAAM6I,YAAalW,aAAaA,SAASoP,cAAT,IAA2BpP,SAASgW,UAAjD,CAAD,IAChB;AACE,cAAG,iDADL;AAEE,0BAAe;AAFjB,UADF;;AAOA,YAAM4L,iBAAkB5hB,YAAYA,SAAS6hB,eAAtB,IAA0C,CAAjE;AACA,YAAMC,iBAAkB9hB,YAAYA,SAAS+hB,eAAtB,IAA0C,CAAjE;AACA,YAAMC,iBAAkBhiB,YAAYA,SAASiiB,eAAtB,IAA0C,CAAjE;AACA,YAAMC,iBAAkBliB,YAAYA,SAASmiB,eAAtB,IAA0C,CAAjE;AACA,YAAMC,iBAAkBpiB,YAAYA,SAASqiB,eAAtB,IAA0C,CAAjE;AACA,YAAMpX,YAAajL,YAAYA,SAASkL,UAAtB,IAAqC,SAAvD;;AAEA,YAAMJ,cAAe9K,YAAYA,SAAS+K,YAAtB,IAAuC,QAA3D;AACA,YAAMC,kBAAmBhL,YAAYA,SAASgK,gBAAtB,IAA2C,EAAnE;;AAEA,YAAMsY,kBAAkBxX,gBAAgB,QAAhB,IAA4BH,wBAAwB,QAA5E;AACA,YAAM4X,qBAAqB;AACzB,cAAI9rC,KAAK6B,aAAL,CAAmB;AACrBvB,gBAAI,yDADiB;AAErBwB,4BAAgB;AAFK,WAAnB,CADqB;AAKzB,eAAK9B,KAAK6B,aAAL,CAAmB;AACtBvB,gBAAI,4DADkB;AAEtBwB,4BAAgB;AAFM,WAAnB,CALoB;AASzB,eAAK9B,KAAK6B,aAAL,CAAmB;AACtBvB,gBAAI,wDADkB;AAEtBwB,4BAAgB;AAFM,WAAnB;AAToB,SAA3B;AAcA,YAAMiqC,qBAAqBD,mBAAmBvX,eAAnB,CAA3B;AACA,YAAMyX,cAAcH,kBAAkB,EAAlB,GAAuBE,kBAA3C;;AAEA,YAAI,CAACtT,YAAL,EAAmB;AAAA;;AACjB,iBACE;AAAA;AAAA,cAAK,WAAU,0BAAf;AACE;AAAA;AAAA;AACE,2BAAU,yBADZ;AAEE,uBAAO,EAAEzkB,YAAYgc,UAAd,EAA0BnpB,iBAAiB2tB,SAA3C;AAFT;AAIGiL;AAJH,aADF;AAOE,sDAAQ,yBAAyB,EAACxnB;AAAD,eAAjC,GAPF;AAcE;AAAA;AAAA,gBAAK,WAAU,aAAf;AACGoc,8BAAgB,cAAhB,GAAiC;AAAA;AAAA,kBAAK,WAAU,cAAf;AAChC;AAAA;AAAA,oBAAG,MAAK,GAAR,EAAY,SAAW,iBAAK4X,0BAAL,EAAgCp9B,IAAlC,gBAAuC,IAAvC,EAA6C,WAA7C,CAArB;AACE,2BAAOqlB,wBAAwB,WAAxB,GAAsC,EAAChtB,OAAOstB,SAAR,EAAtC,GAA2D,EADpE;AAEE,+BAAWN,wBAAwB,WAAxB,GAAsC,wCAAtC,GAAiF,iCAF9F;AAGE,uDAAG,WAAU,wBAAb,GAHF;AAIE;AACE,wBAAG,qDADL;AAEE,oCAAe,kCAFjB;AAGE,4BAAQ,EAAE6X,sCAAF;AAHV;AAJF,iBADgC;AAWhC;AAAA;AAAA,oBAAG,MAAK,GAAR,EAAY,SAAW,iBAAKE,0BAAL,EAAgCp9B,IAAlC,gBAAuC,IAAvC,EAA6C,QAA7C,CAArB;AACE,2BAAOqlB,wBAAwB,QAAxB,GAAmC,EAAChtB,OAAOstB,SAAR,EAAnC,GAAwD,EADjE;AAEE,+BAAWN,wBAAwB,QAAxB,GAAmC,wCAAnC,GAA8E,iCAF3F;AAGE,uDAAG,WAAU,qBAAb,GAHF;AAIE;AACE,wBAAG,kDADL;AAEE,oCAAe;AAFjB;AAJF;AAXgC,eAAjC,GAoBQ,EArBX;AAuBGiX,gCAAkB,CAAlB,GAAsB,IAAtB,GACC;AAAA;AAAA;AACE,wBAAK,GADP;AAEE,2BAAW,iBAAKe,2BAAL,EAAiCr9B,IAAnC,gBAAwC,IAAxC,EAA8C,CAA9C,CAFX;AAGE,yBAAOolB,kBAAkB,CAAlB,GAAsB,EAAtB,GAA2B,EAAEptB,iBAAiB,KAAKslC,UAAL,CAAgB3X,SAAhB,EAA2B,EAA3B,CAAnB,EAAmDttB,OAAOstB,SAA1D,EAHpC;AAIE,6BAAW,0BAAW,4DAAX,EAAyEP,kBAAkB,CAAlB,GAAsB,QAAtB,GAAiC,aAA1G;AAJb;AAMG,wBAAQkX,cAAR,IAA0B9W,gBAAgB,WAAhB,IAAgCH,wBAAwB,WAAxB,IAAuCG,gBAAgB,QAAvF,GAAmG,IAAnG,GAA0G,EAApI,IAA0I2X;AAN7I,eAxBJ;AAiCGX,gCAAkB,CAAlB,GAAsB,IAAtB,GACC;AAAA;AAAA;AACE,wBAAK,GADP;AAEE,2BAAW,iBAAKa,2BAAL,EAAiCr9B,IAAnC,gBAAwC,IAAxC,EAA8C,CAA9C,CAFX;AAGE,yBAAOolB,kBAAkB,CAAlB,GAAsB,EAAtB,GAA2B,EAAEptB,iBAAiB,KAAKslC,UAAL,CAAgB3X,SAAhB,EAA2B,EAA3B,CAAnB,EAAmDttB,OAAOstB,SAA1D,EAHpC;AAIE,6BAAW,0BAAW,4DAAX,EAAyEP,kBAAkB,CAAlB,GAAsB,QAAtB,GAAiC,aAA1G;AAJb;AAMG,wBAAQoX,cAAR,IAA0BhX,gBAAgB,WAAhB,IAAgCH,wBAAwB,WAAxB,IAAuCG,gBAAgB,QAAvF,GAAmG,IAAnG,GAA0G,EAApI,IAA0I2X;AAN7I,eAlCJ;AA2CGT,gCAAkB,CAAlB,GAAsB,IAAtB,GACC;AAAA;AAAA;AACE,wBAAK,GADP;AAEE,2BAAW,iBAAKW,2BAAL,EAAiCr9B,IAAnC,gBAAwC,IAAxC,EAA8C,CAA9C,CAFX;AAGE,yBAAOolB,kBAAkB,CAAlB,GAAsB,EAAtB,GAA2B,EAAEptB,iBAAiB,KAAKslC,UAAL,CAAgB3X,SAAhB,EAA2B,EAA3B,CAAnB,EAAmDttB,OAAOstB,SAA1D,EAHpC;AAIE,6BAAW,0BAAW,4DAAX,EAAyEP,kBAAkB,CAAlB,GAAsB,QAAtB,GAAiC,aAA1G;AAJb;AAMG,wBAAQsX,cAAR,IAA0BlX,gBAAgB,WAAhB,IAAgCH,wBAAwB,WAAxB,IAAuCG,gBAAgB,QAAvF,GAAmG,IAAnG,GAA0G,EAApI,IAA0I2X;AAN7I,eA5CJ;AAqDGP,gCAAkB,CAAlB,GAAsB,IAAtB,GACC;AAAA;AAAA;AACE,wBAAK,GADP;AAEE,2BAAW,iBAAKS,2BAAL,EAAiCr9B,IAAnC,gBAAwC,IAAxC,EAA8C,CAA9C,CAFX;AAGE,yBAAOolB,kBAAkB,CAAlB,GAAsB,EAAtB,GAA2B,EAAEptB,iBAAiB,KAAKslC,UAAL,CAAgB3X,SAAhB,EAA2B,EAA3B,CAAnB,EAAmDttB,OAAOstB,SAA1D,EAHpC;AAIE,6BAAW,0BAAW,4DAAX,EAAyEP,kBAAkB,CAAlB,GAAsB,QAAtB,GAAiC,aAA1G;AAJb;AAMG,wBAAQwX,cAAR,IAA0BpX,gBAAgB,WAAhB,IAAgCH,wBAAwB,WAAxB,IAAuCG,gBAAgB,QAAvF,GAAmG,IAAnG,GAA0G,EAApI,IAA0I2X;AAN7I,eAtDJ;AA+DGL,gCAAkB,CAAlB,GAAsB,IAAtB,GACC;AAAA;AAAA;AACE,wBAAK,GADP;AAEE,2BAAW,iBAAKO,2BAAL,EAAiCr9B,IAAnC,gBAAwC,IAAxC,EAA8C,CAA9C,CAFX;AAGE,yBAAOolB,kBAAkB,CAAlB,GAAsB,EAAtB,GAA2B,EAAEptB,iBAAiB,KAAKslC,UAAL,CAAgB3X,SAAhB,EAA2B,EAA3B,CAAnB,EAAmDttB,OAAOstB,SAA1D,EAHpC;AAIE,6BAAW,0BAAW,4DAAX,EAAyEP,kBAAkB,CAAlB,GAAsB,QAAtB,GAAiC,aAA1G;AAJb;AAMG,wBAAQ0X,cAAR,IAA0BtX,gBAAgB,WAAhB,IAAgCH,wBAAwB,WAAxB,IAAuCG,gBAAgB,QAAvF,GAAmG,IAAnG,GAA0G,EAApI,IAA0I2X;AAN7I,eAhEJ;AA0EE;AAAA;AAAA;AACE,wBAAK,GADP;AAEE,2BAAW,KAAKI,iBAAhB,MAAW,IAAX,CAFF;AAGE,yBAAO,EAAEvlC,iBAAiB2tB,SAAnB,EAHT;AAIE,6BAAU;AAJZ;AAMGsF;AANH;AA1EF,aAdF;AAkGE;AAAA;AAAA,gBAAK,WAAU,IAAf,EAAoB,OAAO,EAAE0G,WAAW,mCAAb,EAA3B;AACG,mBAAK6L,iBAAL,CAAuB7X,SAAvB;AADH;AAlGF,WADF;AAwGD;AACF;AAjWC;AAAA;AAAA,iCAmWU/X,GAnWV,EAmWeiJ,OAnWf,EAmWwB;AACxBjJ,cAAMA,IAAIlN,OAAJ,CAAY,GAAZ,EAAiB,EAAjB,CAAN;AACA,YAAIM,IAAIy8B,SAAS7vB,IAAI9F,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAAT,EAA8B,EAA9B,CAAR;AACA,YAAI7G,IAAIw8B,SAAS7vB,IAAI9F,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAAT,EAA8B,EAA9B,CAAR;AACA,YAAI5G,IAAIu8B,SAAS7vB,IAAI9F,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAAT,EAA8B,EAA9B,CAAR;;AAEA,YAAI41B,SAAS,UAAU18B,CAAV,GAAc,GAAd,GAAoBC,CAApB,GAAwB,GAAxB,GAA8BC,CAA9B,GAAkC,GAAlC,GAAwC2V,UAAU,GAAlD,GAAwD,GAArE;AACA,eAAO6mB,MAAP;AACD;AA3WC;AAAA;AAAA,mCA6WY;AAAA,sBACuB,KAAKxiC,KAD5B;AAAA,YACJ+c,QADI,WACJA,QADI;AAAA,YACM2R,YADN,WACMA,YADN;;AAEZ,YAAM1xB,YAAY,0BAAW,EAAE,YAAY+f,YAAY,CAAC2R,YAA3B,EAAX,CAAlB;;AAEA,eACE;AAAA;AAAA,YAAK,WAAW1xB,SAAhB;AACG,eAAK2yB,YAAL;AADH,SADF;AAKD;AAtXC;AAAA;AAAA,2CAwXoB;AAAA,sBACa,KAAK3vB,KADlB;AAAA,YACZ6d,YADY,WACZA,YADY;AAAA,YACE0B,MADF,WACEA,MADF;AAAA,YAEqB+P,iBAFrB,GAE6C/P,MAF7C,CAEZC,QAFY,CAEA+P,mBAFA;;;AAIpB,eAAOD,sBAAsB,QAAtB,GACL,8BAAC,mBAAD,IAAqB,QAAQ/P,MAA7B,GADK,GAGL,8BAAC,mBAAD,IAAqB,cAAc1B,YAAnC,EAAiD,QAAQ0B,MAAzD,GAHF;AAKD;AAjYC;AAAA;AAAA,+CAmYwB;AAAA,YACNC,QADM,GACS,KAAKxf,KADd,CAChBuf,MADgB,CACNC,QADM;;AAExB,YAAMiL,YAAajL,YAAYA,SAASkL,UAAtB,IAAqC,SAAvD;;AAEA,eACE;AAAA;AAAA,YAAK,WAAU,UAAf;AACE;AAAA;AAAA;AACE,yBAAU,gCADZ;AAEE,qBAAO,EAAE5tB,iBAAiB2tB,SAAnB;AAFT;AAIE;AACE,kBAAG,sDADL;AAEE,8BAAe;AAFjB;AAJF,WADF;AAUE;AAAA;AAAA,cAAK,OAAO,EAAEgY,WAAW,QAAb,EAAuBtlC,OAAO,MAA9B,EAAsCof,SAAS,QAA/C,EAAZ;AACE;AACE,yBAAU,6BADZ;AAEE,qBAAO,EAAEzf,iBAAiB,SAAnB;AAFT,cADF;AAKE,qDALF;AAOE;AACE,kBAAG,6DADL;AAEE,8BAAe;AAFjB,cAPF;AAWE,qDAXF;AAYE;AACE,kBAAG,6DADL;AAEE,8BAAe;AAFjB,cAZF;AAgBE,qDAhBF;AAkBE;AAAA;AAAA;AACE,yBAAW,KAAKulC,iBAAhB,MAAW,IAAX,CADF;AAEE,uBAAO,EAAEvlC,iBAAiB2tB,SAAnB,EAFT;AAGE,2BAAU;AAHZ;AAKE;AACE,oBAAG,4DADL;AAEE,gCAAe;AAFjB;AALF;AAlBF;AAVF,SADF;AA0CD;AAjbC;AAAA;AAAA,8CAmbuB;AACvB,YAAI,KAAKzqB,KAAL,CAAW+pB,oBAAf,EAAqC,OAAO,KAAK2Y,sBAAL,EAAP,CAArC,KACK,IAAI,KAAK9tC,KAAL,CAAWo2B,OAAf,EAAwB,OAAO,KAAK2X,kBAAL,EAAP,CAAxB,KACA,OAAO,KAAK9S,UAAL,EAAP;AACN;AAvbC;AAAA;AAAA,+BAybQ;AACR,eACE;AAAA;AAAA,YAAK,WAAU,yBAAf;AACG,eAAK+S,qBAAL;AADH,SADF;AAKD;AA/bC;;AAAA;AAAA,IACmB,gBAAMhhC,SADzB;;AAkcJgoB,WAASnsB,SAAT,GAAqB;AACnBogB,kBAAc,oBAAUhgB,MAAV,CAAiBF,UADZ;AAEnB4hB,YAAQ,oBAAU1hB,MAAV,CAAiBF,UAFN;AAGnBof,cAAU,oBAAUte,IAAV,CAAed,UAHN;AAInB+wB,kBAAc,oBAAUjwB,IAJL;AAKnBswB,iBAAa,oBAAUtwB,IALJ;AAMnBwrB,qCAAiC,oBAAUvrB,IANxB;AAOnBzI;AAPmB,GAArB;;AAUA,SAAO2zB,QAAP;AACD,C;;;;;;;;;;;;;;;;;;;oDCzdQtyB,O;;;;;;;;;6CACAA,O;;;;;;;;;;;;;;;;;;ACDT;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;IAAYioC,kB;;;;;;AAEZ,IAAI,mBAAA51B,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,+CAAAA;;AAEhC,IAAMnL,gBAAgB,SAAhBA,aAAgB;AAAA,SAAS,yBAAUrB,KAAV,EAAiB0lC,MAAjB,KAA4B,SAA5B,GAAwC,SAAjD;AAAA,CAAtB;;AAEA,IAAMxlC,WAAW,SAAXA,QAAW;AAAA,MACfL,SADe,QACfA,SADe;AAAA,MAEfqI,KAFe,QAEfA,KAFe;AAAA,MAGfy9B,GAHe,QAGfA,GAHe;AAAA,MAIftC,YAJe,QAIfA,YAJe;AAAA,MAKfK,cALe,QAKfA,cALe;AAAA,MAMfJ,aANe,QAMfA,aANe;AAAA,MAOfC,eAPe,QAOfA,eAPe;AAAA,MAQfS,iBARe,QAQfA,iBARe;AAAA,MASfR,gBATe,QASfA,gBATe;AAAA,MAUfoC,SAVe,QAUfA,SAVe;AAAA,SAYf;AAAA;AAAA,MAAK,WAAW,0BAAW,oBAAX,EAAiC/lC,SAAjC,CAAhB;AACE;AAAA;AAAA,QAAK,WAAU,cAAf;AACGwjC,sBAAgB;AAAA;AAAA,UAAK,WAAU,mBAAf;AAAoCA;AAApC,OADnB;AAEGK,wBAAkB;AAAA;AAAA,UAAK,WAAU,qBAAf;AAAsCA;AAAtC,OAFrB;AAGGJ,uBAAiB;AAAA;AAAA,UAAK,WAAU,oBAAf;AAAqCA;AAArC;AAHpB,KADF;AAOE;AAAA;AAAA,QAAK,WAAU,UAAf,EAA0B,OAAOp7B,KAAjC,EAAwC,KAAKy9B,GAA7C;AACE;AAAA;AAAA,UAAK,WAAU,gBAAf;AACE,iBAAO;AACLhmC,6BAAiBimC,SADZ;AAELvlC,oBAAU6H,QAAQ,GAAR,GAAc,GAAd,GAAoBA,KAA9B;AAFK;AADT;AAMGA,gBAAQ,CAAR,IACC;AAAA;AAAA,YAAM,WAAU,YAAhB,EAA6B,OAAO,EAAElI,OAAOqB,cAAcukC,SAAd,CAAT,EAApC;AACGxD,6BAAmB7hC,MAAnB,CAA0B2H,KAA1B,EAAiCqD,KAAjC,CAAuC,GAAvC,EAA4C,CAA5C,CADH;AAAA;AAAA;AAPJ;AADF,KAPF;AAsBE;AAAA;AAAA,QAAK,WAAU,iBAAf;AACGg4B,yBAAmB;AAAA;AAAA,UAAK,WAAU,sBAAf;AAAuCA;AAAvC,OADtB;AAEGS,2BAAqB;AAAA;AAAA,UAAK,WAAU,wBAAf;AAAyCA;AAAzC,OAFxB;AAGGR,0BAAoB;AAAA;AAAA,UAAK,WAAU,uBAAf;AAAwCA;AAAxC;AAHvB;AAtBF,GAZe;AAAA,CAAjB;;AA0CAtjC,SAASI,SAAT,GAAqB;AACnBT,aAAW,oBAAUY,MADF;AAEnByH,SAAO,oBAAU3H,MAAV,CAAiBslC,SAFL;AAGnBF,OAAK,oBAAUplC,MAHI;AAInB8iC,gBAAc,oBAAU/lB,IAJL;AAKnBgmB,iBAAe,oBAAUhmB,IALN;AAMnBomB,kBAAgB,oBAAUpmB,IANP;AAOnBimB,mBAAiB,oBAAUjmB,IAPR;AAQnBkmB,oBAAkB,oBAAUlmB,IART;AASnB0mB,qBAAmB,oBAAU1mB,IATV;AAUnBsoB,aAAW,oBAAUnlC;AAVF,CAArB;;AAaAP,SAASD,YAAT,GAAwB;AACtB0lC,OAAK,GADiB;AAEtBC,aAAW;AAFW,CAAxB;;kBAKe1lC,Q;;;;;;;ACtEf,yC;;;;;;;ACAA,yC;;;;;;;;;;;;;;ACAA;;AACA;;;;AACA;;AAEA;;;;;;AAEA,IAAMwB,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR;AAAA,SAAmB;AACzCghC,cAAU,yBAAUpsC,KAAV,EAAiBoL,KAAjB,EAAwBijC,iBAAxB,yCAD+B;AAEzCplB,kBAAc,yBAAUjpB,KAAV,EAAiBoL,KAAjB,EAAwB8e,eAAxB;AAF2B,GAAnB;AAAA,CAAxB;;AAKA,IAAMsF,oBAAoB;AACxBb,0CADwB;AAExB2f,4DAFwB;AAGxBlf,gDAHwB;AAIxBmf;AAJwB,CAA1B;;kBAOe,yBAAQtkC,eAAR,EAAyBulB,iBAAzB,kC;;;;;;;;;;;;;;;;;;;AClBf;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;;;;;;;;;;;AAEO,IAAMgf,8CAAmB,SAAzB;;IAED7+B,iB;;;AACJ,6BAAavE,KAAb,EAAoB;AAAA;;AAAA,sIACZA,KADY;;AAElB,UAAKpL,KAAL,GAAa;AACXogB,YAAM;AADK,KAAb;AAFkB;AAKnB;;;;kCAEc7X,K,EAAO;AACpB,WAAK6C,KAAL,CAAW0J,QAAX,CAAoB6F,KAAKC,SAAL,CAAerS,MAAMsH,GAArB,CAApB;AACD;;;6BAES;AAAA;;AACR,aACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,uBAAW,0BAAW,WAAX,EAAwB,EAAE,eAAe,KAAK7P,KAAL,CAAWogB,IAA5B,EAAxB,CADb;AAEE,mBAAO,EAAEsH,QAAQ,MAAV,EAAkBmL,aAAa,qCAA/B,EAFT;AAGE,qBAAS;AAAA,qBAAM,OAAK9mB,QAAL,CAAc,EAAEqU,MAAM,CAAC,OAAKpgB,KAAL,CAAWogB,IAApB,EAAd,CAAN;AAAA;AAHX;AAKE,+CAAG,WAAU,kBAAb;AALF,SADF;AAQE;AAAA;AAAA,YAAK,WAAU,UAAf;AACE;AACE,mBAAO,KAAKhV,KAAL,CAAW7B,KADpB;AAEE,6BAAiB,KAAKvJ,KAAL,CAAWogB,IAF9B;AAGE,mBAAO,KAAKhV,KAAL,CAAW7C,KAHpB;AAIE,2BAAe,KAAKkB,aAAL,CAAmByG,IAAnB,CAAwB,IAAxB;AAJjB;AADF;AARF,OADF;AAmBD;;;;EAhC6B,gBAAMlD,S;;AAmCtC,IAAM2T,OAAO,SAAPA,IAAO,QAAS;AACpB,MAAI1T,MAAMwhC,QAAV,EAAoB;AAClB,QAAI;AACF,UAAM9tB,QAAOhG,KAAKkU,KAAL,CAAW5hB,MAAMwhC,QAAjB,CAAb;AACA,aAAO9tB,KAAP;AACD,KAHD,CAGE,OAAOvf,EAAP,EAAW;AACX;AACD;AACF;AACF,CATD;;AAWA,IAAMstC,wBAAwB,SAAxBA,qBAAwB;AAAA,MAAGzlB,YAAH,QAAGA,YAAH;AAAA,MAAiBhc,KAAjB,QAAiBA,KAAjB;AAAA,MAAwBqhC,kBAAxB,QAAwBA,kBAAxB;AAAA,MAA4ClC,QAA5C,QAA4CA,QAA5C;AAAA,MAAsDmC,YAAtD,QAAsDA,YAAtD;AAAA,MAAoEnf,YAApE,QAAoEA,YAApE;AAAA,MAAkFT,MAAlF,QAAkFA,MAAlF;AAAA,SAC5B;AAAA;AAAA,MAAK,WAAU,6CAAf;AACE;AAAA;AAAA,QAAK,WAAU,gBAAf;AACE,oCAAC,iBAAD;AACE,eAAOhO,KAAK1T,KAAL,CADT;AAEE,eAAOgc,aAAa4G,YAFtB;AAGE,kBAAU,yBAAS;AACjBye,0CAAwBrhC,KAAxB,IAA+BwhC,UAAUlmC,KAAzC;AACD;AALH,QADF;AAQE;AACE,cAAM0E,MAAM0hC,QADd;AAEE,kBAAUvC,QAFZ;AAGE,oBAAY;AAAA,iBAAYmC,aAAaC,gBAAb,EAA+BpC,QAA/B,CAAZ;AAAA,SAHd;AAIE,kBAAU;AAAA,iBAAMkC,gCAAwBrhC,KAAxB,IAA+B0hC,UAAU,EAAzC,IAAN;AAAA,SAJZ;AAKE,kBAAU,wBAAQ;AAChBJ,uBAAaC,gBAAb;AACAF,0CAAuBrhC,KAAvB,IAA8B0hC,UAAUC,IAAxC;AACD;AARH,QARF;AAkBE;AAAA;AAAA,UAAK,WAAU,iCAAf;AACE;AAAA;AAAA;AACE,uBAAU,iDADZ;AAEE,mBAAO,EAAEC,QAAQ,MAAV,EAFT;AAGE,sBAAUzC,aAAapoC,SAHzB;AAIE,qBAAS,mBAAM;AACb2qB,qBAAO1hB,KAAP;AACAmiB,2BAAaniB,KAAb;AACD;AAPH;AASE;AACE,gBAAG,2DADL;AAEE,4BAAe;AAFjB;AATF,SADF;AAeE;AAAA;AAAA;AACE,uBAAU,+CADZ;AAEE,mBAAO,EAAE4hC,QAAQ,MAAV,EAFT;AAGE,qBAAS;AAAA,qBAAMzf,aAAaniB,KAAb,CAAN;AAAA;AAHX;AAKE;AACE,gBAAG,6DADL;AAEE,4BAAe;AAFjB;AALF;AAfF;AAlBF,KADF;AA8CE;AACE,iBAAU,wCADZ;AAEE,aAAO,EAAEN,WAAW,MAAb,EAFT;AAGE,eAAS;AAAA,eAAMyiB,aAAaniB,KAAb,CAAN;AAAA;AAHX;AA9CF,GAD4B;AAAA,CAA9B;;AAuDAyhC,sBAAsB7lC,SAAtB,GAAkC;AAChCoE,SAAO,oBAAUhE,MAAV,CAAiBF,UADQ;AAEhC;AACAkgB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAHC;AAIhC4lB,UAAQ,oBAAU7kB,IAAV,CAAef,UAJS;AAKhCulC,sBAAoB,oBAAUxkC,IALE;AAMhCslB,gBAAc,oBAAUtlB,IANQ;AAOhCykC,gBAAc,oBAAUzkC,IAPQ;AAQhCsiC,YAAU,oBAAUtjC;AARY,CAAlC;;kBAWe4lC,qB;;;;;;;;;;;;;;ACzHf;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMzkC,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR,EAAkB;AACxC,MAAM0kB,YAAY,yBAAU9vB,KAAV,EAAiBoL,KAAjB,CAAlB;AACA,SAAO;AACL0wB,eAAWhM,UAAUgM,SAAV,EADN;AAELC,iBAAajM,UAAUiM,WAAV;AAFR,GAAP;AAID,CAND;;AAQA,IAAMvM,oBAAoB,SAApBA,iBAAoB,CAACrvB,QAAD,EAAWiL,KAAX;AAAA,SAAsB;AAC9C0jC,YAAQ;AAAA,aAAS3uC,SAAS,iCAAY8M,KAAZ,CAAT,CAAT;AAAA,KADsC;AAE9C8hC,cAAU;AAAA,aAAS5uC,SAAS,mCAAc8M,KAAd,CAAT,CAAT;AAAA,KAFoC;AAG9C0hB,YAAQ;AAAA,aAASxuB,SAAS,sCAAiB8M,KAAjB,CAAT,CAAT;AAAA,KAHsC;AAI9CkiB,YAAQ;AAAA,aAAOhvB,SAAS,gCAAWkM,GAAX,CAAT,CAAP;AAAA,KAJsC;AAK9C2iC,aAAS;AAAA,aAAS7uC,SAAS,uCAAkB8M,KAAlB,CAAT,CAAT;AAAA;AALqC,GAAtB;AAAA,CAA1B;;kBAQe,yBAAQhD,eAAR,EAAyBulB,iBAAzB,4B;;;;;;;;;;;;;;;;;ACrBf;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AAEO,IAAMyf,8BAAW,YAAjB;;AAEP,IAAMC,kBAAkB,SAAlBA,eAAkB;AAAA,MACtBjiC,KADsB,QACtBA,KADsB;AAAA,MAEtB0hB,MAFsB,QAEtBA,MAFsB;AAAA,MAGtBqgB,OAHsB,QAGtBA,OAHsB;AAAA,MAItB7f,MAJsB,QAItBA,MAJsB;AAAA,MAKtB2M,SALsB,QAKtBA,SALsB;AAAA,MAMtBgT,MANsB,QAMtBA,MANsB;AAAA,MAOtB/S,WAPsB,QAOtBA,WAPsB;AAAA,MAQtBgT,QARsB,QAQtBA,QARsB;AAAA,MAStBxxB,OATsB,QAStBA,OATsB;AAAA,MAUtBlc,IAVsB,QAUtBA,IAVsB;AAAA,SAYtB;AAAA;AAAA;AACE,wBAAkB,0BAChB,iCADgB,EAEhB,EAAC,gBAAgB,CAACkc,OAAlB,EAFgB,CADpB;AAKE,qBAAc,6CALhB;AAME,uBAAgB,+BANlB;AAOE,YAAK;AAPP;AAWE;AAAA;AAAA;AACE,mBAAU,KADZ;AAEE,iBAAS;AAAA,iBAAM4R,OAAU8f,QAAV,SAAsBhiC,MAAMtL,EAA5B,CAAN;AAAA;AAFX;AAIE;AAAA;AAAA;AACE,6CAAG,WAAU,iBAAb,GADF;AACoC,WADpC;AAEE;AACE,cAAG,gEADL;AAEE,0BAAe;AAFjB;AAFF;AAJF,KAXF;AAuBE;AAAA;AAAA;AACE,mBAAU,KADZ;AAEE,iBAAS;AAAA,iBAAMgtB,oBAAW1hB,KAAX,IAAkB6Z,QAAQ,CAAC7Z,MAAM6Z,MAAjC,IAAN;AAAA;AAFX;AAIE;AAAA;AAAA;AACE,6CAAG,WAAW,0BAAW,IAAX,EAAiB7Z,MAAM6Z,MAAN,GAAe,QAAf,GAA0B,cAA3C,CAAd,GADF;AAC+E,WAD/E;AAEI7Z,cAAM6Z,MAAN,GACE;AACA,cAAG,qEADH;AAEA,0BAAe;AAFf,UADF,GAKE;AACA,cAAG,qEADH;AAEA,0BAAe;AAFf;AAPN;AAJF,KAvBF;AAyCE;AAAA;AAAA;AACE,mBAAU,KADZ;AAEE,iBAAS,mBAAM;AACb,cAAMtH,UAAUne,KAAK6B,aAAL,CAAmB;AACjCvB,gBAAI,6DAD6B;AAEjCwB,4BAAgB;AAFiB,WAAnB,CAAhB;AAIA,cAAII,OAAOmrB,OAAP,CAAelP,OAAf,CAAJ,EAA6BwvB,QAAQ/hC,KAAR;AAC9B;AARH;AAUE;AAAA;AAAA;AACE,6CAAG,WAAU,aAAb,GADF;AACgC,WADhC;AAEE;AACE,cAAG,qDADL;AAEE,0BAAe;AAFjB;AAFF;AAVF,KAzCF;AA2DE;AAAA;AAAA;AACE,mBAAU,KADZ;AAEE,kBAAU,CAAC6uB,SAFb;AAGE,iBAAS;AAAA,iBAAMgT,OAAO7hC,KAAP,CAAN;AAAA;AAHX;AAKE;AAAA;AAAA;AACE,6CAAG,WAAU,kBAAb,GADF;AACqC,WADrC;AAEE;AACE,cAAG,sDADL;AAEE,0BAAe;AAFjB;AAFF;AALF,KA3DF;AAwEE;AAAA;AAAA;AACE,mBAAU,KADZ;AAEE,kBAAU,CAAC8uB,WAFb;AAGE,iBAAS;AAAA,iBAAMgT,SAAS9hC,KAAT,CAAN;AAAA;AAHX;AAKE;AAAA;AAAA;AACE,6CAAG,WAAU,oBAAb,GADF;AACuC,WADvC;AAEE;AACE,cAAG,wDADL;AAEE,0BAAe;AAFjB;AAFF;AALF;AAxEF,GAZsB;AAAA,CAAxB;;AAoGAiiC,gBAAgBrmC,SAAhB,GAA4B;AAC1BoE,SAAO,oBAAUhE,MAAV,CAAiBF,UADE;AAE1BwU,WAAS,oBAAU1T,IAFO;AAG1B;AACAiyB,aAAW,oBAAUjyB,IAJK;AAK1BilC,UAAQ,oBAAUhlC,IALQ;AAM1BiyB,eAAa,oBAAUlyB,IANG;AAO1BklC,YAAU,oBAAUjlC,IAPM;AAQ1B6kB,UAAQ,oBAAU7kB,IARQ;AAS1BqlB,UAAQ,oBAAUrlB,IATQ;AAU1B;AACAzI,QAAM,qBAAU0H;AAXU,CAA5B;;kBAce,2BAAWmmC,eAAX,C;;;;;;;;;;;;;;AC1Hf;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMjlC,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR,EAAkB;AACxC,MAAM0kB,YAAY,yBAAU9vB,KAAV,CAAlB;AACA,SAAO;AACLsvB,aAASQ,UAAUqf,UAAV,EADJ;AAELprC,YAAQ+rB,UAAUsf,cAAV,EAFH;AAGL7V,kBAAczJ,UAAUyJ,YAAV,yBAAwCnuB,MAAM6B,KAAN,CAAYtL,EAApD;AAHT,GAAP;AAKD,CAPD;;AASA,IAAM6tB,oBAAoB;AACxB6f,8CADwB;AAExBC,4CAFwB;AAGxBlgB;AAHwB,CAA1B;;kBAMe,yBAAQnlB,eAAR,EAAyBulB,iBAAzB,kB;;;;;;;;;;;;;;;ACpBf;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;AAEO,IAAM+f,4CAAkB,OAAxB;;AAEP,IAAMC,qBAAqB,SAArBA,kBAAqB,QAAS;AAClC,MAAIviC,MAAM0hC,QAAV,EAAoB,OAAO,EAAEc,uBAAoBxiC,MAAM0hC,QAA1B,kBAAF,EAAoDe,gBAAgB,OAApE,EAAP,CAApB,KACK,IAAIziC,MAAMwhC,QAAV,EAAoB;AACvB,QAAI;AACF,UAAM9tB,OAAOhG,KAAKkU,KAAL,CAAW5hB,MAAMwhC,QAAjB,CAAb;AACA,aAAO;AACLvmC,mCAAyByY,KAAKzP,CAA9B,SAAmCyP,KAAKxP,CAAxC,SAA6CwP,KAAKvP,CAAlD,SAAuDuP,KAAKtP,CAA5D;AADK,OAAP;AAGD,KALD,CAKE,OAAOjQ,EAAP,EAAW;AACX;AACD;AACF;AACF,CAZD;;AAcA,IAAMuuC,QAAQ,SAARA,KAAQ;AAAA,MAAG1iC,KAAH,QAAGA,KAAH;AAAA,MAAU2iC,OAAV,QAAUA,OAAV;AAAA,MAAmBznB,QAAnB,QAAmBA,QAAnB;AAAA,MAA6BoR,YAA7B,QAA6BA,YAA7B;AAAA,MAA2C8V,WAA3C,QAA2CA,WAA3C;AAAA,MAAwDC,UAAxD,QAAwDA,UAAxD;AAAA,MAAoElgB,YAApE,QAAoEA,YAApE;AAAA,MAAkFE,OAAlF,QAAkFA,OAAlF;AAAA,MAA2FvrB,MAA3F,QAA2FA,MAA3F;AAAA,MAAmG8rC,OAAnG,QAAmGA,OAAnG;AAAA,SACZ;AAAA;AAAA;AACE,qBAAa5iC,MAAMtL,EADrB;AAEE,oBAAc,wBAAM;AAClB,YAAIwmB,YAAY,CAACmH,OAAjB,EAA0B+f,YAAYE,eAAZ,EAA6BtiC,MAAMtL,EAAnC;AAC3B,OAJH;AAKE,oBAAc,wBAAM;AAClB,YAAIwmB,YAAY,CAACmH,OAAjB,EAA0BggB,WAAWC,eAAX;AAC3B,OAPH;AAQE,eAAS,sBAAO;AACd;AACA,YAAI/E,IAAIzhB,OAAJ,KAAgB,EAApB,EAAwB;AACtBqG,uBAAaniB,KAAb;AACD;AACF,OAbH;AAcE,iBAAWA,MAAMwhC,QAAN,IAAkBxhC,MAAMwhC,QAAN,CAAe96B,OAAf,CAAuB,GAAvB,MAAgC,CAAC,CAAnD,GAAuD1G,MAAMwhC,QAA7D,GAAwEzqC,SAdrF;AAeE,aAAOwrC,mBAAmBviC,KAAnB;AAfT;AAiBE;AAAA;AAAA,QAAK,WAAU,gBAAf;AACGqiB,qDAA2BriB,MAAMtL,EAAjC,GAAwC,iEAAuB,OAAOsL,KAA9B,GAAxC,GAAkF,IADrF;AAEE;AAAA;AAAA,UAAK,WAAU,kBAAf,EAAkC,OAAO,EAAE0a,SAAS,OAAX,EAAzC;AACGioB,mBAAWA,QAAQnoC,GAAR,CAAY;AAAA,iBACtB;AACE,6BAAekjB,OAAOhpB,EADxB;AAEE,oBAAQgpB,MAFV;AAGE,mBAAO1d,KAHT;AAIE,sBAAUkb,QAJZ;AAKE,qBAAS0nB;AALX,YADsB;AAAA,SAAZ;AADd,OAFF;AAaG5iC,YAAM6Z,MAAN,IACC;AAAA;AAAA,UAAK,WAAU,UAAf;AACE;AAAA;AAAA,YAAK,WAAU,0EAAf;AACE,+CAAG,WAAU,qBAAb,GADF;AACwC,aADxC;AAEE;AACE,gBAAG,wCADL;AAEE,4BAAe;AAFjB;AAFF;AADF,OAdJ;AAwBE;AAAA;AAAA,UAAK,WAAU,UAAf;AACE;AACE,iBAAO7Z,KADT;AAEE,mBAAS2iC,OAFX;AAGE,mBAASznB,YAAYoR,YAAZ,IAA4B,CAACjK,OAA7B,IAAwC,CAACvrB;AAHpD;AADF;AAxBF;AAjBF,GADY;AAAA,CAAd;;AAqDA4rC,MAAM9mC,SAAN,GAAkB;AAChBoE,SAAO,oBAAUhE,MAAV,CAAiBF,UADR;AAEhB6mC,WAAS,oBAAU5lC,KAAV,CAAgBjB,UAFT;AAGhBof,YAAU,oBAAUte,IAHJ;AAIhB;AACA0vB,gBAAc,oBAAU1vB,IALR;AAMhBwlC,eAAa,oBAAUvlC,IANP;AAOhBwlC,cAAY,oBAAUxlC,IAPN;AAQhBslB,gBAAc,oBAAUtlB,IARR;AAShBwlB,WAAS,oBAAUtmB,MATH;AAUhBjF,UAAQ,oBAAU8F;AAVF,CAAlB;;kBAae8lC,K;;;;;;;;;;;;;;AC1Ff;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMG,eAAe,SAAfA,YAAe;AAAA,MAAGlB,IAAH,QAAGA,IAAH;AAAA,MAAS3J,QAAT,QAASA,QAAT;AAAA,MAAmBmH,QAAnB,QAAmBA,QAAnB;AAAA,MAA6B1nB,WAA7B,QAA6BA,UAA7B;AAAA,MAAyCE,SAAzC,QAAyCA,QAAzC;AAAA,SACnB;AAAA;AAAA,MAAK,WAAU,oBAAf;AACGgqB,YACC;AAAA;AAAA,QAAK,WAAU,KAAf;AACE,6CAAK,KAAKA,IAAV,EAAgB,OAAO,EAAEmB,WAAW,MAAb,EAAvB,GADF;AAEG9K,kBACC;AAAA;AAAA;AACE,qBAAU,sCADZ;AAEE,iBAAO,EAAEjS,QAAQ,cAAV,EAFT;AAGE,mBAAS,mBAAM;AACb,gBAAIzvB,OAAOmrB,OAAP,CAAe,mCAAf,CAAJ,EAAyD;AACvDuW,uBAAS2J,IAAT;AACD;AACF;AAPH;AASE,6CAAG,WAAU,aAAb;AATF;AAHJ,KAFJ;AAkBE;AAAA;AAAA,QAAK,WAAU,KAAf;AACG,OAACxC,QAAD,GACC;AACE,mBAAU,wCADZ;AAEE,gBAAO,SAFT;AAGE,oBAAe,iBAAoB9Z,MAAnC,aAHF;AAIE,oBAAY;AAAA,iBAAW5N,YAAW/b,OAAX,CAAX;AAAA,SAJd;AAKE,kBAAU,yBAAS;AACjB,cAAMqnC,MAAMp4B,MAAMG,SAAN,CAAgBC,SAAhB,CAA0B,CAA1B,EAA6BJ,MAAMG,SAAN,CAAgBpE,OAAhB,CAAwB,GAAxB,CAA7B,CAAZ;AACAiR,oBAASorB,GAAT;AACD;AARH,QADD,GAYD;AACE,mBAAU,gCADZ;AAEE,iBAAS5D,QAFX;AAGE,eAAO,EAAE1kB,QAAQ,MAAV;AAHT;AAbF;AAlBF,GADmB;AAAA,CAArB;;AA0CAooB,aAAajnC,SAAb,GAAyB;AACvB+lC,QAAM,oBAAU5lC,MADO;AAEvBi8B,YAAU,oBAAUn7B,IAFG;AAGvBsiC,YAAU,oBAAUtjC,MAHG;AAIvB4b,cAAY,oBAAU5a,IAJC;AAKvB8a,YAAU,oBAAU9a;AALG,CAAzB;;kBAQegmC,Y;;;;;;;;;;;;;;;;;;;2CCxDNptC,O;;;;;;;;;kDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;;;;;;;;;;ACHT;;AACA;;AACA;;AACA;;;;AAEA;;;;;;AAEA,IAAMuH,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR,EAAkB;AACxC,MAAM0kB,YAAY,yBAAU9vB,KAAV,EAAiBoL,KAAjB,CAAlB;AACA,MAAMkkB,UAAUQ,UAAUqf,UAAV,EAAhB;AACA,SAAO;AACLlmB,kBAAc6G,UAAU5F,eAAV,MAA+B4F,UAAUmgB,gBAAV,GAA6B,CAA7B,CADxC;AAELC,YAAQpgB,UAAUqgB,SAAV,EAFH;AAGLP,aAAS9f,UAAUsgB,UAAV,EAHJ;AAILC,sBAAkB/gB,UAAUA,QAAQ3b,OAAR,gCAA8B,CAAC,CAAzC,GAA6C;AAJ1D,GAAP;AAMD,CATD;;AAWA,IAAM6b,oBAAoB;AACxBnI;AADwB,CAA1B;;kBAIe,yBAAQpd,eAAR,EAAyBulB,iBAAzB,yB;;;;;;;;;;;;;;;;;;ACtBf;;;;AACA;;;;AACA;;AACA;;;;AAEA;;;;AACA;;;;AACA;;IAAY+I,K;;AACZ;;;;;;;;;;;;;;;;AAEA,IAAI,mBAAAxjB,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,2CAAAA;;IAE1Bu7B,Y;;;AACJ,wBAAallC,KAAb,EAAoB;AAAA;;AAAA,4HACZA,KADY;;AAAA,QAGV+c,QAHU,GAGW/c,KAHX,CAGV+c,QAHU;AAAA,QAGA+nB,MAHA,GAGW9kC,KAHX,CAGA8kC,MAHA;;;AAKlB,UAAKlwC,KAAL,GAAa;AACXkwC,cAAQA,OAAOroC,MAAP,CAAc;AAAA,eAAS,CAACsgB,QAAD,GAAY,CAAClb,MAAM6Z,MAAnB,GAA4B,IAArC;AAAA,OAAd;AADG,KAAb;AALkB;AAQnB;;;;8CAE0B1b,K,EAAO;AAChC,UAAI,KAAKA,KAAL,CAAW8kC,MAAX,KAAsB9kC,MAAM8kC,MAAhC,EAAwC;AAAA,YAC9B/nB,QAD8B,GACT/c,KADS,CAC9B+c,QAD8B;AAAA,YACpB+nB,MADoB,GACT9kC,KADS,CACpB8kC,MADoB;;;AAGtC,aAAKnkC,QAAL,CAAc;AACZmkC,kBAAQA,OAAOroC,MAAP,CAAc;AAAA,mBAAS,CAACsgB,QAAD,GAAY,CAAClb,MAAM6Z,MAAnB,GAA4B,IAArC;AAAA,WAAd;AADI,SAAd;AAGD;AACF;;;wCAEoB;AAAA;;AAAA,mBACwC,KAAK1b,KAD7C;AAAA,UACX+c,QADW,UACXA,QADW;AAAA,UACDc,YADC,UACDA,YADC;AAAA,UACainB,MADb,UACaA,MADb;AAAA,UACqBK,cADrB,UACqBA,cADrB;;AAEnB,UAAIpoB,YAAYooB,cAAZ,IAA8BL,OAAOrjC,MAAP,KAAkB,CAApD,EAAuD;AACrD,aAAKzB,KAAL,CAAWykC,OAAX,CAAmBngC,IAAnB,CAAwB6oB,MAAM5K,2BAAN,CAAkC1E,YAAlC,CAAxB;AACD;;AAED,UAAI,mBAAAlU,CAAQ,OAAR,EAAiBC,SAArB,EAAgC;AAC9B,YAAIw7B,oBAAoB,CAAxB;AACA,YAAMC,sBAAsB,EAA5B;;AAEA;AACA,aAAKzwC,KAAL,CAAWkwC,MAAX,CAAkBzoC,GAAlB,CAAsB,UAACwF,KAAD,EAAQd,KAAR,EAAkB;AAAA,sCACF6S,SAAS0xB,aAAT,aAAiCzjC,MAAMtL,EAAvC,CADE;AAAA,cAC9BgvC,SAD8B,yBAC9BA,SAD8B;AAAA,cACnBC,YADmB,yBACnBA,YADmB;;AAEtC,cAAMtW,mBAAmBnuB,UAAU,CAAnC;;AAEAskC,8BAAoB/gC,IAApB,cAA8BzC,KAA9B,IAAqC0jC,oBAArC,EAAgDrW,kCAAhD;AACAkW,+BAAqBI,YAArB;AACD,SAND;AAOA,aAAK7kC,QAAL,CAAc,EAAEmkC,QAAQO,mBAAV,EAAd;;AAEA;AACAzxB,iBAAS0xB,aAAT,CAAuB,cAAvB,EAAuCG,QAAvC,GAAkD,gBAAgB;AAAA,cAAbv7B,MAAa,QAAbA,MAAa;;AAChE;AACA;AACA;AACA;AACA,iBAAKtV,KAAL,CAAWkwC,MAAX,CAAkBzoC,GAAlB,CAAsB,iBAAS;AAC7B,gBAAMqpC,eAAgBx7B,OAAOmR,SAAP,GAAmB,GAApB,IAA4BxZ,MAAM0jC,SAAvD;;AAEA,gBAAIG,gBAAgB,CAAC7jC,MAAMqtB,gBAA3B,EAA6C;AAC3C,qBAAKyW,WAAL,CAAiB9jC,KAAjB,EAAwB,EAAEqtB,kBAAkB,IAApB,EAAxB;AACD;AACF,WAND;;AAQA;AACA;AACA;AACA;AACA;AACA,cAAM0W,iBAAiB17B,OAAOmR,SAAP,GAAmBnR,OAAOs7B,YAAjD;AACA,cAAMK,WAAWD,kBAAkBR,iBAAnC;AACA,cAAMU,YAAY,OAAKlxC,KAAL,CAAWkwC,MAAX,CAAkB5hB,KAAlB,CAAwB,CAAC,CAAzB,EAA4B,CAA5B,CAAlB;;AAEA,cAAI2iB,YAAY,CAACC,UAAU5W,gBAA3B,EAA6C;AAC3C,mBAAKyW,WAAL,CAAiBG,SAAjB,EAA4B,EAAE5W,kBAAkB,IAApB,EAA5B;AACD;AACF,SAzBD;AA0BD;AACF;;;gCAEYrtB,K,EAAOkkC,Q,EAAU;AAAA,UACpBjB,MADoB,GACT,KAAKlwC,KADI,CACpBkwC,MADoB;;AAE5B,UAAM/jC,QAAQ+jC,OAAO7hB,SAAP,CAAiB;AAAA,eAAgB/S,aAAa3Z,EAAb,KAAoBsL,MAAMtL,EAA1C;AAAA,OAAjB,CAAd;;AAEA,WAAKoK,QAAL,CAAc;AACZmkC,6CACKA,OAAO5hB,KAAP,CAAa,CAAb,EAAgBniB,KAAhB,CADL,iBAEO+jC,OAAO/jC,KAAP,CAFP,EAEyBglC,QAFzB,uBAGK,KAAKnxC,KAAL,CAAWkwC,MAAX,CAAkB5hB,KAAlB,CAAwBniB,QAAQ,CAAhC,CAHL;AADY,OAAd;AAOD;;;6BAES;AAAA;;AAAA,oBAaJ,KAAKf,KAbD;AAAA,yCAEN6d,YAFM;AAAA,UAGU8e,WAHV,wBAGJlY,YAHI;AAAA,UAISwB,UAJT,wBAIJC,WAJI;AAAA,UAKO3B,QALP,wBAKJC,SALI;AAAA,UAONsgB,MAPM,WAONA,MAPM;AAAA,UAQNN,OARM,WAQNA,OARM;AAAA,UASNvoB,WATM,WASNA,WATM;AAAA,UAUNc,QAVM,WAUNA,QAVM;AAAA,UAWNkoB,gBAXM,WAWNA,gBAXM;AAAA,UAYNR,OAZM,WAYNA,OAZM;;;AAeR,UAAMuB,iBAAoBrJ,WAApB,SAAmC1W,UAAnC,gBAAwD1B,QAAxD,UAAN;AACA,UAAM0hB,kBAAkBlpB,WAAW,oBAAX,GAAkC,UAA1D;AACA,UAAMmpB,cAAc,CAACnpB,QAAD,GAAY,EAAEpK,KAAK,CAAP,EAAU+G,QAAQ,CAAlB,EAAqBD,MAAM,CAA3B,EAA8BnH,OAAO,CAArC,EAAZ,GAAuD1Z,SAA3E;;AAEA,aACE;AAAA;AAAA,UAAK,WAAW,0BAAW,kBAAX,EAA+BotC,cAA/B,EAA+CC,eAA/C,CAAhB,EAAiF,OAAOC,WAAxF;AACG,SAACjB,gBAAD,IACC;AACE,wBAAc,KAAKjlC,KAAL,CAAW6d,YAD3B;AAEE,kBAAQinB,MAFV;AAGE,oBAAU/nB,QAHZ;AAIE,uBAAad;AAJf,UAFJ;AAUE;AAAA;AAAA,YAAK,IAAG,aAAR,EAAsB,WAAU,WAAhC,EAA4C,OAAO,EAAEkqB,WAAW,QAAb,EAAnD;AACG,eAAKvxC,KAAL,CAAWkwC,MAAX,CAAkBzoC,GAAlB,CAAsB,UAACwF,KAAD,EAAQd,KAAR;AAAA,mBACrB;AACE,uBAAS0jC,OADX;AAEE,8BAAc5iC,MAAMtL,EAFtB;AAGE,wBAAUwmB,QAHZ;AAIE,qBAAOlb,KAJT;AAKE,uBAAS2iC,QAAQ/nC,MAAR,CAAe;AAAA,uBAAK2pC,EAAEC,QAAF,KAAexkC,MAAMtL,EAA1B;AAAA,eAAf;AALX,cADqB;AAAA,WAAtB,CADH;AAUGwmB,sBACC;AAAA;AAAA;AACE,yBAAU,eADZ;AAEE,uBAAS,mBAAM;AACb0nB,wBAAQngC,IAAR,CACE6oB,MAAMzM,WAAN,CAAkB,OAAK1gB,KAAL,CAAW6d,YAA7B,CADF;AAGD;AANH;AAQE,iDAAG,WAAU,YAAb,GARF;AASE;AACE,kBAAG,sDADL;AAEE,8BAAe;AAFjB;AATF,WAXJ;AA0BE;AAAA;AAAA,cAAK,WAAU,gBAAf;AACE;AAAA;AAAA,gBAAK,WAAU,YAAf;AACE;AAAA;AAAA;AACE,wBAAK,8CADP;AAEE,yBAAO,EAAE,SAAS,MAAX,EAAmB,kBAAkB,MAArC,EAA6C,cAAc,MAA3D,EAFT;AAGE,0BAAO;AAHT;AAKE;AACE,sBAAG,kDADL;AAEE,kCAAe;AAFjB,kBALF;AASE;AAAA;AAAA;AAAA;AAAA;AATF;AADF,aADF;AAcE;AAAA;AAAA,gBAAK,WAAU,WAAf;AACE;AAAA;AAAA;AACE,wBAAK,gDADP;AAEE,6BAAU,WAFZ;AAGE,0BAAO;AAHT;AAKE;AALF;AADF;AAdF;AA1BF;AAVF,OADF;AAgED;;;;EAvKwB,gBAAMjc,S;;AA0KjCsjC,aAAaznC,SAAb,GAAyB;AACvBsf,YAAU,oBAAUte,IAAV,CAAed,UADF;AAEvB;AACAkgB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAHR;AAIvBmnC,UAAQ,oBAAUlmC,KAAV,CAAgBjB,UAJD;AAKvBse,eAAa,oBAAUvd,IALA;AAMvB8lC,WAAS,oBAAU5lC,KAAV,CAAgBjB,UANF;AAOvBsnC,oBAAkB,oBAAUxmC,IAPL;AAQvB0mC,kBAAgB,oBAAU1mC;AARH,CAAzB;;AAWAymC,aAAa9nC,YAAb,GAA4B;AAC1B2f,YAAU,KADgB;AAE1B+nB,UAAQ,EAFkB;AAG1BN,WAAS;AAHiB,CAA5B;;kBAMeU,Y;;;;;;;;;;;;;;;;;;;2CCvMN5tC,O;;;;;;;;;;;;;;;;;;;;ACAT;;;;AACA;;;;AACA;;;;AAGA;;AACA;;;;;;AAFA;;;AAIA,IAAMgvC,YAAY,SAAZA,SAAY,OAAsC;AAAA,MAAnCxB,MAAmC,QAAnCA,MAAmC;AAAA,MAA3ByB,MAA2B,QAA3BA,MAA2B;AAAA,MAAhBC,SAAgB;;AACtD,MAAMC,QAAQ3B,OAAOzoC,GAAP,CAAW;AAAA,WACvB;AAAA;AAAA,QAAK,KAAKwF,MAAMtL,EAAhB,EAAoB,WAAW,0BAAW,EAAE,0BAA0B,CAACgwC,MAA7B,EAAX,CAA/B;AACE;AACE,yCAA+B1kC,MAAMtL,EADvC;AAEE,eAAOsL,KAFT;AAGE,mBAAU;AAHZ,SAIM2kC,SAJN;AADF,KADuB;AAAA,GAAX,CAAd;;AAWA,SAAO,CAACD,MAAD,GACL;AAAA;AAAA,MAAK,WAAU,gBAAf;AACE;AAAA;AAAA,QAAK,WAAU,aAAf;AACGE;AADH;AADF,GADK,GAOL;AAAA;AAAA,MAAK,WAAU,SAAf;AACE;AAAA;AAAA;AACE,0BAAiB,2BADnB;AAEE,yBAAgB,+BAFlB;AAGE,uBAAc,yCAHhB;AAIE,mBAAW,EAAEllC,WAAW,MAAb,EAJb;AAKE,cAAK;AALP;AAOGklC;AAPH;AADF,GAPF;AAmBD,CA/BD;;AAiCAH,UAAUlpC,YAAV,GAAyB;AACvBmpC,UAAQ;AADe,CAAzB;;AAIAD,UAAU7oC,SAAV,GAAsB;AACpBqnC,UAAQ,oBAAUvL,OAAV,CACN,oBAAU/uB,KAAV,CAAgB,EAAEjU,IAAI,oBAAUmH,MAAhB,EAAhB,CADM,EAENC,UAHkB;AAIpB4oC,UAAQ,oBAAU9nC;AAJE,CAAtB;;kBAOe6nC,S;;;;;;;;;;;;;;;;ACpDf;;;;AACA;;;;AAEA;;;;;;AAEA,IAAMI,SAAS,SAATA,MAAS,QAAS;AAAA,MACd5B,MADc,GACO9kC,KADP,CACd8kC,MADc;AAAA,MACN/nB,QADM,GACO/c,KADP,CACN+c,QADM;;;AAGtB,MAAM4pB,oBAAoB7B,OAAOroC,MAAP,CACxB;AAAA,WAASsgB,WAAW,CAAClb,MAAM6Z,MAAlB,GAA2B,CAAC7Z,MAAM6Z,MAAP,IAAiB,CAAC7Z,MAAMqa,WAA5D;AAAA,GADwB,CAA1B;AAGA,MAAMsqB,yBAAiBxmC,KAAjB,IAAwB8kC,QAAQ6B,iBAAhC,GAAN;;AAEA,SACE;AAAA;AAAA,MAAK,WAAU,oBAAf;AACE,uDAAUH,SAAV,CADF;AAEE,oEAAUA,SAAV,IAAqB,YAArB;AAFF,GADF;AAMD,CAdD;;AAgBAE,OAAOjpC,SAAP,GAAmB;AACjBsf,YAAU,oBAAUte,IAAV,CAAed,UADR;AAEjBkgB,gBAAc,oBAAUhgB,MAAV,CAAiBF,UAFd;AAGjBmnC,UAAQ,oBAAUlmC,KAHD;AAIjBqd,eAAa,oBAAUvd;AAJN,CAAnB;;AAOAgoC,OAAOtpC,YAAP,GAAsB;AACpB2f,YAAU,KADU;AAEpB+nB,UAAQ;AAFY,CAAtB;;kBAKe4B,M;;;;;;;;;;;;;;ACjCf;;AACA;;;;AACA;;;;AACA;;;;AAKA,IAAM7nC,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR,EAAkB;AACxC,MAAM0kB,YAAY,yBAAU9vB,KAAV,EAAiBoL,KAAjB,CAAlB;AACA,SAAO;AACLmuB,kBAAczJ,UAAUyJ,YAAV,CAAuB,QAAvB,EAAiCnuB,MAAMuf,MAAN,CAAahpB,EAA9C;AADT,GAAP;AAGD,CALD;;AAOA,IAAM6tB,oBAAoB,EAAE6f,4CAAF,EAAeC,0CAAf,EAA1B;;kBAEe,yBAAQrlC,eAAR,EAAyBulB,iBAAzB,0B;;;;;;;;;;;;;;ACjBf;;;;AACA;;;;;;AAEA,IAAMwiB,eAAe;AACnBr5B,YAAU,UADS;AAEnBoF,OAAK,GAFc;AAGnBL,SAAO,GAHY;AAInBoH,UAAQ,GAJW;AAKnBD,QAAM,GALa;AAMnBxE,cAAY,MANO;AAOnBX,eAAa,KAPM;AAQnBqH,WAAS,KARU;AASnB7e,mBAAiB,SATE;AAUnBkN,YAAU;AAVS,CAArB;;AAaA,IAAMu0B,gBAAgB,SAAhBA,aAAgB;AAAA,MACpBh+B,QADoB,QACpBA,QADoB;AAAA,MAEpBgf,MAFoB,QAEpBA,MAFoB;AAAA,MAGpBwE,MAHoB,QAGpBA,MAHoB;AAAA,MAIpB8iB,QAJoB,QAIpBA,QAJoB;AAAA,MAKpB5C,WALoB,QAKpBA,WALoB;AAAA,MAMpBC,UANoB,QAMpBA,UANoB;AAAA,MAOpB/V,YAPoB,QAOpBA,YAPoB;AAAA,SASpB;AAAA;AAAA;AACE,iBAAU,kBADZ;AAEE,aAAO,EAAEpiB,QAAQ,SAAV,EAFT;AAGE,oBAAc;AAAA,eAAMk4B,YAAY,QAAZ,EAAsB1kB,OAAOhpB,EAA7B,CAAN;AAAA,OAHhB;AAIE,oBAAc;AAAA,eAAM2tC,WAAW,QAAX,CAAN;AAAA;AAJhB;AAMG3jC,YANH;AAOG4tB,mBACC;AAAA;AAAA,QAAK,WAAU,yCAAf,EAAyD,OAAOyY,YAAhE;AACE;AAAA;AAAA,UAAK,WAAU,iCAAf;AACE;AAAA;AAAA,YAAK,WAAU,+BAAf;AACE;AAAA;AAAA;AACE,yBAAU,iBADZ;AAEE,uBAAS7iB,MAFX;AAGE,qBAAM;AAHR;AAKE,iDAAG,WAAU,YAAb;AALF,WADF;AAQE;AAAA;AAAA;AACE,yBAAU,mBADZ;AAEE,uBAAS8iB,QAFX;AAGE,qBAAM;AAHR;AAKE,iDAAG,WAAU,aAAb;AALF;AARF;AADF;AADF,KADD,GAqBG;AA5BN,GAToB;AAAA,CAAtB;;AAyCAtI,cAAc9gC,SAAd,GAA0B;AACxB8hB,UAAQ,oBAAU1hB,MADM;AAExBoC,WAAS,oBAAUvB,IAFK;AAGxB;AACAyvB,gBAAc,oBAAU1vB,IAJA;AAKxBwlC,eAAa,oBAAUvlC,IALC;AAMxBwlC,cAAY,oBAAUxlC;AANE,CAA1B;;kBASe6/B,a;;;;;;;;;;;;;;AClEf;;AACA;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAM1/B,kBAAkB,SAAlBA,eAAkB,CAACjK,KAAD,EAAQoL,KAAR,EAAkB;AACxC,MAAM0kB,YAAY,yBAAa9vB,KAAb,EAAoBoL,KAApB,CAAlB;AACA,SAAO;AACLrH,YAAQ+rB,UAAUoiB,gBAAV,EADH;AAELjpB,kBAAc6G,UAAU5F,eAAV,MAA+B4F,UAAUmgB,gBAAV,GAA6B,CAA7B;AAFxC,GAAP;AAID,CAND;;AAQA,IAAMzgB,oBAAoB,EAAEb,yCAAF,EAA1B;;kBAEe,yBAAQ1kB,eAAR,EAAyBulB,iBAAzB,EAA4C,4CAA5C,C;;;;;;;;;;;;;;;;AChBf;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AAEA;;;;;;AAEA,IAAM2iB,SAAS,SAATA,MAAS,OAA8E;AAAA,MAA3EpuC,MAA2E,QAA3EA,MAA2E;AAAA,MAAnEklB,YAAmE,QAAnEA,YAAmE;AAAA,MAArDhc,KAAqD,QAArDA,KAAqD;AAAA,MAA9C0d,MAA8C,QAA9CA,MAA8C;AAAA,MAAtCgE,MAAsC,QAAtCA,MAAsC;AAAA,MAA9BxG,QAA8B,QAA9BA,QAA8B;AAAA,MAApB9mB,IAAoB,QAApBA,IAAoB;AAAA,MAAdwuC,OAAc,QAAdA,OAAc;;AAC3F;AAD2F,MAE1EuC,MAF0E,GAE7BznB,MAF6B,CAEnF0nB,OAFmF;AAAA,MAEzDC,MAFyD,GAE7B3nB,MAF6B,CAElE4nB,OAFkE;AAAA,MAExCC,MAFwC,GAE7B7nB,MAF6B,CAEjD8nB,OAFiD;;AAG3F,MAAMrqC,YAAY,sDACUgqC,MADV,cAENA,MAFM,gBAEWE,MAFX,gBAE4BE,MAF5B,CAAlB;;AAKA,MAAME,eAAe,SAAfA,YAAe;AAAA,WAAKlB,EAAE5iB,IAAF,KAAWjE,OAAOiE,IAAvB;AAAA,GAArB;AACA,MAAM+jB,eAAe,sBAAQ1pB,YAAR,EAAsB0B,MAAtB,EAA8B,EAAEtpB,UAAF,EAA9B,EAAwCwG,MAAxC,CAA+C6qC,YAA/C,EAA6D,CAA7D,CAArB;AAT2F,MAUxE1lC,SAVwE,GAUhD2lC,YAVgD,CAUnFn7B,SAVmF;AAAA,MAU7Do7B,QAV6D,GAUhDD,YAVgD,CAU7DC,QAV6D;;;AAY3F,MAAMC,kBACJ,8BAAC,SAAD,EACM,EAAE5pB,0BAAF,EAAgBhc,YAAhB,EAAuB0d,cAAvB,EAA+BgE,cAA/B,EAAuCxG,kBAAvC,EADN,CADF;;AAMA,SACE;AAAA;AAAA,MAAK,WAAW/f,SAAhB;AACGrE,cAAU,mDADb;AAEGokB,gBAAYyqB,QAAZ,GACC;AAAA;AAAA;AACE,gBAAQjoB,MADV;AAEE,gBAAQ;AAAA,iBAAMklB,QAAQngC,IAAR,CAAakjC,QAAb,CAAN;AAAA,SAFV;AAGE,kBAAU,oBAAM;AACd,cAAMpzB,UAAUne,KAAK6B,aAAL,CAAmB;AACjCvB,gBAAI,iDAD6B;AAEjCwB,4BAAgB;AAFiB,WAAnB,CAAhB;AAIA,cAAII,OAAOmrB,OAAP,CAAelP,OAAf,CAAJ,EAA6B;AAC3BmP,gCACKhE,MADL;AAEEC,wBAAU5mB,SAFZ;AAGE4qB,oBAAM;AAHR;AAKD;AACF;AAfH;AAiBGikB;AAjBH,KADD,GAoBI,CAAC1qB,QAAD,IAAawC,OAAOiE,IAAP,KAAgB,OAA7B,GAAuC,IAAvC,GACHikB;AAvBJ,GADF;AA4BD,CA9CD;;AAgDAV,OAAOtpC,SAAP,GAAmB;AACjBogB,gBAAc,oBAAUhgB,MADP;AAEjB0hB,UAAQ,oBAAU1hB,MAAV,CAAiBF,UAFR;AAGjBof,YAAU,oBAAUte,IAHH;AAIjB;AACA8kB,UAAQ,oBAAU7kB,IAAV,CAAef,UALN;AAMjBhF,UAAQ,oBAAU8F,IAND;AAOjB;AACAxI,QAAM,qBAAU0H;AARC,CAAnB;;kBAWeopC,M;;;;;;;;;;;;;;ACpEf;;IAAY5yC,C;;AACZ;;AACA;;;;;;;;;;kBAEe;AAAA,MAAoB05B,cAApB,QAAGzF,eAAH;AAAA,MAAuCvmB,KAAvC;;AAAA,SAAmD,UAAC9M,QAAD,EAAWC,QAAX,SAAiC;AAAA,QAAVC,GAAU,SAAVA,GAAU;;AACjG,QAAM0C,cAAc,yBAAc3C,UAAd,EAA0ByB,cAA1B,EAApB;AACA1B,aAAS,gCAAaZ,EAAEuzC,iBAAf,CAAT;AACA,WAAOzyC,IACJE,IADI,qBACmB04B,cADnB,cAC4C,EAAEhsB,YAAF,EAD5C,EACuD,EAAErL,SAASmB,WAAX,EADvD,EAEJtC,IAFI,CAEC,eAAO;AAAA,sBAC6BC,IAAIE,IADjC;AAAA,UACHmyC,kBADG,aACHA,kBADG;AAAA,UACoBnyC,IADpB;;AAEXT,eAAS,gCAAaZ,EAAEyzC,iBAAf,EAAkCpyC,IAAlC,CAAT;AACAT,eAAS,gCAAaZ,EAAE0zC,mBAAf,EAAoCF,mBAAmBG,IAAnB,CAAwB,UAAC7hC,CAAD,EAAID,CAAJ;AAAA,eAAUC,EAAE1P,EAAF,GAAOyP,EAAEzP,EAAnB;AAAA,OAAxB,CAApC,CAAT;AACD,KANI,EAOJT,KAPI,CAOE,cAAM;AACXf,eAAS,gCAAaZ,EAAE4zC,iBAAf,EAAkC/xC,EAAlC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KAVI,CAAP;AAWD,GAdc;AAAA,C;;;;;;;;;;;;;;;;ACHf;;IAAY7B,C;;AACZ;;AACA;;;;;;;;6NAHA;;;kBAKe;AAAA,SAAU,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACxD,QAAM0C,cAAc,yBAAc3C,UAAd,EAA0ByB,cAA1B,EAApB;AACA1B,aAAS,gCAAaZ,EAAE6zC,wBAAf,CAAT;AACA,WAAO/yC,IACJE,IADI,CACC,gBADD,EACmB,EAAE0oB,cAAcoe,MAAhB,EADnB,EAC6C,EAAEzlC,SAASmB,WAAX,EAD7C,EAEJtC,IAFI,CAEC,eAAO;AACXN,eAAS,gCAAaZ,EAAE8zC,wBAAf,EAAyC3yC,IAAIE,IAA7C,CAAT;AACA,aAAOE,QAAQG,OAAR,CAAgBP,IAAIE,IAApB,CAAP;AACD,KALI,EAMJM,KANI,CAME,iBAA6B;AAAA,UAA1BoyC,QAA0B,SAA1BA,QAA0B;AAAA,UAAbzyC,MAAa;;AAClC,UAAIyyC,SAAS3yC,MAAT,KAAoB,GAApB,IAA2B2yC,SAAS1yC,IAAT,CAAcC,MAA7C,EAAqD;AACnD,eAAOC,QAAQC,MAAR,cAAoBuyC,SAAS1yC,IAAT,CAAcC,MAAlC,EAAP;AACD,OAFD,MAEO;AACLV,iBAAS,gCAAaZ,EAAEg0C,wBAAf,EAAyC1yC,MAAzC,CAAT;AACA,eAAOC,QAAQC,MAAR,CAAeF,MAAf,CAAP;AACD;AACF,KAbI,CAAP;AAcD,GAjBc;AAAA,C;;;;;;;;;;;;;;ACLf;;IAAYtB,C;;AACZ;;AACA;;;;AACA;;;;;;;;kBAEe,UAAC0N,KAAD;AAAA,SAAW,UAAC9M,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACzD,QAAMuB,UAAU,yBAAcxB,UAAd,EAA0ByB,cAA1B,EAAhB;AACA,QAAMonB,eAAe,yBAAa7oB,UAAb,EAAyB8pB,eAAzB,EAArB;;AAEA/pB,aAAS,gCAAaZ,EAAEi0C,qBAAf,CAAT;AACA,WAAOnzC,IACJozC,MADI,qBACqBxqB,aAAatnB,EADlC,gBAC+CsL,MAAMtL,EADrD,EAC2D,EAAEC,gBAAF,EAD3D,EAEJnB,IAFI,CAEC,oBAAY;AAChBN,eAAS,gCAAaZ,EAAEm0C,qBAAf,EAAsCJ,SAAS1yC,IAA/C,CAAT;AACA,aAAOE,QAAQG,OAAR,EAAP;AACD,KALI,EAMJC,KANI,CAME,cAAM;AACXf,eAAS,gCAAaZ,EAAEo0C,qBAAf,EAAsCvyC,EAAtC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KATI,CAAP;AAUD,GAfc;AAAA,C;;;;;;;;;;;;;;ACLf;;IAAY7B,C;;AACZ;;AACA;;;;;;;;kBAEe;AAAA,SAAkB,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AAChE,QAAMuB,UAAU,yBAAcxB,UAAd,EAA0ByB,cAA1B,EAAhB;AACA1B,aAAS,gCAAaZ,EAAEq0C,oBAAf,CAAT;AACA,WAAOvzC,IACJ8R,GADI,qBACkB8mB,cADlB,cAC2C,EAAEr3B,gBAAF,EAD3C,EAEJnB,IAFI,CAEC,oBAAY;AAChBN,eAAS,gCAAaZ,EAAEs0C,oBAAf,EAAqCP,SAAS1yC,IAA9C,CAAT;AACA,aAAOE,QAAQG,OAAR,EAAP;AACD,KALI,EAMJC,KANI,CAME,cAAM;AACXf,eAAS,gCAAaZ,EAAEu0C,oBAAf,EAAqC1yC,EAArC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KATI,CAAP;AAUD,GAbc;AAAA,C;;;;;;;;;;;;;;ACJf;;IAAY7B,C;;AACZ;;AACA;;;;;;;;kBAEe;AAAA,SAAkB,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AAChE,QAAMuB,UAAU,yBAAcxB,UAAd,EAA0ByB,cAA1B,EAAhB;AACA1B,aAAS,gCAAaZ,EAAEw0C,2BAAf,CAAT;AACA,QAAIC,cAAJ,EAAoB;AAClB,aAAO3zC,IACJ8R,GADI,mBACgB6hC,cADhB,qBACgD,EAAEpyC,gBAAF,EADhD,EAEJnB,IAFI,CAEC,iBAAsB;AAAA,YAAnBE,MAAmB,SAAnBA,MAAmB;AAAA,YAAXC,IAAW,SAAXA,IAAW;;AAC1BT,iBAAS,gCAAaZ,EAAE00C,2BAAf,EAA4CrzC,IAA5C,CAAT;AACA,eAAOE,QAAQG,OAAR,EAAP;AACD,OALI,EAMJC,KANI,CAME,cAAM;AACXf,iBAAS,gCAAaZ,EAAE20C,2BAAf,EAA4C9yC,EAA5C,CAAT;AACA,eAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,OATI,CAAP;AAUD;AACF,GAfc;AAAA,C;;;;;;;;;;;;;;ACJf;;AACA;;IAAY7B,C;;AAEZ;;;;;;;;kBAEe;AAAA,SAAkB,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AAChE,QAAMuB,UAAU,yBAAcxB,UAAd,EAA0ByB,cAA1B,EAAhB;;AAEA1B,aAAS,gCAAaZ,EAAE40C,qBAAf,CAAT;AACA,WAAO9zC,IACJ8R,GADI,qBACkB8mB,cADlB,eAC4C,EAAEr3B,gBAAF,EAD5C,EAEJnB,IAFI,CAEC,eAAO;AACXN,eAAS,gCAAaZ,EAAE60C,qBAAf,EAAsC1zC,IAAIE,IAA1C,CAAT;AACD,KAJI,EAKJM,KALI,CAKE,cAAM;AACXf,eAAS,gCAAaZ,EAAE80C,qBAAf,EAAsCjzC,EAAtC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KARI,CAAP;AASD,GAbc;AAAA,C;;;;;;;;;;;;;;ACJf;;AACA;;IAAY7B,C;;;;AAFZ;kBAIe;AAAA,SAAS,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACvD,QAAMiB,WAAW,SAAjB;AACA,QAAM2yB,SAAS,EAAEV,QAAQ+gB,KAAV,EAAf;;AAEAn0C,aAAS,EAAEX,MAAMD,EAAEg1C,qBAAV,EAAT;AACA,WAAOl0C,IACJ8R,GADI,CACA7Q,QADA,EACU2yB,MADV,EAEJxzB,IAFI,CAEC,oBAAY;AAChBN,eAAS,gCAAaZ,EAAEi1C,qBAAf,EAAsClB,SAAS1yC,IAA/C,CAAT;AACA,aAAOE,QAAQG,OAAR,CAAgBqyC,SAAS1yC,IAAzB,CAAP;AACD,KALI,EAMJM,KANI,CAME,mBAAW;AAChBf,eAAS,gCAAaZ,EAAEk1C,qBAAf,EAAsCnxC,OAAtC,CAAT;AACA,aAAOxC,QAAQC,MAAR,CAAe,EAAEszB,sBAAoB/wB,OAAtB,EAAf,CAAP;AACD,KATI,CAAP;AAUD,GAfc;AAAA,C;;;;;;;;;;;;;;ACHf;;IAAY/D,C;;AACZ;;;;AAFA;kBAIe;AAAA,SAAS,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACvD,QAAMiB,WAAW,gBAAjB;AACA,QAAM2yB,SAAS,EAAEV,QAAQyL,KAAV,EAAf;;AAEA7+B,aAAS,EAAEX,MAAMD,EAAEm1C,4BAAV,EAAT;AACA,WAAOr0C,IAAI8R,GAAJ,CAAQ7Q,QAAR,EAAkB2yB,MAAlB,EACJxzB,IADI,CACC,iBAAsB;AAAA,UAAnBE,MAAmB,SAAnBA,MAAmB;AAAA,UAAXC,IAAW,SAAXA,IAAW;;AAC1B,UAAID,WAAW,GAAf,EAAoB;AAClBR,iBAAS,gCAAaZ,EAAEo1C,4BAAf,EAA6C/zC,IAA7C,CAAT;AACA,eAAOE,QAAQG,OAAR,CAAgBL,IAAhB,CAAP;AACD;;AAED,aAAOE,QAAQC,MAAR,CAAe,EAAEye,2BAAyB7e,MAA3B,EAAf,CAAP;AACD,KARI,EASJO,KATI,CASE,mBAAW;AAChBf,eAAS,gCAAaZ,EAAEq1C,4BAAf,EAA6CtxC,QAAQkc,OAArD,CAAT;AACA,aAAO1e,QAAQC,MAAR,CAAe,EAAEye,sBAAoBlc,OAAtB,EAAf,CAAP;AACD,KAZI,CAAP;AAaD,GAlBc;AAAA,C;;;;;;;;;;;;;;ACHf;;IAAY/D,C;;AACZ;;;;AAFA;kBAIe;AAAA,SAAS,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACvD,QAAMiB,WAAW,UAAjB;AACA,QAAM2yB,SAAS,EAAEV,QAAQ+gB,KAAV,EAAf;;AAEAn0C,aAAS,EAAEX,MAAMD,EAAEs1C,sBAAV,EAAT;AACA,WAAOx0C,IACJ8R,GADI,CACA7Q,QADA,EACU2yB,MADV,EAEJxzB,IAFI,CAEC,oBAAY;AAChBN,eAAS,gCAAaZ,EAAEu1C,sBAAf,EAAuCxB,SAAS1yC,IAAhD,CAAT;AACA,aAAOE,QAAQG,OAAR,CAAgBqyC,SAAS1yC,IAAzB,CAAP;AACD,KALI,EAMJM,KANI,CAME,mBAAW;AAChBf,eAAS,gCAAaZ,EAAEw1C,sBAAf,EAAuCzxC,OAAvC,CAAT;AACAxC,cAAQC,MAAR,CAAe,EAAEszB,sBAAoB/wB,OAAtB,EAAf;AACD,KATI,CAAP;AAUD,GAfc;AAAA,C;;;;;;;;;;;;;;kQCJf;;;AACA;;;;AACA;;;;AACA;;IAAY/D,C;;AACZ;;;;;;AAEA,IAAM+5B,uBAAuB,SAAvBA,oBAAuB;AAAA,MAAGrQ,YAAH,QAAGA,YAAH;AAAA,MAAiB4Q,SAAjB,QAAiBA,SAAjB;AAAA,SAAiC,UAAC15B,QAAD,EAAWC,QAAX,SAAiC;AAAA,QAAVC,GAAU,SAAVA,GAAU;;AAC7F,QAAML,QAAQI,UAAd;;AAEA,QAAMkB,+BAA6B2nB,aAAatnB,EAA1C,kBAAN;AACA,QAAMJ,OAAO,EAAEyzC,YAAYnb,SAAd,EAAb;;AAEA15B,aAAS,EAAEX,MAAMD,EAAE01C,gCAAV,EAAT;AACA,WAAO50C,IAAIE,IAAJ,CAASe,QAAT,EAAmBC,IAAnB,EACJd,IADI,CACC,iBAAc;AAAA,UAAXG,IAAW,SAAXA,IAAW;;AAClBT,eAAS,gCAAaZ,EAAE21C,gCAAf,EAAiDvX,aAAa39B,KAAb,EAAoBY,IAApB,CAAjD,CAAT;AACA,gCAAgBu0C,aAAhB;AACA,aAAOr0C,QAAQG,OAAR,EAAP;AACD,KALI,EAMJC,KANI,CAME,mBAAW;AAChBf,eAAS,gCAAaZ,EAAE61C,gCAAf,EAAiD9xC,OAAjD,CAAT;AACA,aAAOxC,QAAQC,MAAR,CAAe,EAAEszB,sBAAoB/wB,OAAtB,EAAf,CAAP;AACD,KATI,CAAP;AAUD,GAjB4B;AAAA,CAA7B;;AAmBA,IAAMq6B,eAAe,SAAfA,YAAe,CAAC39B,KAAD,EAAQE,OAAR,EAAoB;AACvC,MAAMyqB,SAAS,yBAAa3qB,KAAb,EAAoB89B,SAApB,CAA8B59B,QAAQo0B,SAAtC,CAAf;AACA,sBAAY3J,MAAZ,IAAoB6P,oBAAoB7P,OAAO6P,kBAAP,GAA4B,CAApE;AACD,CAHD;;kBAKelB,oB;;;;;;;;;;;;;;;;AC9Bf;;IAAY/5B,C;;AACZ;;AAEA;;;;AACA;;;;;;;;kBAEe;AAAA,SAAS,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACvD,QAAMuB,UAAU,yBAAcxB,UAAd,EAA0ByB,cAA1B,EAAhB;AACA,QAAMonB,eAAe,yBAAU7oB,UAAV,EAAsB8pB,eAAtB,EAArB;AACA,QAAMgmB,SAAS,yBAAU9vC,UAAV,EAAsB+vC,SAAtB,EAAf;;AAEA,QAAM5uC,OAAO;AACX0L,0BACKA,KADL;AAEE0L,kBAAUu3B,OAAOA,OAAOv8B,OAAP,CAAeu8B,OAAOroC,MAAP,CAAc;AAAA,iBAAKuJ,EAAEzP,EAAF,KAASsL,MAAMtL,EAApB;AAAA,SAAd,EAAsC,CAAtC,CAAf,IAA2D,CAAlE,EAAqEgX;AAFjF;AADW,KAAb;;AAOAxY,aAAS,gCAAaZ,EAAE81C,oBAAf,CAAT;AACA,WAAOh1C,IACJ0B,GADI,qBACkBknB,aAAatnB,EAD/B,gBAC4CsL,MAAMtL,EADlD,EACwDJ,IADxD,EAC8D,EAAEK,gBAAF,EAD9D,EAEJnB,IAFI,CAEC,eAAO;AACXN,eAAS,gCAAaZ,EAAE+1C,oBAAf,EAAqC50C,IAAIE,IAAzC,CAAT;AACAT,eAAS,gCAAaZ,EAAEg2C,eAAf,EAAgC70C,IAAIE,IAApC,CAAT;AACD,KALI,EAMJM,KANI,CAME,cAAM;AACXf,eAAS,gCAAaZ,EAAEi2C,oBAAf,EAAqCp0C,EAArC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KATI,CAAP;AAUD,GAvBc;AAAA,C;;;;;;;;;;;;;;;;ACNf;;IAAY7B,C;;AACZ;;AAEA;;;;AACA;;;;;;;;kBAEe;AAAA,SAAS,UAACY,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACvD,QAAMuB,UAAU,yBAAcxB,UAAd,EAA0ByB,cAA1B,EAAhB;AACA,QAAMonB,eAAe,yBAAU7oB,UAAV,EAAsB8pB,eAAtB,EAArB;AACA,QAAMgmB,SAAS,yBAAU9vC,UAAV,EAAsB+vC,SAAtB,EAAf;;AAEA,QAAM5uC,OAAO;AACX0L,0BACKA,KADL;AAEE0L,kBAAUu3B,OAAOA,OAAOv8B,OAAP,CAAeu8B,OAAOroC,MAAP,CAAc;AAAA,iBAAKuJ,EAAEzP,EAAF,KAASsL,MAAMtL,EAApB;AAAA,SAAd,EAAsC,CAAtC,CAAf,IAA2D,CAAlE,EAAqEgX;AAFjF;AADW,KAAb;;AAOAxY,aAAS,gCAAaZ,EAAE81C,oBAAf,CAAT;AACA,WAAOh1C,IACJ0B,GADI,qBACkBknB,aAAatnB,EAD/B,gBAC4CsL,MAAMtL,EADlD,EACwDJ,IADxD,EAC8D,EAAEK,gBAAF,EAD9D,EAEJnB,IAFI,CAEC,eAAO;AACXN,eAAS,gCAAaZ,EAAE+1C,oBAAf,EAAqC50C,IAAIE,IAAzC,CAAT;AACAT,eAAS,gCAAaZ,EAAEk2C,aAAf,EAA8B/0C,IAAIE,IAAlC,CAAT;AACD,KALI,EAMJM,KANI,CAME,cAAM;AACXf,eAAS,gCAAaZ,EAAEi2C,oBAAf,EAAqCp0C,EAArC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KATI,CAAP;AAUD,GAvBc;AAAA,C;;;;;;;;;;;;;;ACNf;;AACA;;IAAY7B,C;;AAEZ;;;;AACA;;;;;;;;kBAEe,UAAC0N,KAAD;AAAA,SAAW,UAAC9M,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AACzD,QAAMuB,UAAU,yBAAcxB,UAAd,EAA0ByB,cAA1B,EAAhB;AACA,QAAMonB,eAAe,yBAAU7oB,UAAV,EAAsB8pB,eAAtB,EAArB;AACA/pB,aAAS,gCAAaZ,EAAE81C,oBAAf,CAAT;AACA,WAAOh1C,IACJ0B,GADI,qBACkBknB,aAAatnB,EAD/B,gBAC4CsL,MAAMtL,EADlD,EACwD,EAAEsL,YAAF,EADxD,EACmE,EAAErL,gBAAF,EADnE,EAEJnB,IAFI,CAEC,eAAO;AACXN,eAAS,gCAAaZ,EAAE+1C,oBAAf,EAAqC50C,IAAIE,IAAzC,CAAT;AACD,KAJI,EAKJM,KALI,CAKE,cAAM;AACXf,eAAS,gCAAaZ,EAAEi2C,oBAAf,EAAqCp0C,EAArC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KARI,CAAP;AASD,GAbc;AAAA,C;;;;;;;;;;;;;;;;ACLf;;AACA;;IAAY7B,C;;AAEZ;;;;AACA;;;;;;;;6NALA;;;kBAOe;AAAA,MAAGm2C,SAAH,QAAGA,SAAH;AAAA,MAAiBzsB,YAAjB;;AAAA,SACb,UAAC9oB,QAAD,EAAWC,QAAX,SAAiC;AAAA,QAAVC,GAAU,SAAVA,GAAU;;AAAA,oBACGD,UADH;AAAA,QACf2C,WADe,aACvBF,IADuB,CACfE,WADe;;AAE/B,QAAMzB,+BAA6B2nB,aAAatnB,EAAhD;AACA,QAAMsyB,SAAS,EAAEryB,SAASmB,WAAX,EAAf;;AAEA5C,aAAS,EAAEX,MAAMD,EAAEo2C,2BAAV,EAAT;AACA,WAAOt1C,IACJ0B,GADI,CACAT,QADA,EACU,EAAE2nB,0BAAF,EADV,EAC4BgL,MAD5B,EAEJxzB,IAFI,CAEC,iBAAsB;AAAA,UAAnBE,MAAmB,SAAnBA,MAAmB;AAAA,UAAXC,IAAW,SAAXA,IAAW;;AAC1BT,eAAS,EAAEX,MAAMD,EAAEq2C,2BAAV,EAAuC11C,SAASU,IAAhD,EAAT;AACA,UAAIqoB,aAAa4sB,wBAAjB,EAA2C;AACzC11C,iBAAS,gCAAiBS,KAAKe,EAAtB,CAAT;AACAxB,iBAAS,iCAAkBS,KAAKe,EAAvB,CAAT;AACD;AACD,aAAOb,QAAQG,OAAR,CAAgBL,IAAhB,CAAP;AACD,KATI,EAUJM,KAVI,CAUE,iBAA6B;AAAA,UAA1BoyC,QAA0B,SAA1BA,QAA0B;AAAA,UAAbzyC,MAAa;;AAClC,UAAIyyC,SAAS3yC,MAAT,KAAoB,GAApB,IAA2B2yC,SAAS1yC,IAAT,CAAcC,MAA7C,EAAqD;AACnD,YAAMA,UAASyyC,SAAS1yC,IAAT,CAAcC,MAA7B;AACA,YAAIyyC,SAAS1yC,IAAT,CAAcC,MAAd,CAAqBupB,aAAzB,EAAwC;AACtCvpB,kBAAO60C,SAAP,IAAoB70C,QAAOupB,aAA3B;AACA,iBAAOvpB,QAAOupB,aAAd;AACD;AACDjqB,iBAAS,gCAAaZ,EAAEu2C,2BAAf,EAA4Cj1C,OAA5C,CAAT;AACA,eAAOC,QAAQC,MAAR,cAAoBF,OAApB,EAAP;AACD,OARD,MAQO;AACLV,iBAAS,gCAAaZ,EAAEu2C,2BAAf,EAA4Cj1C,MAA5C,CAAT;AACA,eAAOC,QAAQC,MAAR,CAAe,EAAEkD,0BAAwBpD,MAA1B,EAAf,CAAP;AACD;AACF,KAvBI,CAAP;AAwBD,GA/BY;AAAA,C;;;;;;;;;;;;;;ACPf;;AACA;;IAAYtB,C;;AAEZ;;;;AACA;;;;;;;;kBAEe,UAACorB,MAAD;AAAA,SAAY,UAACxqB,QAAD,EAAWC,QAAX,QAAiC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AAC1DF,aAAS,gCAAaZ,EAAEw2C,qBAAf,CAAT;AACA,QAAMhzC,cAAc,yBAAc3C,UAAd,EAA0ByB,cAA1B,EAApB;AACA,QAAMonB,eAAe,yBAAU7oB,UAAV,EAAsB8pB,eAAtB,EAArB;;AAEA,QAAM5oB,+BAA6B2nB,aAAatnB,EAA1C,iBAAwDgpB,OAAOhpB,EAArE;AACA,QAAMJ,OAAO,EAAEopB,cAAF,EAAb;AACA,QAAMyN,UAAU,EAAEx2B,SAASmB,WAAX,EAAhB;;AAEA,WAAO1C,IACJ0B,GADI,CACAT,QADA,EACUC,IADV,EACgB62B,OADhB,EAEJ33B,IAFI,CAEC,eAAO;AACXN,eAAS,gCAAaZ,EAAEm+B,qBAAf,EAAsCh9B,IAAIE,IAA1C,CAAT;AACD,KAJI,EAKJM,KALI,CAKE,cAAM;AACXf,eAAS,gCAAaZ,EAAEy2C,qBAAf,EAAsC50C,EAAtC,CAAT;AACA,aAAON,QAAQC,MAAR,CAAeK,EAAf,CAAP;AACD,KARI,CAAP;AASD,GAlBc;AAAA,C;;;;;;;;;;;;;;ACLf;;IAAY7B,C;;AACZ;;;;AACA;;;;;;AAEA,IAAM0mC,wBAAwB,SAAxBA,qBAAwB;AAAA,SAAU,UAAC9lC,QAAD,EAAWC,QAAX,QAAuC;AAAA,QAAhBC,GAAgB,QAAhBA,GAAgB;AAAA,QAAXgB,IAAW,QAAXA,IAAW;;AAAA,oBAC3CjB,UAD2C;AAAA,QAC7D2C,WAD6D,aACrEF,IADqE,CAC7DE,WAD6D;;AAAA,QAErEkmB,YAFqE,GAElCsK,MAFkC,CAErEtK,YAFqE;AAAA,QAEvD0B,MAFuD,GAElC4I,MAFkC,CAEvD5I,MAFuD;AAAA,QAE/Cub,QAF+C,GAElC3S,MAFkC,CAE/C2S,QAF+C;;;AAI7E,QAAM5kC,+BAA6B2nB,aAAatnB,EAA1C,sBAAN;AACA,QAAMsyB,SAAS;AACbryB,eAASmB,WADI;AAEbwwB,cAAQ;AACNe,mBAAW3J,OAAOhpB,EADZ;AAENs0C,cAAM;AAFA;AAFK,KAAf;;AAQA91C,aAAS,EAAEX,MAAMD,EAAE22C,uBAAV,EAAT;AACA,WAAO71C,IAAI8R,GAAJ,CAAQ7Q,QAAR,EAAkB2yB,MAAlB,EACJxzB,IADI,CACC,iBAAc;AAAA,UAAXG,IAAW,SAAXA,IAAW;;AAClB,UAAI,CAACA,KAAKiM,MAAV,EAAkB;AAChBtJ,eAAO4yC,KAAP,CAAa90C,KAAK6B,aAAL,CAAmB;AAC9BvB,cAAI,0CAD0B;AAE9BwB,0BAAgB;AAFc,SAAnB,CAAb;AAIAhD,iBAAS,EAAEX,MAAMD,EAAE62C,6BAAV,EAAT;AACA,eAAOt1C,QAAQG,OAAR,EAAP;AACD;;AAED,gCAAW,IAAIo1C,IAAJ,CAAS,CAACz1C,IAAD,CAAT,CAAX,qCAAwDslC,QAAxD,WAAwE,UAAxE;AACA/lC,eAAS,gCAAaZ,EAAE+2C,uBAAf,EAAwC,EAAE3rB,cAAF,EAAxC,CAAT;AACA,aAAO7pB,QAAQG,OAAR,EAAP;AACD,KAdI,EAeJC,KAfI,CAeE,mBAAW;AAChBf,eAAS,gCAAaZ,EAAEg3C,uBAAf,EAAwCjzC,OAAxC,CAAT;AACA,aAAOxC,QAAQC,MAAR,CAAe,EAAEszB,sBAAoB/wB,OAAtB,EAAf,CAAP;AACD,KAlBI,CAAP;AAmBD,GAjC6B;AAAA,CAA9B,C,CALA;kBAwCe2iC,qB;;;;;;;;;;;;;ACxCR,IAAMxjC,sCAAe,SAAfA,YAAe,CAACjD,IAAD,EAAOU,OAAP;AAAA,SAAoB,EAAEV,UAAF,EAAQU,gBAAR,EAApB;AAAA,CAArB,C;;;;;;;;;;;;;;ACAP;;IAAYX,C;;;;AAEZ,IAAM4lC,kBAAkB,SAAlBA,eAAkB;AAAA,SAAO,EAAE3lC,MAAMD,EAAEi3C,qBAAV,EAAP;AAAA,CAAxB;;kBAEerR,e;;;;;;;;;;;;;;ACJf;;AACA;;IAAY5lC,C;;;;kBAEG;AAAA,SAAM,oBAAY;AAC/BY,aAAS,gCAAaZ,EAAEk3C,gBAAf,CAAT;AACD,GAFc;AAAA,C;;;;;;;;;;;;;;ACHf;;AACA;;IAAYl3C,C;;;;kBAEG;AAAA,SAAS,oBAAY;AAClCY,aAAS,gCAAaZ,EAAEm3C,uBAAf,EAAwCzpC,KAAxC,CAAT;AACD,GAFc;AAAA,C;;;;;;;;;;;;;;ACHf;;AACA;;IAAY1N,C;;;;kBAEG;AAAA,SAAQ,oBAAY;AACjCY,aAAS,gCAAaZ,EAAEo3C,eAAf,EAAgCC,IAAhC,CAAT;AACD,GAFc;AAAA,C;;;;;;;;;;;;;;ACHf;;AACA;;IAAYr3C,C;;;;kBAEG,UAAC8M,GAAD;AAAA,SAAS;AAAA,WAAYlM,SAAS,gCAAaZ,EAAEs3C,SAAf,EAA0B,EAAExqC,QAAF,EAA1B,CAAT,CAAZ;AAAA,GAAT;AAAA,C;;;;;;;;;;;;;;ACHf;;AACA;;IAAY9M,C;;;;kBAEG,UAAC8M,GAAD,EAAM1K,EAAN;AAAA,SAAa;AAAA,WAAYxB,SAAS,gCAAaZ,EAAEu3C,UAAf,EAA2B,EAAEzqC,QAAF,EAAO1K,MAAP,EAA3B,CAAT,CAAZ;AAAA,GAAb;AAAA,C;;;;;;;;;;;;;;ACHf;;AACA;;IAAYpC,C;;;;kBAEG,UAAC8M,GAAD,EAAM+/B,QAAN;AAAA,SAAmB,oBAAY;AAC5C,QAAIA,QAAJ,EAAcjsC,SAAS,gCAAaZ,EAAEw3C,YAAf,EAA6B,EAAE1qC,QAAF,EAAO+/B,kBAAP,EAA7B,CAAT,EAAd,KACKjsC,SAAS,gCAAaZ,EAAEy3C,mBAAf,EAAoC3qC,GAApC,CAAT;AACN,GAHc;AAAA,C;;;;;;;;;;;;;;;;;;;sDCHN3J,O;;;;;;;;;sDACAA,O;;;;;;;;;sDACAA,O;;;;;;;;;yDACAA,O;;;;;;;;;kDACAA,O;;;;;;;;;0DACAA,O;;;;;;;;;oDACAA,O;;;;;;;;;oDAEAA,O;;;;;;;;;mDACAA,O;;;;;;;;;gDAEAA,O;;;;;;;;;kDACAA,O;;;;;;;;;qDACAA,O;;;;;;;;;qDACAA,O;;;;;;;;;sDACAA,O;;;;;;;;;kDACAA,O;;;;;;;;;qDACAA,O;;;;;;;;;+CAEAA,O;;;;;;;;;qDACAA,O;;;;;;;;;qDAEAA,O;;;;;;;;;2DACAA,O;;;;;;;;;yDAEAA,O;;;;;;;;;4DACAA,O;;;;;;;;;4DACAA,O;;;;;;;;;uDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;2DACAA,O;;;;;;;;;4DACAA,O;;;;;;;;;;;;;;;;;;AC/BT;;IAAYnD,C;;AACZ;;;;kBAEe;AAAA,SAAM,oBAAY;AAC/B,QAAMW,UAAU,CAACu6B,MAAMkT,SAAShsC,EAAT,EAAa,EAAb,CAAN,CAAD,GAA2BgsC,SAAShsC,EAAT,EAAa,EAAb,CAA3B,GAA8CqC,SAA9D;AACA7D,aAAS,gCAAaZ,EAAE03C,mBAAf,EAAoC/2C,OAApC,CAAT;AACD,GAHc;AAAA,C;;;;;;;;;;;;;;ACHf;;IAAYX,C;;AACZ;;;;kBAEe;AAAA,SAAM,oBAAY;AAC/B,QAAMW,UAAU,CAACu6B,MAAMkT,SAAShsC,EAAT,EAAa,EAAb,CAAN,CAAD,GAA2BgsC,SAAShsC,EAAT,EAAa,EAAb,CAA3B,GAA8CqC,SAA9D;AACA7D,aAAS,gCAAaZ,EAAE23C,aAAf,EAA8Bh3C,OAA9B,CAAT;AACD,GAHc;AAAA,C;;;;;;;;;;;;;;ACHf;;IAAYX,C;;AACZ;;;;AAEA,IAAM43C,gBAAgB,SAAhBA,aAAgB;AAAA,SAAW,gCAAa53C,EAAE63C,eAAf,EAAgCxH,OAAhC,CAAX;AAAA,CAAtB;;kBAEeuH,a;;;;;;;;;;;;;;ACLf;;IAAY53C,C;;AACZ;;;;kBAEe;AAAA,SAAM,oBAAY;AAC/B,QAAMW,UAAU,CAACu6B,MAAMkT,SAAShsC,EAAT,EAAa,EAAb,CAAN,CAAD,GAA2BgsC,SAAShsC,EAAT,EAAa,EAAb,CAA3B,GAA8CqC,SAA9D;AACA7D,aAAS,gCAAaZ,EAAE83C,wBAAf,EAAyCn3C,OAAzC,CAAT;AACD,GAHc;AAAA,C;;;;;;;;;;;;;ACHR,IAAMg3C,wCAAgB,eAAtB;;AAEA,IAAM/C,wDAAwB,uBAA9B;AACA,IAAMC,wDAAwB,uBAA9B;AACA,IAAMC,wDAAwB,uBAA9B;;AAEA,IAAMQ,0DAAyB,wBAA/B;AACA,IAAMC,0DAAyB,wBAA/B;AACA,IAAMC,0DAAyB,wBAA/B;;AAEA,IAAMgB,wDAAwB,uBAA9B;AACA,IAAMrY,wDAAwB,uBAA9B;AACA,IAAMsY,wDAAwB,uBAA9B;;AAEA,IAAMf,8EAAmC,kCAAzC;AACA,IAAMC,8EAAmC,kCAAzC;AACA,IAAME,8EAAmC,kCAAzC;;AAEA,IAAMnC,oDAAsB,qBAA5B;AACA,IAAMmE,4CAAkB,iBAAxB;;AAEA,IAAMxD,sDAAuB,sBAA7B;AACA,IAAMC,sDAAuB,sBAA7B;AACA,IAAMC,sDAAuB,sBAA7B;;AAEA,IAAMuB,sDAAuB,sBAA7B;AACA,IAAMC,sDAAuB,sBAA7B;AACA,IAAME,sDAAuB,sBAA7B;;AAEA,IAAM1C,gDAAoB,mBAA1B;AACA,IAAME,gDAAoB,mBAA1B;AACA,IAAMG,gDAAoB,mBAA1B;;AAEA,IAAMK,wDAAwB,uBAA9B;AACA,IAAME,wDAAwB,uBAA9B;AACA,IAAMC,wDAAwB,uBAA9B;;AAEA,IAAMY,wDAAwB,uBAA9B;AACA,IAAMC,wDAAwB,uBAA9B;AACA,IAAMC,wDAAwB,uBAA9B;;AAEA,IAAMiC,4DAA0B,yBAAhC;;AAEA,IAAMI,kCAAa,YAAnB;AACA,IAAMD,gCAAY,WAAlB;;AAEA,IAAMF,4CAAkB,iBAAxB;AACA,IAAMF,8CAAmB,kBAAzB;;AAEA,IAAMhB,wCAAgB,eAAtB;AACA,IAAMF,4CAAkB,iBAAxB;;AAEA,IAAMwB,sCAAe,cAArB;AACA,IAAMC,oDAAsB,qBAA5B;;AAEA,IAAM5D,8DAA2B,0BAAjC;AACA,IAAMC,8DAA2B,0BAAjC;AACA,IAAME,8DAA2B,0BAAjC;;AAEA,IAAMQ,oEAA8B,6BAApC;AACA,IAAME,oEAA8B,6BAApC;AACA,IAAMC,oEAA8B,6BAApC;;AAEA,IAAM+C,oDAAsB,qBAA5B;;AAEA,IAAMtB,oEAA8B,6BAApC;AACA,IAAMC,oEAA8B,6BAApC;AACA,IAAME,oEAA8B,6BAApC;;AAEA,IAAMuB,8DAA2B,0BAAjC;;AAEA,IAAM3C,sEAA+B,8BAArC;AACA,IAAMC,sEAA+B,8BAArC;AACA,IAAMC,sEAA+B,8BAArC;;AAEA,IAAMsB,4DAA0B,yBAAhC;AACA,IAAMI,4DAA0B,yBAAhC;AACA,IAAMC,4DAA0B,yBAAhC;AACA,IAAMH,wEAAgC,+BAAtC;AACA,IAAMI,wDAAwB,uBAA9B,C;;;;;;;;;;;;;;AC/EP;;IAAYc,O;;AACZ;;IAAYC,W;;AACZ;;;;AACA;;;;;;;;kBAEe;AACbD,kBADa;AAEbv3C,6BAFa;AAGb+vB,gCAHa;AAIbynB;AAJa,C;;;;;;;;;;;;;;;;;ACLf;;IAAYh4C,C;;;;;;AAEL,IAAMG,sCAAe;AAC1BmE,YAAU,KADgB;AAE1B8D,YAAU,KAFgB;AAG1B5D,UAAQ,KAHkB;AAI1BnD,QAAM,EAJoB;AAK1BqD,SAAOD;AALmB,CAArB;;kBAQQ,YAAuC;AAAA,MAAtChE,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAEq0C,oBAAP;AACA,SAAKr0C,EAAEi4C,oBAAP;AACE,0BAAWx3C,KAAX;AACE2H,kBAAU;AADZ;AAGF,SAAKpI,EAAEs0C,oBAAP;AACA,SAAKt0C,EAAEi1C,qBAAP;AACE,0BAAWx0C,KAAX;AACE6D,kBAAU,IADZ;AAEE8D,kBAAU,KAFZ;AAGE/G,cAAMX,OAAOC;AAHf;AAKF,SAAKX,EAAEu0C,oBAAP;AACA,SAAKv0C,EAAEk1C,qBAAP;AACE,0BAAWz0C,KAAX;AACE6D,kBAAU,IADZ;AAEE8D,kBAAU,KAFZ;AAGE1D,eAAOhE,OAAOC;AAHhB;AAKF,SAAKX,EAAEuzC,iBAAP;AACA,SAAKvzC,EAAE81C,oBAAP;AACA,SAAK91C,EAAEi0C,qBAAP;AACE,0BAAWxzC,KAAX;AACE+D,gBAAQ;AADV;AAGF,SAAKxE,EAAEyzC,iBAAP;AACE,0BAAWhzC,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,2CAAUZ,MAAMY,IAAhB,IAAsBX,OAAOC,OAA7B;AAFF;AAIF,SAAKX,EAAE+1C,oBAAP;AACE,0BAAWt1C,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,cAAMZ,MAAMY,IAAN,CAAW6G,GAAX,CACJ;AAAA,iBAAK2J,EAAEzP,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAAxB,GAA6B1B,OAAOC,OAApC,GAA8CkR,CAAnD;AAAA,SADI;AAFR;AAMF,SAAK7R,EAAEm0C,qBAAP;AACE,0BAAW1zC,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,cAAMZ,MAAMY,IAAN,CAAWiH,MAAX,CAAkB;AAAA,iBAAKuJ,EAAEzP,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAA7B;AAAA,SAAlB;AAFR;AAIF,SAAKpC,EAAEm3C,uBAAP;AACE,0BAAW12C,KAAX;AACEY,cAAMZ,MAAMY,IAAN,CAAW6G,GAAX,CACJ;AAAA,iBAAK2J,EAAEzP,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAAxB,GAA6B1B,OAAOC,OAApC,GAA8CkR,CAAnD;AAAA,SADI;AADR;AAKF,SAAK7R,EAAE4zC,iBAAP;AACA,SAAK5zC,EAAEi2C,oBAAP;AACA,SAAKj2C,EAAEo0C,qBAAP;AACE,0BAAW3zC,KAAX;AACE+D,gBAAQ,KADV;AAEEE,eAAOhE,OAAOC;AAFhB;AAIF,SAAKX,EAAEk2C,aAAP;AACE,0BAAWz1C,KAAX;AACEY,cAAMZ,MAAMY,IAAN,CAAW6G,GAAX,CAAe,UAAC2J,CAAD,EAAIjF,KAAJ,EAAc;AACjC,cAAIA,QAAQ,CAAR,GAAYnM,MAAMY,IAAN,CAAWiM,MAAvB,IAAiC7M,MAAMY,IAAN,CAAWuL,QAAQ,CAAnB,EAAsBxK,EAAtB,KAA6B1B,OAAOC,OAAP,CAAeyB,EAAjF,EAAqF,OAAO1B,OAAOC,OAAd,CAArF,KACK,IAAIkR,EAAEzP,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAA5B,EAAgC,OAAO3B,MAAMY,IAAN,CAAWuL,QAAQ,CAAnB,CAAP,CAAhC,KACA,OAAOiF,CAAP;AACN,SAJK;AADR;AAOF,SAAK7R,EAAEg2C,eAAP;AACE,0BAAWv1C,KAAX;AACEY,cAAMZ,MAAMY,IAAN,CAAW6G,GAAX,CAAe,UAAC2J,CAAD,EAAIjF,KAAJ,EAAc;AACjC,cAAIA,QAAQ,CAAR,IAAanM,MAAMY,IAAN,CAAWuL,QAAQ,CAAnB,EAAsBxK,EAAtB,KAA6B1B,OAAOC,OAAP,CAAeyB,EAA7D,EAAiE,OAAO1B,OAAOC,OAAd,CAAjE,KACK,IAAIkR,EAAEzP,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAA5B,EAAgC,OAAO3B,MAAMY,IAAN,CAAWuL,QAAQ,CAAnB,CAAP,CAAhC,KACA,OAAOiF,CAAP;AACN,SAJK;AADR;AAOF;AACE,aAAOpR,KAAP;AAzEJ;AA2ED,C;;;;;;;;;;;;;;;;kBC9EuBy3C,U;;AARxB;;IAAYl4C,C;;;;AAEZ,IAAMG,eAAe;AACnB0H,WAAS,KADU;AAEnBgvB,WAAS,KAFU;AAGnBnyB,SAAOD;AAHY,CAArB;;AAMe,SAASyzC,UAAT,GAAwD;AAAA,MAAnCz3C,KAAmC,uEAA3BN,YAA2B;AAAA,MAAbO,MAAa,uEAAJ,EAAI;;AACrE,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAE22C,uBAAP;AACE,0BAAYl2C,KAAZ,IAAmBoH,SAAS,IAA5B;AACF,SAAK7H,EAAE+2C,uBAAP;AACE,0BAAYt2C,KAAZ,IAAmBoH,SAAS,KAA5B,EAAmCgvB,SAAS,IAA5C;AACF,SAAK72B,EAAEg3C,uBAAP;AACE,0BAAYv2C,KAAZ,IAAmBoH,SAAS,KAA5B,EAAmCnD,OAAOhE,OAAOC,OAAjD;;AAEF,SAAKX,EAAE62C,6BAAP;AACE,aAAO12C,YAAP;AACF,SAAKH,EAAEi3C,qBAAP;AACE,aAAO92C,YAAP;;AAEF;AACE,aAAOM,KAAP;AAdJ;AAgBD,C;;;;;;;;;;;;;;;;;ACzBD;;IAAYT,C;;;;AAEL,IAAMG,sCAAe;AAC1BunB,aAAW,KADe;AAE1B2vB,QAAM5yC;AAFoB,CAArB;;kBAKQ,YAAuC;AAAA,MAAtChE,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAEo3C,eAAP;AACE,0BAAW32C,KAAX;AACEinB,mBAAW,IADb;AAEE2vB,cAAM32C,OAAOC;AAFf;AAIF,SAAKX,EAAEk3C,gBAAP;AACE,0BAAWz2C,KAAX;AACEinB,mBAAW,KADb;AAEE2vB,cAAM5yC;AAFR;AAIF;AACE,aAAOhE,KAAP;AAZJ;AAcD,C;;;;;;;;;;;;;;;;;ACtBD;;IAAYT,C;;;;;;AAEL,IAAMG,sCAAe,EAArB;;kBAEQ,YAAuC;AAAA,MAAtCM,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAEu3C,UAAP;AACE,0BACK92C,KADL,sBAEGC,OAAOC,OAAP,CAAemM,GAFlB,EAEwBpM,OAAOC,OAAP,CAAeyB,EAFvC;AAIF,SAAKpC,EAAEs3C,SAAP;AACE,UAAI52C,OAAOC,OAAP,CAAemM,GAAf,IAAsBrM,KAA1B,EAAiC;AAC/B,4BACKA,KADL,sBAEGC,OAAOC,OAAP,CAAemM,GAFlB,EAEwBrI,SAFxB;AAID,OALD,MAKO;AACL,eAAOhE,KAAP;AACD;AACH;AACE,aAAOA,KAAP;AAhBJ;AAkBD,C;;;;;;;;;;;;;;ACvBD;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAGA;;;;AACA;;;;;;AAFA;kBAIe,4BAAgB;AAC7BwH,+BAD6B;AAE7B0oC,0BAF6B;AAG7B/hB,+BAH6B;AAI7ByhB,4BAJ6B;AAK7B8H,4BAL6B;AAM7BC,wBAN6B;AAO7BC,8BAP6B;AAQ7Bv5B,6BAR6B;AAS7Bo5B;AAT6B,CAAhB,C;;;;;;;;;;;;;;;;;ACdf;;IAAYl4C,C;;AACZ;;IAAYs4C,E;;;;;;AAEL,IAAMn4C,sCAAe;AAC1BmE,YAAU,KADgB;AAE1B8D,YAAU,KAFgB;AAG1B5D,UAAQ,KAHkB;AAI1BnD,QAAM,EAJoB;AAK1ByG,aAAWrD,SALe;AAM1B8zC,mBAAiB9zC,SANS;AAO1BC,SAAOD,SAPmB;AAQ1B+zC,eAAa/zC;AARa,CAArB;;kBAWQ,YAAuC;AAAA,MAAtChE,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAE6zC,wBAAP;AACA,SAAK7zC,EAAEo2C,2BAAP;AACE,0BAAW31C,KAAX;AACE+D,gBAAQ;AADV;AAGF,SAAKxE,EAAE8zC,wBAAP;AACE,0BAAWrzC,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,eAAOX,OAAOC,OAAd,4BAA0BF,MAAMY,IAAhC,EAFF;AAGEyG,mBAAWpH,OAAOC,OAAP,CAAeyB;AAH5B;AAKF,SAAKpC,EAAEq2C,2BAAP;AACE,0BAAW51C,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,cAAMZ,MAAMY,IAAN,CAAW6G,GAAX,CAAe;AAAA,iBAAKuwC,EAAEr2C,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAAxB,GAA6B1B,OAAOC,OAApC,GAA8C83C,CAAnD;AAAA,SAAf;AAFR;AAIF,SAAKz4C,EAAEg0C,wBAAP;AACA,SAAKh0C,EAAEu2C,2BAAP;AACE,0BAAW91C,KAAX;AACE+D,gBAAQ,KADV;AAEEE,eAAOhE,OAAOC;AAFhB;AAIF,SAAKX,EAAEw0C,2BAAP;AACA,SAAKx0C,EAAEm1C,4BAAP;AACE,0BAAW10C,KAAX;AACE2H,kBAAU;AADZ;AAGF,SAAKpI,EAAE00C,2BAAP;AACE,0BAAWj0C,KAAX;AACE6D,kBAAU,IADZ;AAEE8D,kBAAU,KAFZ;AAGE/G,cAAMX,OAAOC;AAHf;AAKF,SAAKX,EAAEo1C,4BAAP;AACE,0BAAW30C,KAAX;AACE6D,kBAAU,IADZ;AAEE8D,kBAAU,KAFZ;AAGE/G,cAAMX,OAAOC,OAHf;AAIEmH,mBAAWpH,OAAOC,OAAP,CAAe2M,MAAf,KAA0B,CAA1B,GAA8B5M,OAAOC,OAAP,CAAe,CAAf,EAAkByB,EAAhD,GAAqDqC;AAJlE;AAMF,SAAKzE,EAAE20C,2BAAP;AACA,SAAK30C,EAAEq1C,4BAAP;AACE,0BAAW50C,KAAX;AACE6D,kBAAU,IADZ;AAEE8D,kBAAU,KAFZ;AAGE1D,eAAOhE,OAAOC;AAHhB;AAKF,SAAKX,EAAE03C,mBAAP;AACE,0BAAWj3C,KAAX;AACEqH,mBAAWpH,OAAOC,OADpB;AAEE+3C,gBAAQh4C,OAAOC,OAAP,KAAmBF,MAAMqH,SAAzB,GAAqC,IAArC,GAA4CrH,MAAMi4C;AAF5D;AAIF,SAAK14C,EAAEs0C,oBAAP;AACA,SAAKt0C,EAAE60C,qBAAP;AACE,0BAAWp0C,KAAX;AACEi4C,gBAAQ;AADV;AAGF,SAAK14C,EAAE83C,wBAAP;AACE,0BAAWr3C,KAAX;AACE83C,yBAAiB73C,OAAOC,OAAP,KAAmBF,MAAM83C,eAAzB,GAA2C9zC,SAA3C,GAAuD/D,OAAOC;AAEnF;AAHE,SAIF,KAAK23C,GAAGnzC,MAAR;AACE,UAAI1E,MAAM+3C,WAAN,KAAsB93C,OAAO0B,EAAjC,EAAqC;AACnC,4BAAW3B,KAAX;AACE6D,oBAAU,KADZ;AAEEk0C,uBAAa93C,OAAO0B;AAFtB;AAID;AACD,aAAO3B,KAAP;AACF;AACE,aAAOA,KAAP;AAxEJ;AA0ED,C;;;;;;;;;;;;;;ACzFD;;IAAYT,C;;;;;;AAEZ,IAAMG,eAAe,EAArB;;kBAEe,YAAuC;AAAA,MAAtCM,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAEw3C,YAAP;AACE,iCACG92C,OAAOC,OAAP,CAAemM,GADlB,EACwBpM,OAAOC,OAAP,CAAeksC,QADvC;AAGF,SAAK7sC,EAAEy3C,mBAAP;AACE,aAAOh3C,MAAMC,OAAOC,OAAb,CAAP;AACA,aAAOF,KAAP;AACF;AACE,aAAOA,KAAP;AATJ;AAWD,C;;;;;;;;;;;;;;;;;AChBD;;IAAYT,C;;;;;;AAEL,IAAMG,sCAAe;AAC1B2H,aAAWrD,SADe;AAE1BH,YAAU,KAFgB;AAG1B8D,YAAU,KAHgB;AAI1B5D,UAAQ,KAJkB;AAK1BnD,QAAM,EALoB;AAM1BqD,SAAOD;AANmB,CAArB;;kBASQ,YAAuC;AAAA,MAAtChE,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAE23C,aAAP;AACE,0BAAYl3C,KAAZ,IAAmBqH,WAAWpH,OAAOC,OAArC;;AAEF,SAAKX,EAAE40C,qBAAP;AACA,SAAK50C,EAAEs1C,sBAAP;AACE,0BAAW70C,KAAX;AACE2H,kBAAU;AADZ;AAGF,SAAKpI,EAAE60C,qBAAP;AACA,SAAK70C,EAAEu1C,sBAAP;AACE,0BAAW90C,KAAX;AACE6D,kBAAU,IADZ;AAEE8D,kBAAU,KAFZ;AAGE/G,cAAMX,OAAOC;AAHf;AAKF,SAAKX,EAAE80C,qBAAP;AACA,SAAK90C,EAAEw1C,sBAAP;AACE,0BAAW/0C,KAAX;AACE6D,kBAAU,IADZ;AAEE8D,kBAAU,KAFZ;AAGE1D,eAAOhE,OAAOC;AAHhB;AAKF,SAAKX,EAAEw2C,qBAAP;AACA,SAAKx2C,EAAE01C,gCAAP;AACE,0BAAWj1C,KAAX;AACE+D,gBAAQ;AADV;AAGF,SAAKxE,EAAEm+B,qBAAP;AACA,SAAKn+B,EAAE21C,gCAAP;AACE,0BAAWl1C,KAAX;AACE+D,gBAAQ,KADV;AAEEnD,cAAMZ,MAAMY,IAAN,CAAW6G,GAAX,CACJ;AAAA,iBAAK+pC,EAAE7vC,EAAF,KAAS1B,OAAOC,OAAP,CAAeyB,EAAxB,GAA6B1B,OAAOC,OAApC,GAA8CsxC,CAAnD;AAAA,SADI;AAFR;AAMF,SAAKjyC,EAAEy2C,qBAAP;AACA,SAAKz2C,EAAE61C,gCAAP;AACE,0BAAWp1C,KAAX;AACE+D,gBAAQ,KADV;AAEEE,eAAOhE,OAAOC;AAFhB;AAIF,SAAKX,EAAE0zC,mBAAP;AACE,0BAAWjzC,KAAX;AACEY,2CAAUZ,MAAMY,IAAhB,sBAAyBX,OAAOC,OAAhC;AADF;;AAIF,SAAKX,EAAE63C,eAAP;AACE,0BAAYp3C,KAAZ,IAAmBY,MAAMX,OAAOC,OAAhC;;AAEF;AACE,aAAOF,KAAP;AAnDJ;AAqDD,C;;;;;;;;;;;;;;kBCjEc,UAACA,KAAD,EAAQoL,KAAR;AAAA,SAAmB;;AAEhC8e,qBAAiB,2BAAM;AAAA,kCACqBlqB,MAAMoe,aAD3B,CACb5W,IADa;AAAA,UACM7F,EADN,yBACL0F,SADK;AAAA,UACUzG,IADV,yBACUA,IADV;;AAErB,aAAOe,KAAKf,KAAKiH,MAAL,CAAY;AAAA,eAAOqwC,IAAIv2C,EAAJ,KAAWA,EAAlB;AAAA,OAAZ,EAAkC,CAAlC,CAAL,GAA4CqC,SAAnD;AACD,KAL+B;;AAOhCm0C,4BAAwB,kCAAM;AAC5B,aAAOn4C,MAAMoe,aAAN,CAAoB5W,IAApB,CAAyBG,QAAhC;AACD,KAT+B;;AAWhCywC,2BAAuB,iCAAM;AAC3B,aAAOp4C,MAAMoe,aAAN,CAAoB5W,IAApB,CAAyB3D,QAAhC;AACD,KAb+B;;AAehCw0C,0BAAsB,gCAAM;AAC1B,aAAOr4C,MAAMoe,aAAN,CAAoB5W,IAApB,CAAyBzD,MAAhC;AACD,KAjB+B;;AAmBhCu0C,+BAA2B,qCAAM;AAC/B,aAAOt4C,MAAMoe,aAAN,CAAoB5W,IAApB,CAAyBswC,eAAhC;AACD,KArB+B;;AAuBhC7H,sBAAkB,0BAACsI,CAAD,EAAO;AAAA,UACP33C,IADO,GACIZ,MAAMoe,aADV,CACf5W,IADe,CACP5G,IADO;;AAEvB,UAAI23C,KAAKA,EAAE53C,MAAX,EAAmB;AACjB,eAAOC,KAAKiH,MAAL,CAAY;AAAA,iBAAKmwC,EAAEr3C,MAAF,KAAa43C,EAAE53C,MAApB;AAAA,SAAZ,CAAP;AACD;AACD,aAAOC,KAAKiH,MAAL,CAAY;AAAA,eAAKmwC,EAAEr3C,MAAF,KAAa,QAAlB;AAAA,OAAZ,CAAP;AACD,KA7B+B;;AA+BhC63C,4BAAwB,kCAAM;AAC5B,aAAOx4C,MAAMoe,aAAN,CAAoB5W,IAApB,CAAyBH,SAAhC;AACD,KAjC+B;;AAmChCkyB,kBAAc,sBAACltB,GAAD,EAAM1K,EAAN,EAAa;AAAA,UACjBg2C,KADiB,GACP33C,MAAMoe,aADC,CACjBu5B,KADiB;;AAEzB,UAAItrC,OAAOsrC,KAAX,EAAkB,OAAOA,MAAMtrC,GAAN,MAAe1K,EAAtB,CAAlB,KACK,OAAO,KAAP;AACN,KAvC+B;;AAyChCwuC,eAAW,qBAAM;AAAA,UACGvvC,IADH,GACcZ,MAAMoe,aADpB,CACP8xB,MADO,CACGtvC,IADH;;AAEf,aAAOA,KAAKsyC,IAAL,CAAU,UAAC7hC,CAAD,EAAID,CAAJ;AAAA,eAAUC,EAAEsH,QAAF,GAAavH,EAAEuH,QAAzB;AAAA,OAAV,CAAP;AACD,KA5C+B;;AA8ChC43B,oBAAgB,0BAAM;AACpB,aAAOvwC,MAAMoe,aAAN,CAAoB8xB,MAApB,CAA2BrsC,QAAlC;AACD,KAhD+B;;AAkDhCi4B,eAAW,qBAAM;AAAA,UACP7uB,KADO,GACG7B,KADH,CACP6B,KADO;AAAA,UAEGrM,IAFH,GAEcZ,MAAMoe,aAFpB,CAEP8xB,MAFO,CAEGtvC,IAFH;;AAGf,aAAOA,KAAK,CAAL,KAAWA,KAAK,CAAL,EAAQe,EAAR,KAAesL,MAAMtL,EAAvC;AACD,KAtD+B;;AAwDhCo6B,iBAAa,uBAAM;AAAA,UACT9uB,KADS,GACC7B,KADD,CACT6B,KADS;AAAA,UAECrM,IAFD,GAEYZ,MAAMoe,aAFlB,CAET8xB,MAFS,CAECtvC,IAFD;;AAGjB,UAAMuL,QAAQvL,KAAKiM,MAAL,GAAc,CAA5B;AACA,aAAOjM,KAAKuL,KAAL,KAAevL,KAAKuL,KAAL,EAAYxK,EAAZ,KAAmBsL,MAAMtL,EAA/C;AACD,KA7D+B;;AA+DhC0sC,uBAAmB,2BAAChiC,GAAD,EAAS;AAAA,UAClBurC,QADkB,GACL53C,MAAMoe,aADD,CAClBw5B,QADkB;;AAE1B,aAAOA,SAASvrC,GAAT,CAAP;AACD,KAlE+B;;AAoEhC8iC,gBAAY,sBAAM;AAAA,UACRuI,OADQ,GACI13C,MAAMoe,aADV,CACRs5B,OADQ;;AAEhB,aAAOA,QAAQzwB,SAAR,GAAoBywB,QAAQd,IAA5B,GAAmC5yC,SAA1C;AACD,KAvE+B;;AAyEhCorC,oBAAgB,0BAAM;AAAA,UACFrrC,MADE,GACW/D,MAAMoe,aADjB,CACZ8xB,MADY,CACFnsC,MADE;;AAEpB,aAAOA,MAAP;AACD,KA5E+B;;AA8EhCqsC,gBAAY,sBAAM;AAAA,UACGxvC,IADH,GACcZ,MAAMoe,aADpB,CACRwxB,OADQ,CACGhvC,IADH;;AAEhB,aAAOA,IAAP;AACD,KAjF+B;;AAmFhCk9B,eAAW,mBAACn8B,EAAD,EAAQ;AAAA,mCACwB3B,MAAMoe,aAD9B,CACTwxB,OADS;AAAA,UACEhvC,IADF,0BACEA,IADF;AAAA,UACQyG,SADR,0BACQA,SADR;;AAEjB,UAAIoxC,aAAJ;AACA,UAAIrtC,SAASA,MAAMwV,KAAN,CAAY2S,MAArB,IAA+BnoB,MAAMwV,KAAN,CAAY2S,MAAZ,CAAmBe,SAAtD,EAAiE;AAC/DmkB,eAAO9K,SAASviC,MAAMwV,KAAN,CAAY2S,MAAZ,CAAmBe,SAA5B,CAAP;AACD,OAFD,MAEO,IAAI3yB,EAAJ,EAAQ;AACb82C,eAAO92C,EAAP;AACD,OAFM,MAEA;AACL82C,eAAOpxC,SAAP;AACD;AACD,aAAOzG,KAAKiH,MAAL,CAAY;AAAA,eAAK2pC,EAAE7vC,EAAF,KAAS82C,IAAd;AAAA,OAAZ,EAAgC,CAAhC,CAAP;AACD,KA9F+B;;AAgGhCC,8BAA0B,oCAAM;AAAA,iCAK1B14C,MAAMoe,aALoB;AAAA,UAEpB65B,MAFoB,wBAE5BzwC,IAF4B,CAEpBywC,MAFoB;AAAA,UAGR1H,cAHQ,wBAG5BL,MAH4B,CAGlBrsC,QAHkB;AAAA,UAIP80C,eAJO,wBAI5B/I,OAJ4B,CAIjB/rC,QAJiB;;AAM9B,aAAO,CAAC0sC,cAAD,IAAmB,CAACoI,eAApB,GAAsC,IAAtC,GAA6CV,MAApD;AACD,KAvG+B;;AAyGhCU,qBAAiB,2BAAM;AACrB,aAAO34C,MAAMoe,aAAN,CAAoBwxB,OAApB,CAA4B/rC,QAAnC;AACD,KA3G+B;;AA6GhCquC,sBAAkB,4BAAM;AACtB,aAAOlyC,MAAMoe,aAAN,CAAoBwxB,OAApB,CAA4B7rC,MAAnC;AACD,KA/G+B;;AAiHhC60C,qBAAiB,2BAAM;AAAA,kCAUjB54C,MAAMoe,aAVW;AAAA,wDAEnBwxB,OAFmB;AAAA,UAGP+I,eAHO,yBAGjB90C,QAHiB;AAAA,UAIPquC,gBAJO,yBAIjBvqC,QAJiB;AAAA,wDAMnBuoC,MANmB;AAAA,UAOPK,cAPO,yBAOjB1sC,QAPiB;AAAA,UAQPg1C,eARO,yBAQjBlxC,QARiB;;;AAYrB,UAAM9D,WAAW0sC,kBAAkBoI,eAAnC;AACA,UAAMG,cAAc,CAACD,eAAD,IAAoB,CAAC3G,gBAAzC;AACA,aAAO,EAAEruC,YAAYi1C,WAAd,CAAP;AACD,KAhI+B;;AAkIhCpX,eAAW,2BAAU;AACnB,UAAI,EAAEqX,UAAU/4C,MAAMoe,aAAN,CAAoBC,OAAhC,CAAJ,EAA8C;AAC5C+V,gBAAQnwB,KAAR,WAAsB80C,MAAtB;AACA,eAAO,EAAP;AACD;AACD,aAAO/4C,MAAMoe,aAAN,CAAoBC,OAApB,CAA4B06B,MAA5B,CAAP;AACD;AAxI+B,GAAnB;AAAA,C;;AA2IR,IAAMC,oCAAc,SAAdA,WAAc,CAACh5C,KAAD,EAAQi5C,QAAR,EAAqB;AAAA,8BACkBj5C,MAAMoe,aADxB;AAAA,MAC9Bxd,IAD8B,yBACtC4G,IADsC,CAC9B5G,IAD8B;AAAA,MACD6sB,UADC,yBACtBU,SADsB,CACT3mB,IADS,CACDimB,UADC;;AAE9C,SAAO7sB,KAAKiH,MAAL,CAAY;AAAA,WAAOqwC,IAAIv2C,EAAJ,KAAW8rB,UAAlB;AAAA,GAAZ,EAA0C,CAA1C,CAAP;AACD,CAHM,C;;;;;;;;;;;;;;AC3IP;;AACA;;AAMA;;AACA;;IAAYyrB,K;;;;kBAEG,UAACjwB,YAAD,EAAe0B,MAAf;AAAA,MAAyBtpB,IAAzB,QAAyBA,IAAzB;AAAA,SAAoC,CACjD;AACEmW,gCADF;AAEEoX,UAAM,OAFR;AAGEhE,cAAU;AAHZ,GADiD,EAMjD;AACEpT,iCADF;AAEEoX,UAAM,SAFR;AAGE5iB,UAAM,MAHR;AAIEiU,WAAO5e,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,+BADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CAJT;AAQEynB,cAAU;AACRpb,eAAS,sCACPnO,KAAK6B,aAAL,CAAmB;AACjBvB,YAAI,iCADa;AAEjBwB,wBAAgB;AAFC,OAAnB,CADO;AADD;AARZ,GANiD,EAuBjD;AACEqU,8BADF;AAEEoX,UAAM,MAFR;AAGE5iB,UAAM,MAHR;AAIEiU,WAAO5e,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,4BADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CAJT;AAQEynB,cAAU;AACRuc,kBAAY9lC,KAAK6B,aAAL,CAAmB;AAC7BvB,YAAI,8BADyB;AAE7BwB,wBAAgB;AAFa,OAAnB;AADJ,KARZ;AAcEyvC,cAAUsG,MAAMpc,sBAAN,CAA6B7T,aAAatnB,EAA1C,EAA8CgpB,OAAOhpB,EAArD;AAdZ,GAvBiD,EAuCjD;AACE6V,kCADF;AAEEoX,UAAM,UAFR;AAGE5iB,UAAM,UAHR;AAIEiU,WAAO5e,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,gCADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CAJT;AAQEynB,cAAU;AACRkL,kBAAY,SADJ;AAER8K,kBAAYv/B,KAAK6B,aAAL,CAAmB;AAC7BvB,YAAI,wCADyB;AAE7BwB,wBAAgB;AAFa,OAAnB,CAFJ;AAMR80B,mBAAa52B,KAAK6B,aAAL,CAAmB;AAC9BvB,YAAI,8CAD0B;AAE9BwB,wBAAgB;AAFc,OAAnB;AAIb;AAVQ,KARZ;AAoBEyvC,cAAUsG,MAAMxY,QAAN,CAAezX,aAAatnB,EAA5B,EAAgCgpB,OAAOhpB,EAAvC;AApBZ,GAvCiD,EA6DjD;AACE6V,kCADF;AAEEoX,UAAM,UAFR;AAGE5iB,UAAM,OAHR;AAIEiU,WAAO5e,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,gCADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CAJT;AAQEyvC,cAAUsG,MAAMzlB,QAAN,CAAexK,aAAatnB,EAA5B,EAAgCgpB,OAAOhpB,EAAvC;AARZ,GA7DiD,CAApC;AAAA,C;;;;;;;;;;;;;;ACVf;;;;AACA;;;;;;;;AAEA,IAAI,mBAAAoT,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,wDAAAA;;AAEhC,IAAMokC,cAAc,SAAdA,WAAc;AAAA,MAAGntC,IAAH,QAAGA,IAAH;AAAA,MAASiU,KAAT,QAASA,KAAT;AAAA,MAAgBm5B,UAAhB,QAAgBA,UAAhB;AAAA,MAA+BhuC,KAA/B;;AAAA,SAClB;AAAA;AAAA,MAAK,WAAU,kCAAf;AACE;AAAA;AAAA,QAAQ,WAAU,YAAlB,EAA+B,SAAS;AAAA,iBAAMguC,WAAWhuC,KAAX,CAAN;AAAA,SAAxC;AACE;AAAA;AAAA,UAAM,WAAU,SAAhB;AACE,6CAAG,sBAAoBY,IAApB,iBAAH,GADF;AAEE;AAAA;AAAA,YAAM,WAAU,MAAhB;AAAwBiU;AAAxB;AAFF;AADF;AADF,GADkB;AAAA,CAApB;;AAWAk5B,YAAYtwC,SAAZ,GAAwB;AACtBoX,SAAO,oBAAUjX,MAAV,CAAiBD,UADF;AAEtBiD,QAAM,oBAAUhD,MAAV,CAAiBD,UAFD;AAGtB6lB,QAAM,oBAAU5lB,MAAV,CAAiBD,UAHD;AAItBqwC,cAAY,oBAAUtvC,IAAV,CAAef,UAJL;AAKtB6hB,YAAU,oBAAU3hB;AALE,CAAxB;;kBAQekwC,W;;;;;;;ACxBf,yC;;;;;;;;;;;;;;;;ACAA;;;;AACA;;AACA;;;;AACA;;;;;;AAEA,IAAI,mBAAApkC,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,iDAAAA;;AAEhC,IAAMskC,QAAQ,SAARA,KAAQ,OAA4C;AAAA,MAAzCpwB,YAAyC,QAAzCA,YAAyC;AAAA,MAA3B0B,MAA2B,QAA3BA,MAA2B;AAAA,MAAnBgE,MAAmB,QAAnBA,MAAmB;AAAA,MAAXttB,IAAW,QAAXA,IAAW;;AACxD,MAAM+3C,aAAa,SAAbA,UAAa;AAAA,WAASzqB,oBAAWhE,MAAX,EAAsBvf,KAAtB,EAAT;AAAA,GAAnB;AACA,MAAMkuC,gBAAgB,sBAAQrwB,YAAR,EAAsB0B,MAAtB,EAA8B,EAAEtpB,UAAF,EAA9B,EAAwCwG,MAAxC,CAA+C;AAAA,WAAK2pC,EAAE5iB,IAAF,KAAW,OAAhB;AAAA,GAA/C,CAAtB;;AAEA,SACE;AAAA;AAAA,MAAK,WAAU,uDAAf;AACG0qB,kBAAc7xC,GAAd,CAAkB,UAAC8xC,EAAD,EAAKptC,KAAL,EAAe;AAChC,UAAMf,QAAQkX,OAAOC,MAAP,CAAc,EAAd,EAAkBg3B,EAAlB,CAAd;AACA,aAAOnuC,MAAMoM,SAAb;AACA,aAAO,gEAAa,aAAWrL,KAAxB,EAAiC,YAAYitC,UAA7C,IAA6DhuC,KAA7D,EAAP;AACD,KAJA;AADH,GADF;AASD,CAbD;;AAeAiuC,MAAMxwC,SAAN,GAAkB;AAChBxH,QAAM,qBAAU0H;AADA,CAAlB;;kBAIe,2BAAWswC,KAAX,C;;;;;;;AC1Bf,yC;;;;;;;;;;;;;;;;;;;0CCAS32C,O;;;;;;;;;gDACAA,O;;;;;;;;;;;;;;;;;;;;ACQT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbO,IAAM82C,wBAAQ,SAARA,KAAQ;AAAA,SAAM,QAAN;AAAA,CAAd;AACA,IAAMC,0BAAS,SAATA,MAAS;AAAA,SAAM,SAAN;AAAA,CAAf;;AAEA,IAAMC,oCAAc,SAAdA,WAAc;AAAA,SAAM,eAAN;AAAA,CAApB;AACA,IAAMC,wCAAgB,SAAhBA,aAAgB;AAAA,SAAM,WAAN;AAAA,CAAtB;AACA,IAAMC,4CAAkB,SAAlBA,eAAkB;AAAA,SAAM,mBAAN;AAAA,CAAxB;AACP;AACA;AACA,E;;;;;;;;;;;;;;;;;QC+CgBC,c,GAAAA,c;QA8CAC,kB,GAAAA,kB;;AArGhB;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMz5C,MAAM,gBAAMmU,MAAN,CAAa,EAAEulC,SAAS,iBAAoBznB,MAA/B,EAAb,CAAZ;;AAEA,IAAM0nB,cAAc,wBAApB;;AAEA,IAAMC,mBAAmB,yCAAuB;AAC9CC,OAAK,iBAAoBC,UADqB;AAE9CC,qBAAmB;AAF2B,CAAvB,CAAzB;;AAKAH,iBAAiBI,GAAjB,CAAqB,CACnB;AACEC,iBADF,2BACmBC,GADnB,EACwB9zC,IADxB,EAC8B;AAC1B,QAAI,CAAC8zC,IAAIniB,OAAJ,CAAYx2B,OAAjB,EAA0B;AACxB24C,UAAIniB,OAAJ,CAAYx2B,OAAZ,GAAsB,EAAtB;AACD;AACD;AACA,QAAM44C,eAAeD,IAAIE,OAAJ,CAAYC,aAAZ,KAA8B,cAAnD;AACA,QAAI,mBAAA3lC,CAAQ,OAAR,EAAiBC,SAArB,EAAgC;AAC9B,UAAM2lC,mBAAmBp3C,OAAOC,YAAP,CAAoBo3C,OAApB,CAA4B,MAA5B,CAAzB;AACA,UAAM/3C,OAAO83C,mBAAmBhgC,KAAKkU,KAAL,CAAW8rB,gBAAX,CAAnB,GAAkD,EAA/D;AACA,UAAI93C,QAAQA,KAAKE,WAAb,IAA4By3C,YAAhC,EAA8C;AAC5CD,YAAIniB,OAAJ,CAAYx2B,OAAZ,CAAoBi5C,aAApB,eAA8Ch4C,KAAKE,WAAL,CAAiB,cAAjB,CAA9C;AACD;AACF;AACD0D;AACD;AAfH,CADmB,CAArB;;AAoBAwzC,iBAAiBa,QAAjB,CAA0B,CAAC;AACzBC,gBADyB,gCACKt0C,IADL,EACW;AAAA,QAAlB6sC,QAAkB,QAAlBA,QAAkB;;AAClC,QAAIA,SAAS3yC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B;AACD;AACD8F;AACD;AANwB,CAAD,CAA1B;;AASO,IAAMu0C,0BAAS,SAATA,MAAS;AAAA,MAAC5iB,OAAD,uEAAW,EAAX;AAAA,SACpB;AACEiI,aAAS,IADX;AAEE4Z;AAFF,KAGK7hB,OAHL,EADoB;AAAA,CAAf;;AAOA,SAASyhB,cAAT,CAAyBn6C,YAAzB,EAAuCu7C,kBAAvC,EAA2D;AAChEjB,cAAYtqC,IAAZ,CACE,qBAAMwrC,iBAAN;AACEC,0BADF;AAEE96C;AAFF,KAGK46C,kBAHL,EADF;;AAQAjB,cAAYtqC,IAAZ,CAAiBsrC,SAASI,UAAT,EAAjB;;AAEA,MAAIC,QAAQ,wBACV,8BADU,EAEV37C,YAFU,EAGV,oBACE,wCAAmBs6C,WAAnB,CADF,EAEE,QAAyC,mBAASsB,UAAT,EAAzC,GAAiE;AAAA,WAAK/C,CAAL;AAAA,GAFnE,CAHU,CAAZ;;AASA8C,QAAMlwB,aAAN,GAAsB,EAAtB;;AAEA9qB,MAAIk7C,YAAJ,CAAiBjI,QAAjB,CAA0B+G,GAA1B,CACE,oBAAY;AACV,WAAO/G,QAAP;AACD,GAHH,EAIE,iBAA4B;AAAA,QAAzBA,QAAyB,SAAzBA,QAAyB;AAAA,QAAZrvC,KAAY;;AAC1B,QAAIqvC,YAAYA,SAAS3yC,MAAT,KAAoB,GAApC,EAAyC;AACvC06C,YAAMl7C,QAAN,CAAe,6BAAf;AACD;AACD;AACA,WAAOW,QAAQC,MAAR,YAAiBuyC,kBAAjB,IAA8BrvC,KAA9B,EAAP;AACD,GAVH;;AAaA,MAAI,IAAJ,EAA4C;AAC1C,QAAI,KAAJ,EAAgB;AACdu3C,aAAOC,GAAP,CAAWC,MAAX,CAAkB,iBAAlB,EAAqC;AAAA,eACnCL,MAAMM,cAAN,CAAqB5mC,2BAA2BrS,OAAhD,CADmC;AAAA,OAArC;AAGD;AACF;;AAED,SAAO24C,KAAP;AACD;;AAEM,SAASvB,kBAAT,CAA6BuB,KAA7B,EAAoCrzB,IAApC,EAA0C4zB,YAA1C,EAAwD;AAC7DP,QAAMlwB,aAAN,CAAoBnD,IAApB,IAA4B4zB,YAA5B;AACAP,QAAMM,cAAN,CAAqB,6BAAcN,MAAMlwB,aAApB,CAArB;AACD,C;;;;;;;;;;;;;;;;;ACxGD;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;IAAY0wB,U;;AACZ;;IAAYC,W;;;;;;;;AAEZ,IAAMC,iBAAiB,SAAjBA,cAAiB;AAAA,MACrBC,aADqB,QACrBA,aADqB;AAAA,yBAErBxiB,MAFqB;AAAA,MAGnB73B,EAHmB,eAGnBA,EAHmB;AAAA,MAInBs6C,KAJmB,eAInBA,KAJmB;AAAA,MAKnBC,UALmB,eAKnBA,UALmB;AAAA,MAMnBl0B,IANmB,eAMnBA,IANmB;AAAA,MAOnBm0B,UAPmB,eAOnBA,UAPmB;AAAA,MAQnBC,GARmB,eAQnBA,GARmB;AAAA,MAUrBC,IAVqB,QAUrBA,IAVqB;AAAA,MAWlBvU,SAXkB;;AAAA,SAarB;AAAA;AAAA;AACE,kEADF;AAEE;AAAC,mBAAD;AAAA,mBACMA,SADN;AAEE,oBAAW;AAFb;AAIE,+CAAO,MAAK,QAAZ,EAAqB,MAAK,IAA1B,EAA+B,OAAOnmC,GAAG8O,KAAzC,GAJF;AAKE,+CAAO,MAAK,QAAZ,EAAqB,MAAK,OAA1B,EAAkC,OAAOwrC,MAAMxrC,KAA/C,GALF;AAOE;AAAA;AAAA,UAAG,WAAU,eAAb;AAAA;AAAA,OAPF;AAaG4rC,cACC;AAAA;AAAA,UAAK,WAAU,eAAf;AACE;AAAA;AAAA,YAAG,WAAU,WAAb;AAAA;AAAA,SADF;AAEE;AAAA;AAAA;AACE;AAAA;AAAA,cAAM,WAAU,MAAhB;AAAwBA,iBAAKC,KAA7B;AAAA;AAAA,WADF;AAEGD,eAAKE,YAAL,CAAkBjuB,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B,CAFH;AAEkC,aAFlC;AAGG+tB,eAAKE,YAAL,CAAkBjuB,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B,CAHH;AAAA;AAG0C+tB,eAAKG;AAH/C,SAFF;AAOE;AAAA;AAAA;AAAA;AAAW;AAAA;AAAA,cAAM,WAAU,MAAhB;AAAwBH,iBAAKI;AAA7B;AAAX,SAPF;AAQE;AAAA;AAAA;AAAA;AACaJ,eAAKK,eAAL,CAAqBpuB,KAArB,CAA2B,CAA3B,EAA8B,CAA9B,CADb;AAAA;AACgD+tB,eAAKK,eAAL,CAAqBpuB,KAArB,CAA2B,CAA3B,EAA8B,CAA9B;AADhD;AARF,OAdJ;AA4BE;AAAA;AAAA,mBAAW,WAAU,KAArB,EAA2B,WAAU,YAArC,IAAsD4tB,UAAtD;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEE;AACE,gBAAK,MADP;AAEE,uBAAY;AAFd;AAFF,OA5BF;AAoCE;AAAA;AAAA,mBAAW,WAAU,KAArB,EAA2B,WAAU,MAArC,IAAgDl0B,IAAhD;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEE;AACE,gBAAK,MADP;AAEE,uBAAY;AAFd;AAFF,OApCF;AA4CE;AAAA;AAAA,UAAK,WAAU,qBAAf;AACE;AAAA;AAAA,qBAAW,WAAU,WAArB,EAAiC,WAAU,YAA3C,IAA4Dm0B,UAA5D;AACE;AAAA;AAAA;AAAA;AAAA,WADF;AAEE;AACE,kBAAK,MADP;AAEE,yBAAY;AAFd;AAFF,SADF;AASE;AAAA;AAAA,qBAAW,WAAU,eAArB,EAAqC,WAAU,KAA/C,IAAyDC,GAAzD;AACE;AAAA;AAAA;AAAA;AAAA,WADF;AAEE;AACE,kBAAK,MADP;AAEE,yBAAY;AAFd;AAFF;AATF;AA5CF;AAFF,GAbqB;AAAA,CAAvB;;AAgFA,IAAM5iB,SAAS,CAAC,IAAD,EAAO,OAAP,EAAgB,YAAhB,EAA8B,MAA9B,EAAsC,YAAtC,EAAoD,KAApD,CAAf;;AAEA,IAAMmjB,mBAAmB,SAAnBA,gBAAmB,SAAU;AACjC,MAAM97C,SAAS,EAAf;AACA,MAAI,CAACwmC,OAAO6U,UAAZ,EAAwB;AACtBr7C,WAAOq7C,UAAP,GAAoB,aAApB;AACD;AACD,MAAI,CAAC7U,OAAOrf,IAAZ,EAAkB;AAChBnnB,WAAOmnB,IAAP,GAAc,aAAd;AACD;AACD,MAAI,CAACqf,OAAO8U,UAAZ,EAAwB;AACtBt7C,WAAOs7C,UAAP,GAAoB,aAApB;AACD;AACD,MAAI,CAAC9U,OAAO+U,GAAZ,EAAiB;AACfv7C,WAAOu7C,GAAP,GAAa,aAAb;AACD;AACD,SAAOv7C,MAAP;AACD,CAfD;;AAiBAk7C,eAAelzC,SAAf,GAA2B;AACzBmzC,iBAAe,oBAAUjyC,SAAV,CAAoB,CACjC,oBAAU8b,IADuB,EAEjC,oBAAU/b,IAFuB,CAApB,EAGZf,UAJsB;AAKzBszC,QAAM,oBAAUzmC,KAAV,CAAgB;AACpB0mC,WAAO,oBAAUtzC,MAAV,CAAiBD,UADJ;AAEpBwzC,kBAAc,oBAAUvzC,MAAV,CAAiBD,UAFX;AAGpByzC,iBAAa,oBAAUxzC,MAAV,CAAiBD,UAHV;AAIpB0zC,iBAAa,oBAAUzzC,MAAV,CAAiBD,UAJV;AAKpB2zC,qBAAiB,oBAAU1zC,MAAV,CAAiBD;AALd,GAAhB;AALmB,CAA3B;;AAcO,IAAM6zC,kCAAa;AACxBV,cAAYJ,YAAYI,UADA;AAExBC,cAAYL,YAAYtW,IAAZ,CAAiBqX,IAFL;AAGxBT,OAAKN,YAAYhzC,MAAZ,CAAmBolC,GAAnB,CAAuB,CAAvB,CAHmB;AAIxBlmB,QAAM8zB,YAAY9yC,MAAZ,CAAmB8zC;AAJD,CAAnB;;kBAOQ;AAAA,MAAGljB,QAAH,SAAGA,QAAH;AAAA,MAAa3vB,eAAb,SAAaA,eAAb;AAAA,MAA8BmrB,kBAA9B,SAA8BA,kBAA9B;AAAA,SAAuD,0BAAU;AAC9EhK,UAAM,gBADwE;AAE9EoO,kBAF8E;AAG9EI,cAAUiiB,WAAWc,gBAAX,CAA4B,EAAEA,kCAAF,EAAoB/iB,kBAApB,EAA5B;AAHoE,GAAV,EAInE3vB,eAJmE,EAIlDmrB,kBAJkD,EAI9B2mB,cAJ8B,CAAvD;AAAA,C;;;;;;;;;;;;;;;;;AChIf;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;IAAYgB,gB;;AACZ;;IAAYlB,U;;AACZ;;IAAYC,W;;;;;;;;AAEZ,IAAMkB,gBAAgB,SAAhBA,aAAgB;AAAA,MACpBhB,aADoB,QACpBA,aADoB;AAAA,yBAEpBxiB,MAFoB;AAAA,MAGlB73B,EAHkB,eAGlBA,EAHkB;AAAA,MAIlBs6C,KAJkB,eAIlBA,KAJkB;AAAA,MAKNgB,SALM,eAKlBC,UALkB;AAAA,MAOjBpV,SAPiB;;AAAA,SASpB;AAAA;AAAA;AACE,kEADF;AAEE;AAAC,mBAAD;AAAA,mBACMA,SADN;AAEE,oBAAW;AAFb;AAIE,+CAAO,MAAK,QAAZ,EAAqB,MAAK,IAA1B,EAA+B,OAAOnmC,GAAG8O,KAAzC,GAJF;AAKE,+CAAO,MAAK,QAAZ,EAAqB,MAAK,OAA1B,EAAkC,OAAOwrC,MAAMxrC,KAA/C,GALF;AAME;AAAA;AAAA,UAAG,WAAU,eAAb;AAAA;AAAA,OANF;AAYE;AAAA;AAAA,mBAAW,WAAU,KAArB,EAA2B,WAAU,WAArC,IAAqDwsC,SAArD;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEE;AACE,gBAAK,MADP;AAEE,uBAAY;AAFd;AAFF;AAZF;AAFF,GAToB;AAAA,CAAtB;;AAkCA,IAAMzjB,SAAS,CAAC,IAAD,EAAO,OAAP,EAAgB,YAAhB,CAAf;;AAEA,IAAMmjB,mBAAmB,SAAnBA,gBAAmB,SAAU;AACjC,MAAM97C,SAAS,EAAf;AACA,MAAI,CAACwmC,OAAO6V,UAAZ,EAAwB;AACtBr8C,WAAOq8C,UAAP,GAAoB,aAApB;AACD,GAFD,MAEO,IAAI,CAACH,iBAAiBvX,IAAjB,CAAsB6B,OAAO6V,UAA7B,EAAyCC,QAA9C,EAAwD;AAC7Dt8C,WAAOq8C,UAAP,GAAoB,0BAApB;AACD;AACD,SAAOr8C,MAAP;AACD,CARD;;AAUAm8C,cAAcn0C,SAAd,GAA0B;AACxBmzC,iBAAe,oBAAUjyC,SAAV,CAAoB,CACjC,oBAAU8b,IADuB,EAEjC,oBAAU/b,IAFuB,CAApB,EAGZf;AAJqB,CAA1B;;AAOO,IAAM6zC,kCAAa;AACxBM,cAAYpB,YAAYtW,IAAZ,CAAiB2X;AADL,CAAnB;;kBAIQ;AAAA,MAAGvjB,QAAH,SAAGA,QAAH;AAAA,MAAa3vB,eAAb,SAAaA,eAAb;AAAA,MAA8BmrB,kBAA9B,SAA8BA,kBAA9B;AAAA,SAAuD,0BAAU;AAC9EhK,UAAM,eADwE;AAE9EoO,kBAF8E;AAG9EI,cAAUiiB,WAAWc,gBAAX,CAA4B,EAAEA,kCAAF,EAAoB/iB,kBAApB,EAA5B;AAHoE,GAAV,EAInE3vB,eAJmE,EAIlDmrB,kBAJkD,EAI9B4nB,aAJ8B,CAAvD;AAAA,C;;;;;;;;;;;;;AClEf,IAAMz9C,IAAI,SAAJA,CAAI;AAAA,4BAAyBC,IAAzB;AAAA,CAAV;;AAEO,IAAM49C,wDAAwB79C,EAAE,uBAAF,CAA9B;AACA,IAAM89C,0DAAyB99C,EAAE,wBAAF,CAA/B;AACA,IAAM+9C,0DAAyB/9C,EAAE,wBAAF,CAA/B;;AAEA,IAAMg+C,0DAAyBh+C,EAAE,wBAAF,CAA/B;AACA,IAAMi+C,0DAAyBj+C,EAAE,wBAAF,CAA/B;AACA,IAAMk+C,0DAAyBl+C,EAAE,wBAAF,CAA/B;;AAEA,IAAMm+C,oDAAsBn+C,EAAE,qBAAF,CAA5B;AACA,IAAMo+C,oDAAsBp+C,EAAE,qBAAF,CAA5B,C;;;;;;;;;;;;;;;;;ACXP;;IAAYA,C;;;;;;AAEL,IAAMG,sCAAe;AAC1B;AACA;AACA;AACA;AACAoE,aAAW,KALe;AAM1B;AACA;AACA;AACA;AACA;AACA85C,oBAAkB55C,SAXQ;AAY1B;AACA;AACA;AACA;AACA;AACA65C,kBAAgB,EAjBU;AAkB1B;AACA;AACA;AACA;AACA55C,SAAOD,SAtBmB;AAuB1B;AACA;AACA;AACA;AACApD,QAAMoD;AA3BoB,CAArB;;kBA8BQ,YAAuC;AAAA,MAAtChE,KAAsC,uEAA9BN,YAA8B;AAAA,MAAhBO,MAAgB,uEAAP,EAAO;;AACpD,UAAQA,OAAOT,IAAf;AACE,SAAKD,EAAE69C,qBAAP;AACE,0BAAYp9C,KAAZ,IAAmB49C,kBAAkB39C,OAAOC,OAA5C;;AAEF,SAAKX,EAAE89C,sBAAP;AACE,0BACKr9C,KADL;AAEE69C,qDAAoB79C,MAAM69C,cAA1B,IAA0C59C,OAAOC,OAAjD;AAFF;AAIF,SAAKX,EAAE+9C,sBAAP;AACE,UAAMnxC,QAAQlM,OAAOC,OAArB;AACA,0BACKF,KADL;AAEE69C,qDACK79C,MAAM69C,cAAN,CAAqBvvB,KAArB,CAA2B,CAA3B,EAA8BniB,KAA9B,CADL,sBAEKnM,MAAM69C,cAAN,CAAqBvvB,KAArB,CAA2BniB,QAAQ,CAAnC,CAFL;AAFF;;AAQF,SAAK5M,EAAEg+C,sBAAP;AACE,0BAAYv9C,KAAZ,IAAmB8D,WAAW,IAA9B;AACF,SAAKvE,EAAEi+C,sBAAP;AACE,0BACKx9C,KADL;AAEE8D,mBAAW,KAFb;AAGE85C,0BAAkB55C,SAHpB;AAIE65C,wBAAgB,EAJlB;AAKE55C,eAAOD;AALT;AAOF,SAAKzE,EAAEk+C,sBAAP;AACE,0BAAYz9C,KAAZ,IAAmB8D,WAAW,KAA9B,EAAqCG,OAAOhE,OAAOC,OAAnD;;AAEF,SAAKX,EAAEm+C,mBAAP;AACE,0BAAY19C,KAAZ,IAAmBY,MAAMX,OAAOC,OAAhC;AACF,SAAKX,EAAEo+C,mBAAP;AACE,0BAAY39C,KAAZ,IAAmBiE,OAAOhE,OAAOC,OAAjC;;AAEF;AACE,aAAOF,KAAP;AAtCJ;AAwCD,C;;;;;;;;;;;;;;ACzED;;AACA;;;;;;kBAEe,4BAAgB;AAC7B89C;AAD6B,CAAhB,C;;;;;;;;;;;;;ACHR,IAAMC,8BAAW,SAAXA,QAAW,CAACttC,KAAD,EAAQtE,KAAR,EAAe6xC,IAAf;AAAA,SAAwBA,KAAKrqC,OAAL,CAAalD,KAAb,MAAwBtE,KAAhD;AAAA,CAAjB;;AAEA,IAAMq4B,wBAAQ,SAARA,KAAQ;AAAA,SAASx6B,MAAMnC,MAAN,CAAa;AAAA,WAAKo2C,CAAL;AAAA,GAAb,CAAT;AAAA,CAAd;;AAEA,IAAM7d,4BAAU,SAAVA,OAAU,QAAS;AAC9B,MAAI8d,eAAel0C,MAAM6C,MAAzB;AACA,MAAIsxC,uBAAJ;AACA,MAAIC,oBAAJ;;AAEA;AACA,SAAOF,iBAAiB,CAAxB,EAA2B;AACzB;AACAE,kBAAc1S,KAAK2S,KAAL,CAAW3S,KAAK4S,MAAL,KAAgBJ,YAA3B,CAAd;AACAA,oBAAgB,CAAhB;;AAEA;AACAC,qBAAiBn0C,MAAMk0C,YAAN,CAAjB;AACAl0C,UAAMk0C,YAAN,IAAsBl0C,MAAMo0C,WAAN,CAAtB;AACAp0C,UAAMo0C,WAAN,IAAqBD,cAArB;AACD;;AAED,SAAOn0C,KAAP;AACD,CAlBM,C;;;;;;;;;;;;;ACJP,IAAMu0C,aAAa,mBAAAxpC,CAAQ,OAAR,EAAiBC,SAAjB,GAA6BzR,OAAOi7C,SAAP,CAAiBD,UAA9C,GAA2D,mBAA9E;;AAEO,IAAMjW,wBAAQ,SAARA,KAAQ;AAAA,SAAMiW,WAAWjd,QAAX,CAAoB,KAApB,CAAN;AAAA,CAAd;AACA,IAAMuH,4BAAU,SAAVA,OAAU;AAAA,SAAM0V,WAAWjd,QAAX,CAAoB,OAApB,CAAN;AAAA,CAAhB;AACA,IAAMoH,gCAAY,SAAZA,SAAY;AAAA,SAAM6V,WAAWjd,QAAX,CAAoB,KAApB,CAAN;AAAA,CAAlB;AACA,IAAMwH,0BAAS,SAATA,MAAS;AAAA,SAAMyV,WAAWjd,QAAX,CAAoB,KAApB,CAAN;AAAA,CAAf,C;;;;;;;;;;;;;;;;;ACLP;;;;;;AAEA;AACA;AACA;AACA,IAAMmd,gBAAgB,EAAEC,kBAAkB,GAApB,EAAyBC,SAAS,GAAlC,EAAtB;AACA,IAAMC,+BAAuBH,aAAvB,IAAsC5qC,QAAQ,KAA9C,EAAqDgrC,UAAU,CAA/D,EAAkEC,UAAU,CAA5E,GAAN;AACA,IAAMC,kCAA0BH,eAA1B,IAA2CC,UAAU,CAArD,EAAwDC,UAAU,CAAlE,GAAN;AACA,IAAME,eAAe,EAAEN,kBAAkB,EAApB,EAAwBC,SAAS,GAAjC,EAAsCE,UAAU,CAAhD,EAArB;AACA,IAAMI,iBAAiB,EAAEP,kBAAkB,EAApB,EAAwBI,UAAU;;AAEzD;AACA;AACA;AAJuB,CAAvB,CAKO,IAAMI,8BAAW,4BAAON,eAAP,CAAjB;AACA,IAAM1S,oCAAc,4BAAO6S,kBAAP,CAApB;AACA,IAAMj2C,0BAAS,4BAAO21C,aAAP,CAAf;AACA,IAAMU,wBAAQ,4BAAOH,YAAP,CAAd;AACA,IAAMI,4BAAU,4BAAOH,cAAP,CAAhB,C;;;;;;;;;;;;;;;;;AClBP;;;;AAEO,IAAMjrB,oDAAsB,SAAtBA,mBAAsB;AAAA,SAAS;AAC1C7N,WAAO9kB,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,2CADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CADmC;AAK1CxC,YAAQ,OALkC;AAM1C6e,aAASne,KAAK6B,aAAL,CAAmB;AAC1BvB,UAAI,6CADsB;AAE1BwB,sBACE,qEACA;AAJwB,KAAnB,CANiC;AAa1Ck8C,kBAAc,CAb4B;AAc1CC,iBAAa,IAd6B;AAe1CC,iBAAa;AAf6B,GAAT;AAAA,CAA5B;;AAkBA,IAAMC,kDAAqB,SAArBA,kBAAqB;AAAA,SAAS;AACzCr5B,WAAO9kB,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,0CADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CADkC;AAKzCxC,YAAQ,SALiC;AAMzC6e,aAASne,KAAK6B,aAAL,CAAmB;AAC1BvB,UAAI,4CADsB;AAE1BwB,sBACE,mDACA;AAJwB,KAAnB,CANgC;AAazCk8C,kBAAc,IAb2B;AAczCC,iBAAa,IAd4B;AAezCC,iBAAa;AAf4B,GAAT;AAAA,CAA3B;;AAkBA,IAAME,kDAAqB,SAArBA,kBAAqB;AAAA,SAAS;AACzCt5B,WAAO9kB,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,0CADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CADkC;AAKzCxC,YAAQ,SALiC;AAMzC6e,aAASne,KAAK6B,aAAL,CAAmB;AAC1BvB,UAAI,4CADsB;AAE1BwB,sBAAgB,6CACd,gDADc,GAEd;AAJwB,KAAnB,CANgC;AAYzCk8C,kBAAc,CAZ2B;AAazCC,iBAAa,IAb4B;AAczCC,iBAAa;AAd4B,GAAT;AAAA,CAA3B;;AAiBA,IAAMG,4EAAkC,SAAlCA,+BAAkC;AAAA,SAAS;AACtDv5B,WAAO9kB,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,yDADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CAD+C;AAKtDxC,YAAQ,MAL8C;AAMtD6e,aAASne,KAAK6B,aAAL,CAAmB;AAC1BvB,UAAI,2DADsB;AAE1BwB,sBACE,uFACA,qFADA,GAEA;AALwB,KAAnB,CAN6C;AAatDk8C,kBAAc,IAbwC;AActDC,iBAAa,IAdyC;AAetDC,iBAAa;AAfyC,GAAT;AAAA,CAAxC;;AAkBA,IAAMI,0EAAiC,SAAjCA,8BAAiC;AAAA,SAAS;AACrDx5B,WAAO9kB,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,uDADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CAD8C;AAKrDxC,YAAQ,SAL6C;AAMrD6e,aAASne,KAAK6B,aAAL,CAAmB;AAC1BvB,UAAI,yDADsB;AAE1BwB,sBAAgB,kEACd,6EADc,GAEd;AAJwB,KAAnB,CAN4C;AAYrDk8C,kBAAc,CAZuC;AAarDC,iBAAa,IAbwC;AAcrDC,iBAAa;AAdwC,GAAT;AAAA,CAAvC;;AAiBA,IAAMK,0DAAyB,SAAzBA,sBAAyB,CAACv+C,IAAD,EAAOgB,KAAP;AAAA,SAAkB;AACtD8jB,WAAO9kB,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,8CADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CAD+C;AAKtDxC,YAAQ,SAL8C;AAMtD6e,aAASne,KAAK6B,aAAL,CAAmB;AAC1BvB,UAAI,gDADsB;AAE1BwB,sBAAgB,qDACd;AAHwB,KAAnB,EAIN,EAAEd,YAAF,EAJM,CAN6C;AAWtDg9C,kBAAc,KAXwC;AAYtDC,iBAAa,IAZyC;AAatDC,iBAAa;AAbyC,GAAlB;AAAA,CAA/B;;AAgBA,IAAMM,gEAA4B,SAA5BA,yBAA4B;AAAA,SAAS;AAChD15B,WAAO9kB,KAAK6B,aAAL,CAAmB;AACxBvB,UAAI,iDADoB;AAExBwB,sBAAgB;AAFQ,KAAnB,CADyC;AAKhDxC,YAAQ,SALwC;AAMhD6e,aAASne,KAAK6B,aAAL,CAAmB;AAC1BvB,UAAI,mDADsB;AAE1BwB,sBAAgB,oDACd;AAHwB,KAAnB,CANuC;AAWhDk8C,kBAAc,KAXkC;AAYhDC,iBAAa,IAZmC;AAahDC,iBAAa;AAbmC,GAAT;AAAA,CAAlC;;AAgBP;;AAEA,IAAMO,YAAY,SAAZA,SAAY,CAACrvC,KAAD,EAAQpP,IAAR,EAAiB;AACjC,MAAI,QAAOoP,KAAP,yCAAOA,KAAP,OAAiB,QAArB,EAA+B;AAAA,QACrB5E,OADqB,GACG4E,KADH,CACrB5E,OADqB;AAAA,QACT2T,OADS,4BACG/O,KADH;;AAE7B,WAAOpP,KAAK6B,aAAL,CAAmBsc,OAAnB,EAA4B3T,OAA5B,CAAP;AACD;AACD,SAAO4E,KAAP;AACD,CAND;;AAQO,IAAMsvC,0BAAS,SAATA,MAAS,OAA6B5/C,QAA7B,EAAuC84C,QAAvC,EAAoD;AAAA,MAAjDt4C,MAAiD,QAAjDA,MAAiD;AAAA,MAAzCwlB,KAAyC,QAAzCA,KAAyC;AAAA,MAAlC3G,OAAkC,QAAlCA,OAAkC;;AAAA,cACvDy5B,YAAY,EAD2C;AAAA,MAChE53C,IADgE,SAChEA,IADgE;;AAExElB,WAAS,6BAAgB;AACvBQ,kBADuB;AAEvBwlB,WAAO25B,UAAU35B,KAAV,EAAiB9kB,IAAjB,CAFgB;AAGvBme,aAASsgC,UAAUtgC,OAAV,EAAmBne,IAAnB,CAHc;AAIvBg+C,kBAAc,CAJS;AAKvBW,iBAAa,IALU;AAMvBT,iBAAa;AANU,GAAhB,CAAT;AAQD,CAVM,C;;;;;;;;;;;;;;ACpIP;AACA;AACA;AACA;kBACe,UAAC9uC,KAAD,EAAQwvC,aAAR,EAA0B;AACvC,MAAI,CAACxvC,KAAL,EAAY,OAAOA,KAAP;;AAEZ,MAAMyvC,OAAOzvC,MAAMG,OAAN,CAAc,QAAd,EAAwB,EAAxB,CAAb;AACA,MAAMuvC,MAAM,GAAZ;AACA,MAAI,CAACF,aAAD,IAAkBxvC,MAAM5D,MAAN,GAAeozC,cAAcpzC,MAAnD,EAA2D;AACzD;AACA,QAAIqzC,KAAKrzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,kBAAUqzC,IAAV,GAAiBC,GAAjB;AACD;AACD,QAAID,KAAKrzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,kBAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,CAAnC,GAAmD6xB,GAAnD;AACD;AACD,QAAID,KAAKrzC,MAAL,KAAgB,EAApB,EAAwB;AACtB,kBAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAnC,GAAsD6xB,GAAtD,GAA4DD,KAAK5xB,KAAL,CAAW,CAAX,CAA5D,GAA4E6xB,GAA5E;AACD;AACF;AACD,MAAID,KAAKrzC,MAAL,IAAe,CAAnB,EAAsB;AACpB,WAAOqzC,IAAP;AACD;AACD,MAAIA,KAAKrzC,MAAL,IAAe,CAAnB,EAAsB;AACpB,gBAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,CAAnC;AACD;AACD,MAAI4xB,KAAKrzC,MAAL,IAAe,EAAnB,EAAuB;AACrB,gBAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAnC,GAAsD6xB,GAAtD,GAA4DD,KAAK5xB,KAAL,CAAW,CAAX,CAA5D;AACD;AACD,cAAU4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAnC,GAAsD6xB,GAAtD,GAA4DD,KAAK5xB,KAAL,CAAW,CAAX,EAAc,EAAd,CAA5D,GAAgF6xB,GAAhF,GAAsFD,KAAK5xB,KAAL,CAAW,EAAX,EAAe,EAAf,CAAtF;AACD,C;;;;;;;;;;;;;;kBC/Bc,UAAC7d,KAAD,EAAQwvC,aAAR,EAA0B;AACvC,MAAI,CAACxvC,KAAL,EAAY,OAAOA,KAAP;;AAEZ,MAAMyvC,OAAOzvC,MAAMG,OAAN,CAAc,QAAd,EAAwB,EAAxB,CAAb;AACA,MAAMuvC,MAAM,GAAZ;AACA,MAAI,CAACF,aAAD,IAAkBxvC,MAAM5D,MAAN,GAAeozC,cAAcpzC,MAAnD,EAA2D;AACzD;AACA,QAAIqzC,KAAKrzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,kBAAUqzC,IAAV,GAAiBC,GAAjB;AACD;AACD,QAAID,KAAKrzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,kBAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,CAAnC,GAAmD6xB,GAAnD;AACD;AACF;AACD,MAAID,KAAKrzC,MAAL,IAAe,CAAnB,EAAsB;AACpB,WAAOqzC,IAAP;AACD;AACD,MAAIA,KAAKrzC,MAAL,IAAe,CAAnB,EAAsB;AACpB,gBAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,CAAnC;AACD;AACD,cAAU4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAnC,GAAsD6xB,GAAtD,GAA4DD,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAA5D;AACD,C;;;;;;;;;;;;;;;;;;;yCCrBQ5rB,O;;;;;;;;;6CACAA,O;;;;;;;;;;;;;;;;;;kBCDM,UAAC+N,KAAD,EAAQwvC,aAAR,EAA0B;AACvC,MAAI,CAACxvC,KAAL,EAAY,OAAOA,KAAP;;AAEZ,MAAMyvC,OAAOzvC,MAAMG,OAAN,CAAc,QAAd,EAAwB,EAAxB,CAAb;AACA,MAAMuvC,MAAM,GAAZ;AACA,MAAI,CAACF,aAAD,IAAkBxvC,MAAM5D,MAAN,GAAeozC,cAAcpzC,MAAnD,EAA2D;AACzD;AACA,QAAIqzC,KAAKrzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,kBAAUqzC,IAAV,GAAiBC,GAAjB;AACD;AACF;AACD,MAAID,KAAKrzC,MAAL,IAAe,CAAnB,EAAsB;AACpB,WAAOqzC,IAAP;AACD;AACD,cAAUA,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,GAA6B6xB,GAA7B,GAAmCD,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAnC;AACD,C;;;;;;;;;;;;;ACfD;AACA;AACA;AACA;kBACe;AACb8xB,WAAS,iBAAC3vC,KAAD,EAAQwvC,aAAR,EAA0B;AACjC,QAAI,CAACxvC,KAAL,EAAY,OAAOA,KAAP;;AAEZ,QAAMyvC,OAAOzvC,MAAMG,OAAN,CAAc,QAAd,EAAwB,EAAxB,CAAb;;AAEA;AACA,QAAIsvC,KAAKrzC,MAAL,IAAe,EAAnB,EAAuB;AACrB,UAAI,CAACozC,aAAD,IAAkBxvC,MAAM5D,MAAN,GAAeozC,cAAcpzC,MAAnD,EAA2D;AAAE;AAC3D,YAAIqzC,KAAKrzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,iBAAUqzC,IAAV;AACD;AACD,YAAIA,KAAKrzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,iBAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,SAA8B4xB,KAAK5xB,KAAL,CAAW,CAAX,CAA9B;AACD;AACD,YAAI4xB,KAAKrzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,iBAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,SAA8B4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAA9B,SAAkD4xB,KAAK5xB,KAAL,CAAW,CAAX,CAAlD;AACD;AACF;AACD,UAAI4xB,KAAKrzC,MAAL,IAAe,CAAnB,EAAsB;AACpB,eAAOqzC,IAAP;AACD;AACD,UAAIA,KAAKrzC,MAAL,IAAe,CAAnB,EAAsB;AACpB,eAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,SAA8B4xB,KAAK5xB,KAAL,CAAW,CAAX,CAA9B;AACD;AACD,UAAI4xB,KAAKrzC,MAAL,IAAe,CAAnB,EAAsB;AACpB,eAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,SAA8B4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAA9B,SAAkD4xB,KAAK5xB,KAAL,CAAW,CAAX,CAAlD;AACD;AACD,aAAU4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,SAA8B4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAA9B,SAAkD4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAlD,SAAsE4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,EAAd,CAAtE;AACD;;AAED;AACA,QAAI,CAAC2xB,aAAD,IAAkBxvC,MAAM5D,MAAN,GAAeozC,cAAcpzC,MAAnD,EAA2D;AAAE;AAC3D,UAAIqzC,KAAKrzC,MAAL,KAAgB,EAApB,EAAwB;AACtB,eAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,SAA8B4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAA9B,SAAkD4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAlD,SAAsE4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,EAAd,CAAtE;AACD;AACF;AACD,QAAI4xB,KAAKrzC,MAAL,IAAe,EAAnB,EAAuB;AACrB,aAAUqzC,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,SAA8B4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAA9B,SAAkD4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAlD,SAAsE4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,EAAd,CAAtE;AACD;AACD,WAAU4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAV,SAA8B4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAA9B,SAAkD4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,CAAd,CAAlD,SAAsE4xB,KAAK5xB,KAAL,CAAW,CAAX,EAAc,EAAd,CAAtE,SAA2F4xB,KAAK5xB,KAAL,CAAW,EAAX,EAAe,EAAf,CAA3F;AACD;AAzCY,C;;;;;;;;;;;;;;;;;;;;+CCDN5rB,O;;;;;;;;;8CACAA,O;;;;;;;;;2CACAA,O;;;;;;;;;2CACAA,O;;;;AANT;;IAAY29C,e;;;;;;AACL,IAAM7a,sBAAO6a,eAAb,C;;;;;;;;;;;;;kBCDQ;AACbnS,OAAK;AAAA,WAAO,iBAAS;AACnB,UAAI,CAACz9B,KAAL,EAAY,OAAOA,KAAP;;AAEZ,UAAMyvC,OAAOzvC,MAAMG,OAAN,CAAc,QAAd,EAAwB,EAAxB,CAAb;AACA,aAAOsvC,KAAK5xB,KAAL,CAAW,CAAX,EAAc4f,IAAd,CAAP;AACD,KALI;AAAA;AADQ,C;;;;;;;;;;;;;kBCAA;AACb4O,aAAW,0BAAS;AAClB,QAAI,CAACrsC,KAAL,EAAY,OAAOA,KAAP;AACZ,WAAOA,MAAMG,OAAN,CAAc,eAAd,EAA+B,EAA/B,CAAP;AACD;AAJY,C;;;;;;;;;;;;;;kBCAA;AAAA,MAAG+rC,gBAAH,QAAGA,gBAAH;AAAA,MAAqB/iB,QAArB,QAAqBA,QAArB;AAAA,SAAoC,kBAAU;AAC3D;AACA,QAAI/4B,SAAS87C,iBAAiBtV,MAAjB,CAAb;AACA,QAAI/kB,OAAO+gB,IAAP,CAAYxiC,MAAZ,EAAoBgM,MAAxB,EAAgC,OAAOhM,MAAP;;AAEhC;AACAA,aAAS+4B,WAAWA,SAASyN,MAAT,CAAX,GAA8B,EAAvC;AACA,WAAOxmC,MAAP;AACD,GARc;AAAA,C;;;;;;;;;;;;;;;;;;;qDCAN6B,O;;;;;;;;;;;;;;;;;;kBCAM,UAAClD,IAAD,EAAOU,OAAP;AAAA,SAAoB,EAAEV,UAAF,EAAQU,gBAAR,EAApB;AAAA,C;;;;;;;;;;;;;;;;;;;iDCANwC,O;;;;;;;;;;;;;;;;;ACAT;AACA,IAAM49C,aAAa,2JAAnB;AACO,IAAMhZ,sCAAe,SAAfA,YAAe;AAAA,SAASgZ,WAAWvgB,IAAX,CAAgB19B,KAAhB,CAAT;AAAA,CAArB;;AAEP,IAAMk+C,cAAc,+DAApB;AACO,IAAMC,wCAAgB,SAAhBA,aAAgB;AAAA,SAAUD,YAAYxgB,IAAZ,CAAiBp5B,MAAjB,CAAV;AAAA,CAAtB;;AAEP;AACA,IAAM85C,cAAc,qBAApB;AACO,IAAMC,wCAAgB,SAAhBA,aAAgB;AAAA,SAAUD,YAAY1gB,IAAZ,CAAiB4gB,MAAjB,CAAV;AAAA,CAAtB;;AAEP,IAAMC,gBAAgB,uBAAtB,C,CAA8C;AACvC,IAAMpb,sBAAO,SAAPA,IAAO;AAAA,SAAU;AAC5B2X,cAAUyD,cAAc7gB,IAAd,CAAmBtvB,KAAnB;AADkB,GAAV;AAAA,CAAb;;AAIP;AACO,IAAMowC,8CAAmB,SAAnBA,gBAAmB,QAAS;AACvC,MAAMngC,QAAQ,gBAAd;AACA,MAAIA,MAAMqf,IAAN,CAAWtvB,KAAX,CAAJ,EAAuB;AACrB,QAAMpO,QAAQoO,MAAMmQ,KAAN,CAAYF,KAAZ,EAAmB,CAAnB,CAAd;AACA,WAAO4mB,aAAajlC,KAAb,CAAP;AACD;AACD,SAAO,KAAP;AACD,CAPM;;AASP;AACA;AACA,IAAMy+C,mBAAmB,4KAAzB;AACO,IAAMrW,kDAAqB,SAArBA,kBAAqB;AAAA,SAASqW,iBAAiB/gB,IAAjB,CAAsBtvB,KAAtB,CAAT;AAAA,CAA3B;;AAEP;AACA;AACA,IAAMswC,aAAa,4BAAnB;AACO,IAAMC,sCAAe,SAAfA,YAAe;AAAA,SAASD,WAAWhhB,IAAX,CAAgBpJ,KAAhB,CAAT;AAAA,CAArB;;AAEP;AACA;AACA,IAAMsqB,iBAAiB,eAAvB;AACO,IAAMC,8CAAmB,SAAnBA,gBAAmB;AAAA,SAASD,eAAelhB,IAAf,CAAoBpJ,KAApB,CAAT;AAAA,CAAzB;;AAEP;AACA,IAAMwqB,mBAAmB,kDAAzB;AACO,IAAMzW,kDAAqB,SAArBA,kBAAqB;AAAA,SAASyW,iBAAiBphB,IAAjB,CAAsBtvB,KAAtB,CAAT;AAAA,CAA3B;;AAEP;AACA,IAAM2wC,uBAAuB,qCAA7B;AACO,IAAMC,0DAAyB,SAAzBA,sBAAyB;AAAA,SAASD,qBAAqBrhB,IAArB,CAA0BtvB,KAA1B,CAAT;AAAA,CAA/B;;AAEP;AACO,IAAM6wC,oCAAc,SAAdA,WAAc;AAAA,MAAGhW,GAAH,QAAGA,GAAH;AAAA,MAAQC,KAAR,QAAQA,KAAR;AAAA,MAAeC,IAAf,QAAeA,IAAf;AAAA,SACzB,IAAIlG,IAAJ,CAAYkG,IAAZ,SAAoBD,KAApB,SAA6BD,GAA7B,EAAoCiW,QAApC,OAAmD,cAD1B;AAAA,CAApB,C;;;;;;;;;;;;;;AClDP;;;;AAIA;;;;AACA;;;;AACA;;;;AAEA,IAAI,mBAAAxsC,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,oCAAAA;;AAEhC;;AATA;;;AAUA,IAAMysC,UAAU,6CAAhB;;AAEA,IAAMjhC,SAAS,SAATA,MAAS,OAAqD;AAAA,MAAlD5U,QAAkD,QAAlDA,QAAkD;AAAA,MAAxCnM,IAAwC,QAAxCA,IAAwC;AAAA,MAAlC8L,QAAkC,QAAlCA,QAAkC;AAAA,MAAxBie,EAAwB,QAAxBA,EAAwB;AAAA,MAApB7d,IAAoB,QAApBA,IAAoB;AAAA,MAAdL,QAAc,QAAdA,OAAc;;AAClE,MAAMo2C,WAAWjiD,SAAS,QAA1B;AACA,MAAM4I,YAAY,0BAChBo5C,OADgB,EAEhBC,WAAW,SAAX,GAAuB,YAFP,EAGhBn2C,WAAW,UAAX,GAAwB,IAHR,CAAlB;;AAMA,MAAII,IAAJ,EAAU,OAAO;AAAA;AAAA,MAAG,MAAMA,IAAT,EAAe,WAAWtD,SAA1B,EAAqC,QAAO,QAA5C;AAAsDuD;AAAtD,GAAP;AACV,MAAI4d,EAAJ,EAAQ,OAAO;AAAA;AAAA,MAAM,IAAIA,EAAV,EAAc,WAAWnhB,SAAzB;AAAqCuD;AAArC,GAAP;;AAER,SACE;AAAA;AAAA;AACE,YAAMnM,IADR;AAEE,eAAS;AAAA,eAAKiiD,YAAYp2C,SAAQ8B,CAAR,CAAjB;AAAA,OAFX;AAGE,gBAAU7B,QAHZ;AAIE,iBAAWlD;AAJb;AAMGuD;AANH,GADF;AAUD,CArBD;;AAuBA4U,OAAO1X,SAAP,GAAmB;AACjBrJ,QAAM,oBAAUwjB,KAAV,CAAgB,CAAC,QAAD,EAAW,QAAX,CAAhB,CADW;AAEjB1X,YAAU,oBAAUzB,IAFH;AAGjB;AACA0f,MAAI,oBAAUvgB,MAJG;AAKjBqC,WAAS,oBAAUvB,IALF;AAMjB4B,QAAM,oBAAU1C;AANC,CAAnB;;AASAuX,OAAO/X,YAAP,GAAsB;AACpBhJ,QAAM;AADc,CAAtB;;kBAIe+gB,M;;;;;;;ACjDf,yC;;;;;;;;;;;;;;ACAA;;;;AACA;;AACA;;;;;;AAEA,IAAI,mBAAAxL,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,oCAAAA;;AAEhC,IAAM2sC,SAAS,SAATA,MAAS;AAAA,MAAG/1C,QAAH,QAAGA,QAAH;AAAA,MAAag2C,SAAb,QAAaA,SAAb;AAAA,MAAwBtgC,QAAxB,QAAwBA,QAAxB;AAAA,SACb;AAAA;AAAA,MAAK,WAAU,aAAf;AACE;AAAA;AAAA,QAAK,WAAU,QAAf;AACE;AAAA;AAAA,UAAK,WAAU,iBAAf;AACG1V;AADH,OADF;AAIE;AAAA;AAAA,UAAK,WAAU,gBAAf;AACE;AAAA;AAAA,YAAQ,SAASg2C,SAAjB;AACE;AACE,gBAAG,2CADL;AAEE,4BAAe;AAFjB;AADF,SADF;AAOE;AAAA;AAAA,YAAQ,SAAStgC,QAAjB;AACE;AACE,gBAAG,0CADL;AAEE,4BAAe;AAFjB;AADF;AAPF;AAJF;AADF,GADa;AAAA,CAAf;;kBAwBeqgC,M;;;;;;;AC9Bf,yC;;;;;;;;;;;;;;ACAA;;;;AAKA;;;;AACA;;;;;;AALA;;;;AAOA,IAAI,mBAAA3sC,CAAQ,OAAR,EAAiBC,SAArB,EAAgC,mBAAAD,CAAA,uCAAAA;;AAEhC,IAAM6sC,WAAW,SAAXA,QAAW,OAAwC;AAAA,MAArCj2C,QAAqC,QAArCA,QAAqC;AAAA,MAA3ByY,UAA2B,QAA3BA,UAA2B;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AACvD,SACE;AAAA;AAAA,MAAK,WAAW,0BAAW,OAAX,EAAoBD,UAApB,EAAgCC,QAAhC,CAAhB;AACG1Y;AADH,GADF;AAKD,CAND;;AAQAi2C,SAAS/4C,SAAT,GAAqB;AACnBub,cAAY,oBAAUpB,KAAV,CAAgB,CAAC,OAAD,EAAU,MAAV,CAAhB,CADO;AAEnBqB,YAAU,oBAAUrB,KAAV,CAAgB,CAAC,KAAD,EAAQ,QAAR,CAAhB;AAFS,CAArB;;AAKA4+B,SAASp5C,YAAT,GAAwB;AACtB4b,cAAY,OADU;AAEtBC,YAAU;AAFY,CAAxB;;kBAKeu9B,Q;;;;;;;AC5Bf,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;AAEA,IAAI,mBAAA7sC,CAAQ,OAAR,EAAiBC,SAArB,EAAgC;AAC9BD,EAAA,mBAAAA,CAAA,0CAAAA;AACAA,EAAA,mBAAAA,CAAA,uCAAAA;AACD;;AAED,IAAM8sC,WAAW,SAAXA,QAAW;AAAA,MACfC,cADe,QACfA,cADe;AAAA,MAEfn2C,QAFe,QAEfA,QAFe;AAAA,MAGfm1B,SAHe,QAGfA,SAHe;AAAA,MAIfihB,gBAJe,QAIfA,gBAJe;AAAA,MAKfC,iBALe,QAKfA,iBALe;AAAA,MAMfC,cANe,QAMfA,cANe;AAAA,MAOf9mB,UAPe,QAOfA,UAPe;AAAA,MAQfhU,UARe,QAQfA,UARe;AAAA,MASZ2gB,SATY;;AAAA,SAWf;AAAA;AAAA,iBACMA,SADN;AAEE,oBAFF;AAGE,iBAAW,0BAAW,eAAX,EAA4Bga,cAA5B;AAHb;AAKGhhB,iBACC;AAAA;AAAA,QAAI,WAAW,0BAAW;AACxB,uBAAaihB,gBADW;AAExB,uBAAaC,iBAFW;AAGxB,uBAAaC;AAHW,SAAX,CAAf;AAKGnhB;AALH,KANJ;AAcGn1B,YAdH;AAeGwb,kBAAc,0CAAQ,MAAK,QAAb,EAAsB,OAAO,EAAE5J,SAAS,MAAX,EAA7B,GAfjB;AAgBG,KAAC4J,UAAD,IAAe;AAAA;AAAA,QAAQ,MAAK,QAAb,EAAsB,UAAU,CAAC2gB,UAAUrmB,KAA3C;AAAmD0Z;AAAnD;AAhBlB,GAXe;AAAA,CAAjB;;AA+BA0mB,SAASh5C,SAAT,GAAqB;AACnBi5C,kBAAgB,oBAAU/3C,SAAV,CAAoB,CAAC,oBAAUf,MAAX,EAAmB,oBAAUgB,KAA7B,CAApB,CADG;AAEnB2B,YAAU,oBAAUka,IAAV,CAAe9c,UAFN;AAGnBoyB,cAAY,oBAAUnyB,MAAV,CAAiBD,UAHV;AAInB+3B,aAAW,oBAAU93B,MAJF;AAKnB+4C,oBAAkB,oBAAUl4C,IALT;AAMnBm4C,qBAAmB,oBAAUn4C,IANV;AAOnBo4C,kBAAgB,oBAAUp4C;AAPP,CAArB;;kBAUeg4C,Q;;;;;;;;;;;;;;;;;;;2CCrDNn/C,O;;;;;;;;;6CACAA,O;;;;;;;;;iDAEAA,O;;;;;;;;;6CACAA,O;;;;;;;;;2CAEAA,O;;;;;;;;;;;;;;;;;;;;ACNT;;;;AACA;;;;AACA;;AAEA;;;;AACA;;;;AAGA;;;;;;AADA;;;AAGA,IAAMw/C,eAAe,SAAfA,YAAe;AAAA,MAAGv2C,QAAH,QAAGA,QAAH;AAAA,MAAawvB,UAAb,QAAaA,UAAb;AAAA,MAAyB/Z,cAAzB,QAAyBA,cAAzB;AAAA,MAA4C0mB,SAA5C;;AAAA,SACnB;AAAA;AAAA,eAAW,cAAX,IAAwBA,SAAxB;AACGn8B,YADH;AAEE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,gBAAK,QADP;AAEE,oBAAUm8B,UAAUrnB;AAFtB;AAIG0a,sBACC;AACE,cAAG,0CADL;AAEE,0BAAe;AAFjB;AALJ,OADF;AAYE;AACE,cAAM/Z,kBACJ;AACE,cAAG,8CADL;AAEE,0BAAe;AAFjB;AAFJ;AAZF;AAFF,GADmB;AAAA,CAArB;;AA2BA8gC,aAAar5C,SAAb,GAAyB;AACvBsyB,cAAY,oBAAUpxB,SAAV,CAAoB,CAC9B,oBAAUf,MADoB,EAE9B,oBAAUC,MAFoB,CAApB,CADW;AAKvBmY,kBAAgB,oBAAUrX,SAAV,CAAoB,CAClC,oBAAUf,MADwB,EAElC,oBAAUC,MAFwB,CAApB;AALO,CAAzB;;kBAWei5C,Y;;;;;;;AChDf,kC;;;;;;;ACAA,2C;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,qC;;;;;;;ACAA,kC;;;;;;;ACAA,0C;;;;;;;ACAA,sC;;;;;;;ACAA,mC;;;;;;;ACAA,oC;;;;;;;ACAA,uC;;;;;;;ACAA,kC;;;;;;;ACAA,yC;;;;;;;ACAA,wC;;;;;;;ACAA,yC;;;;;;;ACAA,0C;;;;;;;ACAA,sC;;;;;;;ACAA,qC;;;;;;;ACAA,uC;;;;;;;ACAA,wC;;;;;;;ACAA,yC;;;;;;;ACAA,6C;;;;;;;ACAA,8C;;;;;;;ACAA,mC;;;;;;;ACAA,kC;;;;;;;ACAA,2C;;;;;;;ACAA,wD;;;;;;;ACAA,uD;;;;;;;ACAA,uC;;;;;;;ACAA,0C;;;;;;;ACAA,wC;;;;;;;ACAA,yC;;;;;;;ACAA,mD;;;;;;;ACAA,uC;;;;;;;ACAA,oC","file":"webviewer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"webviewer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webviewer\"] = factory();\n\telse\n\t\troot[\"webviewer\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./mobrender/components/index.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3d8dd88d192adc38a8da","const t = type => `intl/${type}`\n\nexport const SET_CURRENT_LOCALE = t('SET_CURRENT_LOCALE')\n\n\n\n// WEBPACK FOOTER //\n// ../intl/redux/action-types.js","import * as t from './action-types'\n\nconst initialState = {\n  currentLocale: null,\n  defaultLocale: null,\n  locales: [],\n  messages: {}\n}\n\nconst reducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.SET_CURRENT_LOCALE:\n      return { ...state, currentLocale: action.payload }\n\n    default:\n      return state\n  }\n}\n\nexport default reducer\n\n\n\n// WEBPACK FOOTER //\n// ../intl/redux/reducers.js","/*! wysihtml - v0.5.2 (2015-11-10) */\nvar newStyle;\nvar wysihtml5={version:\"0.5.2\",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:\"\\ufeff\",INVISIBLE_SPACE_REG_EXP:/\\uFEFF/g,EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46};wysihtml5.polyfills=function(a,b){String.prototype.trim||!function(){var a=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,\"\")}}(),function(){var c=\"addEventListener\",d=\"removeEventListener\";b[c]||(a.Element.prototype[c]=a[c]=b[c]=function(b,c,d){return(d=this).attachEvent(\"on\"+b,function(b){var b=b||a.event;b.target=b.target||b.srcElement,b.preventDefault=b.preventDefault||function(){b.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0},b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode,c.call(d,b)})},a.Element.prototype[d]=a[d]=b[d]=function(a,b){return this.detachEvent(\"on\"+a,b)})}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,\"textContent\")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,\"textContent\").get&&!function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,\"innerText\");Object.defineProperty(a.Element.prototype,\"textContent\",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,a)}})}(),Array.isArray||(Array.isArray=function(a){return\"[object Array]\"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=this.length,d=-1,e=b>>>0;~(c-e);d=this[--c]===a?c:d);return d}),Function.prototype.bind||(Function.prototype.bind=function(a){if(\"function\"!=typeof this)throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.document||b.ownerDocument).querySelectorAll(a),d=0;c[d]&&c[d]!==b;)++d;return c[d]?!0:!1},a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}}(Element.prototype),\"document\"in a&&(\"classList\"in b.createElement(\"_\")?\"DOMTokenList\"in a&&!function(){\"use strict\";var c=b.createElement(\"_\");if(c.classList.add(\"c1\",\"c2\"),!c.classList.contains(\"c2\")){var d=function(b){var c=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,d=arguments.length;for(b=0;d>b;b++)a=arguments[b],c.call(this,a)}};d(\"add\"),d(\"remove\")}if(c.classList.toggle(\"c3\",!1),c.classList.contains(\"c3\")){var e=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:e.call(this,a)}}c=null}():!function(a){\"use strict\";if(\"Element\"in a){var b=\"classList\",c=\"prototype\",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\\s+|\\s+$/g,\"\")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(\"\"===b)throw new h(\"SYNTAX_ERR\",\"An invalid or illegal string was specified\");if(/\\s/.test(b))throw new h(\"INVALID_CHARACTER_ERR\",\"String contains an invalid character\");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute(\"class\")||\"\"),c=b?b.split(/\\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute(\"class\",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+=\"\",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+\"\",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do for(a=c[d]+\"\",b=i(this,a);-1!==b;)this.splice(b,1),f=!0,b=i(this,a);while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+=\"\";var c=this.contains(a),d=c?b!==!0&&\"remove\":b!==!1&&\"add\";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(\" \")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(a));var c=function(){if(\"createRange\"in document&&\"getSelection\"in window){var a,b,c=document.createElement(\"div\"),d=document.createTextNode(\"a\"),e=document.createTextNode(\"a\"),f=document.createTextNode(\"a\"),g=document.createRange();return c.setAttribute(\"contenteditable\",\"true\"),c.appendChild(d),c.appendChild(e),c.appendChild(f),document.body.appendChild(c),g.setStart(e,1),g.setEnd(e,1),a=window.getSelection(),a.removeAllRanges(),a.addRange(g),c.normalize(),a=window.getSelection(),b=1!==c.childNodes.length||a.anchorNode!==c.firstChild||2!==a.anchorOffset,c.parentNode.removeChild(c),a.removeAllRanges(),b}},d=function(a){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b.push(a):b=b.concat(d(a));return b},e=function(){var a=(Node.prototype.normalize,function(){var a=d(this),b=this.ownerDocument.defaultView.getSelection(),c=b.anchorNode,e=b.anchorOffset,f=c&&1===c.nodeType&&c.childNodes.length>0?c.childNodes[e]:void 0,g=b.focusNode,h=b.focusOffset,i=g&&1===g.nodeType&&h>0?g.childNodes[h-1]:void 0,j=this.ownerDocument.createRange(),k=a.shift(),l=k?a.shift():null;for(i&&3===i.nodeType&&(g=i,h=i.nodeValue.length,i=void 0),f&&3===f.nodeType&&(c=f,e=0,f=void 0),(c===g&&e>h||c!==g&&c.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_PRECEDING&&!(c.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINS))&&(g=[c,c=g][0],h=[e,e=h][0]);k&&l;)l.previousSibling&&l.previousSibling===k?(c===l&&(c=k,e=k.nodeValue.length+e),g===l&&(g=k,h=k.nodeValue.length+h),k.nodeValue=k.nodeValue+l.nodeValue,l.parentNode.removeChild(l),l=a.shift()):(k=l,l=a.shift());i&&(h=Array.prototype.indexOf.call(i.parentNode.childNodes,i)+1),f&&(e=Array.prototype.indexOf.call(f.parentNode.childNodes,f)),c&&c.parentNode&&g&&g.parentNode&&(j.setStart(c,e),j.setEnd(g,h),b.removeAllRanges(),b.addRange(j))});Node.prototype.normalize=a},f=function(){window.removeEventListener(\"load\",f),\"Node\"in window&&\"normalize\"in Node.prototype&&c()&&e()};\"complete\"!==b.readyState?window.addEventListener(\"load\",f):f()},wysihtml5.polyfills(window,document),function(a,b){\"function\"==typeof define&&define.amd?define(a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a():b.rangy=a()}(function(){function a(a,b){var c=typeof a[b];return c==u||!(c!=t||!a[b])||\"unknown\"==c}function b(a,b){return!(typeof a[b]!=t||!a[b])}function c(a,b){return typeof a[b]!=v}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&A(a,z)&&C(a,y)}function f(a){return b(a,\"body\")?a.body:a.getElementsByTagName(\"body\")[0]}function g(b){typeof console!=v&&a(console,\"log\")&&console.log(b)}function h(a,b){F&&b?alert(a):g(a)}function i(a){H.initialized=!0,H.supported=!1,h(\"Rangy is not supported in this environment. Reason: \"+a,H.config.alertOnFail)}function j(a){h(\"Rangy warning: \"+a,H.config.alertOnWarn)}function k(a){return a.message||a.description||String(a)}function l(){if(F&&!H.initialized){var b,c=!1,d=!1;a(document,\"createRange\")&&(b=document.createRange(),A(b,x)&&C(b,w)&&(c=!0));var h=f(document);if(!h||\"body\"!=h.nodeName.toLowerCase())return void i(\"No body element found\");if(h&&a(h,\"createTextRange\")&&(b=h.createTextRange(),e(b)&&(d=!0)),!c&&!d)return void i(\"Neither Range nor TextRange are available\");H.initialized=!0,H.features={implementsDomRange:c,implementsTextRange:d};var j,l;for(var m in E)(j=E[m])instanceof p&&j.init(j,H);for(var n=0,o=K.length;o>n;++n)try{K[n](H)}catch(q){l=\"Rangy init listener threw an exception. Continuing. Detail: \"+k(q),g(l)}}}function m(a,b,c){c&&(a+=\" in module \"+c.name),H.warn(\"DEPRECATED: \"+a+\" is deprecated. Please use \"+b+\" instead.\")}function n(a,b,c,d){a[b]=function(){return m(b,c,d),a[c].apply(a,G.toArray(arguments))}}function o(a){a=a||window,l();for(var b=0,c=L.length;c>b;++b)L[b](a)}function p(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function q(a,b,c){var d=new p(a,b,function(b){if(!b.initialized){b.initialized=!0;try{c(H,b),b.supported=!0}catch(d){var e=\"Module '\"+a+\"' failed to load: \"+k(d);g(e),d.stack&&g(d.stack)}}});return E[a]=d,d}function r(){}function s(){}var t=\"object\",u=\"function\",v=\"undefined\",w=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],x=[\"setStart\",\"setStartBefore\",\"setStartAfter\",\"setEnd\",\"setEndBefore\",\"setEndAfter\",\"collapse\",\"selectNode\",\"selectNodeContents\",\"compareBoundaryPoints\",\"deleteContents\",\"extractContents\",\"cloneContents\",\"insertNode\",\"surroundContents\",\"cloneRange\",\"toString\",\"detach\"],y=[\"boundingHeight\",\"boundingLeft\",\"boundingTop\",\"boundingWidth\",\"htmlText\",\"text\"],z=[\"collapse\",\"compareEndPoints\",\"duplicate\",\"moveToElementText\",\"parentElement\",\"select\",\"setEndPoint\",\"getBoundingClientRect\"],A=d(a),B=d(b),C=d(c),D=[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)b(a[c],c)},E={},F=typeof window!=v&&typeof document!=v,G={isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:A,areHostObjects:B,areHostProperties:C,isTextRange:e,getBody:f,forEach:D},H={version:\"1.3.0\",initialized:!1,isBrowser:F,supported:!0,util:G,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v?!0:rangyAutoInitialize}};H.fail=i,H.warn=j;var I;({}).hasOwnProperty?(G.extend=I=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&null!==d&&\"object\"==typeof d&&null!==e&&\"object\"==typeof e&&I(d,e,!0),a[f]=e);return b.hasOwnProperty(\"toString\")&&(a.toString=b.toString),a},G.createOptions=function(a,b){var c={};return I(c,b),a&&I(c,a),c}):i(\"hasOwnProperty not supported\"),F||i(\"Rangy can only run in a browser\"),function(){var a;if(F){var b=document.createElement(\"div\");b.appendChild(document.createElement(\"span\"));var c=[].slice;try{1==c.call(b.childNodes,0)[0].nodeType&&(a=function(a){return c.call(a,0)})}catch(d){}}a||(a=function(a){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=a[c];return b}),G.toArray=a}();var J;F&&(a(document,\"addEventListener\")?J=function(a,b,c){a.addEventListener(b,c,!1)}:a(document,\"attachEvent\")?J=function(a,b,c){a.attachEvent(\"on\"+b,c)}:i(\"Document does not have required addEventListener or attachEvent method\"),G.addListener=J);var K=[];G.deprecationNotice=m,G.createAliasForDeprecatedMethod=n,H.init=l,H.addInitListener=function(a){H.initialized?a(H):K.push(a)};var L=[];H.addShimListener=function(a){L.push(a)},F&&(H.shim=H.createMissingNativeApi=o,n(H,\"createMissingNativeApi\",\"shim\")),p.prototype={init:function(){for(var a,b,c=this.dependencies||[],d=0,e=c.length;e>d;++d){if(b=c[d],a=E[b],!(a&&a instanceof p))throw new Error(\"required module '\"+b+\"' not found\");if(a.init(),!a.supported)throw new Error(\"required module '\"+b+\"' not supported\")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error(a)},warn:function(a){H.warn(\"Module \"+this.name+\": \"+a)},deprecationNotice:function(a,b){H.warn(\"DEPRECATED: \"+a+\" in module \"+this.name+\" is deprecated. Please use \"+b+\" instead\")},createError:function(a){return new Error(\"Error in Rangy \"+this.name+\" module: \"+a)}},H.createModule=function(a){var b,c;2==arguments.length?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]);var d=q(a,c,b);H.initialized&&H.supported&&d.init()},H.createCoreModule=function(a,b,c){q(a,b,c)},H.RangePrototype=r,H.rangePrototype=new r,H.selectionPrototype=new s,H.createCoreModule(\"DomUtil\",[],function(a,b){function c(a){var b;return typeof a.namespaceURI==F||null===(b=a.namespaceURI)||\"http://www.w3.org/1999/xhtml\"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(K(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b){return h(a,b,!0)}function j(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function k(a){var b=a.nodeType;return 3==b||4==b||8==b}function l(a){if(!a)return!1;var b=a.nodeType;return 3==b||8==b}function m(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function n(a,b,c){var d=a.cloneNode(!1);if(d.deleteData(0,b),a.deleteData(b,a.length-b),m(d,a),c)for(var f,g=0;f=c[g++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>e(a)&&++f.offset;return d}function o(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=F)return a.ownerDocument;if(typeof a.document!=F)return a.document;if(a.parentNode)return o(a.parentNode);throw b.createError(\"getDocument: no document found for node\")}function p(a){var c=o(a);if(typeof c.defaultView!=F)return c.defaultView;if(typeof c.parentWindow!=F)return c.parentWindow;throw b.createError(\"Cannot get a window object for node\")}function q(a){if(typeof a.contentDocument!=F)return a.contentDocument;if(typeof a.contentWindow!=F)return a.contentWindow.document;throw b.createError(\"getIframeDocument: No Document object found for iframe element\")}function r(a){if(typeof a.contentWindow!=F)return a.contentWindow;if(typeof a.contentDocument!=F)return a.contentDocument.defaultView;throw b.createError(\"getIframeWindow: No Window object found for iframe element\")}function s(a){return a&&G.isHostMethod(a,\"setTimeout\")&&G.isHostObject(a,\"document\")}function t(a,b,c){var d;if(a?G.isHostProperty(a,\"nodeType\")?d=1==a.nodeType&&\"iframe\"==a.tagName.toLowerCase()?q(a):o(a):s(a)&&(d=a.document):d=document,!d)throw b.createError(c+\"(): Parameter must be a Window object or DOM node\");return d}function u(a){for(var b;b=a.parentNode;)a=b;return a}function v(a,c,d,f){var h,i,k,l,m;if(a==d)return c===f?0:f>c?-1:1;if(h=j(d,a,!0))return c<=e(h)?-1:1;if(h=j(a,d,!0))return e(h)<f?-1:1;if(i=g(a,d),!i)throw new Error(\"comparePoints error: nodes have no common ancestor\");if(k=a===i?i:j(a,i,!0),l=d===i?i:j(d,i,!0),k===l)throw b.createError(\"comparePoints got to case 4 and childA and childB are the same!\");for(m=i.firstChild;m;){if(m===k)return-1;if(m===l)return 1;m=m.nextSibling}}function w(a){var b;try{return b=a.parentNode,!1}catch(c){return!0}}function x(a){if(!a)return\"[No node]\";if(L&&w(a))return\"[Broken node]\";if(k(a))return'\"'+a.data+'\"';if(1==a.nodeType){var b=a.id?' id=\"'+a.id+'\"':\"\";return\"<\"+a.nodeName+b+\">[index:\"+e(a)+\",length:\"+a.childNodes.length+\"][\"+(a.innerHTML||\"[innerHTML not supported]\").slice(0,25)+\"]\"}return a.nodeName}function y(a){for(var b,c=o(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function z(a,b,c){var d=H(a),e=a.createElement(\"div\");e.contentEditable=\"\"+!!c,b&&(e.innerHTML=b);var f=d.firstChild;return f?d.insertBefore(e,f):d.appendChild(e),e}function A(a){return a.parentNode.removeChild(a)}function B(a){this.root=a,this._next=a}function C(a){return new B(a)}function D(a,b){this.node=a,this.offset=b}function E(a){this.code=this[a],this.codeName=a,this.message=\"DOMException: \"+this.codeName}var F=\"undefined\",G=a.util,H=G.getBody;G.areHostMethods(document,[\"createDocumentFragment\",\"createElement\",\"createTextNode\"])||b.fail(\"document missing a Node creation method\"),G.isHostMethod(document,\"getElementsByTagName\")||b.fail(\"document missing getElementsByTagName method\");var I=document.createElement(\"div\");G.areHostMethods(I,[\"insertBefore\",\"appendChild\",\"cloneNode\"]||!G.areHostObjects(I,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"]))||b.fail(\"Incomplete Element implementation\"),G.isHostProperty(I,\"innerHTML\")||b.fail(\"Element is missing innerHTML property\");var J=document.createTextNode(\"test\");G.areHostMethods(J,[\"splitText\",\"deleteData\",\"insertData\",\"appendData\",\"cloneNode\"]||!G.areHostObjects(I,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"])||!G.areHostProperties(J,[\"data\"]))||b.fail(\"Incomplete Text Node implementation\");var K=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},L=!1;!function(){var b=document.createElement(\"b\");b.innerHTML=\"1\";var c=b.firstChild;b.innerHTML=\"<br />\",L=w(c),a.features.crashyTextNodes=L}();var M;typeof window.getComputedStyle!=F?M=function(a,b){return p(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=F?M=function(a,b){return a.currentStyle?a.currentStyle[b]:\"\"}:b.fail(\"No means of obtaining computed style properties found\"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return\"[DomPosition(\"+x(this.node)+\":\"+this.offset+\")]\"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},a.dom={arrayContains:K,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,isOrIsAncestorOf:i,getClosestAncestorIn:j,isCharacterDataNode:k,isTextOrCommentNode:l,insertAfter:m,splitDataNode:n,getDocument:o,getWindow:p,getIframeWindow:r,getIframeDocument:q,getBody:H,isWindow:s,getContentDocument:t,getRootContainer:u,comparePoints:v,isBrokenNode:w,inspectNode:x,getComputedStyleProperty:M,createTestElement:z,removeNode:A,fragmentFromNodeChildren:y,createIterator:C,DomPosition:D},a.DOMException=E}),H.createCoreModule(\"DomRange\",[\"DomUtil\"],function(a,b){function c(a,b){return 3!=a.nodeType&&(P(a,b.startContainer)||P(a,b.endContainer))}function d(a){return a.document||Q(a.startContainer)}function e(a){return W(a.startContainer)}function f(a){return new L(a.parentNode,O(a))}function g(a){return new L(a.parentNode,O(a)+1)}function h(a,b,c){var d=11==a.nodeType?a.firstChild:a;return N(b)?c==b.length?J.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:S(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function i(a,b,c){if(z(a),z(b),d(b)!=d(a))throw new M(\"WRONG_DOCUMENT_ERR\");var e=R(a.startContainer,a.startOffset,b.endContainer,b.endOffset),f=R(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?0>=e&&f>=0:0>e&&f>0}function j(a){for(var b,c,e,f=d(a.range).createDocumentFragment();c=a.next();){if(b=a.isPartiallySelectedSubtree(),c=c.cloneNode(!b),b&&(e=a.getSubtreeIterator(),c.appendChild(j(e)),e.detach()),10==c.nodeType)throw new M(\"HIERARCHY_REQUEST_ERR\");f.appendChild(c)}return f}function k(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),k(g,b,c),g.detach(),c.stop)return}else for(d=J.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function l(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),l(b),b.detach()):a.remove()}function m(a){for(var b,c,e=d(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),c=a.getSubtreeIterator(),b.appendChild(m(c)),c.detach()):a.remove(),10==b.nodeType)throw new M(\"HIERARCHY_REQUEST_ERR\");e.appendChild(b)}return e}function n(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp(\"^(\"+b.join(\"|\")+\")$\"));var g=[];return k(new p(a,!1),function(b){if((!e||d.test(b.nodeType))&&(!f||c(b))){var h=a.startContainer;if(b!=h||!N(h)||a.startOffset!=h.length){var i=a.endContainer;b==i&&N(i)&&0==a.endOffset||g.push(b)}}}),g}function o(a){var b=\"undefined\"==typeof a.getName?\"Range\":a.getName();return\"[\"+b+\"(\"+J.inspectNode(a.startContainer)+\":\"+a.startOffset+\", \"+J.inspectNode(a.endContainer)+\":\"+a.endOffset+\")]\"}function p(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&N(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||N(this.sc)?T(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||N(this.ec)?T(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,V(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(ea(a,b))throw new M(\"INVALID_NODE_TYPE_ERR\")}function s(a,b){if(!V(b,a.nodeType))throw new M(\"INVALID_NODE_TYPE_ERR\")}function t(a,b){if(0>b||b>(N(a)?a.length:a.childNodes.length))throw new M(\"INDEX_SIZE_ERR\")}function u(a,b){if(ca(a,!0)!==ca(b,!0))throw new M(\"WRONG_DOCUMENT_ERR\")}function v(a){if(da(a,!0))throw new M(\"NO_MODIFICATION_ALLOWED_ERR\")}function w(a,b){if(!a)throw new M(b)}function x(a,b){return b<=(N(a)?a.length:a.childNodes.length)}function y(a){return!!a.startContainer&&!!a.endContainer&&!(X&&(J.isBrokenNode(a.startContainer)||J.isBrokenNode(a.endContainer)))&&W(a.startContainer)==W(a.endContainer)&&x(a.startContainer,a.startOffset)&&x(a.endContainer,a.endOffset)}function z(a){if(!y(a))throw new Error(\"Range error: Range is not valid. This usually happens after DOM mutation. Range: (\"+a.inspect()+\")\")}function A(a,b){z(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,g=c===e;N(e)&&f>0&&f<e.length&&S(e,f,b),N(c)&&d>0&&d<c.length&&(c=S(c,d,b),g?(f-=d,e=c):e==c.parentNode&&f>=O(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function B(a){z(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function C(a){a.START_TO_START=ka,a.START_TO_END=la,a.END_TO_END=ma,a.END_TO_START=na,a.NODE_BEFORE=oa,a.NODE_AFTER=pa,a.NODE_BEFORE_AND_AFTER=qa,a.NODE_INSIDE=ra}function D(a){C(a),C(a.prototype)}function E(a,b){return function(){z(this);var c,d,e=this.startContainer,f=this.startOffset,h=this.commonAncestorContainer,i=new p(this,!0);e!==h&&(c=T(e,h,!0),d=g(c),e=d.node,f=d.offset),k(i,v),i.reset();var j=a(i);return i.detach(),b(this,e,f,e,f),j}}function F(b,d){function e(a,b){return function(c){s(c,Z),s(W(c),$);var d=(a?f:g)(c);(b?h:i)(this,d.node,d.offset)}}function h(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((W(b)!=W(e)||1==R(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function i(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((W(b)!=W(e)||-1==R(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}var j=function(){};j.prototype=a.rangePrototype,b.prototype=new j,K.extend(b.prototype,{setStart:function(a,b){r(a,!0),t(a,b),h(this,a,b)},setEnd:function(a,b){r(a,!0),t(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],c=a[1],e=b,f=c;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}d(this,b,c,e,f)},setBoundary:function(a,b,c){this[\"set\"+(c?\"Start\":\"End\")](a,b)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(a){z(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){r(a,!0),d(this,a,0,a,U(a))},selectNode:function(a){r(a,!1),s(a,Z);var b=f(a),c=g(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:E(m,d),deleteContents:E(l,d),canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},splitBoundaries:function(){A(this)},splitBoundariesPreservingPositions:function(a){A(this,a)},normalizeBoundaries:function(){z(this);var a,b=this.startContainer,c=this.startOffset,e=this.endContainer,f=this.endOffset,g=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,f=a.length,a.appendData(b.data),Y(b))},h=function(a){var d=a.previousSibling;if(d&&d.nodeType==a.nodeType){b=a;var g=a.length;if(c=d.length,a.insertData(0,d.data),Y(d),b==e)f+=c,e=b;else if(e==a.parentNode){var h=O(a);f==h?(e=a,f=g):f>h&&f--}}},i=!0;if(N(e))f==e.length?g(e):0==f&&(a=e.previousSibling,a&&a.nodeType==e.nodeType&&(f=a.length,b==e&&(i=!1),a.appendData(e.data),Y(e),e=a));else{if(f>0){var j=e.childNodes[f-1];j&&N(j)&&g(j)}i=!this.collapsed}if(i){if(N(b))0==c?h(b):c==b.length&&(a=b.nextSibling,a&&a.nodeType==b.nodeType&&(e==a&&(e=b,f+=b.length),b.appendData(a.data),Y(a)));else if(c<b.childNodes.length){var k=b.childNodes[c];k&&N(k)&&h(k)}}else b=e,c=f;d(this,b,c,e,f)},collapseToPoint:function(a,b){r(a,!0),t(a,b),this.setStartAndEnd(a,b)}}),D(b)}function G(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:J.getCommonAncestor(a.startContainer,a.endContainer)}function H(a,b,c,d,e){a.startContainer=b,a.startOffset=c,a.endContainer=d,a.endOffset=e,a.document=J.getDocument(b),G(a)}function I(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,G(this)}var J=a.dom,K=a.util,L=J.DomPosition,M=a.DOMException,N=J.isCharacterDataNode,O=J.getNodeIndex,P=J.isOrIsAncestorOf,Q=J.getDocument,R=J.comparePoints,S=J.splitDataNode,T=J.getClosestAncestorIn,U=J.getNodeLength,V=J.arrayContains,W=J.getRootContainer,X=a.features.crashyTextNodes,Y=J.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,N(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!N(c)||c!==this.sc&&c!==this.ec?c.parentNode&&Y(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return c(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new I(d(this.range));var b=this._current,c=b,e=0,f=b,g=U(b);P(b,this.sc)&&(c=this.sc,e=this.so),P(b,this.ec)&&(f=this.ec,g=this.eo),H(a,c,e,f,g)}return new p(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],$=[2,9,11],_=[5,6,10,12],aa=[1,3,4,5,7,8,10,11],ba=[1,3,4,5,7,8],ca=q([9,11]),da=q(_),ea=q([6,10,12]),fa=document.createElement(\"style\"),ga=!1;try{fa.innerHTML=\"<b>x</b>\",ga=3==fa.firstChild.nodeType}catch(ha){}a.features.htmlParsingConforms=ga;var ia=ga?function(a){var b=this.startContainer,c=Q(b);if(!b)throw new M(\"INVALID_STATE_ERR\");var d=null;return 1==b.nodeType?d=b:N(b)&&(d=J.parentElement(b)),d=null===d||\"HTML\"==d.nodeName&&J.isHtmlNamespace(Q(d).documentElement)&&J.isHtmlNamespace(d)?c.createElement(\"body\"):d.cloneNode(!1),d.innerHTML=a,J.fragmentFromNodeChildren(d)}:function(a){var b=d(this),c=b.createElement(\"body\");return c.innerHTML=a,J.fragmentFromNodeChildren(c)},ja=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],ka=0,la=1,ma=2,na=3,oa=0,pa=1,qa=2,ra=3;K.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){z(this),u(this.startContainer,b.startContainer);var c,d,e,f,g=a==na||a==ka?\"start\":\"end\",h=a==la||a==ka?\"start\":\"end\";return c=this[g+\"Container\"],d=this[g+\"Offset\"],e=b[h+\"Container\"],f=b[h+\"Offset\"],R(c,d,e,f)},insertNode:function(a){if(z(this),s(a,aa),v(this.startContainer),P(a,this.startContainer))throw new M(\"HIERARCHY_REQUEST_ERR\");var b=h(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){z(this);var a,b;if(this.collapsed)return d(this).createDocumentFragment();if(this.startContainer===this.endContainer&&N(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=d(this).createDocumentFragment(),b.appendChild(a),b;var c=new p(this,!0);return a=j(c),c.detach(),a},canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},surroundContents:function(a){if(s(a,ba),!this.canSurroundContents())throw new M(\"INVALID_STATE_ERR\");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);h(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){z(this);for(var a,b=new I(d(this)),c=ja.length;c--;)a=ja[c],b[a]=this[a];return b},toString:function(){z(this);var a=this.startContainer;if(a===this.endContainer&&N(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):\"\";var b=[],c=new p(this,!0);return k(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join(\"\")},compareNode:function(a){z(this);var b=a.parentNode,c=O(a);if(!b)throw new M(\"NOT_FOUND_ERR\");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?qa:oa:e>0?pa:ra},comparePoint:function(a,b){return z(this),w(a,\"HIERARCHY_REQUEST_ERR\"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)<0?-1:R(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ia,toHtml:function(){return B(this)},intersectsNode:function(a,b){if(z(this),W(a)!=e(this))return!1;var c=a.parentNode,d=O(a);if(!c)return!0;var f=R(c,d,this.endContainer,this.endOffset),g=R(c,d+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return z(this),w(a,\"HIERARCHY_REQUEST_ERR\"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)>=0&&R(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return i(this,a,!1)},intersectsOrTouchesRange:function(a){return i(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=R(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=R(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return-1==R(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==R(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new M(\"Ranges do not intersect\")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==ra},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,U(a))<=0},containsRange:function(a){var b=this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();return b.setEnd(d,d.length),this.containsRange(b)}return this.containsNodeContents(a);\n},getNodes:function(a,b){return z(this),n(this,a,b)},getDocument:function(){return d(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var c=d(this),e=a.createRange(c);b=b||J.getBody(c),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);for(var d,e,f,g,h=[b],i=!1,j=!1;!j&&(d=h.pop());)if(3==d.nodeType)e=c+d.length,!i&&a.start>=c&&a.start<=e&&(this.setStart(d,a.start-c),i=!0),i&&a.end>=c&&a.end<=e&&(this.setEnd(d,a.end-c),j=!0),c=e;else for(g=d.childNodes,f=g.length;f--;)h.push(g[f])},getName:function(){return\"DomRange\"},equals:function(a){return I.rangesEqual(this,a)},isValid:function(){return y(this)},inspect:function(){return o(this)},detach:function(){}}),F(I,H),K.extend(I,{rangeProperties:ja,RangeIterator:p,copyComparisonConstants:D,createPrototypeRange:F,inspect:o,toHtml:B,getRangeDocument:d,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=I}),H.createCoreModule(\"WrappedRange\",[\"DomRange\"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;if(a.features.implementsDomRange&&!function(){function d(a){for(var b,c=m.length;c--;)b=m[c],a[b]=a.nativeRange[b];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function g(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);(f||g||h)&&(a.setEnd(d,e),a.setStart(b,c))}var k,l,m=h.rangeProperties;c=function(a){if(!a)throw b.createError(\"WrappedRange: Range must be specified\");this.nativeRange=a,d(this)},h.createPrototypeRange(c,g),k=c.prototype,k.selectNode=function(a){this.nativeRange.selectNode(a),d(this)},k.cloneContents=function(){return this.nativeRange.cloneContents()},k.surroundContents=function(a){this.nativeRange.surroundContents(a),d(this)},k.collapse=function(a){this.nativeRange.collapse(a),d(this)},k.cloneRange=function(){return new c(this.nativeRange.cloneRange())},k.refresh=function(){d(this)},k.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode(\"test\");i(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b),d(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b),d(this)},l=function(a){return function(b){this.nativeRange[a](b),d(this)}}}catch(p){k.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}d(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}d(this)},l=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(e){this.nativeRange[b](c),this.nativeRange[a](c)}d(this)}}}k.setStartBefore=l(\"setStartBefore\",\"setEndBefore\"),k.setStartAfter=l(\"setStartAfter\",\"setEndAfter\"),k.setEndBefore=l(\"setEndBefore\",\"setStartBefore\"),k.setEndAfter=l(\"setEndAfter\",\"setStartAfter\"),k.selectNodeContents=function(a){this.setStartAndEnd(a,0,e.getNodeLength(a))},o.selectNodeContents(n),o.setEnd(n,3);var q=document.createRange();q.selectNodeContents(n),q.setEnd(n,4),q.setStart(n,2),-1==o.compareBoundaryPoints(o.START_TO_END,q)&&1==o.compareBoundaryPoints(o.END_TO_START,q)?k.compareBoundaryPoints=function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var r=document.createElement(\"div\");r.innerHTML=\"123\";var s=r.firstChild,t=i(document);t.appendChild(r),o.setStart(s,1),o.setEnd(s,2),o.deleteContents(),\"13\"==s.data&&(k.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();return d(this),a}),t.removeChild(r),t=null,f.isHostMethod(o,\"createContextualFragment\")&&(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(n),k.getName=function(){return\"WrappedRange\"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,\"createNativeRange\"),a.createRange()}}(),a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return 0==a.compareEndPoints(\"StartToEnd\",a)},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();if(e.isOrIsAncestorOf(b,i)||(i=b),!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement(\"span\");l.parentNode&&e.removeNode(l);for(var m,n,o,p,q,r=c?\"StartToStart\":\"StartToEnd\",s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;;){if(v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),m=h.compareEndPoints(r,a),0==m||s==u)break;if(-1==m){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}if(q=l.nextSibling,-1==m&&q&&k(q)){h.setEndPoint(c?\"EndToStart\":\"EndToEnd\",a);var w;if(/[\\r\\n]/.test(q.data)){var x=h.duplicate(),y=x.text.replace(/\\r\\n/g,\"\\r\").length;for(w=x.moveStart(\"character\",y);-1==(m=x.compareEndPoints(\"StartToEnd\",x));)w++,x.moveStart(\"character\",1)}else w=h.text.length;p=new g(q,w)}else n=(d||!c)&&l.previousSibling,o=(d||c)&&l.nextSibling,p=o&&k(o)?new g(o,0):n&&k(n)?new g(n,n.data.length):new g(i,e.getNodeIndex(l));return e.removeNode(l),{boundaryPosition:p,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f,g,h=a.offset,j=e.getDocument(a.node),l=i(j).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(g=a.node.childNodes,c=h<g.length?g[h]:null,d=a.node),f=j.createElement(\"span\"),f.innerHTML=\"&#feff;\",c?d.insertBefore(f,c):d.appendChild(f),l.moveToElementText(f),l.collapse(!b),d.removeChild(f),m&&l[b?\"moveStart\":\"moveEnd\"](\"character\",h),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return\"WrappedTextRange\"},h.copyComparisonConstants(d);var p=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint(\"StartToStart\",b),d.setEndPoint(\"EndToEnd\",c),d};if(d.rangeToTextRange=p,d.prototype.toTextRange=function(){return p(this)},a.WrappedTextRange=d,!a.features.implementsDomRange||a.config.preferTextRange){var q=function(a){return a(\"return this;\")()}(Function);\"undefined\"==typeof q.Range&&(q.Range=d),a.createNativeRange=function(a){return a=j(a,b,\"createNativeRange\"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,\"createRange\"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,\"createRangyRange\"),new h(a)},f.createAliasForDeprecatedMethod(a,\"createIframeRange\",\"createRange\"),f.createAliasForDeprecatedMethod(a,\"createIframeRangyRange\",\"createRangyRange\"),a.addShimListener(function(b){var c=b.document;\"undefined\"==typeof c.createRange&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),H.createCoreModule(\"WrappedSelection\",[\"DomRange\",\"WrappedRange\"],function(a,b){function c(a){return\"string\"==typeof a?/^backward(s)?$/i.test(a):!!a}function d(a,c){if(a){if(C.isWindow(a))return a;if(a instanceof r)return a.win;var d=C.getContentDocument(a,b,c);return C.getWindow(d)}return window}function e(a){return d(a,\"getWinSelection\").getSelection()}function f(a){return d(a,\"getDocSelection\").document.selection}function g(a){var b=!1;return a.anchorNode&&(b=1==C.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b}function h(a,b,c){var d=c?\"end\":\"start\",e=c?\"start\":\"end\";a.anchorNode=b[d+\"Container\"],a.anchorOffset=b[d+\"Offset\"],a.focusNode=b[e+\"Container\"],a.focusOffset=b[e+\"Offset\"]}function i(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function j(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function k(b){var c;return b instanceof F?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof G?c=b.nativeRange:J.implementsDomRange&&b instanceof C.getWindow(b.startContainer).Range&&(c=b),c}function l(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c>b;++b)if(!C.isAncestorOf(a[0],a[b]))return!1;return!0}function m(a){var c=a.getNodes();if(!l(c))throw b.createError(\"getSingleElementFromRange: range \"+a.inspect()+\" did not consist of a single element\");return c[0]}function n(a){return!!a&&\"undefined\"!=typeof a.text}function o(a,b){var c=new G(b);a._ranges=[c],h(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function p(b){if(b._ranges.length=0,\"None\"==b.docSelection.type)j(b);else{var c=b.docSelection.createRange();if(n(c))o(b,c);else{b.rangeCount=c.length;for(var d,e=L(c.item(0)),f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,h(b,b._ranges[b.rangeCount-1],!1)}}}function q(a,c){for(var d=a.docSelection.createRange(),e=m(c),f=L(d.item(0)),g=M(f).createControlRange(),h=0,i=d.length;i>h;++h)g.add(d.item(h));try{g.add(e)}catch(j){throw b.createError(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\")}g.select(),p(a)}function r(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function s(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function t(a,b){for(var c,d,e=ba.length;e--;)if(c=ba[e],d=c.selection,\"deleteAll\"==b)s(d);else if(c.win==a)return\"delete\"==b?(ba.splice(e,1),!0):d;return\"deleteAll\"==b&&(ba.length=0),null}function u(a,c){for(var d,e=L(c[0].startContainer),f=M(e).createControlRange(),g=0,h=c.length;h>g;++g){d=m(c[g]);try{f.add(d)}catch(i){throw b.createError(\"setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)\")}}f.select(),p(a)}function v(a,b){if(a.win.document!=L(b))throw new H(\"WRONG_DOCUMENT_ERR\")}function w(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e[\"set\"+(b?\"Start\":\"End\")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function x(a){var b=[],c=new I(a.anchorNode,a.anchorOffset),d=new I(a.focusNode,a.focusOffset),e=\"function\"==typeof a.getName?a.getName():\"Selection\";if(\"undefined\"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=F.inspect(a.getRangeAt(f));return\"[\"+e+\"(Ranges: \"+b.join(\", \")+\")(anchor: \"+c.inspect()+\", focus: \"+d.inspect()+\"]\"}a.config.checkSelectionRanges=!0;var y,z,A=\"boolean\",B=\"number\",C=a.dom,D=a.util,E=D.isHostMethod,F=a.DomRange,G=a.WrappedRange,H=a.DOMException,I=C.DomPosition,J=a.features,K=\"Control\",L=C.getDocument,M=C.getBody,N=F.rangesEqual,O=E(window,\"getSelection\"),P=D.isHostObject(document,\"selection\");J.implementsWinGetSelection=O,J.implementsDocSelection=P;var Q=P&&(!O||a.config.preferTextRange);if(Q)y=f,a.isSelectionValid=function(a){var b=d(a,\"isSelectionValid\").document,c=b.selection;return\"None\"!=c.type||L(c.createRange().parentElement())==b};else{if(!O)return b.fail(\"Neither document.selection or window.getSelection() detected.\"),!1;y=e,a.isSelectionValid=function(){return!0}}a.getNativeSelection=y;var R=y();if(!R)return b.fail(\"Native selection was null (possibly issue 138?)\"),!1;var S=a.createNativeRange(document),T=M(document),U=D.areHostProperties(R,[\"anchorNode\",\"focusNode\",\"anchorOffset\",\"focusOffset\"]);J.selectionHasAnchorAndFocus=U;var V=E(R,\"extend\");J.selectionHasExtend=V;var W=typeof R.rangeCount==B;J.selectionHasRangeCount=W;var X=!1,Y=!0,Z=V?function(b,c){var d=F.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(k(e)),b.extend(c.startContainer,c.startOffset)}:null;D.areHostMethods(R,[\"addRange\",\"getRangeAt\",\"removeAllRanges\"])&&typeof R.rangeCount==B&&J.implementsDomRange&&!function(){var b=window.getSelection();if(b){for(var c=b.rangeCount,d=c>1,e=[],f=g(b),h=0;c>h;++h)e[h]=b.getRangeAt(h);var i=C.createTestElement(document,\"\",!1),j=i.appendChild(document.createTextNode(\"   \")),k=document.createRange();if(k.setStart(j,1),k.collapse(!0),b.removeAllRanges(),b.addRange(k),Y=1==b.rangeCount,b.removeAllRanges(),!d){var l=window.navigator.appVersion.match(/Chrome\\/(.*?) /);if(l&&parseInt(l[1])>=36)X=!1;else{var m=k.cloneRange();k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),b.addRange(k),b.addRange(m),X=2==b.rangeCount}}for(C.removeNode(i),b.removeAllRanges(),h=0;c>h;++h)0==h&&f?Z?Z(b,e[h]):(a.warn(\"Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend\"),b.addRange(e[h])):b.addRange(e[h])}}(),J.selectionSupportsMultipleRanges=X,J.collapsedNonEditableSelectionsSupported=Y;var $,_=!1;T&&E(T,\"createControlRange\")&&($=T.createControlRange(),D.areHostProperties($,[\"item\",\"add\"])&&(_=!0)),J.implementsControlRange=_,z=U?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var aa;E(R,\"getRangeAt\")?aa=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:U&&(aa=function(b){var c=L(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),r.prototype=a.selectionPrototype;var ba=[],ca=function(a){if(a&&a instanceof r)return a.refresh(),a;a=d(a,\"getNativeSelection\");var b=t(a),c=y(a),e=P?f(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh()):(b=new r(c,e,a),ba.push({win:a,selection:b})),b};a.getSelection=ca,D.createAliasForDeprecatedMethod(a,\"getIframeSelection\",\"getSelection\");var da=r.prototype;if(!Q&&U&&D.areHostMethods(R,[\"removeAllRanges\",\"addRange\"])){da.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),j(this)};var ea=function(a,b){Z(a.nativeSelection,b),a.refresh()};W?da.addRange=function(b,d){if(_&&P&&this.docSelection.type==K)q(this,b);else if(c(d)&&V)ea(this,b);else{var e;X?e=this.rangeCount:(this.removeAllRanges(),e=0);var f=k(b).cloneRange();try{this.nativeSelection.addRange(f)}catch(g){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==e+1){if(a.config.checkSelectionRanges){var i=aa(this.nativeSelection,this.rangeCount-1);i&&!N(i,b)&&(b=new G(i))}this._ranges[this.rangeCount-1]=b,h(this,b,ha(this.nativeSelection)),this.isCollapsed=z(this)}else this.refresh()}}:da.addRange=function(a,b){c(b)&&V?ea(this,a):(this.nativeSelection.addRange(k(a)),this.refresh())},da.setRanges=function(a){if(_&&P&&a.length>1)u(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(E(R,\"empty\")&&E(S,\"select\")&&_&&Q))return b.fail(\"No means of selecting a Range or TextRange was found\"),!1;da.removeAllRanges=function(){try{if(this.docSelection.empty(),\"None\"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if(this.docSelection.type==K){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}if(a){var c=M(a).createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}j(this)},da.addRange=function(b){this.docSelection.type==K?q(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,h(this,b,!1))},da.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?u(this,a):b&&this.addRange(a[0])}}da.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new H(\"INDEX_SIZE_ERR\");return this._ranges[a].cloneRange()};var fa;if(Q)fa=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=M(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==K?p(b):n(c)?o(b,c):j(b)};else if(E(R,\"getRangeAt\")&&typeof R.rangeCount==B)fa=function(b){if(_&&P&&b.docSelection.type==K)p(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));h(b,b._ranges[b.rangeCount-1],ha(b.nativeSelection)),b.isCollapsed=z(b)}else j(b)};else{if(!U||typeof R.isCollapsed!=A||typeof S.collapsed!=A||!J.implementsDomRange)return b.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\"),!1;fa=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=aa(c,0),a._ranges=[b],a.rangeCount=1,i(a),a.isCollapsed=z(a)):j(a)}}da.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;if(fa(this),a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;for(;e--;)if(!N(b[e],this._ranges[e]))return!0;return!1}};var ga=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;e>d;++d)N(b,c[d])||a.addRange(c[d]);a.rangeCount||j(a)};_&&P?da.removeRange=function(a){if(this.docSelection.type==K){for(var b,c=this.docSelection.createRange(),d=m(a),e=L(c.item(0)),f=M(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),p(this)}else ga(this,a)}:da.removeRange=function(a){ga(this,a)};var ha;!Q&&U&&J.implementsDomRange?(ha=g,da.isBackward=function(){return ha(this)}):ha=da.isBackward=function(){return!1},da.isBackwards=da.isBackward,da.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=\"\"+this._ranges[b];return a.join(\"\")},da.collapse=function(b,c){v(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},da.collapseToStart=function(){if(!this.rangeCount)throw new H(\"INVALID_STATE_ERR\");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},da.collapseToEnd=function(){if(!this.rangeCount)throw new H(\"INVALID_STATE_ERR\");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},da.selectAllChildren=function(b){v(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},da.deleteFromDocument=function(){if(_&&P&&this.docSelection.type==K){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),C.removeNode(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}}},da.eachRange=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(a(this.getRangeAt(c)))return b},da.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},da.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},da.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b||[]))}),c},da.setStart=w(!0),da.setEnd=w(!1),a.rangePrototype.select=function(a){ca(this.getDocument()).setSingleRange(this,a)},da.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&1==b.length?this.addRange(b[0],\"backward\"):this.setRanges(b)},da.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},da.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange(\"getBookmark\",[a])}},da.moveToBookmark=function(b){for(var c,d,e=[],f=0;c=b.rangeBookmarks[f++];)d=a.createRange(this.win),d.moveToBookmark(c),e.push(d);b.backward?this.setSingleRange(e[0],\"backward\"):this.setRanges(e)},da.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange(\"cloneRange\")}},da.restoreRanges=function(a){this.removeAllRanges();for(var b,c=0;b=a.ranges[c];++c)this.addRange(b,a.backward&&0==c)},da.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(F.toHtml(b))}),a.join(\"\")},J.implementsTextRange&&(da.getNativeTextRange=function(){var c;if(c=this.docSelection){var d=c.createRange();if(n(d))return d;throw b.createError(\"getNativeTextRange: selection is a control selection\")}if(this.rangeCount>0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError(\"getNativeTextRange: selection contains no range\")}),da.getName=function(){return\"WrappedSelection\"},da.inspect=function(){return x(this)},da.detach=function(){t(this.win,\"delete\"),s(this)},r.detachAll=function(){t(null,\"deleteAll\")},r.inspect=x,r.isDirectionBackward=c,a.Selection=r,a.selectionPrototype=da,a.addShimListener(function(a){\"undefined\"==typeof a.getSelection&&(a.getSelection=function(){return ca(a)}),a=null})});var M=!1,N=function(a){M||(M=!0,!H.initialized&&H.config.autoInitialize&&l())};return F&&(\"complete\"==document.readyState?N():(a(document,\"addEventListener\")&&document.addEventListener(\"DOMContentLoaded\",N,!1),J(window,\"load\",N))),H},this),function(a,b){\"function\"==typeof define&&define.amd?define([\"./rangy-core\"],a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a(require(\"rangy\")):a(b.rangy)}(function(a){return a.createModule(\"TextRange\",[\"WrappedSelection\"],function(a,b){function c(a,b){function c(a,b,c){h.push({start:a,end:b,isWord:c})}for(var d,e,f,g=a.join(\"\"),h=[],i=0;d=b.wordRegex.exec(g);){if(e=d.index,f=e+d[0].length,e>i&&c(i,e,!1),b.includeTrailingSpace)for(;$.test(a[f]);)++f;c(e,f,!0),i=f}return i<a.length&&c(i,a.length,!1),h}function d(a,b){for(var c=a.slice(b.start,b.end),d={isWord:b.isWord,chars:c,toString:function(){return c.join(\"\")}},e=0,f=c.length;f>e;++e)c[e].token=d;return d}function e(a,b,c){for(var e,f=c(a,b),g=[],h=0;e=f[h++];)g.push(d(a,e));return g}function f(a){var b=a||\"\",c=\"string\"==typeof b?b.split(\"\"):b;return c.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)}),c.join(\"\").replace(/(.)\\1+/g,\"$1\")}function g(a){var b,c;return a?(b=a.language||_,c={},U(c,ia[b]||ia[_]),U(c,a),c):ia[_]}function h(a,b){var c=V(a,b);return b.hasOwnProperty(\"wordOptions\")&&(c.wordOptions=g(c.wordOptions)),b.hasOwnProperty(\"characterOptions\")&&(c.characterOptions=V(c.characterOptions,ga)),c}function i(a,b){var c=na(a,\"display\",b),d=a.tagName.toLowerCase();return\"block\"==c&&fa&&oa.hasOwnProperty(d)?oa[d]:c}function j(a){for(var b=o(a),c=0,d=b.length;d>c;++c)if(1==b[c].nodeType&&\"none\"==i(b[c]))return!0;return!1}function k(a){var b;return 3==a.nodeType&&(b=a.parentNode)&&\"hidden\"==na(b,\"visibility\")}function l(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(i(a))||9==a.nodeType||11==a.nodeType)}function m(a){return S.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)}function n(a){for(var b=[];a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;return b}function o(a){return n(a).concat([a])}function p(a){for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null}function q(a,b){return!b&&a.hasChildNodes()?a.firstChild:p(a)}function r(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}var c=a.parentNode;return c&&1==c.nodeType?c:null}function s(a){if(!a||3!=a.nodeType)return!1;var b=a.data;if(\"\"===b)return!0;var c=a.parentNode;if(!c||1!=c.nodeType)return!1;var d=na(a.parentNode,\"whiteSpace\");return/^[\\t\\n\\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(d)||/^[\\t\\r ]+$/.test(b)&&\"pre-line\"==d}function t(a){if(\"\"===a.data)return!0;if(!s(a))return!1;var b=a.parentNode;return b?j(a)?!0:!1:!0}function u(a){var b=a.nodeType;return 7==b||8==b||j(a)||/^(script|style)$/i.test(a.nodeName)||k(a)||t(a)}function v(a,b){var c=a.nodeType;return 7==c||8==c||1==c&&\"none\"==i(a,b)}function w(){this.store={}}function x(a,b,c){return function(d){var e=this.cache;if(e.hasOwnProperty(a))return pa++,e[a];qa++;var f=b.call(this,c?this[c]:this,d);return e[a]=f,f}}function y(a,b){this.node=a,this.session=b,this.cache=new w,this.positions=new w}function z(a,b){this.offset=b,this.nodeWrapper=a,this.node=a.node,this.session=a.session,this.cache=new w}function A(){return\"[Position(\"+S.inspectNode(this.node)+\":\"+this.offset+\")]\"}function B(){return D(),Da=new Ea}function C(){return Da||B()}function D(){Da&&Da.detach(),Da=null}function E(a,c,d,e){function f(){var a=null;return c?(a=h,i||(h=h.previousVisible(),i=!h||d&&h.equals(d))):i||(a=h=h.nextVisible(),i=!h||d&&h.equals(d)),i&&(h=null),a}d&&(c?u(d.node)&&(d=a.previousVisible()):u(d.node)&&(d=d.nextVisible()));var g,h=a,i=!1,j=!1;return{next:function(){if(j)return j=!1,g;for(var a,b;a=f();)if(b=a.getCharacter(e))return g=a,a;return null},rewind:function(){if(!g)throw b.createError(\"createCharacterIterator: cannot rewind. Only one position can be rewound.\");j=!0},dispose:function(){a=d=null}}}function F(a,b,c){function d(a){for(var b,c,d=[],e=a?f:g,h=!1,i=!1;b=e.next();){if(c=b.character,Z.test(c))i&&(i=!1,h=!0);else{if(h){e.rewind();break}i=!0}d.push(b)}return d}var f=E(a,!1,null,b),g=E(a,!0,null,b),h=c.tokenizer,i=d(!0),j=d(!1).reverse(),k=e(j.concat(i),c,h),l=i.length?k.slice(Fa(k,i[0].token)):[],m=j.length?k.slice(0,Fa(k,j.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==l.length&&!(a=l[0]).isWord&&(b=d(!0)).length>0;)l=e(a.chars.concat(b),c,h);return l.shift()},previousStartToken:function(){for(var a,b;1==m.length&&!(a=m[0]).isWord&&(b=d(!1)).length>0;)m=e(b.reverse().concat(a.chars),c,h);return m.pop()},dispose:function(){f.dispose(),g.dispose(),l=m=null}}}function G(a,b,c,d,e){var f,g,h,i,j=0,k=a,l=Math.abs(c);if(0!==c){var m=0>c;switch(b){case Q:for(g=E(a,m,null,d);(f=g.next())&&l>j;)++j,k=f;h=f,g.dispose();break;case R:for(var n=F(a,d,e),o=m?n.previousStartToken:n.nextEndToken;(i=o())&&l>j;)i.isWord&&(++j,k=m?i.chars[0]:i.chars[i.chars.length-1]);break;default:throw new Error(\"movePositionBy: unit '\"+b+\"' not implemented\")}m?(k=k.previousVisible(),j=-j):k&&k.isLeadingSpace&&!k.isTrailingSpace&&(b==R&&(g=E(a,!1,null,d),h=g.next(),g.dispose()),h&&(k=h.previousVisible()))}return{position:k,unitsMoved:j}}function H(a,b,c,d){var e=a.getRangeBoundaryPosition(b,!0),f=a.getRangeBoundaryPosition(b,!1),g=d?f:e,h=d?e:f;return E(g,!!d,h,c)}function I(a,b,c){for(var d,e=[],f=H(a,b,c);d=f.next();)e.push(d);return f.dispose(),e}function J(b,c,d){var e=a.createRange(b.node);return e.setStartAndEnd(b.node,b.offset,c.node,c.offset),!e.expand(\"word\",{wordOptions:d})}function K(a,b,c,d,e){function f(a,b){var c=p[a].previousVisible(),d=p[b-1],f=!e.wholeWordsOnly||J(c,d,e.wordOptions);return{startPos:c,endPos:d,valid:f}}for(var g,h,i,j,k,l,m=aa(e.direction),n=E(a,m,a.session.getRangeBoundaryPosition(d,m),e.characterOptions),o=\"\",p=[],q=null;g=n.next();)if(h=g.character,c||e.caseSensitive||(h=h.toLowerCase()),m?(p.unshift(g),o=h+o):(p.push(g),o+=h),c){if(k=b.exec(o))if(i=k.index,j=i+k[0].length,l){if(!m&&j<o.length||m&&i>0){q=f(i,j);break}}else l=!0}else if(-1!=(i=o.indexOf(b))){q=f(i,i+b.length);break}return l&&(q=f(i,j)),n.dispose(),q}function L(a){return function(){var b=!!Da,c=C(),d=[c].concat(T.toArray(arguments)),e=a.apply(this,d);return b||D(),e}}function M(a,b){return L(function(c,d,e,f){typeof e==P&&(e=d,d=Q),f=h(f,ka);var g=a;b&&(g=e>=0,this.collapse(!g));var i=G(c.getRangeBoundaryPosition(this,g),d,e,f.characterOptions,f.wordOptions),j=i.position;return this[g?\"setStart\":\"setEnd\"](j.node,j.offset),i.unitsMoved})}function N(a){return L(function(b,c){c=V(c,ga);for(var d,e=H(b,this,c,!a),f=0;(d=e.next())&&Z.test(d.character);)++f;e.dispose();var g=f>0;return g&&this[a?\"moveStart\":\"moveEnd\"](\"character\",a?f:-f,{characterOptions:c}),g})}function O(a){return L(function(b,c){var d=!1;return this.changeEachRange(function(b){d=b[a](c)||d}),d})}var P=\"undefined\",Q=\"character\",R=\"word\",S=a.dom,T=a.util,U=T.extend,V=T.createOptions,W=S.getBody,X=/^[ \\t\\f\\r\\n]+$/,Y=/^[ \\t\\f\\r]+$/,Z=/^[\\t-\\r \\u0085\\u00A0\\u1680\\u180E\\u2000-\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000]+$/,$=/^[\\t \\u00A0\\u1680\\u180E\\u2000-\\u200B\\u202F\\u205F\\u3000]+$/,_=\"en\",aa=a.Selection.isDirectionBackward,ba=!1,ca=!1,da=!1,ea=!0;!function(){var b=S.createTestElement(document,\"<p>1 </p><p></p>\",!0),c=b.firstChild,d=a.getSelection();d.collapse(c.lastChild,2),d.setStart(c.firstChild,0),ba=1==(\"\"+d).length,b.innerHTML=\"1 <br />\",d.collapse(b,2),d.setStart(b.firstChild,0),ca=1==(\"\"+d).length,b.innerHTML=\"1 <p>1</p>\",d.collapse(b,2),d.setStart(b.firstChild,0),da=1==(\"\"+d).length,S.removeNode(b),d.removeAllRanges()}();var fa,ga={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:\"\"},ha={includeBlockContentTrailingSpace:!ea,includeSpaceBeforeBr:!ca,includeSpaceBeforeBlock:!da,includePreLineTrailingSpace:!0},ia={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:c}},ja={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:\"forward\",wordOptions:null,characterOptions:null},ka={wordOptions:null,characterOptions:null},la={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},ma={wordOptions:null,characterOptions:null,direction:\"forward\"},na=S.getComputedStyleProperty;!function(){var a=document.createElement(\"table\"),b=W(document);b.appendChild(a),fa=\"block\"==na(a,\"display\"),b.removeChild(a)}();var oa={table:\"table\",caption:\"table-caption\",colgroup:\"table-column-group\",col:\"table-column\",thead:\"table-header-group\",tbody:\"table-row-group\",tfoot:\"table-footer-group\",tr:\"table-row\",td:\"table-cell\",th:\"table-cell\"};w.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var pa=0,qa=0,ra={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new z(this,a))},toString:function(){return\"[NodeWrapper(\"+S.inspectNode(this.node)+\")]\"}};y.prototype=ra;var sa=\"EMPTY\",ta=\"NON_SPACE\",ua=\"UNCOLLAPSIBLE_SPACE\",va=\"COLLAPSIBLE_SPACE\",wa=\"TRAILING_SPACE_BEFORE_BLOCK\",xa=\"TRAILING_SPACE_IN_BLOCK\",ya=\"TRAILING_SPACE_BEFORE_BR\",za=\"PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK\",Aa=\"TRAILING_LINE_BREAK_AFTER_BR\",Ba=\"INCLUDED_TRAILING_LINE_BREAK_AFTER_BR\";U(ra,{isCharacterDataNode:x(\"isCharacterDataNode\",S.isCharacterDataNode,\"node\"),getNodeIndex:x(\"nodeIndex\",S.getNodeIndex,\"node\"),getLength:x(\"nodeLength\",S.getNodeLength,\"node\"),containsPositions:x(\"containsPositions\",m,\"node\"),isWhitespace:x(\"isWhitespace\",s,\"node\"),isCollapsedWhitespace:x(\"isCollapsedWhitespace\",t,\"node\"),getComputedDisplay:x(\"computedDisplay\",i,\"node\"),isCollapsed:x(\"collapsed\",u,\"node\"),isIgnored:x(\"ignored\",v,\"node\"),next:x(\"nextPos\",q,\"node\"),previous:x(\"previous\",r,\"node\"),getTextNodeInfo:x(\"textNodeInfo\",function(a){var b=null,c=!1,d=na(a.parentNode,\"whiteSpace\"),e=\"pre-line\"==d;return e?(b=Y,c=!0):(\"normal\"==d||\"nowrap\"==d)&&(b=X,c=!0),{node:a,text:a.data,spaceRegex:b,collapseSpaces:c,preLine:e}},\"node\"),hasInnerText:x(\"hasInnerText\",function(a,b){for(var c=this.session,d=c.getPosition(a.parentNode,this.getNodeIndex()+1),e=c.getPosition(a,0),f=b?d:e,g=b?e:d;f!==g;){\nif(f.prepopulateChar(),f.isDefinitelyNonEmpty())return!0;f=b?f.previousVisible():f.nextVisible()}return!1},\"node\"),isRenderedBlock:x(\"isRenderedBlock\",function(a){for(var b=a.getElementsByTagName(\"br\"),c=0,d=b.length;d>c;++c)if(!u(b[c]))return!0;return this.hasInnerText()},\"node\"),getTrailingSpace:x(\"trailingSpace\",function(a){if(\"br\"==a.tagName.toLowerCase())return\"\";switch(this.getComputedDisplay()){case\"inline\":for(var b=a.lastChild;b;){if(!v(b))return 1==b.nodeType?this.session.getNodeWrapper(b).getTrailingSpace():\"\";b=b.previousSibling}break;case\"inline-block\":case\"inline-table\":case\"none\":case\"table-column\":case\"table-column-group\":break;case\"table-cell\":return\"\t\";default:return this.isRenderedBlock(!0)?\"\\n\":\"\"}return\"\"},\"node\"),getLeadingSpace:x(\"leadingSpace\",function(a){switch(this.getComputedDisplay()){case\"inline\":case\"inline-block\":case\"inline-table\":case\"none\":case\"table-column\":case\"table-column-group\":case\"table-cell\":break;default:return this.isRenderedBlock(!1)?\"\\n\":\"\"}return\"\"},\"node\")});var Ca={character:\"\",characterType:sa,isBr:!1,prepopulateChar:function(){var a=this;if(!a.prepopulatedChar){var b=a.node,c=a.offset,d=\"\",e=sa,f=!1;if(c>0)if(3==b.nodeType){var g=b.data,h=g.charAt(c-1),i=a.nodeWrapper.getTextNodeInfo(),j=i.spaceRegex;i.collapseSpaces?j.test(h)?c>1&&j.test(g.charAt(c-2))||(i.preLine&&\"\\n\"===g.charAt(c)?(d=\" \",e=za):(d=\" \",e=va)):(d=h,e=ta,f=!0):(d=h,e=ua,f=!0)}else{var k=b.childNodes[c-1];if(k&&1==k.nodeType&&!u(k)&&(\"br\"==k.tagName.toLowerCase()?(d=\"\\n\",a.isBr=!0,e=va,f=!1):a.checkForTrailingSpace=!0),!d){var l=b.childNodes[c];l&&1==l.nodeType&&!u(l)&&(a.checkForLeadingSpace=!0)}}a.prepopulatedChar=!0,a.character=d,a.characterType=e,a.isCharInvariant=f}},isDefinitelyNonEmpty:function(){var a=this.characterType;return a==ta||a==ua},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=!0,this.character=a,this.characterType=va),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var b=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();b&&(this.isLeadingSpace=!0,this.character=b,this.characterType=va),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b,c=this;c=c.previousVisible();)if(b=c.getCharacter(a),\"\"!==b)return c;return null},getCharacter:function(a){function b(){return n||(k=o.getPrecedingUncollapsedPosition(a),n=!0),k}this.resolveLeadingAndTrailingSpaces();var c,d=this.character,e=f(a.ignoreCharacters),g=\"\"!==d&&e.indexOf(d)>-1;if(this.isCharInvariant)return c=g?\"\":d;var h=[\"character\",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,e].join(\"_\"),i=this.cache.get(h);if(null!==i)return i;var j,k,l=\"\",m=this.characterType==va,n=!1,o=this;return m&&(this.type==Ba?l=\"\\n\":\" \"==d&&(!b()||k.isTrailingSpace||\"\\n\"==k.character||\" \"==k.character&&k.characterType==va)||(\"\\n\"==d&&this.isLeadingSpace?b()&&\"\\n\"!=k.character&&(l=\"\\n\"):(j=this.nextUncollapsed(),j&&(j.isBr?this.type=ya:j.isTrailingSpace&&\"\\n\"==j.character?this.type=xa:j.isLeadingSpace&&\"\\n\"==j.character&&(this.type=wa),\"\\n\"==j.character?(this.type!=ya||a.includeSpaceBeforeBr)&&(this.type!=wa||a.includeSpaceBeforeBlock)&&(this.type==xa&&j.isTrailingSpace&&!a.includeBlockContentTrailingSpace||(this.type!=za||j.type!=ta||a.includePreLineTrailingSpace)&&(\"\\n\"==d?j.isTrailingSpace?this.isTrailingSpace||this.isBr&&(j.type=Aa,b()&&k.isLeadingSpace&&!k.isTrailingSpace&&\"\\n\"==k.character?j.character=\"\":j.type=Ba):l=\"\\n\":\" \"==d&&(l=\" \"))):l=d)))),e.indexOf(l)>-1&&(l=\"\"),this.cache.set(h,l),l},equals:function(a){return!!a&&this.node===a.node&&this.offset===a.offset},inspect:A,toString:function(){return this.character}};z.prototype=Ca,U(Ca,{next:x(\"nextPos\",function(a){var b=a.nodeWrapper,c=a.node,d=a.offset,e=b.session;if(!c)return null;var f,g,h;return d==b.getLength()?(f=c.parentNode,g=f?b.getNodeIndex()+1:0):b.isCharacterDataNode()?(f=c,g=d+1):(h=c.childNodes[d],e.getNodeWrapper(h).containsPositions()?(f=h,g=0):(f=c,g=d+1)),f?e.getPosition(f,g):null}),previous:x(\"previous\",function(a){var b,c,d,e=a.nodeWrapper,f=a.node,g=a.offset,h=e.session;return 0==g?(b=f.parentNode,c=b?e.getNodeIndex():0):e.isCharacterDataNode()?(b=f,c=g-1):(d=f.childNodes[g-1],h.getNodeWrapper(d).containsPositions()?(b=d,c=S.getNodeLength(d)):(b=f,c=g-1)),b?h.getPosition(b,c):null}),nextVisible:x(\"nextVisible\",function(a){var b=a.next();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex()+1)),e}),nextUncollapsed:x(\"nextUncollapsed\",function(a){for(var b=a;b=b.nextVisible();)if(b.resolveLeadingAndTrailingSpaces(),\"\"!==b.character)return b;return null}),previousVisible:x(\"previousVisible\",function(a){var b=a.previous();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex())),e})});var Da=null,Ea=function(){function a(a){var b=new w;return{get:function(c){var d=b.get(c[a]);if(d)for(var e,f=0;e=d[f++];)if(e.node===c)return e;return null},set:function(c){var d=c.node[a],e=b.get(d)||b.set(d,[]);e.push(c)}}}function b(){this.initCaches()}var c=T.isHostProperty(document.documentElement,\"uniqueID\");return b.prototype={initCaches:function(){this.elementCache=c?function(){var a=new w;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a(\"tagName\"),this.textNodeCache=a(\"data\"),this.otherNodeCache=a(\"nodeName\")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var c=b.get(a);return c||(c=new y(a,this),b.set(c)),c},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var c=b?\"start\":\"end\";return this.getPosition(a[c+\"Container\"],a[c+\"Offset\"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},b}();U(S,{nextNode:q,previousNode:r});var Fa=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)if(a[c]===b)return c;return-1};U(a.rangePrototype,{moveStart:M(!0,!1),moveEnd:M(!1,!1),move:M(!0,!0),trimStart:N(!0),trimEnd:N(!1),trim:L(function(a,b){var c=this.trimStart(b),d=this.trimEnd(b);return c||d}),expand:L(function(a,b,c){var d=!1;c=h(c,la);var e=c.characterOptions;if(b||(b=Q),b==R){var f,g,i=c.wordOptions,j=a.getRangeBoundaryPosition(this,!0),k=a.getRangeBoundaryPosition(this,!1),l=F(j,e,i),m=l.nextEndToken(),n=m.chars[0].previousVisible();if(this.collapsed)f=m;else{var o=F(k,e,i);f=o.previousStartToken()}return g=f.chars[f.chars.length-1],n.equals(j)||(this.setStart(n.node,n.offset),d=!0),g&&!g.equals(k)&&(this.setEnd(g.node,g.offset),d=!0),c.trim&&(c.trimStart&&(d=this.trimStart(e)||d),c.trimEnd&&(d=this.trimEnd(e)||d)),d}return this.moveEnd(Q,1,c)}),text:L(function(a,b){return this.collapsed?\"\":I(a,this,V(b,ga)).join(\"\")}),selectCharacters:L(function(a,b,c,d,e){var f={characterOptions:e};b||(b=W(this.getDocument())),this.selectNodeContents(b),this.collapse(!0),this.moveStart(\"character\",c,f),this.collapse(!0),this.moveEnd(\"character\",d-c,f)}),toCharacterRange:L(function(a,b,c){b||(b=W(this.getDocument()));var d,e,f=b.parentNode,g=S.getNodeIndex(b),h=-1==S.comparePoints(this.startContainer,this.endContainer,f,g),i=this.cloneRange();return h?(i.setStartAndEnd(this.startContainer,this.startOffset,f,g),d=-i.text(c).length):(i.setStartAndEnd(f,g,this.startContainer,this.startOffset),d=i.text(c).length),e=d+this.text(c).length,{start:d,end:e}}),findText:L(function(b,c,d){d=h(d,ja),d.wholeWordsOnly&&(d.wordOptions.includeTrailingSpace=!1);var e=aa(d.direction),f=d.withinRange;f||(f=a.createRange(),f.selectNodeContents(this.getDocument()));var g=c,i=!1;\"string\"==typeof g?d.caseSensitive||(g=g.toLowerCase()):i=!0;var j=b.getRangeBoundaryPosition(this,!e),k=f.comparePoint(j.node,j.offset);-1===k?j=b.getRangeBoundaryPosition(f,!0):1===k&&(j=b.getRangeBoundaryPosition(f,!1));for(var l,m=j,n=!1;;)if(l=K(m,g,i,f,d)){if(l.valid)return this.setStartAndEnd(l.startPos.node,l.startPos.offset,l.endPos.node,l.endPos.offset),!0;m=e?l.startPos:l.endPos}else{if(!d.wrap||n)return!1;f=f.cloneRange(),m=b.getRangeBoundaryPosition(f,!e),f.setBoundary(j.node,j.offset,e),n=!0}}),pasteHtml:function(a){if(this.deleteContents(),a){var b=this.createContextualFragment(a),c=b.lastChild;this.insertNode(b),this.collapseAfter(c)}}}),U(a.selectionPrototype,{expand:L(function(a,b,c){this.changeEachRange(function(a){a.expand(b,c)})}),move:L(function(a,b,c,d){var e=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var f=this.getRangeAt(0);d||(d={}),d.characterOptions=V(d.characterOptions,ha),e=f.move(b,c,d),this.setSingleRange(f)}return e}),trimStart:O(\"trimStart\"),trimEnd:O(\"trimEnd\"),trim:O(\"trim\"),selectCharacters:L(function(b,c,d,e,f,g){var h=a.createRange(c);h.selectCharacters(c,d,e,g),this.setSingleRange(h,f)}),saveCharacterRanges:L(function(a,b,c){for(var d=this.getAllRanges(),e=d.length,f=[],g=1==e&&this.isBackward(),h=0,i=d.length;i>h;++h)f[h]={characterRange:d[h].toCharacterRange(b,c),backward:g,characterOptions:c};return f}),restoreCharacterRanges:L(function(b,c,d){this.removeAllRanges();for(var e,f,g,h=0,i=d.length;i>h;++h)f=d[h],g=f.characterRange,e=a.createRange(c),e.selectCharacters(c,g.start,g.end,f.characterOptions),this.addRange(e,f.backward)}),text:L(function(a,b){for(var c=[],d=0,e=this.rangeCount;e>d;++d)c[d]=this.getRangeAt(d).text(b);return c.join(\"\")})}),a.innerText=function(b,c){var d=a.createRange(b);d.selectNodeContents(b);var e=d.text(c);return e},a.createWordIterator=function(a,b,c){var d=C();c=h(c,ma);var e=d.getPosition(a,b),f=F(e,c.characterOptions,c.wordOptions),g=aa(c.direction);return{next:function(){return g?f.previousStartToken():f.nextEndToken()},dispose:function(){f.dispose(),this.next=function(){}}}},a.noMutation=function(a){var b=C();a(b),D()},a.noMutation.createEntryPointFunction=L,a.textRange={isBlockNode:l,isCollapsedWhitespaceNode:t,createPosition:L(function(a,b,c){return a.getPosition(b,c)})}}),a},this),function(a,b){\"function\"==typeof define&&define.amd?define([\"./rangy-core\"],a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a(require(\"rangy\")):a(b.rangy)}(function(a){return a.createModule(\"SaveRestore\",[\"WrappedRange\"],function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d=\"selectionBoundary_\"+ +new Date+\"_\"+(\"\"+Math.random()).slice(2),e=o.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement(\"span\"),c.id=d,c.style.lineHeight=\"0\",c.style.display=\"none\",c.className=\"rangySelectionBoundary\",c.appendChild(e.createTextNode(r)),f.insertNode(c),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?\"setStartBefore\":\"setEndBefore\"](g),p(g)):b.warn(\"Marker element has been removed. Cannot restore selection.\")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(b,c){var e,f,g=a.DomRange.getRangeDocument(b),h=b.toString(),i=q(c);return b.collapsed?(f=d(b,!1),{document:g,markerId:f.id,collapsed:!0}):(f=d(b,!1),e=d(b,!0),{document:g,startMarkerId:e.id,endMarkerId:f.id,collapsed:!1,backward:i,toString:function(){return\"original text: '\"+h+\"', new text: '\"+b.toString()+\"'\"}})}function h(d,f){var g=d.document;\"undefined\"==typeof f&&(f=!0);var h=a.createRange(g);if(d.collapsed){var i=c(d.markerId,g);if(i){i.style.display=\"inline\";var j=i.previousSibling;j&&3==j.nodeType?(p(i),h.collapseToPoint(j,j.length)):(h.collapseBefore(i),p(i))}else b.warn(\"Marker element has been removed. Cannot restore selection.\")}else e(g,h,d.startMarkerId,!0),e(g,h,d.endMarkerId,!1);return f&&h.normalizeBoundaries(),h}function i(b,d){var e,h,i=[],j=q(d);b=b.slice(0),b.sort(f);for(var k=0,l=b.length;l>k;++k)i[k]=g(b[k],j);for(k=l-1;k>=0;--k)e=b[k],h=a.DomRange.getRangeDocument(e),e.collapsed?e.collapseAfter(c(i[k].markerId,h)):(e.setEndBefore(c(i[k].endMarkerId,h)),e.setStartAfter(c(i[k].startMarkerId,h)));return i}function j(c){if(!a.isSelectionValid(c))return b.warn(\"Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.\"),null;var d=a.getSelection(c),e=d.getAllRanges(),f=1==e.length&&d.isBackward(),g=i(e,f);return f?d.setSingleRange(e[0],f):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}}function k(a){for(var b=[],c=a.length,d=c-1;d>=0;d--)b[d]=h(a[d],!0);return b}function l(b,c){if(!b.restored){var d=b.rangeInfos,e=a.getSelection(b.win),f=k(d),g=d.length;1==g&&c&&a.features.selectionHasExtend&&d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0}}function m(a,b){var d=c(b,a);d&&p(d)}function n(a){for(var b,c=a.rangeInfos,d=0,e=c.length;e>d;++d)b=c[d],b.collapsed?m(a.doc,b.markerId):(m(a.doc,b.startMarkerId),m(a.doc,b.endMarkerId))}var o=a.dom,p=o.removeNode,q=a.Selection.isDirectionBackward,r=\"\\ufeff\";a.util.extend(a,{saveRange:g,restoreRange:h,saveRanges:i,restoreRanges:k,saveSelection:j,restoreSelection:l,removeMarkerElement:m,removeMarkers:n})}),a},this);var Base=function(){};Base.extend=function(a,b){var c=Base.prototype.extend;Base._prototyping=!0;var d=new this;c.call(d,a),d.base=function(){},delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||c).call(arguments[0],d)};return f.ancestor=this,f.extend=this.extend,f.forEach=this.forEach,f.implement=this.implement,f.prototype=d,f.toString=this.toString,f.valueOf=function(a){return\"object\"==a?f:e.valueOf()},c.call(f,b),\"function\"==typeof f.init&&f.init(),f},Base.prototype={extend:function(a,b){if(arguments.length>1){var c=this[a];if(c&&\"function\"==typeof b&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\\bbase\\b/.test(b)){var d=b.valueOf();b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=d.apply(this,arguments);return this.base=a,b},b.valueOf=function(a){return\"object\"==a?b:d},b.toString=Base.toString}this[a]=b}else if(a){var e=Base.prototype.extend;Base._prototyping||\"function\"==typeof this||(e=this.extend||e);for(var f={toSource:null},g=[\"constructor\",\"toString\",\"valueOf\"],h=Base._prototyping?0:1;i=g[h++];)a[i]!=f[i]&&e.call(this,i,a[i]);for(var i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:\"1.1\",forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)\"function\"==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function a(a){return+(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\\d+).+? like mac os x/)||[void 0,0])[1]}function b(a){return+(a.match(/android (\\d+)/)||[void 0,0])[1]}function c(a,b){var c,d=-1;return\"Microsoft Internet Explorer\"==navigator.appName?c=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\"):\"Netscape\"==navigator.appName&&(navigator.userAgent.indexOf(\"Trident\")>-1?c=new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\"):/Edge\\/(\\d+)./i.test(navigator.userAgent)&&(c=/Edge\\/(\\d+)./i)),c&&null!=c.exec(navigator.userAgent)&&(d=parseFloat(RegExp.$1)),-1===d?!1:a?b?\"<\"===b?d>a:\">\"===b?a>d:\"<=\"===b?d>=a:\">=\"===b?a>=d:void 0:a===d:!0}var d=navigator.userAgent,e=document.createElement(\"div\"),f=-1!==d.indexOf(\"Gecko\")&&-1===d.indexOf(\"KHTML\"),g=-1!==d.indexOf(\"AppleWebKit/\"),h=-1!==d.indexOf(\"Chrome/\"),i=-1!==d.indexOf(\"Opera/\");return{USER_AGENT:d,supported:function(){var c=this.USER_AGENT.toLowerCase(),d=\"contentEditable\"in e,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h=this.isIos()&&a(c)<5||this.isAndroid()&&b(c)<4||-1!==c.indexOf(\"opera mobi\")||-1!==c.indexOf(\"hpwos/\");return d&&f&&g&&!h},isTouchDevice:function(){return this.supportsEvent(\"touchmove\")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf(\"Android\")},supportsSandboxedIframes:function(){return c()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!(\"querySelector\"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return c(12,\">\")},hasCurrentStyleProperty:function(){return\"currentStyle\"in e},insertsLineBreaksOnReturn:function(){return f},supportsPlaceholderAttributeOn:function(a){return\"placeholder\"in a},supportsEvent:function(a){return\"on\"+a in e||function(){return e.setAttribute(\"on\"+a,\"return;\"),\"function\"==typeof e[\"on\"+a]}()},supportsEventsInIframeCorrectly:function(){return!i},supportsHTML5Tags:function(a){var b=a.createElement(\"div\"),c=\"<article>foo</article>\";return b.innerHTML=c,b.innerHTML.toLowerCase()===c},supportsCommand:function(){var a={formatBlock:c(10,\"<=\"),insertUnorderedList:c(9,\">=\")||c(12,\"<=\"),insertOrderedList:c(9,\">=\")||c(12,\"<=\")},b={insertHTML:f};return function(c,d){var e=a[d];if(!e){try{return c.queryCommandSupported(d)}catch(f){}try{return c.queryCommandEnabled(d)}catch(g){return!!b[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return c()},canDisableAutoLinking:function(){return this.supportsCommand(document,\"AutoUrlDetect\")},clearsContentEditableCorrectly:function(){return f||i||g},supportsGetAttributeCorrectly:function(){var a=document.createElement(\"td\");return\"1\"!=a.getAttribute(\"rowspan\")},canSelectImagesInContentEditable:function(){return f||c()||i},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a,b,c=e.cloneNode(!1);return c.innerHTML=\"<p><div></div>\",b=c.innerHTML.toLowerCase(),a=\"<p></p><div></div>\"===b||\"<p><div></div></p>\"===b,this.autoClosesUnclosedTags=function(){return a},a},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf(\"[native code]\")},supportsSelectionModify:function(){return\"getSelection\"in window&&\"modify\"in window.getSelection()},needsSpaceAfterLineBreak:function(){return i},supportsSpeechApiOn:function(a){var b=d.match(/Chrome\\/(\\d+)/)||[void 0,0];return b[1]>=11&&(\"onwebkitspeechchange\"in a||\"speech\"in a)},crashesWhenDefineProperty:function(a){return c(9)&&(\"XMLHttpRequest\"===a||\"XDomainRequest\"===a)},doesAsyncFocus:function(){return c(12,\">\")},hasProblemsSettingCaretAfterImg:function(){return c()},hasUndoInContextMenu:function(){return f||h||i},hasInsertNodeIssue:function(){return i},hasIframeFocusIssue:function(){return c()},createsNestedInvalidMarkupAfterPaste:function(){return g},supportsMutationEvents:function(){return\"MutationEvent\"in window},supportsModernPaste:function(){return!c()},fixStyleKey:function(a){return\"cssFloat\"===a?\"styleFloat\"in document.createElement(\"div\").style?\"styleFloat\":\"cssFloat\":a}}}(),wysihtml5.lang.array=function(a){return{contains:function(b){if(Array.isArray(b)){for(var c=b.length;c--;)if(-1!==wysihtml5.lang.array(a).indexOf(b[c]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(b)},indexOf:function(b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},without:function(b){b=wysihtml5.lang.array(b);for(var c=[],d=0,e=a.length;e>d;d++)b.contains(a[d])||c.push(a[d]);return c},get:function(){for(var b=0,c=a.length,d=[];c>b;b++)d.push(a[b]);return d},map:function(b,c){if(Array.prototype.map)return a.map(b,c);for(var d=a.length>>>0,e=new Array(d),f=0;d>f;f++)e[f]=b.call(c,a[f],f,a);return e},unique:function(){for(var b=[],c=a.length,d=0;c>d;)wysihtml5.lang.array(b).contains(a[d])||b.push(a[d]),d++;return b}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(a,b){return this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b),this},off:function(a,b){this.events=this.events||{};var c,d,e=0;if(a){for(c=this.events[a]||[],d=[];e<c.length;e++)c[e]!==b&&b&&d.push(c[e]);this.events[a]=d}else this.events={};return this},fire:function(a,b){this.events=this.events||{};for(var c=this.events[a]||[],d=0;d<c.length;d++)c[d].call(this,b);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(a){return{merge:function(b,c){for(var d in b)c&&wysihtml5.lang.object(b[d]).isPlainObject()&&(\"undefined\"==typeof a[d]||wysihtml5.lang.object(a[d]).isPlainObject())?\"undefined\"==typeof a[d]?a[d]=wysihtml5.lang.object(b[d]).clone(!0):wysihtml5.lang.object(a[d]).merge(wysihtml5.lang.object(b[d]).clone(!0)):a[d]=wysihtml5.lang.object(b[d]).isPlainObject()?wysihtml5.lang.object(b[d]).clone(!0):b[d];return this},difference:function(b){var c={};for(var d in a)a.hasOwnProperty(d)&&(b.hasOwnProperty(d)||(c[d]=a[d]));for(var e in b)b.hasOwnProperty(e)&&(a.hasOwnProperty(e)&&a[e]===b[e]||(c[0]=a[0]));return c},get:function(){return a},clone:function(b){var c,d={};if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(c in a)a.hasOwnProperty(c)&&(b?d[c]=wysihtml5.lang.object(a[c]).clone(b):d[c]=a[c]);return d},isArray:function(){return\"[object Array]\"===Object.prototype.toString.call(a)},isFunction:function(){return\"[object Function]\"===Object.prototype.toString.call(a)},isPlainObject:function(){return a&&\"[object Object]\"===Object.prototype.toString.call(a)&&!(\"Node\"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}}},function(){var a=/^\\s+/,b=/\\s+$/,c=/[&<>\\t\"]/g,d={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"\t\":\"&nbsp; \"};wysihtml5.lang.string=function(e){return e=String(e),{trim:function(){return e.replace(a,\"\").replace(b,\"\")},interpolate:function(a){for(var b in a)e=this.replace(\"#{\"+b+\"}\").by(a[b]);return e},replace:function(a){return{by:function(b){return e.split(a).join(b)}}},escapeHTML:function(a,b){var f=e.replace(c,function(a){return d[a]});return a&&(f=f.replace(/(?:\\r\\n|\\r|\\n)/g,\"<br />\")),b&&(f=f.replace(/  /gi,\"&nbsp; \")),f}}}}(),function(a){function b(a,b){return f(a,b)?a:(a===a.ownerDocument.documentElement&&(a=a.ownerDocument.body),g(a,b))}function c(a){return a.replace(i,function(a,b){var c=(b.match(j)||[])[1]||\"\",d=l[c];b=b.replace(j,\"\"),b.split(d).length>b.split(c).length&&(b+=c,c=\"\");var e=b,f=b;return b.length>k&&(f=f.substr(0,k)+\"...\"),\"www.\"===e.substr(0,4)&&(e=\"http://\"+e),'<a href=\"'+e+'\">'+f+\"</a>\"+c})}function d(a){var b=a._wysihtml5_tempElement;return b||(b=a._wysihtml5_tempElement=a.createElement(\"div\")),b}function e(b){var e=b.parentNode,f=a.lang.string(b.data).escapeHTML(),g=d(e.ownerDocument);for(g.innerHTML=\"<span></span>\"+c(f),g.removeChild(g.firstChild);g.firstChild;)e.insertBefore(g.firstChild,b);e.removeChild(b)}function f(b,c){for(var d;b.parentNode;){if(b=b.parentNode,d=b.nodeName,b.className&&a.lang.array(b.className.split(\" \")).contains(c))return!0;if(h.contains(d))return!0;if(\"body\"===d)return!1}return!1}function g(b,c){if(!(h.contains(b.nodeName)||b.className&&a.lang.array(b.className.split(\" \")).contains(c))){if(b.nodeType===a.TEXT_NODE&&b.data.match(i))return void e(b);for(var d=a.lang.array(b.childNodes).get(),f=d.length,j=0;f>j;j++)g(d[j],c);return b}}var h=a.lang.array([\"CODE\",\"PRE\",\"A\",\"SCRIPT\",\"HEAD\",\"TITLE\",\"STYLE\"]),i=/((https?:\\/\\/|www\\.)[^\\s<]{3,})/gi,j=/([^\\w\\/\\-](,?))$/i,k=100,l={\")\":\"(\",\"]\":\"[\",\"}\":\"{\"};a.dom.autoLink=b,a.dom.autoLink.URL_REG_EXP=i}(wysihtml5),function(a){var b=a.dom;b.addClass=function(a,c){var d=a.classList;return d?d.add(c):void(b.hasClass(a,c)||(a.className+=\" \"+c))},b.removeClass=function(a,b){var c=a.classList;return c?c.remove(b):void(a.className=a.className.replace(new RegExp(\"(^|\\\\s+)\"+b+\"(\\\\s+|$)\"),\" \"))},b.hasClass=function(a,b){var c=a.classList;if(c)return c.contains(b);var d=a.className;return d.length>0&&(d==b||new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\").test(d))}}(wysihtml5),wysihtml5.dom.contains=function(){var a=document.documentElement;return a.contains?function(a,b){if(b.nodeType!==wysihtml5.ELEMENT_NODE){if(b.parentNode===a)return!0;b=b.parentNode}return a!==b&&a.contains(b)}:a.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:void 0}(),wysihtml5.dom.convertToList=function(){function a(a,b){var c=a.createElement(\"li\");return b.appendChild(c),c}function b(a,b){return a.createElement(b)}function c(c,d,e){if(\"UL\"===c.nodeName||\"OL\"===c.nodeName||\"MENU\"===c.nodeName)return c;var f,g,h,i,j,k,l,m,n,o=c.ownerDocument,p=b(o,d),q=c.querySelectorAll(\"br\"),r=q.length;for(n=0;r>n;n++)for(i=q[n];(j=i.parentNode)&&j!==c&&j.lastChild===i;){if(\"block\"===wysihtml5.dom.getStyle(\"display\").from(j)){j.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(f=wysihtml5.lang.array(c.childNodes).get(),g=f.length,n=0;g>n;n++)m=m||a(o,p),h=f[n],k=\"block\"===wysihtml5.dom.getStyle(\"display\").from(h),l=\"BR\"===h.nodeName,!k||e&&wysihtml5.dom.hasClass(h,e)?l?m=m.firstChild?null:m:m.appendChild(h):(m=m.firstChild?a(o,p):m,m.appendChild(h),m=null);return 0===f.length&&a(o,p),c.parentNode.replaceChild(p,c),p}return c}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){for(var d,e=0,f=a.length;f>e;e++)d=a[e],\"undefined\"!=typeof b[d]&&\"\"!==b[d]&&(c[d]=b[d]);return{andTo:arguments.callee}}}}}},function(a){var b=[\"-webkit-box-sizing\",\"-moz-box-sizing\",\"-ms-box-sizing\",\"box-sizing\"],c=function(b){return d(b)?parseInt(a.getStyle(\"width\").from(b),10)<b.offsetWidth:!1},d=function(c){for(var d=0,e=b.length;e>d;d++)if(\"border-box\"===a.getStyle(b[d]).from(c))return b[d]};a.copyStyles=function(d){return{from:function(e){c(e)&&(d=wysihtml5.lang.array(d).without(b));for(var f,g=\"\",h=d.length,i=0;h>i;i++)f=d[i],g+=f+\":\"+a.getStyle(f).from(e)+\";\";return{to:function(b){return a.setStyles(g).on(b),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(a,b,c,d){var e=function(c){for(var e=c.target,f=3===e.nodeType?e.parentNode:e,g=a.querySelectorAll(b),h=0,i=g.length;i>h;h++)g[h].contains(f)&&d.call(g[h],c)};return a.addEventListener(c,e,!1),{stop:function(){a.removeEventListener(c,e,!1)}}}}(wysihtml5),function(a){function b(a,b){for(var c=[a],d=a;b&&d&&d!==b||!b&&d;)c.unshift(d),d=d.parentNode;return c}function c(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")}a.dom.domNode=function(d){var e=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(b){var c=b?/^\\s*$/g:/^[\\r\\n]*$/g;return d.nodeType===a.TEXT_NODE&&c.test(d.data)},visible:function(){var b=!/^\\s*$/g.test(a.dom.getTextContent(d));return b||1===d.nodeType&&d.querySelector(\"img, br, hr, object, embed, canvas, input, textarea\")&&(b=!0),b}},prev:function(b){var f=d.previousSibling,g=b&&b.nodeTypes?b.nodeTypes:e;return f?c(f)||!a.lang.array(g).contains(f.nodeType)||b&&b.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).prev(b):f:null},next:function(b){var f=d.nextSibling,g=b&&b.nodeTypes?b.nodeTypes:e;return f?c(f)||!a.lang.array(g).contains(f.nodeType)||b&&b.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).next(b):f:null},commonAncestor:function(a,c){var e=b(d,c),f=b(a,c);if(e[0]!=f[0])return null;for(var g=0;g<e.length;g++)if(e[g]!=f[g])return e[g-1];return null},lastLeafNode:function(b){var c;if(1!==d.nodeType)return d;if(c=d.lastChild,!c)return d;if(b&&b.leafClasses)for(var e=b.leafClasses.length;e--;)if(a.dom.hasClass(d,b.leafClasses[e]))return d;return a.dom.domNode(c).lastLeafNode(b)},escapeParent:function(b,c){var e,f,g,h=d;if(!a.dom.contains(b,d))throw new Error(\"Child is not a descendant of node.\");do{for(e=h.parentNode,f=e.cloneNode(!1);e.lastChild&&e.lastChild!==h;)f.insertBefore(e.lastChild,f.firstChild);if(e!==b&&(g=e.cloneNode(!1),g.appendChild(h),h=g),e.parentNode.insertBefore(h,e.nextSibling),\"\"!==f.innerHTML)if(/^\\s+$/.test(f.innerHTML))for(;f.lastChild;)e.parentNode.insertBefore(f.lastChild,h.nextSibling);else e.parentNode.insertBefore(f,h.nextSibling);if(\"\"===e.innerHTML)e.parentNode.removeChild(e);else if(/^\\s+$/.test(e.innerHTML)){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}while(e&&e!==b);c&&h&&(h.parentNode.insertBefore(c,h),c.appendChild(h))},test:function(b){var c;if(!b)return!1;if(1!==d.nodeType)return!1;if(b.query&&!d.matches(b.query))return!1;if(b.nodeName&&d.nodeName.toLowerCase()!==b.nodeName.toLowerCase())return!1;if(b.className&&!d.classList.contains(b.className))return!1;if(b.classRegExp){var e=(d.className||\"\").match(b.classRegExp)||[];if(0===e.length)return!1}if(b.styleProperty&&b.styleProperty.length>0)for(var f=!1,g=Array.isArray(b.styleProperty)?b.styleProperty:[b.styleProperty],h=0,i=g.length;i>h;h++){if(c=a.browser.fixStyleKey(g[h]),d.style[c]){if(!b.styleValue){f=!0;break}if(b.styleValue instanceof RegExp){if(d.style[c].trim().match(b.styleValue).length>0){f=!0;break}}else if(Array.isArray(b.styleValue)){if(b.styleValue.indexOf(d.style[c].trim())){f=!0;break}}else if(b.styleValue===d.style[c].trim().replace(/, /g,\",\")){f=!0;break}}if(!f)return!1}if(b.attribute){var j=a.dom.getAttributes(d),k=[],l=!1;Array.isArray(b.attribute)?k=b.attribute:k[b.attribute]=b.attributeValue;for(var m in k)if(k.hasOwnProperty(m))if(\"undefined\"==typeof k[m]){if(\"undefined\"!=typeof j[m]){l=!0;break}}else if(j[m]===k[m]){l=!0;break}if(!l)return!1}return!0}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a=function(a,b){var c=b.createElement(\"div\");c.style.display=\"none\",b.body.appendChild(c);try{c.innerHTML=a}catch(d){}return b.body.removeChild(c),c},b=function(a){if(!a._wysihtml5_supportsHTML5Tags){for(var b=0,d=c.length;d>b;b++)a.createElement(c[b]);a._wysihtml5_supportsHTML5Tags=!0}},c=[\"abbr\",\"article\",\"aside\",\"audio\",\"bdi\",\"canvas\",\"command\",\"datalist\",\"details\",\"figcaption\",\"figure\",\"footer\",\"header\",\"hgroup\",\"keygen\",\"mark\",\"meter\",\"nav\",\"output\",\"progress\",\"rp\",\"rt\",\"ruby\",\"svg\",\"section\",\"source\",\"summary\",\"time\",\"track\",\"video\",\"wbr\"];return function(c,d){d=d||document;var e;return\"object\"==typeof c&&c.nodeType?(e=d.createElement(\"div\"),e.appendChild(c)):wysihtml5.browser.supportsHTML5Tags(d)?(e=d.createElement(\"div\"),e.innerHTML=c):(b(d),e=a(c,d)),e}}(),wysihtml5.dom.getParentElement=function(){return function(a,b,c,d){for(c=c||50;c--&&a&&\"BODY\"!==a.nodeName&&(!d||a!==d);){if(wysihtml5.dom.domNode(a).test(b))return a;a=a.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function a(a){return a.replace(c,function(a){return a.charAt(1).toUpperCase()})}var b={\"float\":\"styleFloat\"in document.createElement(\"div\").style?\"styleFloat\":\"cssFloat\"},c=/\\-[a-z]/g;return function(c){return{from:function(d){if(d.nodeType===wysihtml5.ELEMENT_NODE){var e=d.ownerDocument,f=b[c]||a(c),g=d.style,h=d.currentStyle,i=g[f];if(i)return i;if(h)try{return h[f]}catch(j){}var k,l,m=e.defaultView||e.parentWindow,n=(\"height\"===c||\"width\"===c)&&\"TEXTAREA\"===d.nodeName;return m.getComputedStyle?(n&&(k=g.overflow,g.overflow=\"hidden\"),l=m.getComputedStyle(d,null).getPropertyValue(c),n&&(g.overflow=k||\"\"),l):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(a,b){var c=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b&&/^\\s*$/.test(a.innerText||a.textContent)||c.push(a):c=c.concat(wysihtml5.dom.getTextNodes(a,b));return c},wysihtml5.dom.hasElementWithTagName=function(){function a(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=c++)}var b={},c=1;return function(c,d){var e=a(c)+\":\"+d,f=b[e];return f||(f=b[e]=c.getElementsByTagName(d)),f.length>0}}(),function(a){function b(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=d++)}var c={},d=1;a.dom.hasElementWithClassName=function(d,e){if(!a.browser.supportsNativeGetElementsByClassName())return!!d.querySelector(\".\"+e);var f=b(d)+\":\"+e,g=c[f];return g||(g=c[f]=d.getElementsByClassName(e)),\ng.length>0}}(wysihtml5),wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join(\"\\n\"),{into:function(b){var c=b.createElement(\"style\");c.type=\"text/css\",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a));var d=b.querySelector(\"head link\");if(d)return void d.parentNode.insertBefore(c,d);var e=b.querySelector(\"head\");e&&e.appendChild(c)}}},function(a){a.dom.lineBreaks=function(b){function c(a){return\"BR\"===a.nodeName}function d(b){return c(b)?!0:\"block\"===a.dom.getStyle(\"display\").from(b)?!0:!1}return{add:function(c){var e=b.ownerDocument,f=a.dom.domNode(b).next({ignoreBlankTexts:!0}),g=a.dom.domNode(b).prev({ignoreBlankTexts:!0});f&&!d(f)&&a.dom.insert(e.createElement(\"br\")).after(b),g&&!d(g)&&a.dom.insert(e.createElement(\"br\")).before(b)},remove:function(d){var e=a.dom.domNode(b).next({ignoreBlankTexts:!0}),f=a.dom.domNode(b).prev({ignoreBlankTexts:!0});e&&c(e)&&e.parentNode.removeChild(e),f&&c(f)&&f.parentNode.removeChild(f)}}}}(wysihtml5),wysihtml5.dom.observe=function(a,b,c){b=\"string\"==typeof b?[b]:b;for(var d,e,f=0,g=b.length;g>f;f++)e=b[f],a.addEventListener?a.addEventListener(e,c,!1):(d=function(b){\"target\"in b||(b.target=b.srcElement),b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},c.call(a,b)},a.attachEvent(\"on\"+e,d));return{stop:function(){for(var e,f=0,g=b.length;g>f;f++)e=b[f],a.removeEventListener?a.removeEventListener(e,c,!1):a.detachEvent(\"on\"+e,d)}}},wysihtml5.dom.parse=function(a,b){function c(a,b){wysihtml5.lang.object(t).merge(s).merge(b.rules).get();var c,f,g,h=b.context||a.ownerDocument||document,i=h.createDocumentFragment(),j=\"string\"==typeof a,k=!1;for(b.clearInternals===!0&&(k=!0),c=j?wysihtml5.dom.getAsDom(a,h):a,t.selectors&&e(c,t.selectors);c.firstChild;)g=c.firstChild,f=d(g,b.cleanUp,k,b.uneditableClass),f&&i.appendChild(f),g!==f&&c.removeChild(g);if(b.unjoinNbsps)for(var l=wysihtml5.dom.getTextNodes(i),m=l.length;m--;)l[m].nodeValue=l[m].nodeValue.replace(/([\\S\\u00A0])\\u00A0/gi,\"$1 \");return c.innerHTML=\"\",c.appendChild(i),j?wysihtml5.quirks.getCorrectInnerHTML(c):c}function d(a,b,c,e){var f,g,h,i,j=a.nodeType,k=a.childNodes,l=k.length,m=p[j],n=0;if(e&&1===j&&wysihtml5.dom.hasClass(a,e))return a;if(g=m&&m(a,c),!g){if(g===!1){for(f=a.ownerDocument.createDocumentFragment(),n=l;n--;)k[n]&&(h=d(k[n],b,c,e),h&&(k[n]===h&&n--,f.insertBefore(h,f.firstChild)));return i=wysihtml5.dom.getStyle(\"display\").from(a),\"\"===i&&(i=wysihtml5.lang.array(u).contains(a.tagName)?\"block\":\"\"),wysihtml5.lang.array([\"block\",\"flex\",\"table\"]).contains(i)&&f.appendChild(a.ownerDocument.createElement(\"br\")),wysihtml5.lang.array([\"div\",\"pre\",\"p\",\"table\",\"td\",\"th\",\"ul\",\"ol\",\"li\",\"dd\",\"dl\",\"footer\",\"header\",\"section\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"]).contains(a.nodeName.toLowerCase())&&a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\\s/.test(a.nextSibling.nodeValue)||f.appendChild(a.ownerDocument.createTextNode(\" \"))),f.normalize&&f.normalize(),f}return null}for(n=0;l>n;n++)k[n]&&(h=d(k[n],b,c,e),h&&(k[n]===h&&n--,g.appendChild(h)));if(b&&g.nodeName.toLowerCase()===q&&(!g.childNodes.length||/^\\s*$/gi.test(g.innerHTML)&&(c||\"_wysihtml5-temp-placeholder\"!==a.className&&\"rangySelectionBoundary\"!==a.className)||!g.attributes.length)){for(f=g.ownerDocument.createDocumentFragment();g.firstChild;)f.appendChild(g.firstChild);return f.normalize&&f.normalize(),f}return g.normalize&&g.normalize(),g}function e(a,b){var c,d,e;for(c in b)if(b.hasOwnProperty(c)){wysihtml5.lang.object(b[c]).isFunction()?d=b[c]:\"string\"==typeof b[c]&&z[b[c]]&&(d=z[b[c]]),e=a.querySelectorAll(c);for(var f=e.length;f--;)d(e[f])}}function f(a,b){var c,d,e,f=t.tags,h=a.nodeName.toLowerCase(),j=a.scopeName;if(a._wysihtml5)return null;if(a._wysihtml5=1,\"wysihtml5-temp\"===a.className)return null;if(j&&\"HTML\"!=j&&(h=j+\":\"+h),\"outerHTML\"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||\"P\"!==a.nodeName||\"</p>\"===a.outerHTML.slice(-4).toLowerCase()||(h=\"div\")),h in f){if(c=f[h],!c||c.remove)return null;if(c.unwrap)return!1;c=\"string\"==typeof c?{rename_tag:c}:c}else{if(!a.firstChild)return null;c={rename_tag:q}}if(c.one_of_type&&!g(a,t,c.one_of_type,b)){if(!c.remove_action)return null;if(\"unwrap\"===c.remove_action)return!1;if(\"rename\"!==c.remove_action)return null;e=c.remove_action_rename_to||q}return d=a.ownerDocument.createElement(e||c.rename_tag||h),m(a,d,c,b),i(a,d,c),a=null,d.normalize&&d.normalize(),d}function g(a,b,c,d){var e,f;if(\"SPAN\"===a.nodeName&&!d&&(\"_wysihtml5-temp-placeholder\"===a.className||\"rangySelectionBoundary\"===a.className))return!0;for(f in c)if(c.hasOwnProperty(f)&&b.type_definitions&&b.type_definitions[f]&&(e=b.type_definitions[f],h(a,e)))return!0;return!1}function h(a,b){var c,d,e,f,g,h=a.getAttribute(\"class\"),i=a.getAttribute(\"style\");if(b.methods)for(var j in b.methods)if(b.methods.hasOwnProperty(j)&&y[j]&&y[j](a))return!0;if(h&&b.classes){h=h.replace(/^\\s+/g,\"\").replace(/\\s+$/g,\"\").split(r),c=h.length;for(var k=0;c>k;k++)if(b.classes[h[k]])return!0}if(i&&b.styles){i=i.split(\";\");for(d in b.styles)if(b.styles.hasOwnProperty(d))for(var l=i.length;l--;)if(g=i[l].split(\":\"),g[0].replace(/\\s/g,\"\").toLowerCase()===d&&(b.styles[d]===!0||1===b.styles[d]||wysihtml5.lang.array(b.styles[d]).contains(g[1].replace(/\\s/g,\"\").toLowerCase())))return!0}if(b.attrs)for(e in b.attrs)if(b.attrs.hasOwnProperty(e)&&(f=wysihtml5.dom.getAttribute(a,e),\"string\"==typeof f&&f.search(b.attrs[e])>-1))return!0;return!1}function i(a,b,c){var d,e;if(c&&c.keep_styles)for(d in c.keep_styles)if(c.keep_styles.hasOwnProperty(d)){if(e=\"float\"===d?a.style.styleFloat||a.style.cssFloat:a.style[d],c.keep_styles[d]instanceof RegExp&&!c.keep_styles[d].test(e))continue;\"float\"===d?b.style[a.style.styleFloat?\"styleFloat\":\"cssFloat\"]=e:a.style[d]&&(b.style[d]=e)}}function j(a,b){var c=[];for(var d in b)b.hasOwnProperty(d)&&0===d.indexOf(a)&&c.push(d);return c}function k(a,b,c,d){var e,f=wysihtml5.lang.object(c).isFunction()?c:v[c];return f&&(e=f(b,d),\"string\"==typeof e)?e:!1}function l(a,b){var c,d,e,f=wysihtml5.lang.object(t.attributes||{}).clone(),g=wysihtml5.lang.object(f).merge(wysihtml5.lang.object(b||{}).clone()).get(),h={},i=wysihtml5.dom.getAttributes(a);for(c in g)if(/\\*$/.test(c)){e=j(c.slice(0,-1),i);for(var l=0,m=e.length;m>l;l++)d=k(e[l],i[e[l]],g[c],a.nodeName),d!==!1&&(h[e[l]]=d)}else d=k(c,i[c],g[c],a.nodeName),d!==!1&&(h[c]=d);return h}function m(a,b,c,d){var e,f,g,h,i,j={},k=c.set_class,m=c.add_class,n=c.add_style,o=c.set_attributes,p=t.classes,q=0,s=[],u=[],v=[],y=[];if(o&&(j=wysihtml5.lang.object(o).clone()),j=wysihtml5.lang.object(j).merge(l(a,c.check_attributes)).get(),k&&s.push(k),m)for(h in m)i=x[m[h]],i&&(g=i(wysihtml5.dom.getAttribute(a,h)),\"string\"==typeof g&&s.push(g));if(n)for(h in n)i=w[n[h]],i&&(newStyle=i(wysihtml5.dom.getAttribute(a,h)),\"string\"==typeof newStyle&&u.push(newStyle));if(\"string\"==typeof p&&\"any\"===p)if(a.getAttribute(\"class\"))if(t.classes_blacklist){for(y=a.getAttribute(\"class\"),y&&(s=s.concat(y.split(r))),e=s.length;e>q;q++)f=s[q],t.classes_blacklist[f]||v.push(f);v.length&&(j[\"class\"]=wysihtml5.lang.array(v).unique().join(\" \"))}else j[\"class\"]=a.getAttribute(\"class\");else s&&s.length>0&&(j[\"class\"]=wysihtml5.lang.array(s).unique().join(\" \"));else{for(d||(p[\"_wysihtml5-temp-placeholder\"]=1,p._rangySelectionBoundary=1,p[\"wysiwyg-tmp-selected-cell\"]=1),y=a.getAttribute(\"class\"),y&&(s=s.concat(y.split(r))),e=s.length;e>q;q++)f=s[q],p[f]&&v.push(f);v.length&&(j[\"class\"]=wysihtml5.lang.array(v).unique().join(\" \"))}j[\"class\"]&&d&&(j[\"class\"]=j[\"class\"].replace(\"wysiwyg-tmp-selected-cell\",\"\"),/^\\s*$/g.test(j[\"class\"])&&delete j[\"class\"]),u.length&&(j.style=wysihtml5.lang.array(u).unique().join(\" \"));for(h in j)try{b.setAttribute(h,j[h])}catch(z){}j.src&&(\"undefined\"!=typeof j.width&&b.setAttribute(\"width\",j.width),\"undefined\"!=typeof j.height&&b.setAttribute(\"height\",j.height))}function n(a){var b=a.nextSibling;if(!b||b.nodeType!==wysihtml5.TEXT_NODE){var c=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\");return a.ownerDocument.createTextNode(c)}b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")}function o(a){return t.comments?a.ownerDocument.createComment(a.nodeValue):void 0}var p={1:f,3:n,8:o},q=\"span\",r=/\\s+/,s={tags:{},classes:{}},t={},u=[\"ADDRESS\",\"BLOCKQUOTE\",\"CENTER\",\"DIR\",\"DIV\",\"DL\",\"FIELDSET\",\"FORM\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"ISINDEX\",\"MENU\",\"NOFRAMES\",\"NOSCRIPT\",\"OL\",\"P\",\"PRE\",\"TABLE\",\"UL\"],v={url:function(){var a=/^https?:\\/\\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\\/|https?:\\/\\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\\/|https?:\\/\\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\\-]/gi;return function(b,c){return b?b.replace(a,\"\"):\"IMG\"===c?\"\":null}}(),numbers:function(){var a=/\\D/g;return function(b){return b=(b||\"\").replace(a,\"\"),b||null}}(),dimension:function(){var a=/\\D*(\\d+)(\\.\\d+)?\\s?(%)?\\D*/;return function(b){return b=(b||\"\").replace(a,\"$1$2$3\"),b||null}}(),any:function(){return function(a){return a?a:null}}()},w={align_text:function(){var a={left:\"text-align: left;\",right:\"text-align: right;\",center:\"text-align: center;\"};return function(b){return a[String(b).toLowerCase()]}}()},x={align_img:function(){var a={left:\"wysiwyg-float-left\",right:\"wysiwyg-float-right\"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:\"wysiwyg-text-align-left\",right:\"wysiwyg-text-align-right\",center:\"wysiwyg-text-align-center\",justify:\"wysiwyg-text-align-justify\"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:\"wysiwyg-clear-left\",right:\"wysiwyg-clear-right\",both:\"wysiwyg-clear-both\",all:\"wysiwyg-clear-both\"};return function(b){return a[String(b).toLowerCase()]}}(),size_font:function(){var a={1:\"wysiwyg-font-size-xx-small\",2:\"wysiwyg-font-size-small\",3:\"wysiwyg-font-size-medium\",4:\"wysiwyg-font-size-large\",5:\"wysiwyg-font-size-x-large\",6:\"wysiwyg-font-size-xx-large\",7:\"wysiwyg-font-size-xx-large\",\"-\":\"wysiwyg-font-size-smaller\",\"+\":\"wysiwyg-font-size-larger\"};return function(b){return a[String(b).charAt(0)]}}()},y={has_visible_contet:function(){var a,b=[\"img\",\"video\",\"picture\",\"br\",\"script\",\"noscript\",\"style\",\"table\",\"iframe\",\"object\",\"embed\",\"audio\",\"svg\",\"input\",\"button\",\"select\",\"textarea\",\"canvas\"];return function(c){if(a=(c.innerText||c.textContent).replace(/\\s/g,\"\"),a&&a.length>0)return!0;for(var d=b.length;d--;)if(c.querySelector(b[d]))return!0;return c.offsetWidth&&c.offsetWidth>0&&c.offsetHeight&&c.offsetHeight>0?!0:!1}}()},z={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return c(a,b)},wysihtml5.dom.removeEmptyTextNodes=function(a){for(var b,c=wysihtml5.lang.array(a.childNodes).get(),d=c.length,e=0;d>e;e++)b=c[e],b.nodeType===wysihtml5.TEXT_NODE&&/^[\\n\\r]*$/.test(b.data)&&b.parentNode.removeChild(b)},wysihtml5.dom.renameElement=function(a,b){for(var c,d=a.ownerDocument.createElement(b);c=a.firstChild;)d.appendChild(c);return wysihtml5.dom.copyAttributes([\"align\",\"className\"]).from(a).to(d),a.parentNode&&a.parentNode.replaceChild(d,a),d},wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){if(!a.firstChild)return void a.parentNode.removeChild(a);for(var b=a.ownerDocument.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a),a=b=null}},function(a){function b(b){return\"block\"===a.getStyle(\"display\").from(b)}function c(a){return\"BR\"===a.nodeName}function d(a){var b=a.ownerDocument.createElement(\"br\");a.appendChild(b)}function e(a,e){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f,g,h,i,j,k,l,m=a.ownerDocument,n=m.createDocumentFragment(),o=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),p=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),q=a.lastElementChild||a.lastChild;if(e)for(!o||b(o)||c(o)||d(n);k=a.firstElementChild||a.firstChild;){for(g=k.lastChild,l=k===q;f=k.firstChild;)h=f===g,i=(!l||p&&!b(p))&&h&&!b(f)&&!c(f),n.appendChild(f),i&&d(n);k.parentNode.removeChild(k)}else for(;k=a.firstElementChild||a.firstChild;){if(k.querySelector&&k.querySelector(\"div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6\"))for(;f=k.firstChild;)n.appendChild(f);else{for(j=m.createElement(\"p\");f=k.firstChild;)j.appendChild(f);n.appendChild(j)}k.parentNode.removeChild(k)}a.parentNode.replaceChild(n,a)}}a.resolveList=e}(wysihtml5.dom),function(a){var b=document,c=[\"parent\",\"top\",\"opener\",\"frameElement\",\"frames\",\"localStorage\",\"globalStorage\",\"sessionStorage\",\"indexedDB\"],d=[\"open\",\"close\",\"openDialog\",\"showModalDialog\",\"alert\",\"confirm\",\"prompt\",\"openDatabase\",\"postMessage\",\"XMLHttpRequest\",\"XDomainRequest\"],e=[\"referrer\",\"write\",\"open\",\"close\"];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.config.className||(this.config.className=\"wysihtml5-sandbox\"),this.editableArea=this._createIframe()},insertInto:function(a){\"string\"==typeof a&&(a=b.getElementById(a)),a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw new Error(\"wysihtml5.Sandbox: Sandbox iframe isn't loaded yet\")},_createIframe:function(){var c=this,d=b.createElement(\"iframe\");return d.className=this.config.className,a.dom.setAttributes({security:\"restricted\",allowtransparency:\"true\",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d),a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(d.src=\"javascript:'<html></html>'\"),d.onload=function(){d.onreadystatechange=d.onload=null,c._onLoadIframe(d)},d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&(d.onreadystatechange=d.onload=null,c._onLoadIframe(d))},d},_onLoadIframe:function(f){if(a.dom.contains(b.documentElement,f)){var g=this,h=f.contentWindow,i=f.contentWindow.document,j=b.characterSet||b.charset||\"utf-8\",k=this._getHtml({charset:j,stylesheets:this.config.stylesheets});if(i.open(\"text/html\",\"replace\"),i.write(k),i.close(),this.getWindow=function(){return f.contentWindow},this.getDocument=function(){return f.contentWindow.document},h.onerror=function(a,b,c){throw new Error(\"wysihtml5.Sandbox: \"+a,b,c)},!a.browser.supportsSandboxedIframes()){var l,m;for(l=0,m=c.length;m>l;l++)this._unset(h,c[l]);for(l=0,m=d.length;m>l;l++)this._unset(h,d[l],a.EMPTY_FUNCTION);for(l=0,m=e.length;m>l;l++)this._unset(i,e[l]);this._unset(i,\"cookie\",\"\",!0)}a.polyfills&&a.polyfills(h,i),this.loaded=!0,setTimeout(function(){g.callback(g)},0)}},_getHtml:function(b){var c,d=b.stylesheets,e=\"\",f=0;if(d=\"string\"==typeof d?[d]:d)for(c=d.length;c>f;f++)e+='<link rel=\"stylesheet\" href=\"'+d[f]+'\">';return b.stylesheets=e,a.lang.string('<!DOCTYPE html><html><head><meta charset=\"#{charset}\">#{stylesheets}</head><body></body></html>').interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(f){}try{b.__defineGetter__(c,function(){return d})}catch(f){}if(e)try{b.__defineSetter__(c,function(){})}catch(f){}if(!a.browser.crashesWhenDefineProperty(c))try{var g={get:function(){return d}};e&&(g.set=function(){}),Object.defineProperty(b,c,g)}catch(f){}}})}(wysihtml5),function(a){var b=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(b,c,d){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.config.className||(this.config.className=\"wysihtml5-sandbox\"),d?this.element=this._bindElement(d):this.element=this._createElement()},destroy:function(){},_createElement:function(){var a=b.createElement(\"div\");return a.className=this.config.className,this._loadElement(a),a},_bindElement:function(a){return a.className=a.className?a.className+\" wysihtml5-sandbox\":\"wysihtml5-sandbox\",this._loadElement(a,!0),a},_loadElement:function(a,b){var c=this;if(!b){var d=this._getHtml();a.innerHTML=d}this.loaded=!0,setTimeout(function(){c.callback(c)},0)},_getHtml:function(a){return\"\"}})}(wysihtml5),function(){var a={className:\"class\"};wysihtml5.dom.setAttributes=function(b){return{on:function(c){for(var d in b)c.setAttribute(a[d]||d,b[d])}}}}(),wysihtml5.dom.setStyles=function(a){return{on:function(b){var c=b.style;if(\"string\"==typeof a)return void(c.cssText+=\";\"+a);for(var d in a)\"float\"===d?(c.cssFloat=a[d],c.styleFloat=a[d]):c[d]=a[d]}}},function(a){a.simulatePlaceholder=function(b,c,d,e){var f=e||\"wysihtml5-placeholder\",g=function(){var b=c.element.offsetWidth>0&&c.element.offsetHeight>0;c.hasPlaceholderSet()&&(c.clear(),c.element.focus(),b&&setTimeout(function(){var a=c.selection.getSelection();a.focusNode&&a.anchorNode||c.selection.selectNode(c.element.firstChild||c.element)},0)),c.placeholderSet=!1,a.removeClass(c.element,f)},h=function(){c.isEmpty()&&!c.placeholderSet&&(c.placeholderSet=!0,c.setValue(d,!1),a.addClass(c.element,f))};b.on(\"set_placeholder\",h).on(\"unset_placeholder\",g).on(\"focus:composer\",g).on(\"paste:composer\",g).on(\"blur:composer\",h),h()}}(wysihtml5.dom),function(a){var b=document.documentElement;\"textContent\"in b?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):\"innerText\"in b?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(a,b){var c=!wysihtml5.browser.supportsGetAttributeCorrectly();b=b.toLowerCase();var d=a.nodeName;if(\"IMG\"==d&&\"src\"==b&&wysihtml5.dom.isLoadedImage(a)===!0)return a.src;if(c&&\"outerHTML\"in a){var e=a.outerHTML.toLowerCase(),f=-1!=e.indexOf(\" \"+b+\"=\");return f?a.getAttribute(b):null}return a.getAttribute(b)},wysihtml5.dom.getAttributes=function(a){var b,c=!wysihtml5.browser.supportsGetAttributeCorrectly(),d=a.nodeName,e=[];for(b in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(b)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,b))&&a.attributes[b].specified&&(\"IMG\"==d&&\"src\"==a.attributes[b].name.toLowerCase()&&wysihtml5.dom.isLoadedImage(a)===!0?e.src=a.src:wysihtml5.lang.array([\"rowspan\",\"colspan\"]).contains(a.attributes[b].name.toLowerCase())&&c?1!==a.attributes[b].value&&(e[a.attributes[b].name]=a.attributes[b].value):e[a.attributes[b].name]=a.attributes[b].value);return e},wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(\":-moz-broken\")}catch(b){if(a.complete&&\"complete\"===a.readyState)return!0}},function(a){function b(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)if(c=a[e].querySelectorAll(b))for(var g=c.length;g--;d.unshift(c[g]));return d}function d(a){a.parentNode.removeChild(a)}function e(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function f(a,b){for(var c=a.nextSibling;1!=c.nodeType;)if(c=c.nextSibling,!b||b==c.tagName.toLowerCase())return c;return null}var g=a.dom,h=function(a){this.el=a,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},i=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{query:\"table\"})):b&&(this.table=b,this.cell=this.table.querySelectorAll(\"th, td\")[0])};i.prototype={addSpannedCellToMap:function(a,b,c,d,e,f){for(var g=[],i=c+(f?parseInt(f,10)-1:0),j=d+(e?parseInt(e,10)-1:0),k=c;i>=k;k++){\"undefined\"==typeof b[k]&&(b[k]=[]);for(var l=d;j>=l;l++)b[k][l]=new h(a),b[k][l].isColspan=e&&parseInt(e,10)>1,b[k][l].isRowspan=f&&parseInt(f,10)>1,b[k][l].firstCol=l==d,b[k][l].lastCol=l==j,b[k][l].firstRow=k==c,b[k][l].lastRow=k==i,b[k][l].isReal=l==d&&k==c,b[k][l].spanCollection=g,g.push(b[k][l])}},setCellAsModified:function(a){if(a.modified=!0,a.spanCollection.length>0)for(var b=0,c=a.spanCollection.length;c>b;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a,b,c,d,e,f,i,j,k=[],l=this.getTableRows();for(a=0;a<l.length;a++)for(b=l[a],c=this.getRowCells(b),f=0,\"undefined\"==typeof k[a]&&(k[a]=[]),d=0;d<c.length;d++){for(e=c[d];\"undefined\"!=typeof k[a][f];)f++;i=g.getAttribute(e,\"colspan\"),j=g.getAttribute(e,\"rowspan\"),i||j?(this.addSpannedCellToMap(e,k,a,f,i,j),f+=i?parseInt(i,10):1):(k[a][f]=new h(e),f++)}return this.map=k,k},getRowCells:function(c){var d=this.table.querySelectorAll(\"table\"),e=d?b(d,\"th, td\"):[],f=c.querySelectorAll(\"th, td\"),g=e.length>0?a.lang.array(f).without(e):f;return g},getTableRows:function(){var c=this.table.querySelectorAll(\"table\"),d=c?b(c,\"tr\"):[],e=this.table.querySelectorAll(\"tr\"),f=d.length>0?a.lang.array(e).without(d):e;return f},getMapIndex:function(a){for(var b=this.map.length,c=this.map&&this.map[0]?this.map[0].length:0,d=0;b>d;d++)for(var e=0;c>e;e++)if(this.map[d][e].el===a)return{row:d,col:e};return!1},getElementAtIndex:function(a){return this.setTableMap(),this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var c=this.idx_start;this.idx_start=this.idx_end,this.idx_end=c}if(this.idx_start.col>this.idx_end.col){var d=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=d}if(null!=this.idx_start&&null!=this.idx_end)for(var e=this.idx_start.row,f=this.idx_end.row;f>=e;e++)for(var g=this.idx_start.col,h=this.idx_end.col;h>=g;g++)b.push(this.map[e][g].el);return b},orderSelectionEnds:function(a){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,c){for(var d,e=this.table.ownerDocument,f=e.createDocumentFragment(),g=0;b>g;g++){if(d=e.createElement(a),c)for(var h in c)c.hasOwnProperty(h)&&d.setAttribute(h,c[h]);d.appendChild(document.createTextNode(\" \")),f.appendChild(d)}return f},correctColIndexForUnreals:function(a,b){for(var c=this.map[b],d=-1,e=0;a>e;e++)c[e].isReal&&d++;return d},getLastNewCellOnRow:function(a,b){for(var c,d,e=this.getRowCells(a),f=0,g=e.length;g>f;f++)if(c=e[f],d=this.getMapIndex(c),d===!1||\"undefined\"!=typeof b&&d.row!=b)return c;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll(\"td, th\");return a&&0!=a.length?!1:(d(this.table),!0)},splitRowToCells:function(a){if(a.isColspan){var b=parseInt(g.getAttribute(a.el,\"colspan\")||1,10),c=a.el.tagName.toLowerCase();if(b>1){var d=this.createCells(c,b-1);e(a.el,d)}a.el.removeAttribute(\"colspan\")}},getRealRowEl:function(a,b){var c=null,d=null;b=b||this.idx;for(var e=0,f=this.map[b.row].length;f>e;e++)if(d=this.map[b.row][e],d.isReal&&(c=g.getParentElement(d.el,{query:\"tr\"})))return c;return null===c&&a&&(c=g.getParentElement(this.map[b.row][b.col].el,{query:\"tr\"})||null),c},injectRowAt:function(a,b,c,d,f){var h=this.getRealRowEl(!1,{row:a,col:b}),i=this.createCells(d,c);if(h){var j=this.correctColIndexForUnreals(b,a);j>=0?e(this.getRowCells(h)[j],i):h.insertBefore(i,h.firstChild)}else{var k=this.table.ownerDocument.createElement(\"tr\");k.appendChild(i),e(g.getParentElement(f.el,{query:\"tr\"}),k)}},canMerge:function(a){if(this.to=a,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}for(var d=this.idx_start.row,e=this.idx_end.row;e>=d;d++)for(var f=this.idx_start.col,g=this.idx_end.col;g>=f;f++)if(this.map[d][f].isColspan||this.map[d][f].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var c=parseInt(g.getAttribute(a.el,b),10)-1;c>=1?a.el.setAttribute(b,c):(a.el.removeAttribute(b),\"colspan\"==b&&(a.isColspan=!1),\"rowspan\"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,b,c,e,f,h,i;if(this.setTableMap(),this.map){for(c=0,e=this.map.length;e>c;c++){for(a=this.map[c],i=!0,f=0,h=a.length;h>f;f++)if(b=a[f],!(g.getAttribute(b.el,\"rowspan\")&&parseInt(g.getAttribute(b.el,\"rowspan\"),10)>1&&b.firstRow!==!0)){i=!1;break}if(i)for(f=0;h>f;f++)this.decreaseCellSpan(a[f],\"rowspan\")}var j=this.getTableRows();for(c=0,e=j.length;e>c;c++)a=j[c],0==a.childNodes.length&&/^\\s*$/.test(a.textContent||a.innerText)&&d(a)}},fillMissingCells:function(){var a=0,b=0,c=null;if(this.setTableMap(),this.map){a=this.map.length;for(var d=0;a>d;d++)this.map[d].length>b&&(b=this.map[d].length);for(var f=0;a>f;f++)for(var g=0;b>g;g++)this.map[f]&&!this.map[f][g]&&g>0&&(this.map[f][g]=new h(this.createCells(\"td\",1)),c=this.map[f][g-1],c&&c.el&&c.el.parent&&e(this.map[f][g-1].el,this.map[f][g].el))}},rectify:function(){return this.removeEmptyTable()?!1:(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,\"colspan\")?parseInt(g.getAttribute(a.el,\"colspan\"),10):1,c=a.el.tagName.toLowerCase();if(a.isRowspan){var d=parseInt(g.getAttribute(a.el,\"rowspan\"),10);if(d>1)for(var e=1,f=d-1;f>=e;e++)this.injectRowAt(this.idx.row+e,this.idx.col,b,c,a);a.el.removeAttribute(\"rowspan\")}this.splitRowToCells(a)}},merge:function(a){if(this.rectify())if(this.canMerge(a)){for(var b=this.idx_end.row-this.idx_start.row+1,c=this.idx_end.col-this.idx_start.col+1,e=this.idx_start.row,f=this.idx_end.row;f>=e;e++)for(var g=this.idx_start.col,h=this.idx_end.col;h>=g;g++)e==this.idx_start.row&&g==this.idx_start.col?(b>1&&this.map[e][g].el.setAttribute(\"rowspan\",b),c>1&&this.map[e][g].el.setAttribute(\"colspan\",c)):(/^\\s*<br\\/?>\\s*$/.test(this.map[e][g].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=\" \"+this.map[e][g].el.innerHTML),d(this.map[e][g].el));this.rectify()}else window.console&&console.log(\"Do not know how to merge allready merged cells.\")},collapseCellToNextRow:function(a){var b=this.getMapIndex(a.el),c=b.row+1,d={row:c,col:b.col};if(c<this.map.length){var f=this.getRealRowEl(!1,d);if(null!==f){var h=this.correctColIndexForUnreals(d.col,d.row);if(h>=0)e(this.getRowCells(f)[h],a.el);else{var i=this.getLastNewCellOnRow(f,c);null!==i?e(i,a.el):f.insertBefore(a.el,f.firstChild)}parseInt(g.getAttribute(a.el,\"rowspan\"),10)>2?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)-1):a.el.removeAttribute(\"rowspan\")}}},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):d(a.el):parseInt(g.getAttribute(a.el,\"rowspan\"),10)>2?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)-1):a.el.removeAttribute(\"rowspan\")},getRowElementsByCell:function(){var a=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=this.map[this.idx.row],c=0,d=b.length;d>c;c++)b[c].isReal&&a.push(b[c].el);return a},getColumnElementsByCell:function(){var a=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=0,c=this.map.length;c>b;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=g.getParentElement(this.cell,{query:\"tr\"});if(a){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=this.map[this.idx.row],c=0,e=b.length;e>c;c++)b[c].modified||(this.setCellAsModified(b[c]),this.removeRowCell(b[c]));d(a)}},removeColCell:function(a){a.isColspan?parseInt(g.getAttribute(a.el,\"colspan\"),10)>2?a.el.setAttribute(\"colspan\",parseInt(g.getAttribute(a.el,\"colspan\"),10)-1):a.el.removeAttribute(\"colspan\"):a.isReal&&d(a.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var a=0,b=this.map.length;b>a;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case\"row\":this.removeRow();break;case\"column\":this.removeColumn()}this.rectify()}},addRow:function(a){var b=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),\"below\"==a&&g.getAttribute(this.cell,\"rowspan\")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,\"rowspan\"),10)-1),this.idx!==!1){for(var c=this.map[this.idx.row],d=b.createElement(\"tr\"),f=0,h=c.length;h>f;f++)c[f].modified||(this.setCellAsModified(c[f]),this.addRowCell(c[f],d,a));switch(a){case\"below\":e(this.getRealRowEl(!0),d);break;case\"above\":var i=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:\"tr\"});i&&i.parentNode.insertBefore(d,i)}}},addRowCell:function(a,b,d){var e=a.isColspan?{colspan:g.getAttribute(a.el,\"colspan\")}:null;a.isReal?\"above\"!=d&&a.isRowspan?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)+1):b.appendChild(this.createCells(\"td\",1,e)):\"above\"!=d&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells(\"td\",1,e)):c.isRowspan&&a.el.attr(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)+1)},add:function(a){this.rectify()&&((\"below\"==a||\"above\"==a)&&this.addRow(a),(\"before\"==a||\"after\"==a)&&this.addColumn(a))},addColCell:function(a,b,d){var f,h=a.el.tagName.toLowerCase();switch(d){case\"before\":f=!a.isColspan||a.firstCol;break;case\"after\":f=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(f){switch(d){case\"before\":a.el.parentNode.insertBefore(this.createCells(h,1),a.el);break;case\"after\":e(a.el,this.createCells(h,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,b+1,d)}else a.el.setAttribute(\"colspan\",parseInt(g.getAttribute(a.el,\"colspan\"),10)+1)},addColumn:function(a){var b,c;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),\"after\"==a&&g.getAttribute(this.cell,\"colspan\")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,\"colspan\"),10)-1),this.idx!==!1)for(var d=0,e=this.map.length;e>d;d++)b=this.map[d],b[this.idx.col]&&(c=b[this.idx.col],c.modified||(this.setCellAsModified(c),this.addColCell(c,d,a)))},handleCellAddWithRowspan:function(a,b,c){for(var d,h,i,j=parseInt(g.getAttribute(this.cell,\"rowspan\"),10)-1,k=g.getParentElement(a.el,{query:\"tr\"}),l=a.el.tagName.toLowerCase(),m=this.table.ownerDocument,n=0;j>n;n++)if(d=this.correctColIndexForUnreals(this.idx.col,b+n),k=f(k,\"tr\"))if(d>0)switch(c){case\"before\":h=this.getRowCells(k),d>0&&this.map[b+n][this.idx.col].el!=h[d]&&d==h.length-1?e(h[d],this.createCells(l,1)):h[d].parentNode.insertBefore(this.createCells(l,1),h[d]);break;case\"after\":e(this.getRowCells(k)[d],this.createCells(l,1))}else k.insertBefore(this.createCells(l,1),k.firstChild);else i=m.createElement(\"tr\"),i.appendChild(this.createCells(l,1)),\nthis.table.appendChild(i)}},g.table={getCellsBetween:function(a,b){var c=new i(a);return c.getMapElsTo(b)},addCells:function(a,b){var c=new i(a);c.add(b)},removeCells:function(a,b){var c=new i(a);c.remove(b)},mergeCellsBetween:function(a,b){var c=new i(a);c.merge(b)},unmergeCell:function(a){var b=new i(a);b.unmerge()},orderSelectionEnds:function(a,b){var c=new i(a);return c.orderSelectionEnds(b)},indexOf:function(a){var b=new i(a);return b.setTableMap(),b.getMapIndex(a)},findCell:function(a,b){var c=new i(null,a);return c.getElementAtIndex(b)},findRowByCell:function(a){var b=new i(a);return b.getRowElementsByCell()},findColumnByCell:function(a){var b=new i(a);return b.getColumnElementsByCell()},canMerge:function(a,b){var c=new i(a);return c.canMerge(b)}}}(wysihtml5),wysihtml5.dom.query=function(a,b){var c,d=[];a.nodeType&&(a=[a]);for(var e=0,f=a.length;f>e;e++)if(c=a[e].querySelectorAll(b))for(var g=c.length;g--;d.unshift(c[g]));return d},wysihtml5.dom.compareDocumentPosition=function(){var a=document.documentElement;return a.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)}:function(a,b){var c,d;if(c=9===a.nodeType?a:a.ownerDocument,d=9===b.nodeType?b:b.ownerDocument,a===b)return 0;if(a===b.ownerDocument)return 20;if(a.ownerDocument===b)return 10;if(c!==d)return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(b))return 20;if(2===b.nodeType&&b.childNodes&&-1!==wysihtml5.lang.array(b.childNodes).indexOf(a))return 10;for(var e=a,f=[],g=null;e;){if(e==b)return 10;f.push(e),e=e.parentNode}for(e=b,g=null;e;){if(e==a)return 20;var h=wysihtml5.lang.array(f).indexOf(e);if(-1!==h){var i=f[h],j=wysihtml5.lang.array(i.childNodes).indexOf(f[h-1]),k=wysihtml5.lang.array(i.childNodes).indexOf(g);return j>k?2:4}g=e,e=e.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(a){var b=[];if(a.parentNode){for(;a.lastChild;)b.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return b},wysihtml5.dom.getPastedHtml=function(a){var b;return wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains(\"text/html\")?b=a.clipboardData.getData(\"text/html\"):wysihtml5.lang.array(a.clipboardData.types).contains(\"text/plain\")&&(b=wysihtml5.lang.string(a.clipboardData.getData(\"text/plain\")).escapeHTML(!0,!0))),b},wysihtml5.dom.getPastedHtmlWithDiv=function(a,b){var c=a.selection.getBookmark(),d=a.element.ownerDocument,e=d.createElement(\"DIV\"),f=a.getScrollPos();d.body.appendChild(e),e.style.width=\"1px\",e.style.height=\"1px\",e.style.overflow=\"hidden\",e.style.position=\"absolute\",e.style.top=f.y+\"px\",e.style.left=f.x+\"px\",e.setAttribute(\"contenteditable\",\"true\"),e.focus(),setTimeout(function(){var d;a.selection.setBookmark(c),d=e.innerHTML,d&&/^<br\\/?>$/i.test(d.trim())&&(d=!1),b(d),e.parentNode.removeChild(e)},0)},wysihtml5.dom.removeInvisibleSpaces=function(a){for(var b=wysihtml5.dom.getTextNodes(a),c=b.length;c--;)b[c].nodeValue=b[c].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")},wysihtml5.quirks.cleanPastedHTML=function(){var a=function(a){var b=wysihtml5.lang.string(a).trim(),c=b.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\");return new RegExp(\"^((?!^\"+c+\"$).)*$\",\"i\")},b=function(b,c){var d,e,f=wysihtml5.lang.object(b).clone(!0);for(d in f.tags)if(f.tags.hasOwnProperty(d)&&f.tags[d].keep_styles)for(e in f.tags[d].keep_styles)f.tags[d].keep_styles.hasOwnProperty(e)&&c[e]&&(f.tags[d].keep_styles[e]=a(c[e]));return f},c=function(a,b){var c;if(!a)return null;for(var d=0,e=a.length;e>d;d++)if(a[d].condition||(c=a[d].set),a[d].condition&&a[d].condition.test(b))return a[d].set;return c};return function(a,d){var e,f={color:wysihtml5.dom.getStyle(\"color\").from(d.referenceNode),fontSize:wysihtml5.dom.getStyle(\"font-size\").from(d.referenceNode)},g=b(c(d.rules,a)||{},f);return e=wysihtml5.dom.parse(a,{rules:g,cleanUp:!0,context:d.referenceNode.ownerDocument,uneditableClass:d.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();(\"<p>&nbsp;</p>\"==b||\"<p>&nbsp;</p><p>&nbsp;</p>\"==b)&&(a.innerHTML=\"\")},0)};return function(b){wysihtml5.dom.observe(b.element,[\"cut\",\"keydown\"],a)}}(),function(a){var b=\"%7E\";a.quirks.getCorrectInnerHTML=function(c){var d=c.innerHTML;if(-1===d.indexOf(b))return d;var e,f,g,h,i=c.querySelectorAll(\"[href*='~'], [src*='~']\");for(h=0,g=i.length;g>h;h++)e=i[h].href||i[h].src,f=a.lang.string(e).replace(\"~\").by(b),d=a.lang.string(d).replace(f).by(e);return d}}(wysihtml5),function(a){var b=\"wysihtml5-quirks-redraw\";a.quirks.redraw=function(c){a.dom.addClass(c,b),a.dom.removeClass(c,b);try{var d=c.ownerDocument;d.execCommand(\"italic\",!1,null),d.execCommand(\"italic\",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(a,b){function c(){return a.addEventListener(\"mousedown\",n),l}function d(c){l.start=c,l.end=c,l.cells=[c],l.table=k.getParentElement(l.start,{query:\"table\"},!1,a),l.table&&(e(),k.addClass(c,m),a.addEventListener(\"mousemove\",g),a.addEventListener(\"mouseup\",h),b.fire(\"tableselectstart\").fire(\"tableselectstart:composer\"))}function e(){if(a){var b=a.querySelectorAll(\".\"+m);if(b.length>0)for(var c=0;c<b.length;c++)k.removeClass(b[c],m)}}function f(a){for(var b=0;b<a.length;b++)k.addClass(a[b],m)}function g(c){var d,g=null,h=k.getParentElement(c.target,{query:\"td, th\"},!1,a);h&&l.table&&l.start&&(g=k.getParentElement(h,{query:\"table\"},!1,a),g&&g===l.table&&(e(),d=l.end,l.end=h,l.cells=k.table.getCellsBetween(l.start,h),l.cells.length>1&&b.composer.selection.deselect(),f(l.cells),l.end!==d&&b.fire(\"tableselectchange\").fire(\"tableselectchange:composer\")))}function h(c){a.removeEventListener(\"mousemove\",g),a.removeEventListener(\"mouseup\",h),b.fire(\"tableselect\").fire(\"tableselect:composer\"),setTimeout(function(){i()},0)}function i(){a.ownerDocument.addEventListener(\"click\",o)}function j(c,d){l.start=c,l.end=d,l.table=k.getParentElement(l.start,{query:\"table\"},!1,a),selectedCells=k.table.getCellsBetween(l.start,l.end),f(selectedCells),i(),b.fire(\"tableselect\").fire(\"tableselect:composer\")}var k=wysihtml5.dom,l={table:null,start:null,end:null,cells:null,select:j},m=\"wysiwyg-tmp-selected-cell\",n=function(b){var c=wysihtml5.dom.getParentElement(b.target,{query:\"td, th\"},!1,a);c&&d(c)},o=function(c){a.ownerDocument.removeEventListener(\"click\",o),k.getParentElement(c.target,{query:\"table\"},!1,a)!=l.table&&(e(),l.table=null,l.start=null,l.end=null,b.fire(\"tableunselect\").fire(\"tableunselect:composer\"))};return c()},function(a){function b(a){var b,c;for(b in d)if(d.hasOwnProperty(b)&&(c=d[b],c.regex.test(a)))return c}function c(a){var c=b(a);return c?c.name:void 0}var d={rgba:{regex:/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([\\d\\.]+)\\s*\\)/i,name:\"rgba\"},rgb:{regex:/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)/i,name:\"rgb\"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:\"hex\",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:\"hex\",radix:16}},e=function(a){return new RegExp(\"(^|\\\\s|;)\"+a+\"\\\\s*:\\\\s*[^;$]+\",\"gi\")};a.quirks.styleParser={getColorParseMethod:b,getColorFormat:c,parseColor:function(c,f){var g,h,i,j,k,l=c;if(f){if(g=e(f),!(h=c.match(g)))return!1;h=h.pop().split(\":\")[1],l=a.lang.string(h).trim()}return(i=b(l))&&(j=l.match(i.regex))?(k=i.radix||10,i===d.hex3?(j.shift(),j.push(1),a.lang.array(j).map(function(a,b){return 3>b?parseInt(a,k)*k+parseInt(a,k):parseFloat(a)})):(j.shift(),j[3]||j.push(1),a.lang.array(j).map(function(a,b){return 3>b?parseInt(a,k):parseFloat(a)}))):!1},unparseColor:function(a,b){var c=16;return\"hex\"===b?(a[0].toString(c)+a[1].toString(c)+a[2].toString(c)).toUpperCase():\"hash\"===b?\"#\"+(a[0].toString(c)+a[1].toString(c)+a[2].toString(c)).toUpperCase():\"rgb\"===b?\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\":\"rgba\"===b?\"rgba(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]+\")\":\"csv\"===b?a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]:a[3]&&1!==a[3]?\"rgba(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]+\")\":\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\"},parseFontSize:function(b){var c=b.match(e(\"font-size\"));return c?a.lang.string(c[c.length-1].split(\":\")[1]).trim():!1}}}(wysihtml5),function(a){function b(a){var b=0;if(a.parentNode)do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}function c(a,b){for(var c=0;b!==a;)if(c++,b=b.parentNode,!b)throw new Error(\"not a descendant of ancestor!\");return c}function d(b){var c=document.createElement(\"span\"),d=function(a){b.removeEventListener(\"mouseup\",d),b.removeEventListener(\"keydown\",d),b.removeEventListener(\"touchstart\",d),b.removeEventListener(\"focus\",d),b.removeEventListener(\"blur\",d),b.removeEventListener(\"paste\",e),b.removeEventListener(\"drop\",e),b.removeEventListener(\"beforepaste\",e),c&&c.parentNode&&c.parentNode.removeChild(c)},e=function(a){c&&c.parentNode&&setTimeout(d,0)};return c.appendChild(document.createTextNode(a.INVISIBLE_SPACE)),c.className=\"_wysihtml5-temp-caret-fix\",c.style.display=\"block\",c.style.minWidth=\"1px\",c.style.height=\"0px\",b.addEventListener(\"mouseup\",d),b.addEventListener(\"keydown\",d),b.addEventListener(\"touchstart\",d),b.addEventListener(\"focus\",d),b.addEventListener(\"blur\",d),b.addEventListener(\"paste\",e),b.addEventListener(\"drop\",e),b.addEventListener(\"beforepaste\",e),c}function e(a){if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,d=c(b,a.startContainer),e=c(b,a.endContainer);!a.canSurroundContents();)d>e?(a.setStartBefore(a.startContainer),d=c(b,a.startContainer)):(a.setEndAfter(a.endContainer),e=c(b,a.endContainer))}var f=a.dom;a.Selection=Base.extend({constructor:function(a,b,c){window.rangy.init(),this.editor=a,this.composer=a.composer,this.doc=this.composer.doc,this.win=this.composer.win,this.contain=b,this.unselectableClass=c||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);return b.setStartBefore(a),b.setEndBefore(a),this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var c=this.doc.createElement(\"span\"),d=this.doc.createTextNode(a.INVISIBLE_SPACE),e=function(b){var d;this.contain.removeEventListener(\"mouseup\",e),this.contain.removeEventListener(\"keydown\",g),this.contain.removeEventListener(\"touchstart\",e),this.contain.removeEventListener(\"focus\",e),this.contain.removeEventListener(\"blur\",e),this.contain.removeEventListener(\"paste\",f),this.contain.removeEventListener(\"drop\",f),this.contain.removeEventListener(\"beforepaste\",f),c&&c.parentNode&&(c.innerHTML=c.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,\"\"),/[^\\s]+/.test(c.innerHTML)?(d=c.lastChild,a.dom.unwrap(c),this.setAfter(d)):c.parentNode.removeChild(c))}.bind(this),f=function(a){c&&c.parentNode&&setTimeout(e,0)},g=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||e()};return c.className=\"_wysihtml5-temp-caret-fix\",c.style.position=\"absolute\",c.style.display=\"block\",c.style.minWidth=\"1px\",c.style.zIndex=\"99999\",c.appendChild(d),b.parentNode.insertBefore(c,b.nextSibling),this.setBefore(d),this.contain.addEventListener(\"mouseup\",e),this.contain.addEventListener(\"keydown\",g),this.contain.addEventListener(\"touchstart\",e),this.contain.addEventListener(\"focus\",e),this.contain.addEventListener(\"blur\",e),this.contain.addEventListener(\"paste\",f),this.contain.addEventListener(\"drop\",f),this.contain.addEventListener(\"beforepaste\",f),c},setAfter:function(b,c,d){var e,f=this.win,g=rangy.createRange(this.doc),h=function(){var d=b.parentNode,g=d?d.childNodes[d.childNodes.length-1]:null;if(!e||g===b&&1===b.nodeType&&\"block\"===f.getComputedStyle(b).display)if(c){var h=this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(h,b.nextSibling),this.selectNode(h),setTimeout(function(){h&&h.parentNode&&h.parentNode.removeChild(h)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this);if(g.setStartAfter(b),g.setEndAfter(b),document.activeElement&&document.activeElement===this.composer.element)e=this.setSelection(g),h(),d&&d(e);else{var i=this.composer.getScrollPos();this.composer.element.focus(),this.composer.setScrollPos(i),setTimeout(function(){e=this.setSelection(g),h(),d&&d(e)}.bind(this),0)}},selectNode:function(b,c){var d=rangy.createRange(this.doc),e=b.nodeType===a.ELEMENT_NODE,g=\"canHaveHTML\"in b?b.canHaveHTML:\"IMG\"!==b.nodeName,h=e?b.innerHTML:b.data,i=\"\"===h||h===a.INVISIBLE_SPACE,j=f.getStyle(\"display\").from(b),k=\"block\"===j||\"list-item\"===j;if(i&&e&&g&&!c)try{b.innerHTML=a.INVISIBLE_SPACE}catch(l){}g?d.selectNodeContents(b):d.selectNode(b),g&&i&&e?d.collapse(k):g&&i&&(d.setStartAfter(b),d.setEndAfter(b)),this.setSelection(d)},getSelectedNode:function(a){var b,c;return a&&this.doc.selection&&\"Control\"===this.doc.selection.type&&(c=this.doc.selection.createRange(),c&&c.length)?c.item(0):(b=this.getSelection(this.doc),b.focusNode===b.anchorNode?b.focusNode:(c=this.getRange(this.doc),c?c.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var a=this.getRange();e(a),this.setSelection(a)},getSelectedOwnNodes:function(a){for(var b=this.getOwnRanges(),c=[],d=0,e=b.length;e>d;d++)c.push(b[d].commonAncestorContainer||this.doc.body);return c},findNodesInSelection:function(b){for(var c,d=this.getOwnRanges(),e=[],f=0,g=d.length;g>f;f++)c=d[f].getNodes([1],function(c){return a.lang.array(b).contains(c.nodeName)}),e=e.concat(c);return e},filterElements:function(a){for(var b,c=this.getOwnRanges(),d=[],e=0,f=c.length;f>e;e++)b=c[e].getNodes([1],function(b){return a(b,c[e])}),d=d.concat(b);return d},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),c=0,d=a.length;d>c;c++)if(b.containsNode(a[c]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a),this.setSelection(a)},deleteRangeContents:function(b){var c,d,e,f;if(this.unselectableClass){(c=a.dom.getParentElement(b.startContainer,{query:\".\"+this.unselectableClass},!1,this.contain))&&b.setStartBefore(c),(d=a.dom.getParentElement(b.endContainer,{query:\".\"+this.unselectableClass},!1,this.contain))&&b.setEndAfter(d),e=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this));for(var g=e.length;g--;)try{f=new CustomEvent(\"wysihtml5:uneditable:delete\"),e[g].dispatchEvent(f)}catch(h){}}b.deleteContents()},getPreviousNode:function(b,c){var d;if(!b){var e=this.getSelection();b=e.anchorNode}if(b===this.contain)return!1;var f,g=b.previousSibling;return g===this.contain?!1:(g&&3!==g.nodeType&&1!==g.nodeType?g=this.getPreviousNode(g,c):g&&3===g.nodeType&&/^\\s*$/.test(g.textContent)?g=this.getPreviousNode(g,c):c&&g&&1===g.nodeType?(d=a.dom.getStyle(\"display\").from(g),a.lang.array([\"BR\",\"HR\",\"IMG\"]).contains(g.nodeName)||a.lang.array([\"block\",\"inline-block\",\"flex\",\"list-item\",\"table\"]).contains(d)||!/^[\\s]*$/.test(g.innerHTML)||(g=this.getPreviousNode(g,c))):g||b===this.contain||(f=b.parentNode,f!==this.contain&&(g=this.getPreviousNode(f,c))),g!==this.contain?g:!1)},getSelectionParentsByTag:function(b){for(var c,d=this.getSelectedOwnNodes(),e=[],f=0,g=d.length;g>f;f++)c=d[f].nodeName&&\"LI\"===d[f].nodeName?d[f]:a.dom.getParentElement(d[f],{query:\"li\"},!1,this.contain),c&&e.push(c);return e.length?e:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,c=a.startOffset,d=rangy.createRange(this.doc);return d.selectNodeContents(b),d.setStart(b,c),d}},caretIsLastInSelection:function(){var a=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),b=a.textContent;return/^\\s*$/.test(b)},caretIsFirstInSelection:function(){var b=rangy.createRange(this.doc),c=this.getSelection(),d=this.getRange(),e=d.startContainer;return e?e.nodeType===a.TEXT_NODE?this.isCollapsed()&&e.nodeType===a.TEXT_NODE&&/^\\s*$/.test(e.data.substr(0,d.startOffset)):(b.selectNodeContents(this.getRange().commonAncestorContainer),b.collapse(!0),this.isCollapsed()&&(b.startContainer===c.anchorNode||b.endContainer===c.anchorNode)&&b.startOffset===c.anchorOffset):void 0},caretIsInTheBeginnig:function(b){var c=this.getSelection(),d=c.anchorNode,e=c.anchorOffset;return b&&d?0===e&&(d.nodeName&&d.nodeName===b.toUpperCase()||a.dom.getParentElement(d.parentNode,{query:b},1)):d?0===e&&!this.getPreviousNode(d,!0):void 0},getBeforeSelection:function(b){var c,d,e=this.getSelection(),f=e.isBackwards()?e.focusNode:e.anchorNode,g=e.isBackwards()?e.focusOffset:e.anchorOffset,h=this.createRange();if(d=a.dom.getParentElement(f,{query:\"._wysihtml5-temp-caret-fix\"},1),d&&(f=d.parentNode,g=Array.prototype.indexOf.call(f.childNodes,d)),f){if(g>0)return 3===f.nodeType?(h.setStart(f,0),h.setEnd(f,g),{type:\"text\",range:h,offset:g,node:f}):(h.setStartBefore(f.childNodes[0]),c=f.childNodes[g-1],h.setEndAfter(c),{type:\"element\",range:h,offset:g,node:c});if(h.setStartAndEnd(f,0),b){var i=this.getPreviousNode(f,!0),j=null;if(i&&(j=1===i.nodeType&&a.dom.hasClass(i,this.unselectableClass)?i:a.dom.domNode(i).lastLeafNode()),j)return{type:\"leafnode\",range:h,offset:g,node:j}}return{type:\"none\",range:h,offset:g,node:f}}return null},executeAndRestoreRangy:function(a,b){var c=rangy.saveSelection(this.win);if(c)try{a()}catch(d){setTimeout(function(){throw d},0)}else a();rangy.restoreSelection(c)},executeAndRestore:function(b,c){var d,e,g,h,i,j,k,l,m=this.doc.body,n=c&&m.scrollTop,o=c&&m.scrollLeft,p=\"_wysihtml5-temp-placeholder\",q='<span class=\"'+p+'\">'+a.INVISIBLE_SPACE+\"</span>\",r=this.getRange(!0);if(!r)return void b(m,m);r.collapsed||(k=r.cloneRange(),j=k.createContextualFragment(q),k.collapse(!1),k.insertNode(j),k.detach()),i=r.createContextualFragment(q),r.insertNode(i),j&&(d=this.contain.querySelectorAll(\".\"+p),r.setStartBefore(d[0]),r.setEndAfter(d[d.length-1])),this.setSelection(r);try{b(r.startContainer,r.endContainer)}catch(s){setTimeout(function(){throw s},0)}if(d=this.contain.querySelectorAll(\".\"+p),d&&d.length){l=rangy.createRange(this.doc),g=d[0].nextSibling,d.length>1&&(h=d[d.length-1].previousSibling),h&&g?(l.setStartBefore(g),l.setEndAfter(h)):(e=this.doc.createTextNode(a.INVISIBLE_SPACE),f.insert(e).after(d[0]),l.setStartBefore(e),l.setEndAfter(e)),this.setSelection(l);for(var t=d.length;t--;)d[t].parentNode.removeChild(d[t])}else this.contain.focus();c&&(m.scrollTop=n,m.scrollLeft=o);try{d.parentNode.removeChild(d)}catch(u){}},set:function(a,b){var c=rangy.createRange(this.doc);c.setStart(a,b||0),this.setSelection(c)},insertHTML:function(a){var b,c,d=this.getRange(),e=this.doc.createElement(\"DIV\"),f=this.doc.createDocumentFragment();if(d){for(d.deleteContents(),e.innerHTML=a,b=e.lastChild;e.firstChild;)f.appendChild(e.firstChild);for(d.insertNode(f),c=this.contain.lastChild;c&&3===c.nodeType&&c.previousSibling&&/^\\s*$/.test(c.data);)c=c.previousSibling;b&&(c&&b===c&&1===b.nodeType&&this.contain.appendChild(this.doc.createElement(\"br\")),this.setAfter(b))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,c,d=[\"area\",\"base\",\"br\",\"col\",\"command\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"],e=this.getRange();return b=a||e.startContainer,b&&(c=(b.tagName||b.nodeName).toLowerCase()),-1===d.indexOf(c)},splitElementAtCaret:function(b,c){var d,e,f,g,h,i=this.getSelection();if(i.rangeCount>0){d=i.getRangeAt(0).cloneRange(),d.setEndAfter(b),e=d.extractContents(),h=e.childNodes;for(var j=h.length;j--;)a.dom.domNode(h[j]).is.visible()||e.removeChild(h[j]);b.parentNode.insertBefore(e,b.nextSibling),c?(f=c.firstChild||c,g=c.lastChild||c,b.parentNode.insertBefore(c,b.nextSibling),f&&g&&(d.setStartBefore(f),d.setEndAfter(g),this.setSelection(d))):(d.setStartAfter(b),d.setEndAfter(b)),a.dom.domNode(b).is.visible()||(\"\"===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(\" \"),b))}},surround:function(a){var b,c=this.getOwnRanges(),d=[];if(0==c.length)return d;for(var e=c.length;e--;){b=this.doc.createElement(a.nodeName),d.push(b),a.className&&(b.className=a.className),a.cssStyle&&b.setAttribute(\"style\",a.cssStyle);try{c[e].surroundContents(b),this.selectNode(b)}catch(f){b.appendChild(c[e].extractContents()),c[e].insertNode(b)}}return d},deblockAndSurround:function(b){var c,d,e,f=this.doc.createElement(\"div\"),g=rangy.createRange(this.doc);if(f.className=b.className,this.composer.commands.exec(\"formatBlock\",b),c=this.contain.querySelectorAll(\".\"+b.className),c[0])for(c[0].parentNode.insertBefore(f,c[0]),g.setStartBefore(c[0]),g.setEndAfter(c[c.length-1]),d=g.extractContents();d.firstChild;)if(e=d.firstChild,1==e.nodeType&&a.dom.hasClass(e,b.className)){for(;e.firstChild;)f.appendChild(e.firstChild);\"BR\"!==e.nodeName&&f.appendChild(this.doc.createElement(\"br\")),d.removeChild(e)}else f.appendChild(e);else f=null;return f},scrollIntoView:function(){var c,d=this.doc,e=5,f=d.documentElement.scrollHeight>d.documentElement.offsetHeight,g=d._wysihtml5ScrollIntoViewElement=d._wysihtml5ScrollIntoViewElement||function(){var b=d.createElement(\"span\");return b.innerHTML=a.INVISIBLE_SPACE,b}();f&&(this.insertNode(g),c=b(g),g.parentNode.removeChild(g),c>=d.body.scrollTop+d.documentElement.offsetHeight-e&&(d.body.scrollTop=c))},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),c=function(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")},d=function(a){return 1===a.nodeType?a.childNodes&&a.childNodes.length||0:a.data&&a.data.length||0},e=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,f=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode;f&&a.focusOffset===d(f)&&f.nextSibling&&c(f.nextSibling)&&b.setEndAfter(f.nextSibling),e&&0===a.anchorOffset&&e.previousSibling&&c(e.previousSibling)&&b.setStartBefore(e.previousSibling),b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify(\"move\",\"left\",\"lineboundary\"),a.modify(\"extend\",\"right\",\"lineboundary\"),a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,c){if(c=\"undefined\"==typeof c?!1:c,a.browser.supportsSelectionModify()){var d=this.win.getSelection();d.modify(\"extend\",b,\"lineboundary\"),c&&(\"left\"===b?d.collapseToStart():\"right\"===b&&d.collapseToEnd())}},getRangeRect:function(a){var b,c=(this.doc.createTextNode(\"i\"),this.doc.createTextNode(\"i\"));return a.collapsed?(a.insertNode(c),a.selectNode(c),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect(),b},_selectLineUniversal:function(){var b,c,d,e,f,g,h=this.getSelection(),i=h.getRangeAt(0),j=0,k=this,l=function(b){return b&&1===b.nodeType&&(\"block\"===k.win.getComputedStyle(b).display||a.lang.array([\"BR\",\"HR\"]).contains(b.nodeName))},m=function(a){var b=a;if(b)for(;b&&(1===b.nodeType&&b.classList.contains(\"rangySelectionBoundary\")||3===b.nodeType&&/^\\s*$/.test(b.data));)b=b.previousSibling;return b};c=i.cloneRange(),d=i.cloneRange(),i.collapsed&&(3===i.startContainer.nodeType&&i.startOffset<i.startContainer.data.length?i.moveEnd(\"character\",1):1===i.startContainer.nodeType&&i.startContainer.childNodes[i.startOffset]&&3===i.startContainer.childNodes[i.startOffset].nodeType&&i.startContainer.childNodes[i.startOffset].data.length>0?i.moveEnd(\"character\",1):i.startOffset>0&&(3===i.startContainer.nodeType||1===i.startContainer.nodeType&&!l(m(i.startContainer.childNodes[i.startOffset-1])))&&i.moveStart(\"character\",-1)),i.collapsed||i.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE)),b=i.nativeRange.getBoundingClientRect();do e=i.moveStart(\"character\",-1),f=i.nativeRange.getBoundingClientRect(),f&&Math.floor(f.top)===Math.floor(b.top)||(i.moveStart(\"character\",1),g=!0),j++;while(0!==e&&!g&&2e3>j);j=0,g=!1,b=i.nativeRange.getBoundingClientRect();do e=i.moveEnd(\"character\",1),f=i.nativeRange.getBoundingClientRect(),f&&Math.floor(f.bottom)===Math.floor(b.bottom)||(i.moveEnd(\"character\",-1),i.endContainer&&1===i.endContainer.nodeType&&i.endContainer.childNodes[i.endOffset]&&1===i.endContainer.childNodes[i.endOffset].nodeType&&\"BR\"===i.endContainer.childNodes[i.endOffset].nodeName&&i.endContainer.childNodes[i.endOffset].previousSibling&&(1===i.endContainer.childNodes[i.endOffset].previousSibling.nodeType?i.setEnd(i.endContainer.childNodes[i.endOffset].previousSibling,i.endContainer.childNodes[i.endOffset].previousSibling.childNodes.length):3===i.endContainer.childNodes[i.endOffset].previousSibling.nodeType&&i.setEnd(i.endContainer.childNodes[i.endOffset].previousSibling,i.endContainer.childNodes[i.endOffset].previousSibling.data.length)),g=!0),j++;while(0!==e&&!g&&2e3>j);i.select(),this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():\"\"},getNodes:function(a,b){var c=this.getRange();return c?c.getNodes(Array.isArray(a)?a:[a],b):[]},getOwnNodes:function(a,b,c){for(var d=this.getOwnRanges(),e=[],f=0,g=d.length;g>f;f++)d[f]&&(c&&d[f].splitBoundaries(),e=e.concat(d[f].getNodes(Array.isArray(a)?a:[a],b)));return e},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);if(2!==b)1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(a)){var c=a.endContainer.previousElementSibling;c&&a.setEnd(c,this._endOffsetForNode(c))}}},_endOffsetForNode:function(a){var b=document.createRange();return b.selectNodeContents(a),b.endOffset},_detectInlineRangeProblems:function(a){var b=f.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&4&b},getRange:function(a){var b=this.getSelection(),c=b&&b.rangeCount&&b.getRangeAt(0);return a!==!0&&this.fixRangeOverflow(c),c},getOwnUneditables:function(){var b=f.query(this.contain,\".\"+this.unselectableClass),c=f.query(b,\".\"+this.unselectableClass);return a.lang.array(b).without(c)},getOwnRanges:function(){var a,b=[],c=this.getRange();if(c&&b.push(c),this.unselectableClass&&this.contain&&c){var d,e=this.getOwnUneditables();if(e.length>0)for(var f=0,g=e.length;g>f;f++){a=[];for(var h=0,i=b.length;i>h;h++){if(b[h])switch(b[h].compareNode(e[f])){case 2:break;case 3:d=b[h].cloneRange(),d.setEndBefore(e[f]),a.push(d),d=b[h].cloneRange(),d.setStartAfter(e[f]),a.push(d);break;default:a.push(b[h])}b=a}}}return b},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);return b.setSingleRange(a),b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var b,c=this.createRange(),e=this.composer,f=this,g=d(this.composer.element),h=d(this.composer.element),i=function(){c.setStart(e.element,0),c.setEnd(e.element,e.element.childNodes.length),b=f.setSelection(c)},j=function(){return!b||b.nativeSelection&&b.nativeSelection.type&&(\"Caret\"===b.nativeSelection.type||\"None\"===b.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element),i(),this.composer.element.firstChild&&j()&&(this.composer.element.appendChild(g),i(),j()&&(g.parentNode.removeChild(g),this.composer.element.insertBefore(h,this.composer.element.firstChild),i(),j()&&(this.composer.element.appendChild(g),i())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var c=this.getRange(),d=c.commonAncestorContainer,e=c.startContainer,f=c.endContainer;if(d.nodeType===a.TEXT_NODE&&(d=d.parentNode),e.nodeType===a.TEXT_NODE&&!/^\\s*$/.test(e.data.substr(c.startOffset)))return!1;if(f.nodeType===a.TEXT_NODE&&!/^\\s*$/.test(f.data.substr(c.endOffset)))return!1;for(;e&&e!==d;){if(e.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,e))return!1;if(a.dom.domNode(e).prev({ignoreBlankTexts:!0}))return!1;e=e.parentNode}for(;f&&f!==d;){if(f.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,f))return!1;if(a.dom.domNode(f).next({ignoreBlankTexts:!0}))return!1;f=f.parentNode}return a.lang.array(b).contains(d.nodeName)?d:!1},isInThisEditable:function(){var b=this.getSelection(),c=b.focusNode,d=b.anchorNode;return c&&1!==c.nodeType&&(c=c.parentNode),d&&1!==d.nodeType&&(d=d.parentNode),d&&c&&(a.dom.contains(this.composer.element,c)||this.composer.element===c)&&(a.dom.contains(this.composer.element,d)||this.composer.element===d)},deselect:function(){var a=this.getSelection();a&&a.removeAllRanges()}})}(wysihtml5),function(a,b){function c(a,b,c){if(!a.className)return!1;var d=a.className.match(c)||[];return d[d.length-1]===b}function d(a,b){if(!a.getAttribute||!a.getAttribute(\"style\"))return!1;a.getAttribute(\"style\").match(b);return a.getAttribute(\"style\").match(b)?!0:!1}function e(a,b,c){a.getAttribute(\"style\")?(h(a,c),a.getAttribute(\"style\")&&!/^\\s*$/.test(a.getAttribute(\"style\"))?a.setAttribute(\"style\",b+\";\"+a.getAttribute(\"style\")):a.setAttribute(\"style\",b)):a.setAttribute(\"style\",b)}function f(a,b,c){a.className?(g(a,c),a.className+=\" \"+b):a.className=b}function g(a,b){a.className&&(a.className=a.className.replace(b,\"\"))}function h(a,b){var c,d=[];if(a.getAttribute(\"style\")){c=a.getAttribute(\"style\").split(\";\");for(var e=c.length;e--;)c[e].match(b)||/^\\s*$/.test(c[e])||d.push(c[e]);d.length?a.setAttribute(\"style\",d.join(\";\")):a.removeAttribute(\"style\")}}function i(a,b){var c=[],d=b.split(\";\"),e=a.getAttribute(\"style\");if(e){e=e.replace(/\\s/gi,\"\").toLowerCase(),c.push(new RegExp(\"(^|\\\\s|;)\"+b.replace(/\\s/gi,\"\").replace(/([\\(\\)])/gi,\"\\\\$1\").toLowerCase().replace(\";\",\";?\").replace(/rgb\\\\\\((\\d+),(\\d+),(\\d+)\\\\\\)/gi,\"\\\\s?rgb\\\\($1,\\\\s?$2,\\\\s?$3\\\\)\"),\"gi\"));for(var f=d.length;f-->0;)/^\\s*$/.test(d[f])||c.push(new RegExp(\"(^|\\\\s|;)\"+d[f].replace(/\\s/gi,\"\").replace(/([\\(\\)])/gi,\"\\\\$1\").toLowerCase().replace(\";\",\";?\").replace(/rgb\\\\\\((\\d+),(\\d+),(\\d+)\\\\\\)/gi,\"\\\\s?rgb\\\\($1,\\\\s?$2,\\\\s?$3\\\\)\"),\"gi\"));for(var g=0,h=c.length;h>g;g++)if(e.match(c[g]))return c[g]}return!1}function j(c,d,e,f){return e?i(c,e):f?a.dom.hasClass(c,f):b.dom.arrayContains(d,c.tagName.toLowerCase())}function k(a,b,c,d){for(var e=a.length;e--;)if(!j(a[e],b,c,d))return!1;return a.length?!0:!1}function l(a,b,c){var d=i(a,b);return d?(h(a,d),\"remove\"):(e(a,b,c),\"change\")}function m(a,b){return a.className.replace(u,\" \")==b.className.replace(u,\" \")}function n(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}function o(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c,d,e,f=0,g=a.attributes.length;g>f;++f)if(c=a.attributes[f],e=c.name,\"class\"!=e){if(d=b.attributes.getNamedItem(e),c.specified!=d.specified)return!1;if(c.specified&&c.nodeValue!==d.nodeValue)return!1}return!0}function p(a,c){return b.dom.isCharacterDataNode(a)?0==c?!!a.previousSibling:c==a.length?!!a.nextSibling:!0:c>0&&c<a.childNodes.length}function q(a,c,d,e){var f;if(b.dom.isCharacterDataNode(c)&&(0==d?(d=b.dom.getNodeIndex(c),c=c.parentNode):d==c.length?(d=b.dom.getNodeIndex(c)+1,c=c.parentNode):f=b.dom.splitDataNode(c,d)),!(f||e&&c===e)){f=c.cloneNode(!1),f.id&&f.removeAttribute(\"id\");for(var g;g=c.childNodes[d];)f.appendChild(g);b.dom.insertAfter(f,c)}return c==a?f:q(a,f.parentNode,b.dom.getNodeIndex(f),e)}function r(b){this.isElementMerge=b.nodeType==a.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?b.lastChild:b,this.textNodes=[this.firstTextNode]}function s(a,b,c,d,e,f,g){this.tagNames=a||[t],this.cssClass=b||(b===!1?!1:\"\"),this.similarClassRegExp=c,this.cssStyle=e||\"\",this.similarStyleRegExp=f,this.normalize=d,this.applyToAnyTagName=!1,this.container=g}var t=\"span\",u=/\\s+/g;\nr.prototype={doMerge:function(){for(var a,b,c,d=[],e=0,f=this.textNodes.length;f>e;++e)a=this.textNodes[e],b=a.parentNode,d[e]=a.data,e&&(b.removeChild(a),b.hasChildNodes()||b.parentNode.removeChild(b));return this.firstTextNode.data=c=d.join(\"\"),c},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=0,c=this.textNodes.length;c>b;++b)a[b]=\"'\"+this.textNodes[b].data+\"'\";return\"[Merge(\"+a.join(\",\")+\")]\"}},s.prototype={getAncestorWithClass:function(d){for(var e;d;){if(e=this.cssClass?c(d,this.cssClass,this.similarClassRegExp):\"\"!==this.cssStyle?!1:!0,d.nodeType==a.ELEMENT_NODE&&\"false\"!=d.getAttribute(\"contenteditable\")&&b.dom.arrayContains(this.tagNames,d.tagName.toLowerCase())&&e)return d;d=d.parentNode}return!1},getAncestorWithStyle:function(c){for(var e;c;){if(e=this.cssStyle?d(c,this.similarStyleRegExp):!1,c.nodeType==a.ELEMENT_NODE&&\"false\"!=c.getAttribute(\"contenteditable\")&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&e)return c;c=c.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),c=!1;return b?this.cssStyle&&(c=\"class\"):(b=this.getAncestorWithStyle(a),b&&(c=\"style\")),{element:b,type:c}},postApply:function(a,b){for(var c,d,e,f=a[0],g=a[a.length-1],h=[],i=f,j=g,k=0,l=g.length,m=0,n=a.length;n>m;++m)d=a[m],e=null,d&&d.parentNode&&(e=this.getAdjacentMergeableTextNode(d.parentNode,!1)),e?(c||(c=new r(e),h.push(c)),c.textNodes.push(d),d===f&&(i=c.firstTextNode,k=i.length),d===g&&(j=c.firstTextNode,l=c.getLength())):c=null;if(g&&g.parentNode){var o=this.getAdjacentMergeableTextNode(g.parentNode,!0);o&&(c||(c=new r(g),h.push(c)),c.textNodes.push(o))}if(h.length){for(m=0,n=h.length;n>m;++m)h[m].doMerge();b.setStart(i,k),b.setEnd(j,l)}},getAdjacentMergeableTextNode:function(b,c){var d,e=b.nodeType==a.TEXT_NODE,f=e?b.parentNode:b,g=c?\"nextSibling\":\"previousSibling\";if(e){if(d=b[g],d&&d.nodeType==a.TEXT_NODE)return d}else if(d=f[g],d&&this.areElementsMergeable(b,d))return d[c?\"firstChild\":\"lastChild\"];return null},areElementsMergeable:function(a,c){return b.dom.arrayContains(this.tagNames,(a.tagName||\"\").toLowerCase())&&b.dom.arrayContains(this.tagNames,(c.tagName||\"\").toLowerCase())&&m(a,c)&&o(a,c)},createContainer:function(a){var b=a.createElement(this.tagNames[0]);return this.cssClass&&(b.className=this.cssClass),this.cssStyle&&b.setAttribute(\"style\",this.cssStyle),b},applyToTextNode:function(a){var c=a.parentNode;if(1==c.childNodes.length&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase()))this.cssClass&&f(c,this.cssClass,this.similarClassRegExp),this.cssStyle&&e(c,this.cssStyle,this.similarStyleRegExp);else{var d=this.createContainer(b.dom.getDocument(a));a.parentNode.insertBefore(d,a),d.appendChild(a)}},isRemovable:function(c){return b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&\"\"===a.lang.string(c.className).trim()&&(!c.getAttribute(\"style\")||\"\"===a.lang.string(c.getAttribute(\"style\")).trim())},undoToTextNode:function(a,b,c,d){var e=c?!1:!0,f=c||d,h=!1;if(!b.containsNode(f)){var i=b.cloneRange();i.selectNode(f),i.isPointInRange(b.endContainer,b.endOffset)&&p(b.endContainer,b.endOffset)&&(q(f,b.endContainer,b.endOffset,this.container),b.setEndAfter(f)),i.isPointInRange(b.startContainer,b.startOffset)&&p(b.startContainer,b.startOffset)&&(f=q(f,b.startContainer,b.startOffset,this.container))}!e&&this.similarClassRegExp&&g(f,this.similarClassRegExp),e&&this.similarStyleRegExp&&(h=\"change\"===l(f,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(f)&&!h&&n(f)},applyToRange:function(b){for(var c,d=b.length;d--;){if(c=b[d].getNodes([a.TEXT_NODE]),!c.length)try{var e=this.createContainer(b[d].endContainer.ownerDocument);return b[d].surroundContents(e),void this.selectNode(b[d],e)}catch(f){}if(b[d].splitBoundaries(),c=b[d].getNodes([a.TEXT_NODE]),c.length){for(var g,h=0,i=c.length;i>h;++h)g=c[h],this.getMatchingAncestor(g).element||this.applyToTextNode(g);b[d].setStart(c[0],0),g=c[c.length-1],b[d].setEnd(g,g.length),this.normalize&&this.postApply(c,b[d])}}},undoToRange:function(b){for(var c,d,e,f=b.length;f--;){if(c=b[f].getNodes([a.TEXT_NODE]),c.length)b[f].splitBoundaries(),c=b[f].getNodes([a.TEXT_NODE]);else{var g=b[f].endContainer.ownerDocument,h=g.createTextNode(a.INVISIBLE_SPACE);b[f].insertNode(h),b[f].selectNode(h),c=[h]}for(var i=0,j=c.length;j>i;++i)b[f].isValid()&&(d=c[i],e=this.getMatchingAncestor(d),\"style\"===e.type?this.undoToTextNode(d,b[f],!1,e.element):e.element&&this.undoToTextNode(d,b[f],e.element));1==j?this.selectNode(b[f],c[0]):(b[f].setStart(c[0],0),d=c[c.length-1],b[f].setEnd(d,d.length),this.normalize&&this.postApply(c,b[f]))}},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e=\"canHaveHTML\"in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data,g=\"\"===f||f===a.INVISIBLE_SPACE;if(g&&d&&e)try{c.innerHTML=a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c),g&&d?b.collapse(!1):g&&(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),e=d?d.toString():\"\";return c.detach(),e},isAppliedToRange:function(b){for(var c,d,e=[],f=\"full\",g=b.length;g--;){if(d=b[g].getNodes([a.TEXT_NODE]),!d.length)return c=this.getMatchingAncestor(b[g].startContainer).element,c?{elements:[c],coverage:f}:!1;for(var h,i=0,j=d.length;j>i;++i)h=this.getTextSelectedByRange(d[i],b[g]),c=this.getMatchingAncestor(d[i]).element,c&&\"\"!=h?(e.push(c),1===a.dom.getTextNodes(c,!0).length?f=\"full\":\"full\"===f&&(f=\"inline\")):c||(f=\"partial\")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b,c=this.isAppliedToRange(a);c?\"full\"===c.coverage?this.undoToRange(a):\"inline\"===c.coverage?(b=k(c.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):(k(c.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}},a.selection.HTMLApplier=s}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.exec,f=null;if(this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array([\"styleWithCSS\",\"enableObjectResizing\",\"enableInlineTableEditing\"]).contains(a)&&(this.composer.element.innerHTML=\"\",this.composer.selection.selectNode(this.composer.element)),this.editor.fire(\"beforecommand:composer\"),e)d.unshift(this.composer),f=e.apply(c,d);else try{f=this.doc.execCommand(a,!1,b)}catch(g){}return this.editor.fire(\"aftercommand:composer\"),f},remove:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.remove;return e?(d.unshift(this.composer),e.apply(c,d)):void 0},state:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.state;if(e)return d.unshift(this.composer),e.apply(c,d);try{return this.doc.queryCommandState(a)}catch(f){return!1}},stateValue:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&&b.stateValue;return d?(c.unshift(this.composer),d.apply(b,c)):!1}}),function(a){var b={nodeName:\"B\",toggle:!0};a.commands.bold={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){function b(b){return a.lang.object({}).merge(c).merge({attribute:b}).get()}var c={nodeName:\"A\",toggle:!1};a.commands.createLink={exec:function(c,d,e){var f=b(e);if(c.selection.isCollapsed()&&!this.state(c,d)){var g=c.doc.createTextNode(f.attribute.href);c.selection.insertNode(g),c.selection.selectNode(g)}a.commands.formatInline.exec(c,d,f)},state:function(b,d){return a.commands.formatInline.state(b,d,c)}}}(wysihtml5),function(a){var b={nodeName:\"A\"};a.commands.removeLink={exec:function(c,d){a.commands.formatInline.remove(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b=/wysiwyg-font-size-[0-9a-z\\-]+/g;a.commands.fontSize={exec:function(c,d,e){a.commands.formatInline.exec(c,d,{className:\"wysiwyg-font-size-\"+e,classRegExp:b,toggle:!0})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{className:\"wysiwyg-font-size-\"+d})}}}(wysihtml5),function(a){a.commands.fontSizeStyle={exec:function(b,c,d){d=d.size||d,/^\\s*$/.test(d)||a.commands.formatInline.exec(b,c,{styleProperty:\"fontSize\",styleValue:d,toggle:!1})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{styleProperty:\"fontSize\",styleValue:d||void 0})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"fontSize\"})},stateValue:function(b,c){var d,e=this.state(b,c);return e&&a.lang.object(e).isArray()&&(e=e[0]),e&&(d=e.getAttribute(\"style\"))?a.quirks.styleParser.parseFontSize(d):!1}}}(wysihtml5),function(a){var b=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(c,d,e){a.commands.formatInline.exec(c,d,{className:\"wysiwyg-color-\"+e,classRegExp:b,toggle:!0})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{className:\"wysiwyg-color-\"+d})}}}(wysihtml5),function(a){a.commands.foreColorStyle={exec:function(b,c,d){var e,f;d&&(e=a.quirks.styleParser.parseColor(\"color:\"+(d.color||d),\"color\"),e&&(f=(1===e[3]?\"rgb(\"+[e[0],e[1],e[2]].join(\", \"):\"rgba(\"+e.join(\", \"))+\")\",a.commands.formatInline.exec(b,c,{styleProperty:\"color\",styleValue:f})))},state:function(b,c,d){var e,f=d?a.quirks.styleParser.parseColor(\"color:\"+(d.color||d),\"color\"):null;return f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\"),a.commands.formatInline.state(b,c,{styleProperty:\"color\",styleValue:e})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"color\"})},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&&a.lang.object(f).isArray()&&(f=f[0]),f&&(e=f.getAttribute(\"style\"))?(g=a.quirks.styleParser.parseColor(e,\"color\"),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){a.commands.bgColorStyle={exec:function(b,c,d){var e,f=a.quirks.styleParser.parseColor(\"background-color:\"+(d.color||d),\"background-color\");f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\",a.commands.formatInline.exec(b,c,{styleProperty:\"backgroundColor\",styleValue:e}))},state:function(b,c,d){var e,f=d?a.quirks.styleParser.parseColor(\"background-color:\"+(d.color||d),\"background-color\"):null;return f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\"),a.commands.formatInline.state(b,c,{styleProperty:\"backgroundColor\",styleValue:e})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"backgroundColor\"})},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&&a.lang.object(f).isArray()&&(f=f[0]),f&&(e=f.getAttribute(\"style\"))?(g=a.quirks.styleParser.parseColor(e,\"background-color\"),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){function b(a){return{nodeName:a.nodeName||null,className:a.classRegExp?null:a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}}function c(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function d(a){return a&&1===a.nodeType&&\"BR\"===a.nodeName}function e(a,b){return a&&1===a.nodeType&&\"block\"===b.win.getComputedStyle(a).display}function f(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")}function g(a,b){return d(a)||e(a,b)}function h(b,c){a.dom.removeInvisibleSpaces(b.element);for(var d,e=b.element,f=e.querySelectorAll(D),g=b.config.classNames.uneditableContainer+[\"\"].concat(D.split(\",\")).join(\", \"+b.config.classNames.uneditableContainer+\" \"),h=e.querySelectorAll(g),i=a.lang.array(f).without(h),j=i.length;j--;)\"\"===i[j].innerHTML.replace(/[\\uFEFF]/g,\"\")&&(d=a.lang.array(c).indexOf(i[j]),d>-1&&c.splice(d,1),i[j].parentNode.removeChild(i[j]));return c}function i(a){return a.config.useLineBreaks?\"DIV\":\"P\"}function j(a,b,c){for(var d=a,e=null;d&&b&&d!==b;)1===d.nodeType&&d.matches(c?D:C)&&(e=d),d=d.parentNode;return e}function k(a,b){for(var c,d,e,f=a,g=null;f&&b&&f!==b;)1===f.nodeType&&f.matches(E)&&(d=f,null===g?(g=f.cloneNode(!1),c=g):(e=f.cloneNode(!1),e.appendChild(g),g=e)),f=f.parentNode;return{parent:d,outerNode:g,innerNode:c}}function l(b,c,d){return b||(b=d.doc.createElement(c.nodeName||i(d)),b.appendChild(d.doc.createTextNode(a.INVISIBLE_SPACE))),c.nodeName&&b.nodeName!==c.nodeName&&(b=B.renameElement(b,c.nodeName)),c.classRegExp&&(b.className=b.className.replace(c.classRegExp,\"\")),c.className&&b.classList.add(c.className),c.styleProperty&&\"undefined\"!=typeof c.styleValue&&(b.style[a.browser.fixStyleKey(c.styleProperty)]=c.styleValue),b}function m(b,c,d){var e,f=b.previousSibling,g=b.nextSibling,h=!1;c.styleProperty&&(b.style[a.browser.fixStyleKey(c.styleProperty)]=\"\"),c.className&&b.classList.remove(c.className),c.classRegExp&&(b.className=b.className.replace(c.classRegExp,\"\")),null!==b.getAttribute(\"class\")&&\"\"===b.getAttribute(\"class\").trim()&&b.removeAttribute(\"class\"),c.nodeName&&b.nodeName.toLowerCase()===c.nodeName.toLowerCase()&&(e=b.getAttribute(\"style\"),e&&\"\"!==e.trim()?b=B.renameElement(b,i(d)):(B.unwrap(b),h=!0)),null!==b.getAttribute(\"style\")&&\"\"===b.getAttribute(\"style\").trim()&&b.removeAttribute(\"style\"),h&&u(f,g,d)}function n(b){for(var c,d,e=b.querySelectorAll(D)||[],f=e.length;f--;)c=a.dom.domNode(e[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),d=a.dom.domNode(e[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),c&&1!==c.nodeType&&\"BR\"!==c.nodeName&&\"\"!==(e[f].innerHTML||e[f].nodeValue||\"\").trim()&&e[f].parentNode.insertBefore(e[f].ownerDocument.createElement(\"BR\"),c),c&&1!==c.nodeType&&\"BR\"!==c.nodeName&&\"\"!==(e[f].innerHTML||e[f].nodeValue||\"\").trim()&&e[f].parentNode.insertBefore(e[f].ownerDocument.createElement(\"BR\"),c),a.dom.unwrap(e[f])}function o(a,b){var c,d=a.startContainer,e=a.endContainer;return d&&1===d.nodeType&&d===e?void(d.firstChild===d.lastChild&&1===a.endOffset&&d!==b.element&&\"LI\"!==d.nodeName&&\"TD\"!==d.nodeName&&(a.setStartBefore(d),a.setEndAfter(e))):d&&1===d.nodeType&&3===e.nodeType?void(d.firstChild===e&&a.endOffset===e.data.length&&d!==b.element&&\"LI\"!==d.nodeName&&\"TD\"!==d.nodeName&&a.setEndAfter(d)):e&&1===e.nodeType&&3===d.nodeType?void(e.firstChild===d&&0===a.startOffset&&e!==b.element&&\"LI\"!==e.nodeName&&\"TD\"!==e.nodeName&&a.setStartBefore(e)):d&&3===d.nodeType&&d===e&&1===d.parentNode.childNodes.length?void(a.endOffset==e.data.length&&0===a.startOffset&&(c=d.parentNode,c!==b.element&&\"LI\"!==c.nodeName&&\"TD\"!==c.nodeName&&(a.setStartBefore(c),a.setEndAfter(c)))):void 0}function p(b){for(var c,d,e,f,g,h,i=[],j=0,k=b.length;k>j;j++)if(1===b[j].startContainer.nodeType&&b[j].startContainer.matches(\"ul, ol\")&&b[j].setStart(b[j].startContainer.childNodes[b[j].startOffset],0),1===b[j].endContainer.nodeType&&b[j].endContainer.matches(\"ul, ol\")&&(h=b[j].endContainer.childNodes[Math.max(b[j].endOffset-1,0)],h.childNodes&&b[j].setEnd(h,h.childNodes.length)),c=b[j].getNodes([1],function(a){return\"LI\"===a.nodeName}),c.length>0){for(d=0,e=c.length;e>d;d++)g=b[j].compareNode(c[d]),(g===b[j].NODE_AFTER||g===b[j].NODE_INSIDE)&&(f=b[j].cloneRange(),h=a.dom.domNode(c[d]).prev({nodeTypes:[1]}),h?f.setEnd(h,h.childNodes.length):c[d].closest(\"ul, ol\")?f.setEndBefore(c[d].closest(\"ul, ol\")):f.setEndBefore(c[d]),i.push(f),b[j].setStart(c[d],0)),(g===b[j].NODE_BEFORE||g===b[j].NODE_INSIDE)&&(f=b[j].cloneRange(),f.setEnd(c[d],c[d].childNodes.length),i.push(f),h=a.dom.domNode(c[d]).next({nodeTypes:[1]}),h?b[j].setStart(h,0):c[d].closest(\"ul, ol\")?b[j].setStartAfter(c[d].closest(\"ul, ol\")):b[j].setStartAfter(c[d]));i.push(b[j])}else i.push(b[j]);return i}function q(b,c,d){var e=b?a.lang.object(b).clone(!0):null;return e&&(e.nodeName=e.nodeName||c||i(d)),e}function r(b,c,d,e){var f,h,i,l,m,n=c.startContainer,e=e||j(n,d.element,!0);if(e)h=b.firstChild,i=b.lastChild,d.selection.splitElementAtCaret(e,b),m=a.dom.domNode(i).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),l=a.dom.domNode(h).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),h&&!g(h,d)&&l&&!g(l,d)&&h.parentNode.insertBefore(d.doc.createElement(\"br\"),h),i&&!g(i,d)&&m&&!g(m,d)&&m.parentNode.insertBefore(d.doc.createElement(\"br\"),m);else if(f=k(n,d.element),f.outerNode&&f.innerNode&&f.parent){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)f.innerNode.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(f.outerNode)}d.selection.splitElementAtCaret(f.parent,b)}else c.insertNode(b)}function s(b,d,e){for(var f,h,i=b.cloneRange(),j=c(i.startContainer,i.startOffset).previousSibling,k=c(i.endContainer,i.endOffset).nextSibling,l=i.extractContents(),m=e.doc.createDocumentFragment(),o=!0;l.firstChild;){if(1===l.firstChild.nodeType&&l.firstChild.matches(D)){n(l.firstChild),f=a.dom.unwrap(l.firstChild),f.length>0&&(m.lastChild&&(1!==m.lastChild.nodeType||!g(m.lastChild,e))||!m.lastChild&&j&&(1!==j.nodeType||g(j,e)))&&m.appendChild(e.doc.createElement(\"BR\"));for(var p=0,q=f.length;q>p;p++)m.appendChild(f[p]);f.length>0&&(1===m.lastChild.nodeType&&g(m.lastChild,e)||(k||m.lastChild!==l.lastChild)&&m.appendChild(e.doc.createElement(\"BR\")))}else m.appendChild(l.firstChild);o=!1}return h=a.lang.array(m.childNodes).get(),r(m,i,e),h}function t(b,c,e){var f=b&&a.dom.domNode(b).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});d(c)&&c.parentNode.removeChild(c),!d(b)||f&&1===f.nodeType&&\"block\"===e.win.getComputedStyle(f).display||b.parentNode.removeChild(b)}function u(a,b,c){var e;a&&f(a)&&(a=a.previousSibling),b&&f(b)&&(b=b.nextSibling),e=a&&a.previousSibling,a&&(1!==a.nodeType||\"block\"!==c.win.getComputedStyle(a).display&&!d(a))&&a.parentNode&&a.parentNode.insertBefore(c.doc.createElement(\"br\"),a.nextSibling),b&&(1!==b.nodeType||\"block\"!==c.win.getComputedStyle(b).display)&&b.parentNode&&b.parentNode.insertBefore(c.doc.createElement(\"br\"),b)}function v(d,e,f,g){var h,i,k=e?b(e):null,m=d.cloneRange(),o=m.startContainer,p=a.dom.domNode(c(m.startContainer,m.startOffset)).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),s=a.dom.domNode(c(m.endContainer,m.endOffset)).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),u=m.extractContents(),v=g.doc.createDocumentFragment(),w=k?a.dom.getParentElement(o,k,null,g.element):null,x=!f||!e||\"BLOCKQUOTE\"===e.nodeName&&\"BLOCKQUOTE\"===f,y=w||j(o,g.element,x);if(e&&\"BLOCKQUOTE\"===e.nodeName){var z=l(null,e,g);z.appendChild(u),v.appendChild(z),i=[z]}else{if(u.firstChild)for(;u.firstChild;)if(1==u.firstChild.nodeType&&u.firstChild.matches(D))l(u.firstChild,e,g),u.firstChild.matches(C)&&n(u.firstChild),v.appendChild(u.firstChild);else{for(h=l(null,q(e,f,g),g);u.firstChild&&(1!==u.firstChild.nodeType||!u.firstChild.matches(D));)1==u.firstChild.nodeType&&h.matches(C)&&n(u.firstChild),h.appendChild(u.firstChild);v.appendChild(h)}else v.appendChild(l(null,e,g));i=a.lang.array(v.childNodes).get()}return r(v,m,g,y),t(p,s,g),i}function w(b,c){var d=a.dom.getParentElement(b,{query:D},null,c.element);return d?d.nodeName:null}function x(b,c){var d,e=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:C+\", \"+(c?c.toLowerCase():\"div\")},null,b.element);e?(d=b.selection.createRange(),d.selectNode(e),b.selection.setSelection(d)):b.isEmpty()||b.selection.selectLine()}function y(a,b){var c=b.selection.createRange(),d=a[a.length-1],e=1===d.nodeType&&d.childNodes?0|d.childNodes.length:d.length||0;c.setStart(a[0],0),c.setEnd(d,e),c.select()}function z(a,b,c){var d,e=b.selection.getOwnRanges(),f=[];e=p(e);for(var g=e.length;g--;)o(e[g],b),d=w(e[g].startContainer,b),f=\"remove\"===a?f.concat(s(e[g],d,b)):f.concat(v(e[g],c,d,b));return f}function A(a){return\"string\"==typeof a&&(a={nodeName:a.toUpperCase()}),a}var B=a.dom,C=\"h1, h2, h3, h4, h5, h6, p, pre\",D=\"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote\",E=\"b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u\";a.commands.formatBlock={exec:function(a,b,c){c=A(c);var d,e,f=[];if(c&&c.toggle&&(e=this.state(a,b,c)),e){d=rangy.saveSelection(a.win);for(var g=0,i=e.length;i>g;g++)m(e[g],c,a)}else a.selection.isCollapsed()&&(d=rangy.saveSelection(a.win),x(a,c&&c.nodeName?c.nodeName.toUpperCase():void 0)),f=c?z(\"apply\",a,c):z(\"remove\",a);f=h(a,f),d?rangy.restoreSelection(d):y(f,a)},remove:function(a,b,c){c=A(c);var d,e;a.selection.isCollapsed()&&(e=rangy.saveSelection(a.win),x(a,c&&c.nodeName?c.nodeName.toUpperCase():void 0)),d=z(\"remove\",a),d=h(a,d),e?rangy.restoreSelection(e):y(d,a)},state:function(b,c,d){d=A(d);for(var e,f=b.selection.filterElements(function(b){return a.dom.domNode(b).test(d||{query:D})}.bind(this)),g=b.selection.getSelectedOwnNodes(),h=0,i=g.length;i>h;h++)e=B.getParentElement(g[h],d||{query:D},null,b.element),e&&-1===f.indexOf(e)&&f.push(e);return 0===f.length?!1:f}}}(wysihtml5),function(a){a.commands.formatCode={exec:function(b,c,d){var e,f,g,h=this.state(b)[0];h?b.selection.executeAndRestore(function(){e=h.querySelector(\"code\"),a.dom.replaceWithChildNodes(h),e&&a.dom.replaceWithChildNodes(e)}):(f=b.selection.getRange(),g=f.extractContents(),h=b.doc.createElement(\"pre\"),e=b.doc.createElement(\"code\"),d&&(e.className=d),h.appendChild(e),e.appendChild(g),f.insertNode(h),b.selection.selectNode(h))},state:function(b){var c,d=b.selection.getSelectedNode();return d&&d.nodeName&&\"PRE\"==d.nodeName&&d.firstChild&&d.firstChild.nodeName&&\"CODE\"==d.firstChild.nodeName?[d]:(c=a.dom.getParentElement(d,{query:\"pre code\"}),c?[c.parentNode]:!1)}}}(wysihtml5),function(a){function b(a){return/^\\s*$/.test(a.className)}function c(a){return!a.getAttribute(\"style\")||/^\\s*$/.test(a.getAttribute(\"style\"))}function d(b){var c=a.dom.getAttributes(b);return a.lang.object(c).isEmpty()}function e(b,c){var d,e,f,g;return 1!==b.nodeType||1!==c.nodeType?!1:b.nodeName!==c.nodeName?!1:(d=b.className.trim().replace(/\\s+/g,\" \").split(\" \"),e=c.className.trim().replace(/\\s+/g,\" \").split(\" \"),a.lang.array(d).without(e).length>0?!1:(f=a.dom.getAttributes(b),g=a.dom.getAttributes(c),f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1))}function f(b,c){var d=c&&c.nodeName||F,e=b.ownerDocument.createElement(d);if(c.classRegExp&&(e.className=e.className.replace(c.classRegExp,\"\")),c.className&&e.classList.add(c.className),c.styleProperty&&\"undefined\"!=typeof c.styleValue&&(e.style[a.browser.fixStyleKey(c.styleProperty)]=c.styleValue),c.attribute)if(\"object\"==typeof c.attribute)for(var f in c.attribute)c.attribute.hasOwnProperty(f)&&e.setAttribute(f,c.attribute[f]);else\"undefined\"!=typeof c.attributeValue&&e.setAttribute(c.attribute,c.attributeValue);return e}function g(a,b){for(var c in a)if(a.hasOwnProperty(c)&&(void 0===typeof b[c]||b[c]!==a[c]))return!1;return!0}function h(b,c,d){var e,f=a.dom.getAttributes(b),h=g(c,f);a.lang.object(f).difference(c);if(h&&d!==!1)for(e in c)c.hasOwnProperty(e)&&b.removeAttribute(e);else for(e in c)c.hasOwnProperty(e)&&b.setAttribute(e,c[e])}function i(e,f){var g,i,j;f.className&&(f.toggle!==!1&&e.classList.contains(f.className)?e.classList.remove(f.className):(f.classRegExp&&(e.className=e.className.replace(f.classRegExp,\"\")),e.classList.add(f.className)),b(e)&&e.removeAttribute(\"class\")),f.styleProperty&&(f.toggle!==!1&&e.style[a.browser.fixStyleKey(f.styleProperty)].trim().replace(/, /g,\",\")===f.styleValue?e.style[a.browser.fixStyleKey(f.styleProperty)]=\"\":e.style[a.browser.fixStyleKey(f.styleProperty)]=f.styleValue),c(e)&&e.removeAttribute(\"style\"),f.attribute&&(\"object\"==typeof f.attribute?g=f.attribute:(g={},g[f.attribute]=f.attributeValue||\"\"),h(e,g,f.toggle)),i=f.nodeName?H[f.nodeName.toLowerCase()]||f.nodeName.toLowerCase():null,j=i?a.dom.domNode(e).test({query:i}):!1,(!f.nodeName||f.nodeName===F||j)&&(f.toggle!==!1&&j||!f.nodeName&&e.nodeName===F)&&b(e)&&c(e)&&d(e)&&a.dom.unwrap(e)}function j(b,c){var d=[];return b.isCollapsed()||(d=d.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},c))),d}function k(a,b,c,d){var e=a,f=d?b:l(b);do{if(1===e.nodeType&&m(e,f))return e;e=e.parentNode}while(e&&e!==c);return null}function l(a){return{nodeName:a.nodeName||null,className:a.classRegExp?null:a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}}function m(b,c){var d;if(c.nodeName){var e=H[c.nodeName.toLowerCase()]||c.nodeName.toLowerCase();return a.dom.domNode(b).test({query:e})}return d=a.lang.object(c).clone(),d.query=G,a.dom.domNode(b).test(d)}function n(b,c){var d=document.documentElement||document.body,e=d.scrollTop,f=d.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(c)}catch(g){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),d.scrollTop=e,d.scrollLeft=f,rangy.getSelection(b.win).addRange(c))}function o(a,b){var c=rangy.createRange(b.doc),d=a[a.length-1];a[0]&&d&&(c.setStart(a[0],0),c.setEnd(d,d.length),n(b,c))}function p(a,b,c,d){var e=rangy.createRange(a.doc);b&&(e.setStart(b,c),e.setEnd(b,\"undefined\"!=typeof d?d:c),n(a,e))}function q(a,b,c){var d,e,f,g=j(a.selection),h=[],i=!1;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){if(f=a.selection.getSelection().anchorNode,!f)return{nodes:[],partial:!1};3===f.nodeType&&(g=[f])}g.length||(e=a.selection.getOwnRanges()[0],e&&(g=[e.endContainer]));for(var l=0,m=g.length;m>l;l++)d=k(g[l],b,a.element,c),d?h.push(d):i=!0}return{nodes:h,partial:i}}function r(a){var b,c,d,e;return a&&(b=a.anchorNode,c=a.anchorOffset,b&&3===b.nodeType&&c>0&&c<b.data.length)?(d=b.data[c-1],e=b.data[c],/\\w/.test(d)&&/\\w/.test(e)):!1}function s(b){var c,d,e,f,g,h,i=[];if(b&&(c=b.anchorNode,d=g=h=b.anchorOffset,e=c.ownerDocument,f=rangy.createRange(e),c&&3===c.nodeType)){for(;g>0&&/\\w/.test(c.data[g-1]);)g--;for(;h<c.data.length&&/\\w/.test(c.data[h]);)h++;return f.setStartAndEnd(c,g,h),f.splitBoundaries(),i=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()}),{wordOffset:d-g,range:f,textNode:i[0]}}return!1}function t(a,b){for(;b.firstChild;)a.appendChild(b.firstChild);b.parentNode.removeChild(b)}function u(a){for(var b=a.length;b--;)a[b]&&a[b].parentNode&&(a[b].nextSibling&&e(a[b],a[b].nextSibling)&&t(a[b],a[b].nextSibling),a[b].previousSibling&&e(a[b],a[b].previousSibling)&&t(a[b].previousSibling,a[b]))}function v(a,b,c){b.length>0&&o(b,a),u(q(a,c).nodes),b.length>0&&o(b,a)}function w(a,b,c,d){p(a,b,c),u(q(a,d).nodes),p(a,b,c)}function x(a,b){var c=f(a,b);a.parentNode.insertBefore(c,a),c.appendChild(a)}function y(b,c,d){var e,f=c.element,g=k(b,d,f);g&&(e=g.cloneNode(!1),a.dom.domNode(b).escapeParent(g,e),i(e,d))}function z(b,c,d){var e=c.element,f=k(b,d,e);f&&a.dom.domNode(b).escapeParent(f)}function A(a,b,c){var d=f(a.endContainer,c);a.surroundContents(d),b.selection.selectNode(d)}function B(b,c,d,e){var f,g,h,j,l=q(b,e,!0),m=b.selection.getSelection();if(c.length){if(l.partial||e.toggle===!1)for(j=c.length;j--;)k(c[j],e,b.element)&&y(c[j],b,e),k(c[j],e,b.element)||x(c[j],e);else for(j=c.length;j--;)y(c[j],b,e);v(b,c,e)}else if(e.toggle!==!1)if(r(m))f=s(m),g=f.textNode,y(f.textNode,b,e),w(b,f.textNode,f.wordOffset,e);else{g=b.doc.createTextNode(a.INVISIBLE_SPACE),h=d.nodes[0].cloneNode(!1),h.appendChild(g),b.selection.splitElementAtCaret(d.nodes[0],h),i(h,e),v(b,[g],e);var n=b.selection.getSelection();if(n.anchorNode&&n.focusNode)try{n.collapseToEnd()}catch(o){}}else for(j=d.nodes.length;j--;)i(d.nodes[j],e)}function C(b,c,d,e){var f,g,h,i=b.selection.getSelection();if(c.length){for(h=c.length;h--;)z(c[h],b,e);v(b,c,e)}else{for(f=i.anchorNode,g=i.anchorOffset,h=d.nodes.length;h--;)a.dom.unwrap(d.nodes[h]);w(b,f,g,e)}}function D(a,b,c){var d,e,f=a.selection.getSelection();if(b.length){for(e=b.length;e--;)x(b[e],c);v(a,b,c)}else if(r(f))d=s(f),x(d.textNode,c),w(a,d.textNode,d.wordOffset,c);else{var g=a.selection.getOwnRanges()[0];g&&A(g,a,c)}}function E(a){return a=\"string\"==typeof a?{nodeName:a}:a,a.nodeName&&(a.nodeName=a.nodeName.toUpperCase()),a}var F=\"SPAN\",G=\"b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u\",H={b:\"b, strong\",strong:\"b, strong\",em:\"em, i\",i:\"em, i\"};a.commands.formatInline={exec:function(a,b,c){c=E(c),a.element.normalize();var d=j(a.selection,!0),e=q(a,c);e.nodes.length>0?B(a,d,e,c):D(a,d,c),a.element.normalize()},remove:function(a,b,c){c=E(c),a.element.normalize();var d=j(a.selection,!0),e=q(a,c);e.nodes.length>0&&C(a,d,e,c),a.element.normalize()},state:function(a,b,c){c=E(c);var d=q(a,c,!0).nodes;return 0===d.length?!1:d}}}(wysihtml5),function(a){var b={nodeName:\"BLOCKQUOTE\",toggle:!0};a.commands.insertBlockQuote={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){a.commands.insertHTML={exec:function(a,b,c){a.selection.insertHTML(c)},state:function(){return!1}}}(wysihtml5),function(a){var b=\"IMG\";a.commands.insertImage={exec:function(c,d,e){e=\"object\"==typeof e?e:{src:e};var f,g,h=c.doc,i=this.state(c);if(i&&!e.src)return c.selection.setBefore(i),g=i.parentNode,g.removeChild(i),a.dom.removeEmptyTextNodes(g),\"A\"!==g.nodeName||g.firstChild||(c.selection.setAfter(g),g.parentNode.removeChild(g)),void a.quirks.redraw(c.element);if(i)for(var j in e)e.hasOwnProperty(j)&&i.setAttribute(\"className\"===j?\"class\":j,e[j]);else{i=h.createElement(b);for(var k in e)i.setAttribute(\"className\"===k?\"class\":k,e[k]);c.selection.insertNode(i),a.browser.hasProblemsSettingCaretAfterImg()?(f=h.createTextNode(a.INVISIBLE_SPACE),c.selection.insertNode(f),c.selection.setAfter(f)):c.selection.setAfter(i)}},state:function(c){var d,e,f,g=c.doc;return a.dom.hasElementWithTagName(g,b)&&(d=c.selection.getSelectedNode())?d.nodeName===b?d:d.nodeType!==a.ELEMENT_NODE?!1:(e=c.selection.getText(),(e=a.lang.string(e).trim())?!1:(f=c.selection.getNodes(a.ELEMENT_NODE,function(a){return\"IMG\"===a.nodeName}),1!==f.length?!1:f[0])):!1}}}(wysihtml5),function(a){var b=\"<br>\"+(a.browser.needsSpaceAfterLineBreak()?\" \":\"\");a.commands.insertLineBreak={exec:function(a,c){a.selection.insertHTML(b)},state:function(){return!1}}}(wysihtml5),function(a){a.commands.insertOrderedList={exec:function(b,c){a.commands.insertList.exec(b,c,\"OL\")},state:function(b,c){return a.commands.insertList.state(b,c,\"OL\")}}}(wysihtml5),function(a){a.commands.insertUnorderedList={exec:function(b,c){a.commands.insertList.exec(b,c,\"UL\")},state:function(b,c){return a.commands.insertList.state(b,c,\"UL\")}}}(wysihtml5),wysihtml5.commands.insertList=function(a){var b=function(a,b){if(a&&a.nodeName){\"string\"==typeof b&&(b=[b]);for(var c=b.length;c--;)if(a.nodeName===b[c])return!0}return!1},c=function(c,d,e){var f={el:null,other:!1};if(c){var g=a.dom.getParentElement(c,{query:\"li\"},!1,e.element),h=\"UL\"===d?\"OL\":\"UL\";b(c,d)?f.el=c:b(c,h)?f={el:c,other:!0}:g&&(b(g.parentNode,d)?f.el=g.parentNode:b(g.parentNode,h)&&(f={el:g.parentNode,other:!0}))}return f.el&&!e.element.contains(f.el)&&(f.el=null),f},d=function(b,c,d){var e,g,h=\"UL\"===c?\"OL\":\"UL\";d.selection.executeAndRestoreRangy(function(){if(e=f(h,d),e.length)for(var i=e.length;i--;)a.dom.renameElement(e[i],c.toLowerCase());else{g=f([\"OL\",\"UL\"],d);for(var j=g.length;j--;)a.dom.resolveList(g[j],d.config.useLineBreaks);a.dom.resolveList(b,d.config.useLineBreaks)}})},e=function(b,c,d){var e=\"UL\"===c?\"OL\":\"UL\";d.selection.executeAndRestoreRangy(function(){for(var g=[b].concat(f(e,d)),h=g.length;h--;)a.dom.renameElement(g[h],c.toLowerCase())})},f=function(a,c){for(var d=c.selection.getOwnRanges(),e=[],f=d.length;f--;)e=e.concat(d[f].getNodes([1],function(c){return b(c,a)}));return e},g=function(b,c){var d;c.selection.isCollapsed()||(d=rangy.saveSelection(c.win));var e,f,g=\"_wysihtml5-temp-\"+(new Date).getTime(),h=c.selection.deblockAndSurround({nodeName:\"div\",\nclassName:g});h.innerHTML=h.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,\"\"),h&&(e=/^(\\s|(<br>))+$/i.test(h.innerHTML),f=a.dom.convertToList(h,b.toLowerCase(),c.parent.config.classNames.uneditableContainer),d&&rangy.restoreSelection(d),e&&c.selection.selectNode(f.querySelector(\"li\"),!0))};return{exec:function(a,b,f){var h=a.doc,i=\"OL\"===f?\"insertOrderedList\":\"insertUnorderedList\",j=a.selection.getSelectedNode(),k=c(j,f,a);k.el?k.other?e(k.el,f,a):d(k.el,f,a):a.commands.support(i)?h.execCommand(i,!1,null):g(f,a)},state:function(a,b,d){var e=a.selection.getSelectedNode(),f=c(e,d,a);return f.el&&!f.other?f.el:!1}}}(wysihtml5),function(a){var b={nodeName:\"I\",toggle:!0};a.commands.italic={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-center\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-left\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-right\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-justify\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"right\",toggle:!0};a.commands.alignRightStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"left\",toggle:!0};a.commands.alignLeftStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"center\",toggle:!0};a.commands.alignCenterStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"justify\",toggle:!0};a.commands.alignJustifyStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}}(wysihtml5),function(a){var b={nodeName:\"U\",toggle:!0};a.commands.underline={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}}(wysihtml5),function(a){a.commands.createTable={exec:function(a,b,c){var d,e,f;if(c&&c.cols&&c.rows&&parseInt(c.cols,10)>0&&parseInt(c.rows,10)>0){for(f=c.tableStyle?'<table style=\"'+c.tableStyle+'\">':\"<table>\",f+=\"<tbody>\",e=0;e<c.rows;e++){for(f+=\"<tr>\",d=0;d<c.cols;d++)f+=\"<td><br></td>\";f+=\"</tr>\"}f+=\"</tbody></table>\",a.commands.exec(\"insertHTML\",f)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.mergeTableCells={exec:function(b,c){b.tableSelection&&b.tableSelection.start&&b.tableSelection.end&&(this.state(b,c)?a.dom.table.unmergeCell(b.tableSelection.start):a.dom.table.mergeCellsBetween(b.tableSelection.start,b.tableSelection.end))},state:function(b,c){if(b.tableSelection){var d=b.tableSelection.start,e=b.tableSelection.end;if(d&&e&&d==e&&(a.dom.getAttribute(d,\"colspan\")&&parseInt(a.dom.getAttribute(d,\"colspan\"),10)>1||a.dom.getAttribute(d,\"rowspan\")&&parseInt(a.dom.getAttribute(d,\"rowspan\"),10)>1))return[d]}return!1}}}(wysihtml5),function(a){a.commands.addTableCells={exec:function(b,c,d){if(b.tableSelection&&b.tableSelection.start&&b.tableSelection.end){var e=a.dom.table.orderSelectionEnds(b.tableSelection.start,b.tableSelection.end);\"before\"==d||\"above\"==d?a.dom.table.addCells(e.start,d):(\"after\"==d||\"below\"==d)&&a.dom.table.addCells(e.end,d),setTimeout(function(){b.tableSelection.select(e.start,e.end)},0)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.deleteTableCells={exec:function(b,c,d){if(b.tableSelection&&b.tableSelection.start&&b.tableSelection.end){var e,f=a.dom.table.orderSelectionEnds(b.tableSelection.start,b.tableSelection.end),g=a.dom.table.indexOf(f.start),h=b.tableSelection.table;a.dom.table.removeCells(f.start,d),setTimeout(function(){e=a.dom.table.findCell(h,g),e||(\"row\"==d&&(e=a.dom.table.findCell(h,{row:g.row-1,col:g.col})),\"column\"==d&&(e=a.dom.table.findCell(h,{row:g.row,col:g.col-1}))),e&&b.tableSelection.select(e,e)},0)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.indentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag(\"LI\");return d?this.tryToPushLiLevel(d,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(b,c){var d,e,f,g,h,i=!1;return c.executeAndRestoreRangy(function(){for(var c=b.length;c--;)g=b[c],d=\"OL\"===g.parentNode.nodeName?\"OL\":\"UL\",e=g.ownerDocument.createElement(d),f=a.dom.domNode(g).prev({nodeTypes:[a.ELEMENT_NODE]}),h=f?f.querySelector(\"ul, ol\"):null,f&&(h?h.appendChild(g):(e.appendChild(g),f.appendChild(e)),i=!0)}),i}}}(wysihtml5),function(a){a.commands.outdentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag(\"LI\");return d?this.tryToPullLiLevel(d,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(b,c){var d,e,f,g,h,i=!1,j=this;return c.selection.executeAndRestoreRangy(function(){for(var k=b.length;k--;)if(g=b[k],g.parentNode&&(d=g.parentNode,\"OL\"===d.tagName||\"UL\"===d.tagName)){if(i=!0,e=a.dom.getParentElement(d.parentNode,{query:\"ol, ul\"},!1,c.element),f=a.dom.getParentElement(d.parentNode,{query:\"li\"},!1,c.element),e&&f)g.nextSibling&&(h=j.getAfterList(d,g),g.appendChild(h)),e.insertBefore(g,f.nextSibling);else{g.nextSibling&&(h=j.getAfterList(d,g),g.appendChild(h));for(var l=g.childNodes.length;l--;)d.parentNode.insertBefore(g.childNodes[l],d.nextSibling);d.parentNode.insertBefore(document.createElement(\"br\"),d.nextSibling),g.parentNode.removeChild(g)}0===d.childNodes.length&&d.parentNode.removeChild(d)}}),i},getAfterList:function(a,b){for(var c=a.nodeName,d=document.createElement(c);b.nextSibling;)d.appendChild(b.nextSibling);return d}}}(wysihtml5),function(a){var b={nodeName:\"SUB\",toggle:!0};a.commands.subscript={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b={nodeName:\"SUP\",toggle:!0};a.commands.superscript={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b=90,c=89,d=8,e=46,f=25,g=\"data-wysihtml5-selection-node\",h=\"data-wysihtml5-selection-offset\",i=('<span id=\"_wysihtml5-undo\" class=\"_wysihtml5-temp\">'+a.INVISIBLE_SPACE+\"</span>\",'<span id=\"_wysihtml5-redo\" class=\"_wysihtml5-temp\">'+a.INVISIBLE_SPACE+\"</span>\",a.dom);a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var a,f=this;this.composer.sandbox.getDocument();i.observe(this.element,\"keydown\",function(a){if(!a.altKey&&(a.ctrlKey||a.metaKey)){var d=a.keyCode,e=d===b&&!a.shiftKey,g=d===b&&a.shiftKey||d===c;e?(f.undo(),a.preventDefault()):g&&(f.redo(),a.preventDefault())}}),i.observe(this.element,\"keydown\",function(b){var c=b.keyCode;c!==a&&(a=c,(c===d||c===e)&&f.transact())}),this.editor.on(\"newword:composer\",function(){f.transact()}).on(\"beforecommand:composer\",function(){f.transact()})},transact:function(){var b,c,d,e,i,j=this.historyStr[this.position-1],k=this.composer.getValue(!1,!1),l=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(k!==j){var m=this.historyStr.length=this.historyDom.length=this.position;m>f&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,l&&(b=this.composer.selection.getRange(),c=b&&b.startContainer?b.startContainer:this.element,d=b&&b.startOffset?b.startOffset:0,c.nodeType===a.ELEMENT_NODE?e=c:(e=c.parentNode,i=this.getChildNodeIndex(e,c)),e.setAttribute(h,d),\"undefined\"!=typeof i&&e.setAttribute(g,i));var n=this.element.cloneNode(!!k);this.historyDom.push(n),this.historyStr.push(k),e&&(e.removeAttribute(h),e.removeAttribute(g))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire(\"undo:composer\"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire(\"redo:composer\"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML=\"\";for(var b=0,c=a.childNodes,d=a.childNodes.length;d>b;b++)this.element.appendChild(c[b].cloneNode(!0));var e,f,i;a.hasAttribute(h)?(e=a.getAttribute(h),i=a.getAttribute(g),f=this.element):(f=this.element.querySelector(\"[\"+h+\"]\")||this.element,e=f.getAttribute(h),i=f.getAttribute(g),f.removeAttribute(h),f.removeAttribute(g)),null!==i&&(f=this.getChildNodeByIndex(f,+i)),this.composer.selection.set(f,e)},getChildNodeIndex:function(a,b){for(var c=0,d=a.childNodes,e=d.length;e>c;c++)if(d[c]===b)return c},getChildNodeByIndex:function(a,b){return a.childNodes[b]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(a,b,c){this.parent=a,this.element=b,this.config=c,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on(\"beforeload\",function(){a.parent.on(\"change_view\",function(b){b===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(\":focus\")!==this.element)try{this.element&&this.element.focus()}catch(a){}},hide:function(){this.element.style.display=\"none\"},show:function(){this.element.style.display=\"\"},disable:function(){this.element.setAttribute(\"disabled\",\"disabled\")},enable:function(){this.element.removeAttribute(\"disabled\")}}),function(a){var b=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:\"composer\",constructor:function(a,b,c){this.base(a,b,c),this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?\"\":\"<br>\"},getValue:function(b,c){var d=this.isEmpty()?\"\":a.quirks.getCorrectInnerHTML(this.element);return b!==!1&&(d=this.parent.parse(d,c===!1?!1:!0)),d},setValue:function(a,b){b!==!1&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(c){this.element.innerText=a}},cleanUp:function(a){var b;this.selection&&this.selection.isInThisEditable()&&(b=rangy.saveSelection(this.win)),this.parent.parse(this.element,void 0,a),b&&rangy.restoreSelection(b)},show:function(){this.editableArea.style.display=this._displayStyle||\"\",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=b.getStyle(\"display\").from(this.editableArea),\"none\"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display=\"none\"},disable:function(){this.parent.fire(\"disable:composer\"),this.element.removeAttribute(\"contentEditable\")},enable:function(){this.parent.fire(\"enable:composer\"),this.element.setAttribute(\"contentEditable\",\"true\")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var c=this.element.lastChild;b&&c&&this.selection&&(\"BR\"===c.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};return\"undefined\"!=typeof this.win.pageYOffset?a.y=this.win.pageYOffset:a.y=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop,\"undefined\"!=typeof this.win.pageXOffset?a.x=this.win.pageXOffset:a.x=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft,a}},setScrollPos:function(a){a&&\"undefined\"!=typeof a.x&&\"undefined\"!=typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute(\"data-placeholder\"):this.textarea.element.getAttribute(\"placeholder\"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\\s|<br>|<\\/br>|<p>|<\\/p>)*$/i.test(a)||\"\"===a||\"<br>\"===a||\"<p></p>\"===a||\"<p><br></p>\"===a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new b.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new b.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),b.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=this;this.sandbox=new b.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getIframe();var c=this.textarea.element;b.insert(this.editableArea).after(c),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement(\"input\");a.type=\"hidden\",a.name=\"_wysihtml5_mode\",a.value=1,b.insert(a).after(this.textarea.element)}},_create:function(){var d=this;this.doc=this.sandbox.getDocument(),this.win=this.sandbox.getWindow(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer),this.commands=new a.Commands(this.parent),this.config.noTextarea||b.copyAttributes([\"className\",\"spellcheck\",\"title\",\"lang\",\"dir\",\"accessKey\"]).from(this.textarea.element).to(this.element),this._initAutoLinking(),b.addClass(this.element,this.config.classNames.composer),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var e=this.config.name;e&&(b.addClass(this.element,e),this.config.contentEditableMode||b.addClass(this.editableArea,e)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var f=\"string\"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute(\"data-placeholder\"):this.textarea.element.getAttribute(\"placeholder\");f&&b.simulatePlaceholder(this.parent,this,f,this.config.classNames.placeholder),this.commands.exec(\"styleWithCSS\",!1),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute(\"autofocus\")&&document.querySelector(\":focus\")!=this.textarea.element||c.isIos()||setTimeout(function(){d.focus(!0)},100),c.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire(\"beforeload\").fire(\"load\")},_initAutoLinking:function(){var d=this,e=c.canDisableAutoLinking(),f=c.doesAutoLinkingInContentEditable();if(e&&this.commands.exec(\"AutoUrlDetect\",!1,!1),this.config.autoLink){(!f||f&&e)&&(this.parent.on(\"newword:composer\",function(){if(b.getTextContent(d.element).match(b.autoLink.URL_REG_EXP)){for(var c=d.selection.getSelectedNode(),e=d.element.querySelectorAll(\".\"+d.config.classNames.uneditableContainer),f=!1,g=e.length;g--;)a.dom.contains(e[g],c)&&(f=!0);f||b.autoLink(c,[d.config.classNames.uneditableContainer])}}),b.observe(this.element,\"blur\",function(){b.autoLink(d.element,[d.config.classNames.uneditableContainer])}));var g=this.sandbox.getDocument().getElementsByTagName(\"a\"),h=b.autoLink.URL_REG_EXP,i=function(c){var d=a.lang.string(b.getTextContent(c)).trim();return\"www.\"===d.substr(0,4)&&(d=\"http://\"+d),d};b.observe(this.element,\"keydown\",function(a){if(g.length){var c,e=d.selection.getSelectedNode(a.target.ownerDocument),f=b.getParentElement(e,{query:\"a\"},4);f&&(c=i(f),setTimeout(function(){var a=i(f);a!==c&&a.match(h)&&f.setAttribute(\"href\",a)},0))}})}},_initObjectResizing:function(){if(this.commands.exec(\"enableObjectResizing\",!0),c.supportsEvent(\"resizeend\")){var d=[\"width\",\"height\"],e=d.length,f=this.element;b.observe(f,\"resizeend\",function(b){var c,g=b.target||b.srcElement,h=g.style,i=0;if(\"IMG\"===g.nodeName){for(;e>i;i++)c=d[i],h[c]&&(g.setAttribute(c,parseInt(h[c],10)),h[c]=\"\");a.quirks.redraw(f)}})}},_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function d(a){var c=b.getParentElement(a,{query:\"p, div\"},2);c&&b.contains(e.element,c)&&e.selection.executeAndRestore(function(){e.config.useLineBreaks?b.replaceWithChildNodes(c):\"P\"!==c.nodeName&&b.renameElement(c,\"p\")})}var e=this,f=\"li, p, h1, h2, h3, h4, h5, h6\",g=\"ul, ol, menu\";this.config.useLineBreaks||b.observe(this.element,[\"focus\",\"keydown\"],function(){if(e.isEmpty()){var a=e.doc.createElement(\"P\");e.element.innerHTML=\"\",e.element.appendChild(a),c.displaysCaretInEmptyContentEditableCorrectly()?e.selection.selectNode(a,!0):(a.innerHTML=\"<br>\",e.selection.setBefore(a.firstChild))}}),b.observe(this.element,\"keydown\",function(c){var h=c.keyCode;if(!c.shiftKey&&(h===a.ENTER_KEY||h===a.BACKSPACE_KEY)){var i=b.getParentElement(e.selection.getSelectedNode(),{query:f},4);return i?void setTimeout(function(){var c,f=e.selection.getSelectedNode();if(\"LI\"===i.nodeName){if(!f)return;c=b.getParentElement(f,{query:g},2),c||d(f)}h===a.ENTER_KEY&&i.nodeName.match(/^H[1-6]$/)&&d(f)},0):void(e.config.useLineBreaks&&h===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(c.preventDefault(),e.commands.exec(\"insertLineBreak\")))}})}})}(wysihtml5),function(a){var b=a.dom,c=document,d=window,e=c.createElement(\"div\"),f=[\"background-color\",\"color\",\"cursor\",\"font-family\",\"font-size\",\"font-style\",\"font-variant\",\"font-weight\",\"line-height\",\"letter-spacing\",\"text-align\",\"text-decoration\",\"text-indent\",\"text-rendering\",\"word-break\",\"word-wrap\",\"word-spacing\"],g=[\"background-color\",\"border-collapse\",\"border-bottom-color\",\"border-bottom-style\",\"border-bottom-width\",\"border-left-color\",\"border-left-style\",\"border-left-width\",\"border-right-color\",\"border-right-style\",\"border-right-width\",\"border-top-color\",\"border-top-style\",\"border-top-width\",\"clear\",\"display\",\"float\",\"margin-bottom\",\"margin-left\",\"margin-right\",\"margin-top\",\"outline-color\",\"outline-offset\",\"outline-width\",\"outline-style\",\"padding-left\",\"padding-right\",\"padding-top\",\"padding-bottom\",\"position\",\"top\",\"left\",\"right\",\"bottom\",\"z-index\",\"vertical-align\",\"text-align\",\"-webkit-box-sizing\",\"-moz-box-sizing\",\"-ms-box-sizing\",\"box-sizing\",\"-webkit-box-shadow\",\"-moz-box-shadow\",\"-ms-box-shadow\",\"box-shadow\",\"-webkit-border-top-right-radius\",\"-moz-border-radius-topright\",\"border-top-right-radius\",\"-webkit-border-bottom-right-radius\",\"-moz-border-radius-bottomright\",\"border-bottom-right-radius\",\"-webkit-border-bottom-left-radius\",\"-moz-border-radius-bottomleft\",\"border-bottom-left-radius\",\"-webkit-border-top-left-radius\",\"-moz-border-radius-topleft\",\"border-top-left-radius\",\"width\",\"height\"],h=[\"html                 { height: 100%; }\",\"body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }\",\"body > p:first-child { margin-top: 0; }\",\"._wysihtml5-temp     { display: none; }\",a.browser.isGecko?\"body.placeholder { color: graytext !important; }\":\"body.placeholder { color: #a9a9a9 !important; }\",\"img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }\"],i=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.scrollLeft||c.body.scrollLeft,i={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};b.setStyles({position:\"absolute\",top:\"-99999px\",left:\"-99999px\",WebkitUserSelect:\"none\"}).on(a),a.focus(),b.setStyles(i).on(a),d.scrollTo&&d.scrollTo(h,g)}};a.views.Composer.prototype.style=function(){var d,j=this,k=c.querySelector(\":focus\"),l=this.textarea.element,m=l.hasAttribute(\"placeholder\"),n=m&&l.getAttribute(\"placeholder\"),o=l.style.display,p=l.disabled;this.focusStylesHost=e.cloneNode(!1),this.blurStylesHost=e.cloneNode(!1),this.disabledStylesHost=e.cloneNode(!1),m&&l.removeAttribute(\"placeholder\"),l===k&&l.blur(),l.disabled=!1,l.style.display=d=\"none\",(l.getAttribute(\"rows\")&&\"auto\"===b.getStyle(\"height\").from(l)||l.getAttribute(\"cols\")&&\"auto\"===b.getStyle(\"width\").from(l))&&(l.style.display=d=o),b.copyStyles(g).from(l).to(this.editableArea).andTo(this.blurStylesHost),b.copyStyles(f).from(l).to(this.element).andTo(this.blurStylesHost),b.insertCSS(h).into(this.element.ownerDocument),l.disabled=!0,b.copyStyles(g).from(l).to(this.disabledStylesHost),b.copyStyles(f).from(l).to(this.disabledStylesHost),l.disabled=p,l.style.display=o,i(l),l.style.display=d,b.copyStyles(g).from(l).to(this.focusStylesHost),b.copyStyles(f).from(l).to(this.focusStylesHost),l.style.display=o,b.copyStyles([\"display\"]).from(l).to(this.editableArea);var q=a.lang.array(g).without([\"display\"]);return k?k.focus():l.blur(),m&&l.setAttribute(\"placeholder\",n),this.parent.on(\"focus:composer\",function(){b.copyStyles(q).from(j.focusStylesHost).to(j.editableArea),b.copyStyles(f).from(j.focusStylesHost).to(j.element)}),this.parent.on(\"blur:composer\",function(){b.copyStyles(q).from(j.blurStylesHost).to(j.editableArea),b.copyStyles(f).from(j.blurStylesHost).to(j.element)}),this.parent.observe(\"disable:composer\",function(){b.copyStyles(q).from(j.disabledStylesHost).to(j.editableArea),b.copyStyles(f).from(j.disabledStylesHost).to(j.element)}),this.parent.observe(\"enable:composer\",function(){b.copyStyles(q).from(j.blurStylesHost).to(j.editableArea),b.copyStyles(f).from(j.blurStylesHost).to(j.element)}),this}}(wysihtml5),function(a){var b=a.dom,c=a.browser,d={66:\"bold\",73:\"italic\",85:\"underline\"},e=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a.addEventListener(b[d],c,!1)},f=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a.removeEventListener(b[d],c,!1)},g=function(b,c){if(b.selection.caretIsLastInSelection()){var d=b.selection.getSelection(),e=d.anchorNode;if(e&&1===e.nodeType&&(a.dom.getParentElement(e,{query:\"td, th\"},!1,b.element)||c)){var f=e.childNodes[d.anchorOffset];if(f&&1===f.nodeType&\"BR\"===f.nodeName)return f.parentNode.removeChild(f),!0}}return!1},h=function(a){var b=a.selection.getBeforeSelection(!0);if(b&&(\"element\"===b.type||\"leafnode\"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(g(a,!0))return!0;try{var c=new CustomEvent(\"wysihtml5:uneditable:delete\");b.node.dispatchEvent(c)}catch(d){}return b.node.parentNode.removeChild(b.node),!0}return!1},i=function(b){var c=b.selection,d=c.getPreviousNode();if(c.caretIsFirstInSelection()&&d&&1===d.nodeType&&/block/.test(b.win.getComputedStyle(d).display)){if(/^\\s*$/.test(d.textContent||d.innerText))return d.parentNode.removeChild(d),!0;if(d.lastChild){var e=d.lastChild,f=c.getSelectedNode(),g=a.dom.domNode(d).commonAncestor(f,b.element);if(curNode=g?a.dom.getParentElement(f,{query:\"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote\"},!1,g):null,curNode){for(;curNode.firstChild;)d.appendChild(curNode.firstChild);return c.setAfter(e),!0}if(3===f.nodeType)return d.appendChild(f),c.setAfter(e),!0}}return!1},j=function(a,b){var c=b.selection;b.element;if(c.isCollapsed()){if(i(b))return void a.preventDefault();if(g(b))return void a.preventDefault();if(h(b))return void a.preventDefault()}else c.containsUneditable()&&(a.preventDefault(),c.deleteContents())},k=function(a,b,c){if(a.selection.isCollapsed()){if(a.selection.caretIsInTheBeginnig(\"li\"))if(c){if(a.commands.exec(\"outdentList\"))return}else if(a.commands.exec(\"indentList\"))return}else a.selection.deleteContents();a.commands.exec(\"insertHTML\",\"&emsp;\")},l=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval),this.parent.fire(\"destroy:composer\")},m=function(a){this.parent.fire(\"beforeinteraction\",a).fire(\"beforeinteraction:composer\",a),setTimeout(function(){this.parent.fire(\"interaction\",a).fire(\"interaction:composer\",a)}.bind(this),0)},n=function(a){this.parent.fire(\"focus\",a).fire(\"focus:composer\",a),setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},o=function(a){if(this.focusState!==this.getValue(!1,!1)){var b=a;\"function\"==typeof Object.create&&(b=Object.create(a,{type:{value:\"change\"}})),this.parent.fire(\"change\",b).fire(\"change:composer\",b)}this.parent.fire(\"blur\",a).fire(\"blur:composer\",a)},p=function(a){this.parent.fire(a.type,a).fire(a.type+\":composer\",a),\"paste\"===a.type&&setTimeout(function(){this.parent.fire(\"newword:composer\")}.bind(this),0)},q=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData(\"text/html\",this.config.copyedFromMarking+this.selection.getHtml()),b.clipboardData.setData(\"text/plain\",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+\":composer\",b))},r=function(b){var c=b.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&&this.parent.fire(\"newword:composer\")},s=function(b){if(!c.canSelectImagesInContentEditable()){var d=b.target,e=this.element.querySelectorAll(\"img\"),f=this.element.querySelectorAll(\".\"+this.config.classNames.uneditableContainer+\" img\"),g=a.lang.array(e).without(f);\"IMG\"===d.nodeName&&a.lang.array(g).contains(d)&&this.selection.selectNode(d)}},t=function(a){var b,c={IMG:\"Image: \",A:\"Link: \"},d=a.target,e=d.nodeName;(\"A\"===e||\"IMG\"===e)&&(d.hasAttribute(\"title\")||(b=c[e]+(d.getAttribute(\"href\")||d.getAttribute(\"src\")),d.setAttribute(\"title\",b)))},u=function(b){if(this.config.classNames.uneditableContainer){var c=a.dom.getParentElement(b.target,{query:\".\"+this.config.classNames.uneditableContainer},!1,this.element);c&&this.selection.setAfter(c)}},v=function(a){c.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},w=function(b){var c,e,f=b.keyCode,g=d[f];return!b.ctrlKey&&!b.metaKey||b.altKey||65!==f?((b.ctrlKey||b.metaKey)&&!b.altKey&&g&&(this.commands.exec(g),b.preventDefault()),f===a.BACKSPACE_KEY&&j(b,this),(f===a.BACKSPACE_KEY||f===a.DELETE_KEY)&&(c=this.selection.getSelectedNode(!0),c&&\"IMG\"===c.nodeName&&(b.preventDefault(),e=c.parentNode,e.removeChild(c),\"A\"!==e.nodeName||e.firstChild||e.parentNode.removeChild(e),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0))),void(this.config.handleTabKey&&f===a.TAB_KEY&&(b.preventDefault(),k(this,this.element,b.shiftKey)))):(this.selection.selectAll(),void b.preventDefault())},x=function(){var b=function(){window.removeEventListener(\"load\",b),this.doc.execCommand(\"enableObjectResizing\",!1,\"false\"),this.doc.execCommand(\"enableInlineTableEditing\",!1,\"false\")}.bind(this),c=function(){b.call(this),f(this.sandbox.getIframe(),[\"focus\",\"mouseup\",\"mouseover\"],c)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,\"enableObjectResizing\")&&a.browser.supportsCommand(this.doc,\"enableInlineTableEditing\")&&(this.sandbox.getIframe?e(this.sandbox.getIframe(),[\"focus\",\"mouseup\",\"mouseover\"],c):window.addEventListener(\"load\",b)),this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)};a.views.Composer.prototype.observe=function(){var a=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),d=(this.element,c.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow());this.focusState=this.getValue(!1,!1),a.addEventListener([\"DOMNodeRemoved\"],l.bind(this),!1),c.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){b.contains(document.documentElement,a)||l.call(this)},250)),this.config.handleTables&&x.call(this),e(d,[\"drop\",\"paste\",\"mouseup\",\"focus\",\"keyup\"],m.bind(this)),d.addEventListener(\"focus\",n.bind(this),!1),d.addEventListener(\"blur\",o.bind(this),!1),e(this.element,[\"drop\",\"paste\",\"beforepaste\"],p.bind(this),!1),this.element.addEventListener(\"copy\",q.bind(this),!1),this.element.addEventListener(\"mousedown\",s.bind(this),!1),this.element.addEventListener(\"mouseover\",t.bind(this),!1),this.element.addEventListener(\"click\",u.bind(this),!1),this.element.addEventListener(\"drop\",v.bind(this),!1),this.element.addEventListener(\"keyup\",r.bind(this),!1),this.element.addEventListener(\"keydown\",w.bind(this),!1),this.element.addEventListener(\"dragenter\",function(){this.parent.fire(\"unset_placeholder\")}.bind(this),!1)}}(wysihtml5),function(a){var b=400;a.views.Synchronizer=Base.extend({constructor:function(a,b,c){this.editor=a,this.textarea=b,this.composer=c,this._observe()},fromComposerToTextarea:function(b){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),b)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(\"set_placeholder\"))},sync:function(a){\"textarea\"===this.editor.currentView.name?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},_observe:function(){var c,d=this,e=this.textarea.element.form,f=function(){c=setInterval(function(){d.fromComposerToTextarea()},b)},g=function(){clearInterval(c),c=null};f(),e&&(a.dom.observe(e,\"submit\",function(){d.sync(!0)}),a.dom.observe(e,\"reset\",function(){setTimeout(function(){d.fromTextareaToComposer()},0)})),this.editor.on(\"change_view\",function(a){\"composer\"!==a||c?\"textarea\"===a&&(d.fromComposerToTextarea(!0),g()):(d.fromTextareaToComposer(!0),f())}),this.editor.on(\"destroy:composer\",g)}})}(wysihtml5),function(a){a.views.SourceView=Base.extend({constructor:function(a,b){this.editor=a,this.composer=b,this._observe()},switchToTextarea:function(a){var b=this.composer.win.getComputedStyle(this.composer.element),c=parseFloat(b.width),d=Math.max(parseFloat(b.height),100);this.textarea||(this.textarea=this.composer.doc.createElement(\"textarea\"),this.textarea.className=\"wysihtml5-source-view\"),this.textarea.style.width=c+\"px\",this.textarea.style.height=d+\"px\",this.textarea.value=this.editor.getValue(a,!0),this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element),this.editor.currentView=\"source\",this.composer.element.style.display=\"none\"},switchToComposer:function(a){var b=this.textarea.value;b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(\"set_placeholder\")),this.textarea.parentNode.removeChild(this.textarea),this.editor.currentView=this.composer,this.composer.element.style.display=\"\"},_observe:function(){this.editor.on(\"change_view\",function(a){\"composer\"===a?this.switchToComposer(!0):\"textarea\"===a&&this.switchToTextarea(!0)}.bind(this))}})}(wysihtml5),\nwysihtml5.views.Textarea=wysihtml5.views.View.extend({name:\"textarea\",constructor:function(a,b,c){this.base(a,b,c),this._observe()},clear:function(){this.element.value=\"\"},getValue:function(a){var b=this.isEmpty()?\"\":this.element.value;return a!==!1&&(b=this.parent.parse(b)),b},setValue:function(a,b){b!==!1&&(a=this.parent.parse(a)),this.element.value=a},cleanUp:function(a){var b=this.parent.parse(this.element.value,void 0,a);this.element.value=b},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),b=this.element.getAttribute(\"placeholder\")||null,c=this.element.value,d=!c;return a&&d||c===b},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,b=this.parent,c={focusin:\"focus\",focusout:\"blur\"},d=wysihtml5.browser.supportsEvent(\"focusin\")?[\"focusin\",\"focusout\",\"change\"]:[\"focus\",\"blur\",\"change\"];b.on(\"beforeload\",function(){wysihtml5.dom.observe(a,d,function(a){var d=c[a.type]||a.type;b.fire(d).fire(d+\":textarea\")}),wysihtml5.dom.observe(a,[\"paste\",\"drop\"],function(){setTimeout(function(){b.fire(\"paste\").fire(\"paste:textarea\")},0)})})}}),function(a){var b,c={name:b,style:!0,toolbar:b,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,stylesheets:[],placeholderText:b,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:\"wysihtml5-editor\",body:\"wysihtml5-supported\",sandbox:\"wysihtml5-sandbox\",placeholder:\"wysihtml5-placeholder\",uneditableContainer:\"wysihtml5-uneditable-container\"},copyedFromMarking:'<meta name=\"copied-from\" content=\"wysihtml5\">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,d){if(this.editableElement=\"string\"==typeof b?document.getElementById(b):b,this.config=a.lang.object({}).merge(c).merge(d).get(),this._isCompatible=a.browser.supported(),d&&d.classNames&&a.lang.object(this.config.classNames).merge(d.classNames),\"textarea\"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new a.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var e=this;return void setTimeout(function(){e.fire(\"beforeload\").fire(\"load\")},0)}a.dom.addClass(document.body,this.config.classNames.body),this.composer=new a.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,\"function\"==typeof this.config.parser&&this._initParser(),this.on(\"beforeload\",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(a,b){return this.currentView.getValue(a,b)},setValue:function(a,b){return this.fire(\"unset_placeholder\"),a?(this.currentView.setValue(a,b),this):this.clear()},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){return this.currentView.focus(a),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy(),this.toolbar&&this.toolbar.destroy(),this.off()},parse:function(b,c,d){var e=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,f=this.config.parser(b,{rules:d||this.config.parserRules,cleanUp:this.config.cleanUp,context:e,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:c});return\"object\"==typeof b&&a.quirks.redraw(b),f},_initParser:function(){var b;a.browser.supportsModernPaste()?this.on(\"paste:composer\",function(c){c.preventDefault(),b=a.dom.getPastedHtml(c),b&&this._cleanAndPaste(b)}.bind(this)):this.on(\"beforepaste:composer\",function(b){b.preventDefault();var c=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a),this.composer.setScrollPos(c)}.bind(this))}.bind(this))},_cleanAndPaste:function(b){var c=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(c)}})}(wysihtml5),function(a){var b=a.dom,c=\"wysihtml5-command-dialog-opened\",d=\"input, select, textarea\",e=\"[data-wysihtml5-dialog-field]\",f=\"data-wysihtml5-dialog-field\";a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a,this.container=b},_observe:function(){if(!this._observed){var d=this,e=function(a){var b=d._serialize();d.fire(\"save\",b),d.hide(),a.preventDefault(),a.stopPropagation()};b.observe(d.link,\"click\",function(){b.hasClass(d.link,c)&&setTimeout(function(){d.hide()},0)}),b.observe(this.container,\"keydown\",function(b){var c=b.keyCode;c===a.ENTER_KEY&&e(b),c===a.ESCAPE_KEY&&d.cancel()}),b.delegate(this.container,\"[data-wysihtml5-dialog-action=save]\",\"click\",e),b.delegate(this.container,\"[data-wysihtml5-dialog-action=cancel]\",\"click\",function(a){d.cancel(),a.preventDefault(),a.stopPropagation()}),this._observed=!0}},_serialize:function(){for(var a={},b=this.container.querySelectorAll(e),c=b.length,d=0;c>d;d++)a[b[d].getAttribute(f)]=b[d].value;return a},_interpolate:function(a){for(var b,c,d,g=document.querySelector(\":focus\"),h=this.container.querySelectorAll(e),i=h.length,j=0;i>j;j++)b=h[j],b!==g&&(a&&\"hidden\"===b.type||(c=b.getAttribute(f),d=this.elementToChange&&\"boolean\"!=typeof this.elementToChange?this.elementToChange.getAttribute(c)||\"\":b.defaultValue,b.value=d))},update:function(a){this.elementToChange=a?a:this.elementToChange,this._interpolate()},show:function(a){var e=this.container.querySelector(d);if(this._observe(),this.update(a),b.addClass(this.link,c),this.container.style.display=\"\",this.isOpen=!0,this.fire(\"show\"),e&&!a)try{e.focus()}catch(f){}},_hide:function(a){this.elementToChange=null,b.removeClass(this.link,c),this.container.style.display=\"none\",this.isOpen=!1},hide:function(){this._hide(),this.fire(\"hide\")},cancel:function(){this._hide(),this.fire(\"cancel\")}})}(wysihtml5),function(a){var b=a.dom,c={position:\"relative\"},d={left:0,margin:0,opacity:0,overflow:\"hidden\",padding:0,position:\"absolute\",top:0,zIndex:1},e={cursor:\"inherit\",fontSize:\"50px\",height:\"50px\",marginTop:\"-25px\",outline:0,padding:0,position:\"absolute\",right:\"-4px\",top:\"50%\"},f={\"x-webkit-speech\":\"\",speech:\"\"};a.toolbar.Speech=function(g,h){var i=document.createElement(\"input\");if(!a.browser.supportsSpeechApiOn(i))return void(h.style.display=\"none\");var j=g.editor.textarea.element.getAttribute(\"lang\");j&&(f.lang=j);var k=document.createElement(\"div\");a.lang.object(d).merge({width:h.offsetWidth+\"px\",height:h.offsetHeight+\"px\"}),b.insert(i).into(k),b.insert(k).into(h),b.setStyles(e).on(i),b.setAttributes(f).on(i),b.setStyles(d).on(k),b.setStyles(c).on(h);var l=\"onwebkitspeechchange\"in i?\"webkitspeechchange\":\"speechchange\";b.observe(i,l,function(){g.execCommand(\"insertText\",i.value),i.value=\"\"}),b.observe(i,\"click\",function(a){b.hasClass(h,\"wysihtml5-command-disabled\")&&a.preventDefault(),a.stopPropagation()})}}(wysihtml5),function(a){function b(b,c){var d=b.commands.state(c.name,c.value);return!c.dialog.multiselect&&a.lang.object(d).isArray()&&(d=1===d.length?d[0]:!0),d}var c=\"wysihtml5-command-disabled\",d=\"wysihtml5-commands-disabled\",e=\"wysihtml5-command-active\",f=\"wysihtml5-action-active\",g=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(b,g,h){this.editor=b,this.container=\"string\"==typeof g?document.getElementById(g):g,this.composer=b.composer,this._getLinks(\"command\"),this._getLinks(\"action\"),this._observe(),h&&this.show(),null!=b.config.classNameCommandDisabled&&(c=b.config.classNameCommandDisabled),null!=b.config.classNameCommandsDisabled&&(d=b.config.classNameCommandsDisabled),null!=b.config.classNameCommandActive&&(e=b.config.classNameCommandActive),null!=b.config.classNameActionActive&&(f=b.config.classNameActionActive);for(var i=this.container.querySelectorAll(\"[data-wysihtml5-command=insertSpeech]\"),j=i.length,k=0;j>k;k++)new a.toolbar.Speech(this,i[k])},_getLinks:function(b){for(var c,d,e,f,g,h,i=this[b+\"Links\"]=a.lang.array(this.container.querySelectorAll(\"[data-wysihtml5-\"+b+\"]\")).get(),j=i.length,k=0,l=this[b+\"Mapping\"]={};j>k;k++)c=i[k],e=c.getAttribute(\"data-wysihtml5-\"+b),f=c.getAttribute(\"data-wysihtml5-\"+b+\"-value\"),h=c.getAttribute(\"data-wysihtml5-\"+b+\"-blank-value\"),d=this.container.querySelector(\"[data-wysihtml5-\"+b+\"-group='\"+e+\"']\"),g=this._getDialog(c,e),l[e+\":\"+f]={link:c,group:d,name:e,value:f,tracksBlankValue:h,dialog:g,state:!1}},_getDialog:function(b,c){var d,e,f=this,g=this.container.querySelector(\"[data-wysihtml5-dialog='\"+c+\"']\");return g&&(d=a.toolbar[\"Dialog_\"+c]?new a.toolbar[\"Dialog_\"+c](b,g):new a.toolbar.Dialog(b,g),d.on(\"show\",function(){e=f.composer.selection.getBookmark(),f.editor.fire(\"show:dialog\",{command:c,dialogContainer:g,commandLink:b})}),d.on(\"save\",function(a){e&&f.composer.selection.setBookmark(e),f._execCommand(c,a),f.editor.fire(\"save:dialog\",{command:c,dialogContainer:g,commandLink:b}),f._hideAllDialogs(),f._preventInstantFocus(),e=void 0}),d.on(\"cancel\",function(){e&&f.composer.selection.setBookmark(e),f.editor.fire(\"cancel:dialog\",{command:c,dialogContainer:g,commandLink:b}),e=void 0,f._preventInstantFocus()}),d.on(\"hide\",function(){f.editor.fire(\"hide:dialog\",{command:c,dialogContainer:g,commandLink:b}),e=void 0})),d},execCommand:function(a,b){this.commandsDisabled||this._execCommand(a,b)},_execCommand:function(a,b){this.editor.focus(!1),this.composer.commands.exec(a,b),this._updateLinkStates()},execAction:function(a){var b=this.editor;\"change_view\"===a&&(b.currentView===b.textarea||\"source\"===b.currentView?b.fire(\"change_view\",\"composer\"):b.fire(\"change_view\",\"textarea\")),\"showSource\"==a&&b.fire(\"showSource\")},_observe:function(){for(var c=this,e=this.editor,f=this.container,h=this.commandLinks.concat(this.actionLinks),i=h.length,j=0;i>j;j++)\"A\"===h[j].nodeName?g.setAttributes({href:\"javascript:;\",unselectable:\"on\"}).on(h[j]):g.setAttributes({unselectable:\"on\"}).on(h[j]);g.delegate(f,\"[data-wysihtml5-command], [data-wysihtml5-action]\",\"mousedown\",function(a){a.preventDefault()}),g.delegate(f,\"[data-wysihtml5-command]\",\"click\",function(a){var d,e=this,f=e.getAttribute(\"data-wysihtml5-command\"),g=e.getAttribute(\"data-wysihtml5-command-value\"),h=c.commandMapping[f+\":\"+g];g||!h.dialog?c.execCommand(f,g):(d=b(c.composer,h),h.dialog.show(d)),a.preventDefault()}),g.delegate(f,\"[data-wysihtml5-action]\",\"click\",function(a){var b=this.getAttribute(\"data-wysihtml5-action\");c.execAction(b),a.preventDefault()}),e.on(\"interaction:composer\",function(a){c.preventFocus||c._updateLinkStates()}),this._ownerDocumentClick=function(b){a.dom.contains(c.container,b.target)||a.dom.contains(c.composer.element,b.target)||(c._updateLinkStates(),c._preventInstantFocus())},this.container.ownerDocument.addEventListener(\"click\",this._ownerDocumentClick,!1),this.editor.on(\"destroy:composer\",this.destroy.bind(this)),this.editor.config.handleTables&&(e.on(\"tableselect:composer\",function(){c.container.querySelectorAll('[data-wysihtml5-hiddentools=\"table\"]')[0].style.display=\"\"}),e.on(\"tableunselect:composer\",function(){c.container.querySelectorAll('[data-wysihtml5-hiddentools=\"table\"]')[0].style.display=\"none\"})),e.on(\"change_view\",function(a){setTimeout(function(){c.commandsDisabled=\"composer\"!==a,c._updateLinkStates(),c.commandsDisabled?g.addClass(f,d):g.removeClass(f,d)},0)})},destroy:function(){this.container.ownerDocument.removeEventListener(\"click\",this._ownerDocumentClick,!1)},_hideAllDialogs:function(){var a=this.commandMapping;for(var b in a)a[b].dialog&&a[b].dialog.hide()},_preventInstantFocus:function(){this.preventFocus=!0,setTimeout(function(){this.preventFocus=!1}.bind(this),0)},_updateLinkStates:function(){var a,d,h,i,j,k=this.commandMapping,l=this.composer,m=this.actionMapping;for(a in k)i=k[a],this.commandsDisabled?(d=!1,g.removeClass(i.link,e),i.group&&g.removeClass(i.group,e),i.dialog&&i.dialog.hide()):(d=this.composer.commands.state(i.name,i.value),g.removeClass(i.link,c),i.group&&g.removeClass(i.group,c)),(i.state!==d||i.tracksBlankValue)&&(i.state=d,d?i.tracksBlankValue?g.removeClass(i.link,e):(g.addClass(i.link,e),i.group&&g.addClass(i.group,e),!i.dialog||\"undefined\"!=typeof i.value&&null!==i.value||(d&&\"object\"==typeof d?(d=b(l,i),i.state=d,j=i.dialog.container.dataset?i.dialog.container.dataset.showdialogonselection:!1,l.config.showToolbarDialogsOnSelection||j?i.dialog.show(d):i.dialog.update(d)):i.dialog.hide())):i.tracksBlankValue?g.addClass(i.link,e):(g.removeClass(i.link,e),i.group&&g.removeClass(i.group,e),i.dialog&&!i.value&&i.dialog.hide()));for(a in m)h=m[a],\"change_view\"===h.name&&(h.state=this.editor.currentView===this.editor.textarea||\"source\"===this.editor.currentView,h.state?g.addClass(h.link,f):g.removeClass(h.link,f))},show:function(){this.container.style.display=\"\"},hide:function(){this.container.style.display=\"none\"}})}(wysihtml5),function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})}(wysihtml5),function(a){var b=\"[data-wysihtml5-dialog-field]\",c=\"data-wysihtml5-dialog-field\";a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var a={},d=this.container.querySelectorAll(b),e=d.length,f=0;e>f;f++)a[d[f].getAttribute(c)]=d[f].value;return a},_interpolate:function(d){for(var e,f,g=a.quirks.styleParser,h=document.querySelector(\":focus\"),i=this.container.querySelectorAll(b),j=i.length,k=0,l=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,m=l?l.getAttribute(\"style\"):null,n=m?g.parseColor(m,\"color\"):null;j>k;k++)e=i[k],e!==h&&(d&&\"hidden\"===e.type||\"color\"===e.getAttribute(c)&&(f=(e.dataset.colormode||\"rgb\").toLowerCase(),f=\"hex\"===f?\"hash\":f,n?e.value=g.unparseColor(n,f):e.value=g.unparseColor([0,0,0],f)))}})}(wysihtml5),function(a){a.dom;a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field=\"size\"]').value}},_interpolate:function(b){var c=document.querySelector(\":focus\"),d=this.container.querySelector(\"[data-wysihtml5-dialog-field='size']\"),e=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,f=e?e.getAttribute(\"style\"):null,g=f?a.quirks.styleParser.parseFontSize(f):null;d&&d!==c&&g&&!/^\\s*$/.test(g)&&(d.value=g)}})}(wysihtml5);\n/**\n * Full HTML5 compatibility rule set\n * Loosened and extended ruleset. Allows more freedom on user side\n * These rules define which tags and CSS classes are supported and which tags should be specially treated.\n */\n\nvar wysihtml5ParserRulesDefaults = {\n    \"blockLevelEl\": {\n        \"keep_styles\": {\n            \"textAlign\": /^((left)|(right)|(center)|(justify))$/i,\n            \"float\": 1\n        },\n        \"add_style\": {\n            \"align\": \"align_text\"\n        },\n        \"check_attributes\": {\n            \"id\": \"any\"\n        }\n    },\n\n    \"makeDiv\": {\n        \"rename_tag\": \"div\",\n        \"one_of_type\": {\n            \"alignment_object\": 1\n        },\n        \"remove_action\": \"unwrap\",\n        \"keep_styles\": {\n            \"textAlign\": 1,\n            \"float\": 1\n        },\n        \"add_style\": {\n            \"align\": \"align_text\"\n        },\n        \"check_attributes\": {\n            \"id\": \"any\"\n        }\n    }\n};\n\nvar wysihtml5ParserRules = {\n    /**\n     * CSS Class white-list\n     * Following CSS classes won't be removed when parsed by the wysihtml5 HTML parser\n     * If all classes should pass \"any\" as classes value. Ex: \"classes\": \"any\"\n     */\n    \"classes\": \"any\",\n\n    /* blacklist of classes is only available if classes is set to any */\n    \"classes_blacklist\": {\n        \"Apple-interchange-newline\": 1,\n        \"MsoNormal\": 1,\n        \"MsoPlainText\": 1\n    },\n\n    \"type_definitions\": {\n\n        \"alignment_object\": {\n            \"classes\": {\n                \"wysiwyg-text-align-center\": 1,\n                \"wysiwyg-text-align-justify\": 1,\n                \"wysiwyg-text-align-left\": 1,\n                \"wysiwyg-text-align-right\": 1,\n                \"wysiwyg-float-left\": 1,\n                \"wysiwyg-float-right\": 1\n            },\n            \"styles\": {\n                \"float\": [\"left\", \"right\"],\n                \"text-align\": [\"left\", \"right\", \"center\"]\n            }\n        },\n\n        \"valid_image_src\": {\n            \"attrs\": {\n                \"src\": /^[^data\\:]/i\n            }\n        },\n\n        \"text_color_object\": {\n          \"styles\": {\n            \"color\": true,\n            \"background-color\": true\n          }\n        },\n\n        \"text_fontsize_object\": {\n          \"styles\": {\n            \"font-size\": false\n          }\n        },\n\n        \"text_formatting_object\": {\n            \"classes\": {\n                \"wysiwyg-color-aqua\": 1,\n                \"wysiwyg-color-black\": 1,\n                \"wysiwyg-color-blue\": 1,\n                \"wysiwyg-color-fuchsia\": 1,\n                \"wysiwyg-color-gray\": 1,\n                \"wysiwyg-color-green\": 1,\n                \"wysiwyg-color-lime\": 1,\n                \"wysiwyg-color-maroon\": 1,\n                \"wysiwyg-color-navy\": 1,\n                \"wysiwyg-color-olive\": 1,\n                \"wysiwyg-color-purple\": 1,\n                \"wysiwyg-color-red\": 1,\n                \"wysiwyg-color-silver\": 1,\n                \"wysiwyg-color-teal\": 1,\n                \"wysiwyg-color-white\": 1,\n                \"wysiwyg-color-yellow\": 1,\n                \"wysiwyg-font-size-large\": 1,\n                \"wysiwyg-font-size-larger\": 1,\n                \"wysiwyg-font-size-medium\": 1,\n                \"wysiwyg-font-size-small\": 1,\n                \"wysiwyg-font-size-smaller\": 1,\n                \"wysiwyg-font-size-x-large\": 1,\n                \"wysiwyg-font-size-x-small\": 1,\n                \"wysiwyg-font-size-xx-large\": 1,\n                \"wysiwyg-font-size-xx-small\": 1,\n                \"wysiwyg-font-size-xx-h1\": 1,\n                \"wysiwyg-font-size-xx-h2\": 1,\n                \"wysiwyg-font-size-xx-h3\": 1,\n                \"wysiwyg-font-size-xx-h4\": 1,\n                \"wysiwyg-font-size-xx-h5\": 1,\n                \"wysiwyg-font-size-xx-h6\": 1,\n                \"wysiwyg-font-size-h6\": 1,\n                \"wysiwyg-font-size-h5\": 1,\n                \"wysiwyg-font-size-h4\": 1,\n                \"wysiwyg-font-size-h3\": 1,\n                \"wysiwyg-font-size-h2\": 1,\n                \"wysiwyg-font-size-h1\": 1\n            }\n        }\n    },\n\n    \"comments\": 1, // if set allows comments to pass\n\n    /**\n     * Tag list\n     *\n     * The following options are available:\n     *\n     *    - add_class:        converts and deletes the given HTML4 attribute (align, clear, ...) via the given method to a css class\n     *                        The following methods are implemented in wysihtml5.dom.parse:\n     *                          - align_text:  converts align attribute values (right/left/center/justify) to their corresponding css class \"wysiwyg-text-align-*\")\n     *                            <p align=\"center\">foo</p> ... becomes ... <p> class=\"wysiwyg-text-align-center\">foo</p>\n     *                          - clear_br:    converts clear attribute values left/right/all/both to their corresponding css class \"wysiwyg-clear-*\"\n     *                            <br clear=\"all\"> ... becomes ... <br class=\"wysiwyg-clear-both\">\n     *                          - align_img:    converts align attribute values (right/left) on <img> to their corresponding css class \"wysiwyg-float-*\"\n     *\n     *    - remove:             removes the element and its content\n     *\n     *    - unwrap              removes element but leaves content\n     *\n     *    - rename_tag:         renames the element to the given tag\n     *\n     *    - set_class:          adds the given class to the element (note: make sure that the class is in the \"classes\" white list above)\n     *\n     *    - set_attributes:     sets/overrides the given attributes\n     *\n     *    - check_attributes:   checks the given HTML attribute via the given method\n     *                            - url:            allows only valid urls (starting with http:// or https://)\n     *                            - src:            allows something like \"/foobar.jpg\", \"http://google.com\", ...\n     *                            - href:           allows something like \"mailto:bert@foo.com\", \"http://google.com\", \"/foobar.jpg\"\n     *                            - alt:            strips unwanted characters. if the attribute is not set, then it gets set (to ensure valid and compatible HTML)\n     *                            - numbers:  ensures that the attribute only contains numeric characters\n     *                            - any:            allows anything to pass\n     */\n    \"tags\": {\n        \"tr\": {\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"strike\": {\n            \"unwrap\": 1\n        },\n        \"form\": {\n            \"unwrap\": 1\n        },\n        \"rt\": {\n            \"rename_tag\": \"span\"\n        },\n        \"code\": {},\n        \"acronym\": {\n            \"rename_tag\": \"span\"\n        },\n        \"br\": {\n            \"add_class\": {\n                \"clear\": \"clear_br\"\n            }\n        },\n        \"details\": {\n            \"unwrap\": 1\n        },\n        \"h4\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"em\": {},\n        \"title\": {\n            \"remove\": 1\n        },\n        \"multicol\": {\n            \"unwrap\": 1\n        },\n        \"figure\": {\n            \"unwrap\": 1\n        },\n        \"xmp\": {\n            \"unwrap\": 1\n        },\n        \"small\": {\n            \"rename_tag\": \"span\",\n            \"set_class\": \"wysiwyg-font-size-smaller\"\n        },\n        \"area\": {\n            \"remove\": 1\n        },\n        \"time\": {\n            \"unwrap\": 1\n        },\n        \"dir\": {\n            \"rename_tag\": \"ul\"\n        },\n        \"bdi\": {\n            \"unwrap\": 1\n        },\n        \"command\": {\n            \"unwrap\": 1\n        },\n        \"ul\": {\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"progress\": {\n            \"rename_tag\": \"span\"\n        },\n        \"dfn\": {\n            \"unwrap\": 1\n        },\n        \"iframe\": {\n            \"check_attributes\": {\n                \"src\": \"any\",\n                \"width\": \"any\",\n                \"height\": \"any\",\n                \"frameborder\": \"any\",\n                \"style\": \"any\",\n                \"id\": \"any\"\n            }\n        },\n        \"figcaption\": {\n            \"unwrap\": 1\n        },\n        \"a\": {\n            \"check_attributes\": {\n                \"href\": \"href\", // if you compiled master manually then change this from 'url' to 'href'\n                \"rel\": \"any\",\n                \"target\": \"any\",\n                \"id\": \"any\"\n            }\n        },\n        \"img\": {\n            \"one_of_type\": {\n                \"valid_image_src\": 1\n            },\n            \"check_attributes\": {\n                \"width\": \"numbers\",\n                \"alt\": \"alt\",\n                \"src\": \"src\", // if you compiled master manually then change this from 'url' to 'src'\n                \"height\": \"numbers\",\n                \"id\": \"any\"\n            },\n            \"add_class\": {\n                \"align\": \"align_img\"\n            }\n        },\n        \"rb\": {\n            \"unwrap\": 1\n        },\n        \"footer\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"noframes\": {\n            \"remove\": 1\n        },\n        \"abbr\": {\n            \"unwrap\": 1\n        },\n        \"u\": {},\n        \"bgsound\": {\n            \"remove\": 1\n        },\n        \"sup\": {\n            \"unwrap\": 1\n        },\n        \"address\": {\n            \"unwrap\": 1\n        },\n        \"basefont\": {\n            \"remove\": 1\n        },\n        \"nav\": {\n            \"unwrap\": 1\n        },\n        \"h1\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"head\": {\n            \"unwrap\": 1\n        },\n        \"tbody\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"dd\": {\n            \"unwrap\": 1\n        },\n        \"s\": {\n            \"unwrap\": 1\n        },\n        \"li\": {},\n        \"td\": {\n            \"check_attributes\": {\n                \"rowspan\": \"numbers\",\n                \"colspan\": \"numbers\",\n                \"valign\": \"any\",\n                \"align\": \"any\",\n                \"id\": \"any\",\n                \"class\": \"any\"\n            },\n            \"keep_styles\": {\n                \"backgroundColor\": 1,\n                \"width\": 1,\n                \"height\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            }\n        },\n        \"object\": {\n            \"remove\": 1\n        },\n\n        \"div\": {\n            \"one_of_type\": {\n                \"alignment_object\": 1\n            },\n            \"remove_action\": \"unwrap\",\n            \"keep_styles\": {\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\",\n                \"contenteditable\": \"any\"\n            }\n        },\n\n        \"option\": {\n            \"remove\":1\n        },\n        \"select\": {\n            \"remove\":1\n        },\n        \"i\": {},\n        \"track\": {\n            \"remove\": 1\n        },\n        \"wbr\": {\n            \"remove\": 1\n        },\n        \"fieldset\": {\n            \"unwrap\": 1\n        },\n        \"big\": {\n            \"rename_tag\": \"span\",\n            \"set_class\": \"wysiwyg-font-size-larger\"\n        },\n        \"button\": {\n            \"unwrap\": 1\n        },\n        \"noscript\": {\n            \"remove\": 1\n        },\n        \"svg\": {\n            \"remove\": 1\n        },\n        \"input\": {\n            \"remove\": 1\n        },\n        \"table\": {\n            \"keep_styles\": {\n                \"width\": 1,\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"keygen\": {\n            \"remove\": 1\n        },\n        \"h5\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"meta\": {\n            \"remove\": 1\n        },\n        \"map\": {\n            \"remove\": 1\n        },\n        \"isindex\": {\n            \"remove\": 1\n        },\n        \"mark\": {\n            \"unwrap\": 1\n        },\n        \"caption\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"tfoot\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"base\": {\n            \"remove\": 1\n        },\n        \"video\": {\n            \"remove\": 1\n        },\n        \"strong\": {},\n        \"canvas\": {\n            \"remove\": 1\n        },\n        \"output\": {\n            \"unwrap\": 1\n        },\n        \"marquee\": {\n            \"unwrap\": 1\n        },\n        \"b\": {},\n        \"q\": {\n            \"check_attributes\": {\n                \"cite\": \"url\",\n                \"id\": \"any\"\n            }\n        },\n        \"applet\": {\n            \"remove\": 1\n        },\n        \"span\": {\n            \"one_of_type\": {\n                \"text_formatting_object\": 1,\n                \"text_color_object\": 1,\n                \"text_fontsize_object\": 1\n            },\n            \"keep_styles\": {\n                \"color\": 1,\n                \"backgroundColor\": 1,\n                \"fontSize\": 1\n            },\n            \"remove_action\": \"unwrap\",\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"rp\": {\n            \"unwrap\": 1\n        },\n        \"spacer\": {\n            \"remove\": 1\n        },\n        \"source\": {\n            \"remove\": 1\n        },\n        \"aside\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"frame\": {\n            \"remove\": 1\n        },\n        \"section\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"body\": {\n            \"unwrap\": 1\n        },\n        \"ol\": {},\n        \"nobr\": {\n            \"unwrap\": 1\n        },\n        \"html\": {\n            \"unwrap\": 1\n        },\n        \"summary\": {\n            \"unwrap\": 1\n        },\n        \"var\": {\n            \"unwrap\": 1\n        },\n        \"del\": {\n            \"unwrap\": 1\n        },\n        \"blockquote\": {\n            \"keep_styles\": {\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"cite\": \"url\",\n                \"id\": \"any\"\n            }\n        },\n        \"style\": {\n            \"check_attributes\": {\n                \"type\": \"any\",\n                \"src\": \"any\",\n                \"charset\": \"any\"\n            }\n        },\n        \"device\": {\n            \"remove\": 1\n        },\n        \"meter\": {\n            \"unwrap\": 1\n        },\n        \"h3\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"textarea\": {\n            \"unwrap\": 1\n        },\n        \"embed\": {\n            \"remove\": 1\n        },\n        \"hgroup\": {\n            \"unwrap\": 1\n        },\n        \"font\": {\n            \"rename_tag\": \"span\",\n            \"add_class\": {\n                \"size\": \"size_font\"\n            }\n        },\n        \"tt\": {\n            \"unwrap\": 1\n        },\n        \"noembed\": {\n            \"remove\": 1\n        },\n        \"thead\": {\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"blink\": {\n            \"unwrap\": 1\n        },\n        \"plaintext\": {\n            \"unwrap\": 1\n        },\n        \"xml\": {\n            \"remove\": 1\n        },\n        \"h6\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"param\": {\n            \"remove\": 1\n        },\n        \"th\": {\n            \"check_attributes\": {\n                \"rowspan\": \"numbers\",\n                \"colspan\": \"numbers\",\n                \"valign\": \"any\",\n                \"align\": \"any\",\n                \"id\": \"any\"\n            },\n            \"keep_styles\": {\n                \"backgroundColor\": 1,\n                \"width\": 1,\n                \"height\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            }\n        },\n        \"legend\": {\n            \"unwrap\": 1\n        },\n        \"hr\": {},\n        \"label\": {\n            \"unwrap\": 1\n        },\n        \"dl\": {\n            \"unwrap\": 1\n        },\n        \"kbd\": {\n            \"unwrap\": 1\n        },\n        \"listing\": {\n            \"unwrap\": 1\n        },\n        \"dt\": {\n            \"unwrap\": 1\n        },\n        \"nextid\": {\n            \"remove\": 1\n        },\n        \"pre\": {},\n        \"center\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"audio\": {\n            \"remove\": 1\n        },\n        \"datalist\": {\n            \"unwrap\": 1\n        },\n        \"samp\": {\n            \"unwrap\": 1\n        },\n        \"col\": {\n            \"remove\": 1\n        },\n        \"article\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"cite\": {},\n        \"link\": {\n            \"remove\": 1\n        },\n        \"script\": {\n            \"check_attributes\": {\n                \"type\": \"any\",\n                \"src\": \"any\",\n                \"charset\": \"any\"\n            }\n        },\n        \"bdo\": {\n            \"unwrap\": 1\n        },\n        \"menu\": {\n            \"rename_tag\": \"ul\"\n        },\n        \"colgroup\": {\n            \"remove\": 1\n        },\n        \"ruby\": {\n            \"unwrap\": 1\n        },\n        \"h2\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"ins\": {\n            \"unwrap\": 1\n        },\n        \"p\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"sub\": {\n            \"unwrap\": 1\n        },\n        \"comment\": {\n            \"remove\": 1\n        },\n        \"frameset\": {\n            \"remove\": 1\n        },\n        \"optgroup\": {\n            \"unwrap\": 1\n        },\n        \"header\": wysihtml5ParserRulesDefaults.makeDiv\n    }\n};\n\n\n(function() {\n    // Paste cleanup rules universal for all rules (also applied to content copied from editor)\n    var commonRules = wysihtml5.lang.object(wysihtml5ParserRules).clone(true);\n    commonRules.comments    = false;\n    commonRules.selectors   = { \"a u\": \"unwrap\"};\n    commonRules.tags.style  = { \"remove\": 1 };\n    commonRules.tags.script = { \"remove\": 1 };\n    commonRules.tags.head = { \"remove\": 1 };\n\n    // Paste cleanup for unindentified source\n    var universalRules = wysihtml5.lang.object(commonRules).clone(true);\n    universalRules.tags.div.one_of_type.alignment_object = 1;\n    universalRules.tags.div.remove_action = \"unwrap\";\n    universalRules.tags.div.check_attributes.style = false;\n    universalRules.tags.div.keep_styles = {\n        \"textAlign\": /^((left)|(right)|(center)|(justify))$/i,\n        \"float\": 1\n    };\n    universalRules.tags.span.keep_styles = false;\n\n    // Paste cleanup for MS Office\n    // TODO: should be extended to stricter ruleset, as current set will probably not cover all Office bizarreness\n    var msOfficeRules = wysihtml5.lang.object(universalRules).clone(true);\n    msOfficeRules.classes = {};\n\n    window.wysihtml5ParserPasteRulesets = [\n        {\n            condition: /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument|class=\"OutlineElement|id=\"?docs\\-internal\\-guid\\-/i,\n            set: msOfficeRules\n        },{\n            condition: /<meta name=\"copied-from\" content=\"wysihtml5\">/i,\n            set: commonRules\n        },{\n            set: universalRules\n        }\n    ];\n\n})();\n\nexports[\"wysihtml5\"] = wysihtml5;\nexports[\"wysihtml5ParserRules\"] = wysihtml5ParserRules;\n\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = wysihtml5;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/exports-loader?wysihtml5!./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js\n// module id = ../node_modules/exports-loader/index.js?wysihtml5!./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js\n// module chunks = 0","/*! wysihtml - v0.5.2 (2015-11-10) */\nvar newStyle;\nvar wysihtml5={version:\"0.5.2\",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:\"\\ufeff\",INVISIBLE_SPACE_REG_EXP:/\\uFEFF/g,EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46};wysihtml5.polyfills=function(a,b){String.prototype.trim||!function(){var a=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,\"\")}}(),function(){var c=\"addEventListener\",d=\"removeEventListener\";b[c]||(a.Element.prototype[c]=a[c]=b[c]=function(b,c,d){return(d=this).attachEvent(\"on\"+b,function(b){var b=b||a.event;b.target=b.target||b.srcElement,b.preventDefault=b.preventDefault||function(){b.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0},b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode,c.call(d,b)})},a.Element.prototype[d]=a[d]=b[d]=function(a,b){return this.detachEvent(\"on\"+a,b)})}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,\"textContent\")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,\"textContent\").get&&!function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,\"innerText\");Object.defineProperty(a.Element.prototype,\"textContent\",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,a)}})}(),Array.isArray||(Array.isArray=function(a){return\"[object Array]\"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=this.length,d=-1,e=b>>>0;~(c-e);d=this[--c]===a?c:d);return d}),Function.prototype.bind||(Function.prototype.bind=function(a){if(\"function\"!=typeof this)throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.document||b.ownerDocument).querySelectorAll(a),d=0;c[d]&&c[d]!==b;)++d;return c[d]?!0:!1},a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}}(Element.prototype),\"document\"in a&&(\"classList\"in b.createElement(\"_\")?\"DOMTokenList\"in a&&!function(){\"use strict\";var c=b.createElement(\"_\");if(c.classList.add(\"c1\",\"c2\"),!c.classList.contains(\"c2\")){var d=function(b){var c=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,d=arguments.length;for(b=0;d>b;b++)a=arguments[b],c.call(this,a)}};d(\"add\"),d(\"remove\")}if(c.classList.toggle(\"c3\",!1),c.classList.contains(\"c3\")){var e=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:e.call(this,a)}}c=null}():!function(a){\"use strict\";if(\"Element\"in a){var b=\"classList\",c=\"prototype\",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\\s+|\\s+$/g,\"\")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(\"\"===b)throw new h(\"SYNTAX_ERR\",\"An invalid or illegal string was specified\");if(/\\s/.test(b))throw new h(\"INVALID_CHARACTER_ERR\",\"String contains an invalid character\");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute(\"class\")||\"\"),c=b?b.split(/\\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute(\"class\",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+=\"\",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+\"\",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do for(a=c[d]+\"\",b=i(this,a);-1!==b;)this.splice(b,1),f=!0,b=i(this,a);while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+=\"\";var c=this.contains(a),d=c?b!==!0&&\"remove\":b!==!1&&\"add\";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(\" \")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(a));var c=function(){if(\"createRange\"in document&&\"getSelection\"in window){var a,b,c=document.createElement(\"div\"),d=document.createTextNode(\"a\"),e=document.createTextNode(\"a\"),f=document.createTextNode(\"a\"),g=document.createRange();return c.setAttribute(\"contenteditable\",\"true\"),c.appendChild(d),c.appendChild(e),c.appendChild(f),document.body.appendChild(c),g.setStart(e,1),g.setEnd(e,1),a=window.getSelection(),a.removeAllRanges(),a.addRange(g),c.normalize(),a=window.getSelection(),b=1!==c.childNodes.length||a.anchorNode!==c.firstChild||2!==a.anchorOffset,c.parentNode.removeChild(c),a.removeAllRanges(),b}},d=function(a){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b.push(a):b=b.concat(d(a));return b},e=function(){var a=(Node.prototype.normalize,function(){var a=d(this),b=this.ownerDocument.defaultView.getSelection(),c=b.anchorNode,e=b.anchorOffset,f=c&&1===c.nodeType&&c.childNodes.length>0?c.childNodes[e]:void 0,g=b.focusNode,h=b.focusOffset,i=g&&1===g.nodeType&&h>0?g.childNodes[h-1]:void 0,j=this.ownerDocument.createRange(),k=a.shift(),l=k?a.shift():null;for(i&&3===i.nodeType&&(g=i,h=i.nodeValue.length,i=void 0),f&&3===f.nodeType&&(c=f,e=0,f=void 0),(c===g&&e>h||c!==g&&c.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_PRECEDING&&!(c.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINS))&&(g=[c,c=g][0],h=[e,e=h][0]);k&&l;)l.previousSibling&&l.previousSibling===k?(c===l&&(c=k,e=k.nodeValue.length+e),g===l&&(g=k,h=k.nodeValue.length+h),k.nodeValue=k.nodeValue+l.nodeValue,l.parentNode.removeChild(l),l=a.shift()):(k=l,l=a.shift());i&&(h=Array.prototype.indexOf.call(i.parentNode.childNodes,i)+1),f&&(e=Array.prototype.indexOf.call(f.parentNode.childNodes,f)),c&&c.parentNode&&g&&g.parentNode&&(j.setStart(c,e),j.setEnd(g,h),b.removeAllRanges(),b.addRange(j))});Node.prototype.normalize=a},f=function(){window.removeEventListener(\"load\",f),\"Node\"in window&&\"normalize\"in Node.prototype&&c()&&e()};\"complete\"!==b.readyState?window.addEventListener(\"load\",f):f()},wysihtml5.polyfills(window,document),function(a,b){\"function\"==typeof define&&define.amd?define(a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a():b.rangy=a()}(function(){function a(a,b){var c=typeof a[b];return c==u||!(c!=t||!a[b])||\"unknown\"==c}function b(a,b){return!(typeof a[b]!=t||!a[b])}function c(a,b){return typeof a[b]!=v}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&A(a,z)&&C(a,y)}function f(a){return b(a,\"body\")?a.body:a.getElementsByTagName(\"body\")[0]}function g(b){typeof console!=v&&a(console,\"log\")&&console.log(b)}function h(a,b){F&&b?alert(a):g(a)}function i(a){H.initialized=!0,H.supported=!1,h(\"Rangy is not supported in this environment. Reason: \"+a,H.config.alertOnFail)}function j(a){h(\"Rangy warning: \"+a,H.config.alertOnWarn)}function k(a){return a.message||a.description||String(a)}function l(){if(F&&!H.initialized){var b,c=!1,d=!1;a(document,\"createRange\")&&(b=document.createRange(),A(b,x)&&C(b,w)&&(c=!0));var h=f(document);if(!h||\"body\"!=h.nodeName.toLowerCase())return void i(\"No body element found\");if(h&&a(h,\"createTextRange\")&&(b=h.createTextRange(),e(b)&&(d=!0)),!c&&!d)return void i(\"Neither Range nor TextRange are available\");H.initialized=!0,H.features={implementsDomRange:c,implementsTextRange:d};var j,l;for(var m in E)(j=E[m])instanceof p&&j.init(j,H);for(var n=0,o=K.length;o>n;++n)try{K[n](H)}catch(q){l=\"Rangy init listener threw an exception. Continuing. Detail: \"+k(q),g(l)}}}function m(a,b,c){c&&(a+=\" in module \"+c.name),H.warn(\"DEPRECATED: \"+a+\" is deprecated. Please use \"+b+\" instead.\")}function n(a,b,c,d){a[b]=function(){return m(b,c,d),a[c].apply(a,G.toArray(arguments))}}function o(a){a=a||window,l();for(var b=0,c=L.length;c>b;++b)L[b](a)}function p(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function q(a,b,c){var d=new p(a,b,function(b){if(!b.initialized){b.initialized=!0;try{c(H,b),b.supported=!0}catch(d){var e=\"Module '\"+a+\"' failed to load: \"+k(d);g(e),d.stack&&g(d.stack)}}});return E[a]=d,d}function r(){}function s(){}var t=\"object\",u=\"function\",v=\"undefined\",w=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],x=[\"setStart\",\"setStartBefore\",\"setStartAfter\",\"setEnd\",\"setEndBefore\",\"setEndAfter\",\"collapse\",\"selectNode\",\"selectNodeContents\",\"compareBoundaryPoints\",\"deleteContents\",\"extractContents\",\"cloneContents\",\"insertNode\",\"surroundContents\",\"cloneRange\",\"toString\",\"detach\"],y=[\"boundingHeight\",\"boundingLeft\",\"boundingTop\",\"boundingWidth\",\"htmlText\",\"text\"],z=[\"collapse\",\"compareEndPoints\",\"duplicate\",\"moveToElementText\",\"parentElement\",\"select\",\"setEndPoint\",\"getBoundingClientRect\"],A=d(a),B=d(b),C=d(c),D=[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)b(a[c],c)},E={},F=typeof window!=v&&typeof document!=v,G={isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:A,areHostObjects:B,areHostProperties:C,isTextRange:e,getBody:f,forEach:D},H={version:\"1.3.0\",initialized:!1,isBrowser:F,supported:!0,util:G,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v?!0:rangyAutoInitialize}};H.fail=i,H.warn=j;var I;({}).hasOwnProperty?(G.extend=I=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&null!==d&&\"object\"==typeof d&&null!==e&&\"object\"==typeof e&&I(d,e,!0),a[f]=e);return b.hasOwnProperty(\"toString\")&&(a.toString=b.toString),a},G.createOptions=function(a,b){var c={};return I(c,b),a&&I(c,a),c}):i(\"hasOwnProperty not supported\"),F||i(\"Rangy can only run in a browser\"),function(){var a;if(F){var b=document.createElement(\"div\");b.appendChild(document.createElement(\"span\"));var c=[].slice;try{1==c.call(b.childNodes,0)[0].nodeType&&(a=function(a){return c.call(a,0)})}catch(d){}}a||(a=function(a){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=a[c];return b}),G.toArray=a}();var J;F&&(a(document,\"addEventListener\")?J=function(a,b,c){a.addEventListener(b,c,!1)}:a(document,\"attachEvent\")?J=function(a,b,c){a.attachEvent(\"on\"+b,c)}:i(\"Document does not have required addEventListener or attachEvent method\"),G.addListener=J);var K=[];G.deprecationNotice=m,G.createAliasForDeprecatedMethod=n,H.init=l,H.addInitListener=function(a){H.initialized?a(H):K.push(a)};var L=[];H.addShimListener=function(a){L.push(a)},F&&(H.shim=H.createMissingNativeApi=o,n(H,\"createMissingNativeApi\",\"shim\")),p.prototype={init:function(){for(var a,b,c=this.dependencies||[],d=0,e=c.length;e>d;++d){if(b=c[d],a=E[b],!(a&&a instanceof p))throw new Error(\"required module '\"+b+\"' not found\");if(a.init(),!a.supported)throw new Error(\"required module '\"+b+\"' not supported\")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error(a)},warn:function(a){H.warn(\"Module \"+this.name+\": \"+a)},deprecationNotice:function(a,b){H.warn(\"DEPRECATED: \"+a+\" in module \"+this.name+\" is deprecated. Please use \"+b+\" instead\")},createError:function(a){return new Error(\"Error in Rangy \"+this.name+\" module: \"+a)}},H.createModule=function(a){var b,c;2==arguments.length?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]);var d=q(a,c,b);H.initialized&&H.supported&&d.init()},H.createCoreModule=function(a,b,c){q(a,b,c)},H.RangePrototype=r,H.rangePrototype=new r,H.selectionPrototype=new s,H.createCoreModule(\"DomUtil\",[],function(a,b){function c(a){var b;return typeof a.namespaceURI==F||null===(b=a.namespaceURI)||\"http://www.w3.org/1999/xhtml\"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(K(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b){return h(a,b,!0)}function j(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function k(a){var b=a.nodeType;return 3==b||4==b||8==b}function l(a){if(!a)return!1;var b=a.nodeType;return 3==b||8==b}function m(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function n(a,b,c){var d=a.cloneNode(!1);if(d.deleteData(0,b),a.deleteData(b,a.length-b),m(d,a),c)for(var f,g=0;f=c[g++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>e(a)&&++f.offset;return d}function o(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=F)return a.ownerDocument;if(typeof a.document!=F)return a.document;if(a.parentNode)return o(a.parentNode);throw b.createError(\"getDocument: no document found for node\")}function p(a){var c=o(a);if(typeof c.defaultView!=F)return c.defaultView;if(typeof c.parentWindow!=F)return c.parentWindow;throw b.createError(\"Cannot get a window object for node\")}function q(a){if(typeof a.contentDocument!=F)return a.contentDocument;if(typeof a.contentWindow!=F)return a.contentWindow.document;throw b.createError(\"getIframeDocument: No Document object found for iframe element\")}function r(a){if(typeof a.contentWindow!=F)return a.contentWindow;if(typeof a.contentDocument!=F)return a.contentDocument.defaultView;throw b.createError(\"getIframeWindow: No Window object found for iframe element\")}function s(a){return a&&G.isHostMethod(a,\"setTimeout\")&&G.isHostObject(a,\"document\")}function t(a,b,c){var d;if(a?G.isHostProperty(a,\"nodeType\")?d=1==a.nodeType&&\"iframe\"==a.tagName.toLowerCase()?q(a):o(a):s(a)&&(d=a.document):d=document,!d)throw b.createError(c+\"(): Parameter must be a Window object or DOM node\");return d}function u(a){for(var b;b=a.parentNode;)a=b;return a}function v(a,c,d,f){var h,i,k,l,m;if(a==d)return c===f?0:f>c?-1:1;if(h=j(d,a,!0))return c<=e(h)?-1:1;if(h=j(a,d,!0))return e(h)<f?-1:1;if(i=g(a,d),!i)throw new Error(\"comparePoints error: nodes have no common ancestor\");if(k=a===i?i:j(a,i,!0),l=d===i?i:j(d,i,!0),k===l)throw b.createError(\"comparePoints got to case 4 and childA and childB are the same!\");for(m=i.firstChild;m;){if(m===k)return-1;if(m===l)return 1;m=m.nextSibling}}function w(a){var b;try{return b=a.parentNode,!1}catch(c){return!0}}function x(a){if(!a)return\"[No node]\";if(L&&w(a))return\"[Broken node]\";if(k(a))return'\"'+a.data+'\"';if(1==a.nodeType){var b=a.id?' id=\"'+a.id+'\"':\"\";return\"<\"+a.nodeName+b+\">[index:\"+e(a)+\",length:\"+a.childNodes.length+\"][\"+(a.innerHTML||\"[innerHTML not supported]\").slice(0,25)+\"]\"}return a.nodeName}function y(a){for(var b,c=o(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function z(a,b,c){var d=H(a),e=a.createElement(\"div\");e.contentEditable=\"\"+!!c,b&&(e.innerHTML=b);var f=d.firstChild;return f?d.insertBefore(e,f):d.appendChild(e),e}function A(a){return a.parentNode.removeChild(a)}function B(a){this.root=a,this._next=a}function C(a){return new B(a)}function D(a,b){this.node=a,this.offset=b}function E(a){this.code=this[a],this.codeName=a,this.message=\"DOMException: \"+this.codeName}var F=\"undefined\",G=a.util,H=G.getBody;G.areHostMethods(document,[\"createDocumentFragment\",\"createElement\",\"createTextNode\"])||b.fail(\"document missing a Node creation method\"),G.isHostMethod(document,\"getElementsByTagName\")||b.fail(\"document missing getElementsByTagName method\");var I=document.createElement(\"div\");G.areHostMethods(I,[\"insertBefore\",\"appendChild\",\"cloneNode\"]||!G.areHostObjects(I,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"]))||b.fail(\"Incomplete Element implementation\"),G.isHostProperty(I,\"innerHTML\")||b.fail(\"Element is missing innerHTML property\");var J=document.createTextNode(\"test\");G.areHostMethods(J,[\"splitText\",\"deleteData\",\"insertData\",\"appendData\",\"cloneNode\"]||!G.areHostObjects(I,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"])||!G.areHostProperties(J,[\"data\"]))||b.fail(\"Incomplete Text Node implementation\");var K=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},L=!1;!function(){var b=document.createElement(\"b\");b.innerHTML=\"1\";var c=b.firstChild;b.innerHTML=\"<br />\",L=w(c),a.features.crashyTextNodes=L}();var M;typeof window.getComputedStyle!=F?M=function(a,b){return p(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=F?M=function(a,b){return a.currentStyle?a.currentStyle[b]:\"\"}:b.fail(\"No means of obtaining computed style properties found\"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return\"[DomPosition(\"+x(this.node)+\":\"+this.offset+\")]\"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},a.dom={arrayContains:K,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,isOrIsAncestorOf:i,getClosestAncestorIn:j,isCharacterDataNode:k,isTextOrCommentNode:l,insertAfter:m,splitDataNode:n,getDocument:o,getWindow:p,getIframeWindow:r,getIframeDocument:q,getBody:H,isWindow:s,getContentDocument:t,getRootContainer:u,comparePoints:v,isBrokenNode:w,inspectNode:x,getComputedStyleProperty:M,createTestElement:z,removeNode:A,fragmentFromNodeChildren:y,createIterator:C,DomPosition:D},a.DOMException=E}),H.createCoreModule(\"DomRange\",[\"DomUtil\"],function(a,b){function c(a,b){return 3!=a.nodeType&&(P(a,b.startContainer)||P(a,b.endContainer))}function d(a){return a.document||Q(a.startContainer)}function e(a){return W(a.startContainer)}function f(a){return new L(a.parentNode,O(a))}function g(a){return new L(a.parentNode,O(a)+1)}function h(a,b,c){var d=11==a.nodeType?a.firstChild:a;return N(b)?c==b.length?J.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:S(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function i(a,b,c){if(z(a),z(b),d(b)!=d(a))throw new M(\"WRONG_DOCUMENT_ERR\");var e=R(a.startContainer,a.startOffset,b.endContainer,b.endOffset),f=R(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?0>=e&&f>=0:0>e&&f>0}function j(a){for(var b,c,e,f=d(a.range).createDocumentFragment();c=a.next();){if(b=a.isPartiallySelectedSubtree(),c=c.cloneNode(!b),b&&(e=a.getSubtreeIterator(),c.appendChild(j(e)),e.detach()),10==c.nodeType)throw new M(\"HIERARCHY_REQUEST_ERR\");f.appendChild(c)}return f}function k(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),k(g,b,c),g.detach(),c.stop)return}else for(d=J.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function l(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),l(b),b.detach()):a.remove()}function m(a){for(var b,c,e=d(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),c=a.getSubtreeIterator(),b.appendChild(m(c)),c.detach()):a.remove(),10==b.nodeType)throw new M(\"HIERARCHY_REQUEST_ERR\");e.appendChild(b)}return e}function n(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp(\"^(\"+b.join(\"|\")+\")$\"));var g=[];return k(new p(a,!1),function(b){if((!e||d.test(b.nodeType))&&(!f||c(b))){var h=a.startContainer;if(b!=h||!N(h)||a.startOffset!=h.length){var i=a.endContainer;b==i&&N(i)&&0==a.endOffset||g.push(b)}}}),g}function o(a){var b=\"undefined\"==typeof a.getName?\"Range\":a.getName();return\"[\"+b+\"(\"+J.inspectNode(a.startContainer)+\":\"+a.startOffset+\", \"+J.inspectNode(a.endContainer)+\":\"+a.endOffset+\")]\"}function p(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&N(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||N(this.sc)?T(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||N(this.ec)?T(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,V(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(ea(a,b))throw new M(\"INVALID_NODE_TYPE_ERR\")}function s(a,b){if(!V(b,a.nodeType))throw new M(\"INVALID_NODE_TYPE_ERR\")}function t(a,b){if(0>b||b>(N(a)?a.length:a.childNodes.length))throw new M(\"INDEX_SIZE_ERR\")}function u(a,b){if(ca(a,!0)!==ca(b,!0))throw new M(\"WRONG_DOCUMENT_ERR\")}function v(a){if(da(a,!0))throw new M(\"NO_MODIFICATION_ALLOWED_ERR\")}function w(a,b){if(!a)throw new M(b)}function x(a,b){return b<=(N(a)?a.length:a.childNodes.length)}function y(a){return!!a.startContainer&&!!a.endContainer&&!(X&&(J.isBrokenNode(a.startContainer)||J.isBrokenNode(a.endContainer)))&&W(a.startContainer)==W(a.endContainer)&&x(a.startContainer,a.startOffset)&&x(a.endContainer,a.endOffset)}function z(a){if(!y(a))throw new Error(\"Range error: Range is not valid. This usually happens after DOM mutation. Range: (\"+a.inspect()+\")\")}function A(a,b){z(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,g=c===e;N(e)&&f>0&&f<e.length&&S(e,f,b),N(c)&&d>0&&d<c.length&&(c=S(c,d,b),g?(f-=d,e=c):e==c.parentNode&&f>=O(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function B(a){z(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function C(a){a.START_TO_START=ka,a.START_TO_END=la,a.END_TO_END=ma,a.END_TO_START=na,a.NODE_BEFORE=oa,a.NODE_AFTER=pa,a.NODE_BEFORE_AND_AFTER=qa,a.NODE_INSIDE=ra}function D(a){C(a),C(a.prototype)}function E(a,b){return function(){z(this);var c,d,e=this.startContainer,f=this.startOffset,h=this.commonAncestorContainer,i=new p(this,!0);e!==h&&(c=T(e,h,!0),d=g(c),e=d.node,f=d.offset),k(i,v),i.reset();var j=a(i);return i.detach(),b(this,e,f,e,f),j}}function F(b,d){function e(a,b){return function(c){s(c,Z),s(W(c),$);var d=(a?f:g)(c);(b?h:i)(this,d.node,d.offset)}}function h(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((W(b)!=W(e)||1==R(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function i(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((W(b)!=W(e)||-1==R(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}var j=function(){};j.prototype=a.rangePrototype,b.prototype=new j,K.extend(b.prototype,{setStart:function(a,b){r(a,!0),t(a,b),h(this,a,b)},setEnd:function(a,b){r(a,!0),t(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],c=a[1],e=b,f=c;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}d(this,b,c,e,f)},setBoundary:function(a,b,c){this[\"set\"+(c?\"Start\":\"End\")](a,b)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(a){z(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){r(a,!0),d(this,a,0,a,U(a))},selectNode:function(a){r(a,!1),s(a,Z);var b=f(a),c=g(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:E(m,d),deleteContents:E(l,d),canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},splitBoundaries:function(){A(this)},splitBoundariesPreservingPositions:function(a){A(this,a)},normalizeBoundaries:function(){z(this);var a,b=this.startContainer,c=this.startOffset,e=this.endContainer,f=this.endOffset,g=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,f=a.length,a.appendData(b.data),Y(b))},h=function(a){var d=a.previousSibling;if(d&&d.nodeType==a.nodeType){b=a;var g=a.length;if(c=d.length,a.insertData(0,d.data),Y(d),b==e)f+=c,e=b;else if(e==a.parentNode){var h=O(a);f==h?(e=a,f=g):f>h&&f--}}},i=!0;if(N(e))f==e.length?g(e):0==f&&(a=e.previousSibling,a&&a.nodeType==e.nodeType&&(f=a.length,b==e&&(i=!1),a.appendData(e.data),Y(e),e=a));else{if(f>0){var j=e.childNodes[f-1];j&&N(j)&&g(j)}i=!this.collapsed}if(i){if(N(b))0==c?h(b):c==b.length&&(a=b.nextSibling,a&&a.nodeType==b.nodeType&&(e==a&&(e=b,f+=b.length),b.appendData(a.data),Y(a)));else if(c<b.childNodes.length){var k=b.childNodes[c];k&&N(k)&&h(k)}}else b=e,c=f;d(this,b,c,e,f)},collapseToPoint:function(a,b){r(a,!0),t(a,b),this.setStartAndEnd(a,b)}}),D(b)}function G(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:J.getCommonAncestor(a.startContainer,a.endContainer)}function H(a,b,c,d,e){a.startContainer=b,a.startOffset=c,a.endContainer=d,a.endOffset=e,a.document=J.getDocument(b),G(a)}function I(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,G(this)}var J=a.dom,K=a.util,L=J.DomPosition,M=a.DOMException,N=J.isCharacterDataNode,O=J.getNodeIndex,P=J.isOrIsAncestorOf,Q=J.getDocument,R=J.comparePoints,S=J.splitDataNode,T=J.getClosestAncestorIn,U=J.getNodeLength,V=J.arrayContains,W=J.getRootContainer,X=a.features.crashyTextNodes,Y=J.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,N(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!N(c)||c!==this.sc&&c!==this.ec?c.parentNode&&Y(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return c(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new I(d(this.range));var b=this._current,c=b,e=0,f=b,g=U(b);P(b,this.sc)&&(c=this.sc,e=this.so),P(b,this.ec)&&(f=this.ec,g=this.eo),H(a,c,e,f,g)}return new p(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],$=[2,9,11],_=[5,6,10,12],aa=[1,3,4,5,7,8,10,11],ba=[1,3,4,5,7,8],ca=q([9,11]),da=q(_),ea=q([6,10,12]),fa=document.createElement(\"style\"),ga=!1;try{fa.innerHTML=\"<b>x</b>\",ga=3==fa.firstChild.nodeType}catch(ha){}a.features.htmlParsingConforms=ga;var ia=ga?function(a){var b=this.startContainer,c=Q(b);if(!b)throw new M(\"INVALID_STATE_ERR\");var d=null;return 1==b.nodeType?d=b:N(b)&&(d=J.parentElement(b)),d=null===d||\"HTML\"==d.nodeName&&J.isHtmlNamespace(Q(d).documentElement)&&J.isHtmlNamespace(d)?c.createElement(\"body\"):d.cloneNode(!1),d.innerHTML=a,J.fragmentFromNodeChildren(d)}:function(a){var b=d(this),c=b.createElement(\"body\");return c.innerHTML=a,J.fragmentFromNodeChildren(c)},ja=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],ka=0,la=1,ma=2,na=3,oa=0,pa=1,qa=2,ra=3;K.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){z(this),u(this.startContainer,b.startContainer);var c,d,e,f,g=a==na||a==ka?\"start\":\"end\",h=a==la||a==ka?\"start\":\"end\";return c=this[g+\"Container\"],d=this[g+\"Offset\"],e=b[h+\"Container\"],f=b[h+\"Offset\"],R(c,d,e,f)},insertNode:function(a){if(z(this),s(a,aa),v(this.startContainer),P(a,this.startContainer))throw new M(\"HIERARCHY_REQUEST_ERR\");var b=h(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){z(this);var a,b;if(this.collapsed)return d(this).createDocumentFragment();if(this.startContainer===this.endContainer&&N(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=d(this).createDocumentFragment(),b.appendChild(a),b;var c=new p(this,!0);return a=j(c),c.detach(),a},canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},surroundContents:function(a){if(s(a,ba),!this.canSurroundContents())throw new M(\"INVALID_STATE_ERR\");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);h(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){z(this);for(var a,b=new I(d(this)),c=ja.length;c--;)a=ja[c],b[a]=this[a];return b},toString:function(){z(this);var a=this.startContainer;if(a===this.endContainer&&N(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):\"\";var b=[],c=new p(this,!0);return k(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join(\"\")},compareNode:function(a){z(this);var b=a.parentNode,c=O(a);if(!b)throw new M(\"NOT_FOUND_ERR\");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?qa:oa:e>0?pa:ra},comparePoint:function(a,b){return z(this),w(a,\"HIERARCHY_REQUEST_ERR\"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)<0?-1:R(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ia,toHtml:function(){return B(this)},intersectsNode:function(a,b){if(z(this),W(a)!=e(this))return!1;var c=a.parentNode,d=O(a);if(!c)return!0;var f=R(c,d,this.endContainer,this.endOffset),g=R(c,d+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return z(this),w(a,\"HIERARCHY_REQUEST_ERR\"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)>=0&&R(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return i(this,a,!1)},intersectsOrTouchesRange:function(a){return i(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=R(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=R(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return-1==R(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==R(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new M(\"Ranges do not intersect\")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==ra},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,U(a))<=0},containsRange:function(a){var b=this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();return b.setEnd(d,d.length),this.containsRange(b)}return this.containsNodeContents(a);\n},getNodes:function(a,b){return z(this),n(this,a,b)},getDocument:function(){return d(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var c=d(this),e=a.createRange(c);b=b||J.getBody(c),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);for(var d,e,f,g,h=[b],i=!1,j=!1;!j&&(d=h.pop());)if(3==d.nodeType)e=c+d.length,!i&&a.start>=c&&a.start<=e&&(this.setStart(d,a.start-c),i=!0),i&&a.end>=c&&a.end<=e&&(this.setEnd(d,a.end-c),j=!0),c=e;else for(g=d.childNodes,f=g.length;f--;)h.push(g[f])},getName:function(){return\"DomRange\"},equals:function(a){return I.rangesEqual(this,a)},isValid:function(){return y(this)},inspect:function(){return o(this)},detach:function(){}}),F(I,H),K.extend(I,{rangeProperties:ja,RangeIterator:p,copyComparisonConstants:D,createPrototypeRange:F,inspect:o,toHtml:B,getRangeDocument:d,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=I}),H.createCoreModule(\"WrappedRange\",[\"DomRange\"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;if(a.features.implementsDomRange&&!function(){function d(a){for(var b,c=m.length;c--;)b=m[c],a[b]=a.nativeRange[b];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function g(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);(f||g||h)&&(a.setEnd(d,e),a.setStart(b,c))}var k,l,m=h.rangeProperties;c=function(a){if(!a)throw b.createError(\"WrappedRange: Range must be specified\");this.nativeRange=a,d(this)},h.createPrototypeRange(c,g),k=c.prototype,k.selectNode=function(a){this.nativeRange.selectNode(a),d(this)},k.cloneContents=function(){return this.nativeRange.cloneContents()},k.surroundContents=function(a){this.nativeRange.surroundContents(a),d(this)},k.collapse=function(a){this.nativeRange.collapse(a),d(this)},k.cloneRange=function(){return new c(this.nativeRange.cloneRange())},k.refresh=function(){d(this)},k.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode(\"test\");i(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b),d(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b),d(this)},l=function(a){return function(b){this.nativeRange[a](b),d(this)}}}catch(p){k.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}d(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}d(this)},l=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(e){this.nativeRange[b](c),this.nativeRange[a](c)}d(this)}}}k.setStartBefore=l(\"setStartBefore\",\"setEndBefore\"),k.setStartAfter=l(\"setStartAfter\",\"setEndAfter\"),k.setEndBefore=l(\"setEndBefore\",\"setStartBefore\"),k.setEndAfter=l(\"setEndAfter\",\"setStartAfter\"),k.selectNodeContents=function(a){this.setStartAndEnd(a,0,e.getNodeLength(a))},o.selectNodeContents(n),o.setEnd(n,3);var q=document.createRange();q.selectNodeContents(n),q.setEnd(n,4),q.setStart(n,2),-1==o.compareBoundaryPoints(o.START_TO_END,q)&&1==o.compareBoundaryPoints(o.END_TO_START,q)?k.compareBoundaryPoints=function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var r=document.createElement(\"div\");r.innerHTML=\"123\";var s=r.firstChild,t=i(document);t.appendChild(r),o.setStart(s,1),o.setEnd(s,2),o.deleteContents(),\"13\"==s.data&&(k.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();return d(this),a}),t.removeChild(r),t=null,f.isHostMethod(o,\"createContextualFragment\")&&(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(n),k.getName=function(){return\"WrappedRange\"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,\"createNativeRange\"),a.createRange()}}(),a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return 0==a.compareEndPoints(\"StartToEnd\",a)},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();if(e.isOrIsAncestorOf(b,i)||(i=b),!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement(\"span\");l.parentNode&&e.removeNode(l);for(var m,n,o,p,q,r=c?\"StartToStart\":\"StartToEnd\",s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;;){if(v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),m=h.compareEndPoints(r,a),0==m||s==u)break;if(-1==m){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}if(q=l.nextSibling,-1==m&&q&&k(q)){h.setEndPoint(c?\"EndToStart\":\"EndToEnd\",a);var w;if(/[\\r\\n]/.test(q.data)){var x=h.duplicate(),y=x.text.replace(/\\r\\n/g,\"\\r\").length;for(w=x.moveStart(\"character\",y);-1==(m=x.compareEndPoints(\"StartToEnd\",x));)w++,x.moveStart(\"character\",1)}else w=h.text.length;p=new g(q,w)}else n=(d||!c)&&l.previousSibling,o=(d||c)&&l.nextSibling,p=o&&k(o)?new g(o,0):n&&k(n)?new g(n,n.data.length):new g(i,e.getNodeIndex(l));return e.removeNode(l),{boundaryPosition:p,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f,g,h=a.offset,j=e.getDocument(a.node),l=i(j).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(g=a.node.childNodes,c=h<g.length?g[h]:null,d=a.node),f=j.createElement(\"span\"),f.innerHTML=\"&#feff;\",c?d.insertBefore(f,c):d.appendChild(f),l.moveToElementText(f),l.collapse(!b),d.removeChild(f),m&&l[b?\"moveStart\":\"moveEnd\"](\"character\",h),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return\"WrappedTextRange\"},h.copyComparisonConstants(d);var p=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint(\"StartToStart\",b),d.setEndPoint(\"EndToEnd\",c),d};if(d.rangeToTextRange=p,d.prototype.toTextRange=function(){return p(this)},a.WrappedTextRange=d,!a.features.implementsDomRange||a.config.preferTextRange){var q=function(a){return a(\"return this;\")()}(Function);\"undefined\"==typeof q.Range&&(q.Range=d),a.createNativeRange=function(a){return a=j(a,b,\"createNativeRange\"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,\"createRange\"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,\"createRangyRange\"),new h(a)},f.createAliasForDeprecatedMethod(a,\"createIframeRange\",\"createRange\"),f.createAliasForDeprecatedMethod(a,\"createIframeRangyRange\",\"createRangyRange\"),a.addShimListener(function(b){var c=b.document;\"undefined\"==typeof c.createRange&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),H.createCoreModule(\"WrappedSelection\",[\"DomRange\",\"WrappedRange\"],function(a,b){function c(a){return\"string\"==typeof a?/^backward(s)?$/i.test(a):!!a}function d(a,c){if(a){if(C.isWindow(a))return a;if(a instanceof r)return a.win;var d=C.getContentDocument(a,b,c);return C.getWindow(d)}return window}function e(a){return d(a,\"getWinSelection\").getSelection()}function f(a){return d(a,\"getDocSelection\").document.selection}function g(a){var b=!1;return a.anchorNode&&(b=1==C.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b}function h(a,b,c){var d=c?\"end\":\"start\",e=c?\"start\":\"end\";a.anchorNode=b[d+\"Container\"],a.anchorOffset=b[d+\"Offset\"],a.focusNode=b[e+\"Container\"],a.focusOffset=b[e+\"Offset\"]}function i(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function j(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function k(b){var c;return b instanceof F?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof G?c=b.nativeRange:J.implementsDomRange&&b instanceof C.getWindow(b.startContainer).Range&&(c=b),c}function l(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c>b;++b)if(!C.isAncestorOf(a[0],a[b]))return!1;return!0}function m(a){var c=a.getNodes();if(!l(c))throw b.createError(\"getSingleElementFromRange: range \"+a.inspect()+\" did not consist of a single element\");return c[0]}function n(a){return!!a&&\"undefined\"!=typeof a.text}function o(a,b){var c=new G(b);a._ranges=[c],h(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function p(b){if(b._ranges.length=0,\"None\"==b.docSelection.type)j(b);else{var c=b.docSelection.createRange();if(n(c))o(b,c);else{b.rangeCount=c.length;for(var d,e=L(c.item(0)),f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,h(b,b._ranges[b.rangeCount-1],!1)}}}function q(a,c){for(var d=a.docSelection.createRange(),e=m(c),f=L(d.item(0)),g=M(f).createControlRange(),h=0,i=d.length;i>h;++h)g.add(d.item(h));try{g.add(e)}catch(j){throw b.createError(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\")}g.select(),p(a)}function r(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function s(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function t(a,b){for(var c,d,e=ba.length;e--;)if(c=ba[e],d=c.selection,\"deleteAll\"==b)s(d);else if(c.win==a)return\"delete\"==b?(ba.splice(e,1),!0):d;return\"deleteAll\"==b&&(ba.length=0),null}function u(a,c){for(var d,e=L(c[0].startContainer),f=M(e).createControlRange(),g=0,h=c.length;h>g;++g){d=m(c[g]);try{f.add(d)}catch(i){throw b.createError(\"setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)\")}}f.select(),p(a)}function v(a,b){if(a.win.document!=L(b))throw new H(\"WRONG_DOCUMENT_ERR\")}function w(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e[\"set\"+(b?\"Start\":\"End\")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function x(a){var b=[],c=new I(a.anchorNode,a.anchorOffset),d=new I(a.focusNode,a.focusOffset),e=\"function\"==typeof a.getName?a.getName():\"Selection\";if(\"undefined\"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=F.inspect(a.getRangeAt(f));return\"[\"+e+\"(Ranges: \"+b.join(\", \")+\")(anchor: \"+c.inspect()+\", focus: \"+d.inspect()+\"]\"}a.config.checkSelectionRanges=!0;var y,z,A=\"boolean\",B=\"number\",C=a.dom,D=a.util,E=D.isHostMethod,F=a.DomRange,G=a.WrappedRange,H=a.DOMException,I=C.DomPosition,J=a.features,K=\"Control\",L=C.getDocument,M=C.getBody,N=F.rangesEqual,O=E(window,\"getSelection\"),P=D.isHostObject(document,\"selection\");J.implementsWinGetSelection=O,J.implementsDocSelection=P;var Q=P&&(!O||a.config.preferTextRange);if(Q)y=f,a.isSelectionValid=function(a){var b=d(a,\"isSelectionValid\").document,c=b.selection;return\"None\"!=c.type||L(c.createRange().parentElement())==b};else{if(!O)return b.fail(\"Neither document.selection or window.getSelection() detected.\"),!1;y=e,a.isSelectionValid=function(){return!0}}a.getNativeSelection=y;var R=y();if(!R)return b.fail(\"Native selection was null (possibly issue 138?)\"),!1;var S=a.createNativeRange(document),T=M(document),U=D.areHostProperties(R,[\"anchorNode\",\"focusNode\",\"anchorOffset\",\"focusOffset\"]);J.selectionHasAnchorAndFocus=U;var V=E(R,\"extend\");J.selectionHasExtend=V;var W=typeof R.rangeCount==B;J.selectionHasRangeCount=W;var X=!1,Y=!0,Z=V?function(b,c){var d=F.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(k(e)),b.extend(c.startContainer,c.startOffset)}:null;D.areHostMethods(R,[\"addRange\",\"getRangeAt\",\"removeAllRanges\"])&&typeof R.rangeCount==B&&J.implementsDomRange&&!function(){var b=window.getSelection();if(b){for(var c=b.rangeCount,d=c>1,e=[],f=g(b),h=0;c>h;++h)e[h]=b.getRangeAt(h);var i=C.createTestElement(document,\"\",!1),j=i.appendChild(document.createTextNode(\"   \")),k=document.createRange();if(k.setStart(j,1),k.collapse(!0),b.removeAllRanges(),b.addRange(k),Y=1==b.rangeCount,b.removeAllRanges(),!d){var l=window.navigator.appVersion.match(/Chrome\\/(.*?) /);if(l&&parseInt(l[1])>=36)X=!1;else{var m=k.cloneRange();k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),b.addRange(k),b.addRange(m),X=2==b.rangeCount}}for(C.removeNode(i),b.removeAllRanges(),h=0;c>h;++h)0==h&&f?Z?Z(b,e[h]):(a.warn(\"Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend\"),b.addRange(e[h])):b.addRange(e[h])}}(),J.selectionSupportsMultipleRanges=X,J.collapsedNonEditableSelectionsSupported=Y;var $,_=!1;T&&E(T,\"createControlRange\")&&($=T.createControlRange(),D.areHostProperties($,[\"item\",\"add\"])&&(_=!0)),J.implementsControlRange=_,z=U?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var aa;E(R,\"getRangeAt\")?aa=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:U&&(aa=function(b){var c=L(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),r.prototype=a.selectionPrototype;var ba=[],ca=function(a){if(a&&a instanceof r)return a.refresh(),a;a=d(a,\"getNativeSelection\");var b=t(a),c=y(a),e=P?f(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh()):(b=new r(c,e,a),ba.push({win:a,selection:b})),b};a.getSelection=ca,D.createAliasForDeprecatedMethod(a,\"getIframeSelection\",\"getSelection\");var da=r.prototype;if(!Q&&U&&D.areHostMethods(R,[\"removeAllRanges\",\"addRange\"])){da.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),j(this)};var ea=function(a,b){Z(a.nativeSelection,b),a.refresh()};W?da.addRange=function(b,d){if(_&&P&&this.docSelection.type==K)q(this,b);else if(c(d)&&V)ea(this,b);else{var e;X?e=this.rangeCount:(this.removeAllRanges(),e=0);var f=k(b).cloneRange();try{this.nativeSelection.addRange(f)}catch(g){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==e+1){if(a.config.checkSelectionRanges){var i=aa(this.nativeSelection,this.rangeCount-1);i&&!N(i,b)&&(b=new G(i))}this._ranges[this.rangeCount-1]=b,h(this,b,ha(this.nativeSelection)),this.isCollapsed=z(this)}else this.refresh()}}:da.addRange=function(a,b){c(b)&&V?ea(this,a):(this.nativeSelection.addRange(k(a)),this.refresh())},da.setRanges=function(a){if(_&&P&&a.length>1)u(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(E(R,\"empty\")&&E(S,\"select\")&&_&&Q))return b.fail(\"No means of selecting a Range or TextRange was found\"),!1;da.removeAllRanges=function(){try{if(this.docSelection.empty(),\"None\"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if(this.docSelection.type==K){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}if(a){var c=M(a).createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}j(this)},da.addRange=function(b){this.docSelection.type==K?q(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,h(this,b,!1))},da.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?u(this,a):b&&this.addRange(a[0])}}da.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new H(\"INDEX_SIZE_ERR\");return this._ranges[a].cloneRange()};var fa;if(Q)fa=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=M(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==K?p(b):n(c)?o(b,c):j(b)};else if(E(R,\"getRangeAt\")&&typeof R.rangeCount==B)fa=function(b){if(_&&P&&b.docSelection.type==K)p(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));h(b,b._ranges[b.rangeCount-1],ha(b.nativeSelection)),b.isCollapsed=z(b)}else j(b)};else{if(!U||typeof R.isCollapsed!=A||typeof S.collapsed!=A||!J.implementsDomRange)return b.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\"),!1;fa=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=aa(c,0),a._ranges=[b],a.rangeCount=1,i(a),a.isCollapsed=z(a)):j(a)}}da.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;if(fa(this),a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;for(;e--;)if(!N(b[e],this._ranges[e]))return!0;return!1}};var ga=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;e>d;++d)N(b,c[d])||a.addRange(c[d]);a.rangeCount||j(a)};_&&P?da.removeRange=function(a){if(this.docSelection.type==K){for(var b,c=this.docSelection.createRange(),d=m(a),e=L(c.item(0)),f=M(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),p(this)}else ga(this,a)}:da.removeRange=function(a){ga(this,a)};var ha;!Q&&U&&J.implementsDomRange?(ha=g,da.isBackward=function(){return ha(this)}):ha=da.isBackward=function(){return!1},da.isBackwards=da.isBackward,da.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=\"\"+this._ranges[b];return a.join(\"\")},da.collapse=function(b,c){v(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},da.collapseToStart=function(){if(!this.rangeCount)throw new H(\"INVALID_STATE_ERR\");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},da.collapseToEnd=function(){if(!this.rangeCount)throw new H(\"INVALID_STATE_ERR\");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},da.selectAllChildren=function(b){v(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},da.deleteFromDocument=function(){if(_&&P&&this.docSelection.type==K){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),C.removeNode(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}}},da.eachRange=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(a(this.getRangeAt(c)))return b},da.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},da.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},da.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b||[]))}),c},da.setStart=w(!0),da.setEnd=w(!1),a.rangePrototype.select=function(a){ca(this.getDocument()).setSingleRange(this,a)},da.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&1==b.length?this.addRange(b[0],\"backward\"):this.setRanges(b)},da.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},da.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange(\"getBookmark\",[a])}},da.moveToBookmark=function(b){for(var c,d,e=[],f=0;c=b.rangeBookmarks[f++];)d=a.createRange(this.win),d.moveToBookmark(c),e.push(d);b.backward?this.setSingleRange(e[0],\"backward\"):this.setRanges(e)},da.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange(\"cloneRange\")}},da.restoreRanges=function(a){this.removeAllRanges();for(var b,c=0;b=a.ranges[c];++c)this.addRange(b,a.backward&&0==c)},da.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(F.toHtml(b))}),a.join(\"\")},J.implementsTextRange&&(da.getNativeTextRange=function(){var c;if(c=this.docSelection){var d=c.createRange();if(n(d))return d;throw b.createError(\"getNativeTextRange: selection is a control selection\")}if(this.rangeCount>0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError(\"getNativeTextRange: selection contains no range\")}),da.getName=function(){return\"WrappedSelection\"},da.inspect=function(){return x(this)},da.detach=function(){t(this.win,\"delete\"),s(this)},r.detachAll=function(){t(null,\"deleteAll\")},r.inspect=x,r.isDirectionBackward=c,a.Selection=r,a.selectionPrototype=da,a.addShimListener(function(a){\"undefined\"==typeof a.getSelection&&(a.getSelection=function(){return ca(a)}),a=null})});var M=!1,N=function(a){M||(M=!0,!H.initialized&&H.config.autoInitialize&&l())};return F&&(\"complete\"==document.readyState?N():(a(document,\"addEventListener\")&&document.addEventListener(\"DOMContentLoaded\",N,!1),J(window,\"load\",N))),H},this),function(a,b){\"function\"==typeof define&&define.amd?define([\"./rangy-core\"],a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a(require(\"rangy\")):a(b.rangy)}(function(a){return a.createModule(\"TextRange\",[\"WrappedSelection\"],function(a,b){function c(a,b){function c(a,b,c){h.push({start:a,end:b,isWord:c})}for(var d,e,f,g=a.join(\"\"),h=[],i=0;d=b.wordRegex.exec(g);){if(e=d.index,f=e+d[0].length,e>i&&c(i,e,!1),b.includeTrailingSpace)for(;$.test(a[f]);)++f;c(e,f,!0),i=f}return i<a.length&&c(i,a.length,!1),h}function d(a,b){for(var c=a.slice(b.start,b.end),d={isWord:b.isWord,chars:c,toString:function(){return c.join(\"\")}},e=0,f=c.length;f>e;++e)c[e].token=d;return d}function e(a,b,c){for(var e,f=c(a,b),g=[],h=0;e=f[h++];)g.push(d(a,e));return g}function f(a){var b=a||\"\",c=\"string\"==typeof b?b.split(\"\"):b;return c.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)}),c.join(\"\").replace(/(.)\\1+/g,\"$1\")}function g(a){var b,c;return a?(b=a.language||_,c={},U(c,ia[b]||ia[_]),U(c,a),c):ia[_]}function h(a,b){var c=V(a,b);return b.hasOwnProperty(\"wordOptions\")&&(c.wordOptions=g(c.wordOptions)),b.hasOwnProperty(\"characterOptions\")&&(c.characterOptions=V(c.characterOptions,ga)),c}function i(a,b){var c=na(a,\"display\",b),d=a.tagName.toLowerCase();return\"block\"==c&&fa&&oa.hasOwnProperty(d)?oa[d]:c}function j(a){for(var b=o(a),c=0,d=b.length;d>c;++c)if(1==b[c].nodeType&&\"none\"==i(b[c]))return!0;return!1}function k(a){var b;return 3==a.nodeType&&(b=a.parentNode)&&\"hidden\"==na(b,\"visibility\")}function l(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(i(a))||9==a.nodeType||11==a.nodeType)}function m(a){return S.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)}function n(a){for(var b=[];a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;return b}function o(a){return n(a).concat([a])}function p(a){for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null}function q(a,b){return!b&&a.hasChildNodes()?a.firstChild:p(a)}function r(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}var c=a.parentNode;return c&&1==c.nodeType?c:null}function s(a){if(!a||3!=a.nodeType)return!1;var b=a.data;if(\"\"===b)return!0;var c=a.parentNode;if(!c||1!=c.nodeType)return!1;var d=na(a.parentNode,\"whiteSpace\");return/^[\\t\\n\\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(d)||/^[\\t\\r ]+$/.test(b)&&\"pre-line\"==d}function t(a){if(\"\"===a.data)return!0;if(!s(a))return!1;var b=a.parentNode;return b?j(a)?!0:!1:!0}function u(a){var b=a.nodeType;return 7==b||8==b||j(a)||/^(script|style)$/i.test(a.nodeName)||k(a)||t(a)}function v(a,b){var c=a.nodeType;return 7==c||8==c||1==c&&\"none\"==i(a,b)}function w(){this.store={}}function x(a,b,c){return function(d){var e=this.cache;if(e.hasOwnProperty(a))return pa++,e[a];qa++;var f=b.call(this,c?this[c]:this,d);return e[a]=f,f}}function y(a,b){this.node=a,this.session=b,this.cache=new w,this.positions=new w}function z(a,b){this.offset=b,this.nodeWrapper=a,this.node=a.node,this.session=a.session,this.cache=new w}function A(){return\"[Position(\"+S.inspectNode(this.node)+\":\"+this.offset+\")]\"}function B(){return D(),Da=new Ea}function C(){return Da||B()}function D(){Da&&Da.detach(),Da=null}function E(a,c,d,e){function f(){var a=null;return c?(a=h,i||(h=h.previousVisible(),i=!h||d&&h.equals(d))):i||(a=h=h.nextVisible(),i=!h||d&&h.equals(d)),i&&(h=null),a}d&&(c?u(d.node)&&(d=a.previousVisible()):u(d.node)&&(d=d.nextVisible()));var g,h=a,i=!1,j=!1;return{next:function(){if(j)return j=!1,g;for(var a,b;a=f();)if(b=a.getCharacter(e))return g=a,a;return null},rewind:function(){if(!g)throw b.createError(\"createCharacterIterator: cannot rewind. Only one position can be rewound.\");j=!0},dispose:function(){a=d=null}}}function F(a,b,c){function d(a){for(var b,c,d=[],e=a?f:g,h=!1,i=!1;b=e.next();){if(c=b.character,Z.test(c))i&&(i=!1,h=!0);else{if(h){e.rewind();break}i=!0}d.push(b)}return d}var f=E(a,!1,null,b),g=E(a,!0,null,b),h=c.tokenizer,i=d(!0),j=d(!1).reverse(),k=e(j.concat(i),c,h),l=i.length?k.slice(Fa(k,i[0].token)):[],m=j.length?k.slice(0,Fa(k,j.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==l.length&&!(a=l[0]).isWord&&(b=d(!0)).length>0;)l=e(a.chars.concat(b),c,h);return l.shift()},previousStartToken:function(){for(var a,b;1==m.length&&!(a=m[0]).isWord&&(b=d(!1)).length>0;)m=e(b.reverse().concat(a.chars),c,h);return m.pop()},dispose:function(){f.dispose(),g.dispose(),l=m=null}}}function G(a,b,c,d,e){var f,g,h,i,j=0,k=a,l=Math.abs(c);if(0!==c){var m=0>c;switch(b){case Q:for(g=E(a,m,null,d);(f=g.next())&&l>j;)++j,k=f;h=f,g.dispose();break;case R:for(var n=F(a,d,e),o=m?n.previousStartToken:n.nextEndToken;(i=o())&&l>j;)i.isWord&&(++j,k=m?i.chars[0]:i.chars[i.chars.length-1]);break;default:throw new Error(\"movePositionBy: unit '\"+b+\"' not implemented\")}m?(k=k.previousVisible(),j=-j):k&&k.isLeadingSpace&&!k.isTrailingSpace&&(b==R&&(g=E(a,!1,null,d),h=g.next(),g.dispose()),h&&(k=h.previousVisible()))}return{position:k,unitsMoved:j}}function H(a,b,c,d){var e=a.getRangeBoundaryPosition(b,!0),f=a.getRangeBoundaryPosition(b,!1),g=d?f:e,h=d?e:f;return E(g,!!d,h,c)}function I(a,b,c){for(var d,e=[],f=H(a,b,c);d=f.next();)e.push(d);return f.dispose(),e}function J(b,c,d){var e=a.createRange(b.node);return e.setStartAndEnd(b.node,b.offset,c.node,c.offset),!e.expand(\"word\",{wordOptions:d})}function K(a,b,c,d,e){function f(a,b){var c=p[a].previousVisible(),d=p[b-1],f=!e.wholeWordsOnly||J(c,d,e.wordOptions);return{startPos:c,endPos:d,valid:f}}for(var g,h,i,j,k,l,m=aa(e.direction),n=E(a,m,a.session.getRangeBoundaryPosition(d,m),e.characterOptions),o=\"\",p=[],q=null;g=n.next();)if(h=g.character,c||e.caseSensitive||(h=h.toLowerCase()),m?(p.unshift(g),o=h+o):(p.push(g),o+=h),c){if(k=b.exec(o))if(i=k.index,j=i+k[0].length,l){if(!m&&j<o.length||m&&i>0){q=f(i,j);break}}else l=!0}else if(-1!=(i=o.indexOf(b))){q=f(i,i+b.length);break}return l&&(q=f(i,j)),n.dispose(),q}function L(a){return function(){var b=!!Da,c=C(),d=[c].concat(T.toArray(arguments)),e=a.apply(this,d);return b||D(),e}}function M(a,b){return L(function(c,d,e,f){typeof e==P&&(e=d,d=Q),f=h(f,ka);var g=a;b&&(g=e>=0,this.collapse(!g));var i=G(c.getRangeBoundaryPosition(this,g),d,e,f.characterOptions,f.wordOptions),j=i.position;return this[g?\"setStart\":\"setEnd\"](j.node,j.offset),i.unitsMoved})}function N(a){return L(function(b,c){c=V(c,ga);for(var d,e=H(b,this,c,!a),f=0;(d=e.next())&&Z.test(d.character);)++f;e.dispose();var g=f>0;return g&&this[a?\"moveStart\":\"moveEnd\"](\"character\",a?f:-f,{characterOptions:c}),g})}function O(a){return L(function(b,c){var d=!1;return this.changeEachRange(function(b){d=b[a](c)||d}),d})}var P=\"undefined\",Q=\"character\",R=\"word\",S=a.dom,T=a.util,U=T.extend,V=T.createOptions,W=S.getBody,X=/^[ \\t\\f\\r\\n]+$/,Y=/^[ \\t\\f\\r]+$/,Z=/^[\\t-\\r \\u0085\\u00A0\\u1680\\u180E\\u2000-\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000]+$/,$=/^[\\t \\u00A0\\u1680\\u180E\\u2000-\\u200B\\u202F\\u205F\\u3000]+$/,_=\"en\",aa=a.Selection.isDirectionBackward,ba=!1,ca=!1,da=!1,ea=!0;!function(){var b=S.createTestElement(document,\"<p>1 </p><p></p>\",!0),c=b.firstChild,d=a.getSelection();d.collapse(c.lastChild,2),d.setStart(c.firstChild,0),ba=1==(\"\"+d).length,b.innerHTML=\"1 <br />\",d.collapse(b,2),d.setStart(b.firstChild,0),ca=1==(\"\"+d).length,b.innerHTML=\"1 <p>1</p>\",d.collapse(b,2),d.setStart(b.firstChild,0),da=1==(\"\"+d).length,S.removeNode(b),d.removeAllRanges()}();var fa,ga={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:\"\"},ha={includeBlockContentTrailingSpace:!ea,includeSpaceBeforeBr:!ca,includeSpaceBeforeBlock:!da,includePreLineTrailingSpace:!0},ia={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:c}},ja={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:\"forward\",wordOptions:null,characterOptions:null},ka={wordOptions:null,characterOptions:null},la={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},ma={wordOptions:null,characterOptions:null,direction:\"forward\"},na=S.getComputedStyleProperty;!function(){var a=document.createElement(\"table\"),b=W(document);b.appendChild(a),fa=\"block\"==na(a,\"display\"),b.removeChild(a)}();var oa={table:\"table\",caption:\"table-caption\",colgroup:\"table-column-group\",col:\"table-column\",thead:\"table-header-group\",tbody:\"table-row-group\",tfoot:\"table-footer-group\",tr:\"table-row\",td:\"table-cell\",th:\"table-cell\"};w.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var pa=0,qa=0,ra={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new z(this,a))},toString:function(){return\"[NodeWrapper(\"+S.inspectNode(this.node)+\")]\"}};y.prototype=ra;var sa=\"EMPTY\",ta=\"NON_SPACE\",ua=\"UNCOLLAPSIBLE_SPACE\",va=\"COLLAPSIBLE_SPACE\",wa=\"TRAILING_SPACE_BEFORE_BLOCK\",xa=\"TRAILING_SPACE_IN_BLOCK\",ya=\"TRAILING_SPACE_BEFORE_BR\",za=\"PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK\",Aa=\"TRAILING_LINE_BREAK_AFTER_BR\",Ba=\"INCLUDED_TRAILING_LINE_BREAK_AFTER_BR\";U(ra,{isCharacterDataNode:x(\"isCharacterDataNode\",S.isCharacterDataNode,\"node\"),getNodeIndex:x(\"nodeIndex\",S.getNodeIndex,\"node\"),getLength:x(\"nodeLength\",S.getNodeLength,\"node\"),containsPositions:x(\"containsPositions\",m,\"node\"),isWhitespace:x(\"isWhitespace\",s,\"node\"),isCollapsedWhitespace:x(\"isCollapsedWhitespace\",t,\"node\"),getComputedDisplay:x(\"computedDisplay\",i,\"node\"),isCollapsed:x(\"collapsed\",u,\"node\"),isIgnored:x(\"ignored\",v,\"node\"),next:x(\"nextPos\",q,\"node\"),previous:x(\"previous\",r,\"node\"),getTextNodeInfo:x(\"textNodeInfo\",function(a){var b=null,c=!1,d=na(a.parentNode,\"whiteSpace\"),e=\"pre-line\"==d;return e?(b=Y,c=!0):(\"normal\"==d||\"nowrap\"==d)&&(b=X,c=!0),{node:a,text:a.data,spaceRegex:b,collapseSpaces:c,preLine:e}},\"node\"),hasInnerText:x(\"hasInnerText\",function(a,b){for(var c=this.session,d=c.getPosition(a.parentNode,this.getNodeIndex()+1),e=c.getPosition(a,0),f=b?d:e,g=b?e:d;f!==g;){\nif(f.prepopulateChar(),f.isDefinitelyNonEmpty())return!0;f=b?f.previousVisible():f.nextVisible()}return!1},\"node\"),isRenderedBlock:x(\"isRenderedBlock\",function(a){for(var b=a.getElementsByTagName(\"br\"),c=0,d=b.length;d>c;++c)if(!u(b[c]))return!0;return this.hasInnerText()},\"node\"),getTrailingSpace:x(\"trailingSpace\",function(a){if(\"br\"==a.tagName.toLowerCase())return\"\";switch(this.getComputedDisplay()){case\"inline\":for(var b=a.lastChild;b;){if(!v(b))return 1==b.nodeType?this.session.getNodeWrapper(b).getTrailingSpace():\"\";b=b.previousSibling}break;case\"inline-block\":case\"inline-table\":case\"none\":case\"table-column\":case\"table-column-group\":break;case\"table-cell\":return\"\t\";default:return this.isRenderedBlock(!0)?\"\\n\":\"\"}return\"\"},\"node\"),getLeadingSpace:x(\"leadingSpace\",function(a){switch(this.getComputedDisplay()){case\"inline\":case\"inline-block\":case\"inline-table\":case\"none\":case\"table-column\":case\"table-column-group\":case\"table-cell\":break;default:return this.isRenderedBlock(!1)?\"\\n\":\"\"}return\"\"},\"node\")});var Ca={character:\"\",characterType:sa,isBr:!1,prepopulateChar:function(){var a=this;if(!a.prepopulatedChar){var b=a.node,c=a.offset,d=\"\",e=sa,f=!1;if(c>0)if(3==b.nodeType){var g=b.data,h=g.charAt(c-1),i=a.nodeWrapper.getTextNodeInfo(),j=i.spaceRegex;i.collapseSpaces?j.test(h)?c>1&&j.test(g.charAt(c-2))||(i.preLine&&\"\\n\"===g.charAt(c)?(d=\" \",e=za):(d=\" \",e=va)):(d=h,e=ta,f=!0):(d=h,e=ua,f=!0)}else{var k=b.childNodes[c-1];if(k&&1==k.nodeType&&!u(k)&&(\"br\"==k.tagName.toLowerCase()?(d=\"\\n\",a.isBr=!0,e=va,f=!1):a.checkForTrailingSpace=!0),!d){var l=b.childNodes[c];l&&1==l.nodeType&&!u(l)&&(a.checkForLeadingSpace=!0)}}a.prepopulatedChar=!0,a.character=d,a.characterType=e,a.isCharInvariant=f}},isDefinitelyNonEmpty:function(){var a=this.characterType;return a==ta||a==ua},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=!0,this.character=a,this.characterType=va),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var b=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();b&&(this.isLeadingSpace=!0,this.character=b,this.characterType=va),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b,c=this;c=c.previousVisible();)if(b=c.getCharacter(a),\"\"!==b)return c;return null},getCharacter:function(a){function b(){return n||(k=o.getPrecedingUncollapsedPosition(a),n=!0),k}this.resolveLeadingAndTrailingSpaces();var c,d=this.character,e=f(a.ignoreCharacters),g=\"\"!==d&&e.indexOf(d)>-1;if(this.isCharInvariant)return c=g?\"\":d;var h=[\"character\",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,e].join(\"_\"),i=this.cache.get(h);if(null!==i)return i;var j,k,l=\"\",m=this.characterType==va,n=!1,o=this;return m&&(this.type==Ba?l=\"\\n\":\" \"==d&&(!b()||k.isTrailingSpace||\"\\n\"==k.character||\" \"==k.character&&k.characterType==va)||(\"\\n\"==d&&this.isLeadingSpace?b()&&\"\\n\"!=k.character&&(l=\"\\n\"):(j=this.nextUncollapsed(),j&&(j.isBr?this.type=ya:j.isTrailingSpace&&\"\\n\"==j.character?this.type=xa:j.isLeadingSpace&&\"\\n\"==j.character&&(this.type=wa),\"\\n\"==j.character?(this.type!=ya||a.includeSpaceBeforeBr)&&(this.type!=wa||a.includeSpaceBeforeBlock)&&(this.type==xa&&j.isTrailingSpace&&!a.includeBlockContentTrailingSpace||(this.type!=za||j.type!=ta||a.includePreLineTrailingSpace)&&(\"\\n\"==d?j.isTrailingSpace?this.isTrailingSpace||this.isBr&&(j.type=Aa,b()&&k.isLeadingSpace&&!k.isTrailingSpace&&\"\\n\"==k.character?j.character=\"\":j.type=Ba):l=\"\\n\":\" \"==d&&(l=\" \"))):l=d)))),e.indexOf(l)>-1&&(l=\"\"),this.cache.set(h,l),l},equals:function(a){return!!a&&this.node===a.node&&this.offset===a.offset},inspect:A,toString:function(){return this.character}};z.prototype=Ca,U(Ca,{next:x(\"nextPos\",function(a){var b=a.nodeWrapper,c=a.node,d=a.offset,e=b.session;if(!c)return null;var f,g,h;return d==b.getLength()?(f=c.parentNode,g=f?b.getNodeIndex()+1:0):b.isCharacterDataNode()?(f=c,g=d+1):(h=c.childNodes[d],e.getNodeWrapper(h).containsPositions()?(f=h,g=0):(f=c,g=d+1)),f?e.getPosition(f,g):null}),previous:x(\"previous\",function(a){var b,c,d,e=a.nodeWrapper,f=a.node,g=a.offset,h=e.session;return 0==g?(b=f.parentNode,c=b?e.getNodeIndex():0):e.isCharacterDataNode()?(b=f,c=g-1):(d=f.childNodes[g-1],h.getNodeWrapper(d).containsPositions()?(b=d,c=S.getNodeLength(d)):(b=f,c=g-1)),b?h.getPosition(b,c):null}),nextVisible:x(\"nextVisible\",function(a){var b=a.next();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex()+1)),e}),nextUncollapsed:x(\"nextUncollapsed\",function(a){for(var b=a;b=b.nextVisible();)if(b.resolveLeadingAndTrailingSpaces(),\"\"!==b.character)return b;return null}),previousVisible:x(\"previousVisible\",function(a){var b=a.previous();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex())),e})});var Da=null,Ea=function(){function a(a){var b=new w;return{get:function(c){var d=b.get(c[a]);if(d)for(var e,f=0;e=d[f++];)if(e.node===c)return e;return null},set:function(c){var d=c.node[a],e=b.get(d)||b.set(d,[]);e.push(c)}}}function b(){this.initCaches()}var c=T.isHostProperty(document.documentElement,\"uniqueID\");return b.prototype={initCaches:function(){this.elementCache=c?function(){var a=new w;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a(\"tagName\"),this.textNodeCache=a(\"data\"),this.otherNodeCache=a(\"nodeName\")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var c=b.get(a);return c||(c=new y(a,this),b.set(c)),c},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var c=b?\"start\":\"end\";return this.getPosition(a[c+\"Container\"],a[c+\"Offset\"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},b}();U(S,{nextNode:q,previousNode:r});var Fa=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)if(a[c]===b)return c;return-1};U(a.rangePrototype,{moveStart:M(!0,!1),moveEnd:M(!1,!1),move:M(!0,!0),trimStart:N(!0),trimEnd:N(!1),trim:L(function(a,b){var c=this.trimStart(b),d=this.trimEnd(b);return c||d}),expand:L(function(a,b,c){var d=!1;c=h(c,la);var e=c.characterOptions;if(b||(b=Q),b==R){var f,g,i=c.wordOptions,j=a.getRangeBoundaryPosition(this,!0),k=a.getRangeBoundaryPosition(this,!1),l=F(j,e,i),m=l.nextEndToken(),n=m.chars[0].previousVisible();if(this.collapsed)f=m;else{var o=F(k,e,i);f=o.previousStartToken()}return g=f.chars[f.chars.length-1],n.equals(j)||(this.setStart(n.node,n.offset),d=!0),g&&!g.equals(k)&&(this.setEnd(g.node,g.offset),d=!0),c.trim&&(c.trimStart&&(d=this.trimStart(e)||d),c.trimEnd&&(d=this.trimEnd(e)||d)),d}return this.moveEnd(Q,1,c)}),text:L(function(a,b){return this.collapsed?\"\":I(a,this,V(b,ga)).join(\"\")}),selectCharacters:L(function(a,b,c,d,e){var f={characterOptions:e};b||(b=W(this.getDocument())),this.selectNodeContents(b),this.collapse(!0),this.moveStart(\"character\",c,f),this.collapse(!0),this.moveEnd(\"character\",d-c,f)}),toCharacterRange:L(function(a,b,c){b||(b=W(this.getDocument()));var d,e,f=b.parentNode,g=S.getNodeIndex(b),h=-1==S.comparePoints(this.startContainer,this.endContainer,f,g),i=this.cloneRange();return h?(i.setStartAndEnd(this.startContainer,this.startOffset,f,g),d=-i.text(c).length):(i.setStartAndEnd(f,g,this.startContainer,this.startOffset),d=i.text(c).length),e=d+this.text(c).length,{start:d,end:e}}),findText:L(function(b,c,d){d=h(d,ja),d.wholeWordsOnly&&(d.wordOptions.includeTrailingSpace=!1);var e=aa(d.direction),f=d.withinRange;f||(f=a.createRange(),f.selectNodeContents(this.getDocument()));var g=c,i=!1;\"string\"==typeof g?d.caseSensitive||(g=g.toLowerCase()):i=!0;var j=b.getRangeBoundaryPosition(this,!e),k=f.comparePoint(j.node,j.offset);-1===k?j=b.getRangeBoundaryPosition(f,!0):1===k&&(j=b.getRangeBoundaryPosition(f,!1));for(var l,m=j,n=!1;;)if(l=K(m,g,i,f,d)){if(l.valid)return this.setStartAndEnd(l.startPos.node,l.startPos.offset,l.endPos.node,l.endPos.offset),!0;m=e?l.startPos:l.endPos}else{if(!d.wrap||n)return!1;f=f.cloneRange(),m=b.getRangeBoundaryPosition(f,!e),f.setBoundary(j.node,j.offset,e),n=!0}}),pasteHtml:function(a){if(this.deleteContents(),a){var b=this.createContextualFragment(a),c=b.lastChild;this.insertNode(b),this.collapseAfter(c)}}}),U(a.selectionPrototype,{expand:L(function(a,b,c){this.changeEachRange(function(a){a.expand(b,c)})}),move:L(function(a,b,c,d){var e=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var f=this.getRangeAt(0);d||(d={}),d.characterOptions=V(d.characterOptions,ha),e=f.move(b,c,d),this.setSingleRange(f)}return e}),trimStart:O(\"trimStart\"),trimEnd:O(\"trimEnd\"),trim:O(\"trim\"),selectCharacters:L(function(b,c,d,e,f,g){var h=a.createRange(c);h.selectCharacters(c,d,e,g),this.setSingleRange(h,f)}),saveCharacterRanges:L(function(a,b,c){for(var d=this.getAllRanges(),e=d.length,f=[],g=1==e&&this.isBackward(),h=0,i=d.length;i>h;++h)f[h]={characterRange:d[h].toCharacterRange(b,c),backward:g,characterOptions:c};return f}),restoreCharacterRanges:L(function(b,c,d){this.removeAllRanges();for(var e,f,g,h=0,i=d.length;i>h;++h)f=d[h],g=f.characterRange,e=a.createRange(c),e.selectCharacters(c,g.start,g.end,f.characterOptions),this.addRange(e,f.backward)}),text:L(function(a,b){for(var c=[],d=0,e=this.rangeCount;e>d;++d)c[d]=this.getRangeAt(d).text(b);return c.join(\"\")})}),a.innerText=function(b,c){var d=a.createRange(b);d.selectNodeContents(b);var e=d.text(c);return e},a.createWordIterator=function(a,b,c){var d=C();c=h(c,ma);var e=d.getPosition(a,b),f=F(e,c.characterOptions,c.wordOptions),g=aa(c.direction);return{next:function(){return g?f.previousStartToken():f.nextEndToken()},dispose:function(){f.dispose(),this.next=function(){}}}},a.noMutation=function(a){var b=C();a(b),D()},a.noMutation.createEntryPointFunction=L,a.textRange={isBlockNode:l,isCollapsedWhitespaceNode:t,createPosition:L(function(a,b,c){return a.getPosition(b,c)})}}),a},this),function(a,b){\"function\"==typeof define&&define.amd?define([\"./rangy-core\"],a):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=a(require(\"rangy\")):a(b.rangy)}(function(a){return a.createModule(\"SaveRestore\",[\"WrappedRange\"],function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d=\"selectionBoundary_\"+ +new Date+\"_\"+(\"\"+Math.random()).slice(2),e=o.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement(\"span\"),c.id=d,c.style.lineHeight=\"0\",c.style.display=\"none\",c.className=\"rangySelectionBoundary\",c.appendChild(e.createTextNode(r)),f.insertNode(c),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?\"setStartBefore\":\"setEndBefore\"](g),p(g)):b.warn(\"Marker element has been removed. Cannot restore selection.\")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(b,c){var e,f,g=a.DomRange.getRangeDocument(b),h=b.toString(),i=q(c);return b.collapsed?(f=d(b,!1),{document:g,markerId:f.id,collapsed:!0}):(f=d(b,!1),e=d(b,!0),{document:g,startMarkerId:e.id,endMarkerId:f.id,collapsed:!1,backward:i,toString:function(){return\"original text: '\"+h+\"', new text: '\"+b.toString()+\"'\"}})}function h(d,f){var g=d.document;\"undefined\"==typeof f&&(f=!0);var h=a.createRange(g);if(d.collapsed){var i=c(d.markerId,g);if(i){i.style.display=\"inline\";var j=i.previousSibling;j&&3==j.nodeType?(p(i),h.collapseToPoint(j,j.length)):(h.collapseBefore(i),p(i))}else b.warn(\"Marker element has been removed. Cannot restore selection.\")}else e(g,h,d.startMarkerId,!0),e(g,h,d.endMarkerId,!1);return f&&h.normalizeBoundaries(),h}function i(b,d){var e,h,i=[],j=q(d);b=b.slice(0),b.sort(f);for(var k=0,l=b.length;l>k;++k)i[k]=g(b[k],j);for(k=l-1;k>=0;--k)e=b[k],h=a.DomRange.getRangeDocument(e),e.collapsed?e.collapseAfter(c(i[k].markerId,h)):(e.setEndBefore(c(i[k].endMarkerId,h)),e.setStartAfter(c(i[k].startMarkerId,h)));return i}function j(c){if(!a.isSelectionValid(c))return b.warn(\"Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.\"),null;var d=a.getSelection(c),e=d.getAllRanges(),f=1==e.length&&d.isBackward(),g=i(e,f);return f?d.setSingleRange(e[0],f):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}}function k(a){for(var b=[],c=a.length,d=c-1;d>=0;d--)b[d]=h(a[d],!0);return b}function l(b,c){if(!b.restored){var d=b.rangeInfos,e=a.getSelection(b.win),f=k(d),g=d.length;1==g&&c&&a.features.selectionHasExtend&&d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0}}function m(a,b){var d=c(b,a);d&&p(d)}function n(a){for(var b,c=a.rangeInfos,d=0,e=c.length;e>d;++d)b=c[d],b.collapsed?m(a.doc,b.markerId):(m(a.doc,b.startMarkerId),m(a.doc,b.endMarkerId))}var o=a.dom,p=o.removeNode,q=a.Selection.isDirectionBackward,r=\"\\ufeff\";a.util.extend(a,{saveRange:g,restoreRange:h,saveRanges:i,restoreRanges:k,saveSelection:j,restoreSelection:l,removeMarkerElement:m,removeMarkers:n})}),a},this);var Base=function(){};Base.extend=function(a,b){var c=Base.prototype.extend;Base._prototyping=!0;var d=new this;c.call(d,a),d.base=function(){},delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||c).call(arguments[0],d)};return f.ancestor=this,f.extend=this.extend,f.forEach=this.forEach,f.implement=this.implement,f.prototype=d,f.toString=this.toString,f.valueOf=function(a){return\"object\"==a?f:e.valueOf()},c.call(f,b),\"function\"==typeof f.init&&f.init(),f},Base.prototype={extend:function(a,b){if(arguments.length>1){var c=this[a];if(c&&\"function\"==typeof b&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\\bbase\\b/.test(b)){var d=b.valueOf();b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=d.apply(this,arguments);return this.base=a,b},b.valueOf=function(a){return\"object\"==a?b:d},b.toString=Base.toString}this[a]=b}else if(a){var e=Base.prototype.extend;Base._prototyping||\"function\"==typeof this||(e=this.extend||e);for(var f={toSource:null},g=[\"constructor\",\"toString\",\"valueOf\"],h=Base._prototyping?0:1;i=g[h++];)a[i]!=f[i]&&e.call(this,i,a[i]);for(var i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:\"1.1\",forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)\"function\"==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function a(a){return+(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\\d+).+? like mac os x/)||[void 0,0])[1]}function b(a){return+(a.match(/android (\\d+)/)||[void 0,0])[1]}function c(a,b){var c,d=-1;return\"Microsoft Internet Explorer\"==navigator.appName?c=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\"):\"Netscape\"==navigator.appName&&(navigator.userAgent.indexOf(\"Trident\")>-1?c=new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\"):/Edge\\/(\\d+)./i.test(navigator.userAgent)&&(c=/Edge\\/(\\d+)./i)),c&&null!=c.exec(navigator.userAgent)&&(d=parseFloat(RegExp.$1)),-1===d?!1:a?b?\"<\"===b?d>a:\">\"===b?a>d:\"<=\"===b?d>=a:\">=\"===b?a>=d:void 0:a===d:!0}var d=navigator.userAgent,e=document.createElement(\"div\"),f=-1!==d.indexOf(\"Gecko\")&&-1===d.indexOf(\"KHTML\"),g=-1!==d.indexOf(\"AppleWebKit/\"),h=-1!==d.indexOf(\"Chrome/\"),i=-1!==d.indexOf(\"Opera/\");return{USER_AGENT:d,supported:function(){var c=this.USER_AGENT.toLowerCase(),d=\"contentEditable\"in e,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h=this.isIos()&&a(c)<5||this.isAndroid()&&b(c)<4||-1!==c.indexOf(\"opera mobi\")||-1!==c.indexOf(\"hpwos/\");return d&&f&&g&&!h},isTouchDevice:function(){return this.supportsEvent(\"touchmove\")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf(\"Android\")},supportsSandboxedIframes:function(){return c()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!(\"querySelector\"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return c(12,\">\")},hasCurrentStyleProperty:function(){return\"currentStyle\"in e},insertsLineBreaksOnReturn:function(){return f},supportsPlaceholderAttributeOn:function(a){return\"placeholder\"in a},supportsEvent:function(a){return\"on\"+a in e||function(){return e.setAttribute(\"on\"+a,\"return;\"),\"function\"==typeof e[\"on\"+a]}()},supportsEventsInIframeCorrectly:function(){return!i},supportsHTML5Tags:function(a){var b=a.createElement(\"div\"),c=\"<article>foo</article>\";return b.innerHTML=c,b.innerHTML.toLowerCase()===c},supportsCommand:function(){var a={formatBlock:c(10,\"<=\"),insertUnorderedList:c(9,\">=\")||c(12,\"<=\"),insertOrderedList:c(9,\">=\")||c(12,\"<=\")},b={insertHTML:f};return function(c,d){var e=a[d];if(!e){try{return c.queryCommandSupported(d)}catch(f){}try{return c.queryCommandEnabled(d)}catch(g){return!!b[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return c()},canDisableAutoLinking:function(){return this.supportsCommand(document,\"AutoUrlDetect\")},clearsContentEditableCorrectly:function(){return f||i||g},supportsGetAttributeCorrectly:function(){var a=document.createElement(\"td\");return\"1\"!=a.getAttribute(\"rowspan\")},canSelectImagesInContentEditable:function(){return f||c()||i},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a,b,c=e.cloneNode(!1);return c.innerHTML=\"<p><div></div>\",b=c.innerHTML.toLowerCase(),a=\"<p></p><div></div>\"===b||\"<p><div></div></p>\"===b,this.autoClosesUnclosedTags=function(){return a},a},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf(\"[native code]\")},supportsSelectionModify:function(){return\"getSelection\"in window&&\"modify\"in window.getSelection()},needsSpaceAfterLineBreak:function(){return i},supportsSpeechApiOn:function(a){var b=d.match(/Chrome\\/(\\d+)/)||[void 0,0];return b[1]>=11&&(\"onwebkitspeechchange\"in a||\"speech\"in a)},crashesWhenDefineProperty:function(a){return c(9)&&(\"XMLHttpRequest\"===a||\"XDomainRequest\"===a)},doesAsyncFocus:function(){return c(12,\">\")},hasProblemsSettingCaretAfterImg:function(){return c()},hasUndoInContextMenu:function(){return f||h||i},hasInsertNodeIssue:function(){return i},hasIframeFocusIssue:function(){return c()},createsNestedInvalidMarkupAfterPaste:function(){return g},supportsMutationEvents:function(){return\"MutationEvent\"in window},supportsModernPaste:function(){return!c()},fixStyleKey:function(a){return\"cssFloat\"===a?\"styleFloat\"in document.createElement(\"div\").style?\"styleFloat\":\"cssFloat\":a}}}(),wysihtml5.lang.array=function(a){return{contains:function(b){if(Array.isArray(b)){for(var c=b.length;c--;)if(-1!==wysihtml5.lang.array(a).indexOf(b[c]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(b)},indexOf:function(b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},without:function(b){b=wysihtml5.lang.array(b);for(var c=[],d=0,e=a.length;e>d;d++)b.contains(a[d])||c.push(a[d]);return c},get:function(){for(var b=0,c=a.length,d=[];c>b;b++)d.push(a[b]);return d},map:function(b,c){if(Array.prototype.map)return a.map(b,c);for(var d=a.length>>>0,e=new Array(d),f=0;d>f;f++)e[f]=b.call(c,a[f],f,a);return e},unique:function(){for(var b=[],c=a.length,d=0;c>d;)wysihtml5.lang.array(b).contains(a[d])||b.push(a[d]),d++;return b}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(a,b){return this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b),this},off:function(a,b){this.events=this.events||{};var c,d,e=0;if(a){for(c=this.events[a]||[],d=[];e<c.length;e++)c[e]!==b&&b&&d.push(c[e]);this.events[a]=d}else this.events={};return this},fire:function(a,b){this.events=this.events||{};for(var c=this.events[a]||[],d=0;d<c.length;d++)c[d].call(this,b);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(a){return{merge:function(b,c){for(var d in b)c&&wysihtml5.lang.object(b[d]).isPlainObject()&&(\"undefined\"==typeof a[d]||wysihtml5.lang.object(a[d]).isPlainObject())?\"undefined\"==typeof a[d]?a[d]=wysihtml5.lang.object(b[d]).clone(!0):wysihtml5.lang.object(a[d]).merge(wysihtml5.lang.object(b[d]).clone(!0)):a[d]=wysihtml5.lang.object(b[d]).isPlainObject()?wysihtml5.lang.object(b[d]).clone(!0):b[d];return this},difference:function(b){var c={};for(var d in a)a.hasOwnProperty(d)&&(b.hasOwnProperty(d)||(c[d]=a[d]));for(var e in b)b.hasOwnProperty(e)&&(a.hasOwnProperty(e)&&a[e]===b[e]||(c[0]=a[0]));return c},get:function(){return a},clone:function(b){var c,d={};if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(c in a)a.hasOwnProperty(c)&&(b?d[c]=wysihtml5.lang.object(a[c]).clone(b):d[c]=a[c]);return d},isArray:function(){return\"[object Array]\"===Object.prototype.toString.call(a)},isFunction:function(){return\"[object Function]\"===Object.prototype.toString.call(a)},isPlainObject:function(){return a&&\"[object Object]\"===Object.prototype.toString.call(a)&&!(\"Node\"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}}},function(){var a=/^\\s+/,b=/\\s+$/,c=/[&<>\\t\"]/g,d={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"\t\":\"&nbsp; \"};wysihtml5.lang.string=function(e){return e=String(e),{trim:function(){return e.replace(a,\"\").replace(b,\"\")},interpolate:function(a){for(var b in a)e=this.replace(\"#{\"+b+\"}\").by(a[b]);return e},replace:function(a){return{by:function(b){return e.split(a).join(b)}}},escapeHTML:function(a,b){var f=e.replace(c,function(a){return d[a]});return a&&(f=f.replace(/(?:\\r\\n|\\r|\\n)/g,\"<br />\")),b&&(f=f.replace(/  /gi,\"&nbsp; \")),f}}}}(),function(a){function b(a,b){return f(a,b)?a:(a===a.ownerDocument.documentElement&&(a=a.ownerDocument.body),g(a,b))}function c(a){return a.replace(i,function(a,b){var c=(b.match(j)||[])[1]||\"\",d=l[c];b=b.replace(j,\"\"),b.split(d).length>b.split(c).length&&(b+=c,c=\"\");var e=b,f=b;return b.length>k&&(f=f.substr(0,k)+\"...\"),\"www.\"===e.substr(0,4)&&(e=\"http://\"+e),'<a href=\"'+e+'\">'+f+\"</a>\"+c})}function d(a){var b=a._wysihtml5_tempElement;return b||(b=a._wysihtml5_tempElement=a.createElement(\"div\")),b}function e(b){var e=b.parentNode,f=a.lang.string(b.data).escapeHTML(),g=d(e.ownerDocument);for(g.innerHTML=\"<span></span>\"+c(f),g.removeChild(g.firstChild);g.firstChild;)e.insertBefore(g.firstChild,b);e.removeChild(b)}function f(b,c){for(var d;b.parentNode;){if(b=b.parentNode,d=b.nodeName,b.className&&a.lang.array(b.className.split(\" \")).contains(c))return!0;if(h.contains(d))return!0;if(\"body\"===d)return!1}return!1}function g(b,c){if(!(h.contains(b.nodeName)||b.className&&a.lang.array(b.className.split(\" \")).contains(c))){if(b.nodeType===a.TEXT_NODE&&b.data.match(i))return void e(b);for(var d=a.lang.array(b.childNodes).get(),f=d.length,j=0;f>j;j++)g(d[j],c);return b}}var h=a.lang.array([\"CODE\",\"PRE\",\"A\",\"SCRIPT\",\"HEAD\",\"TITLE\",\"STYLE\"]),i=/((https?:\\/\\/|www\\.)[^\\s<]{3,})/gi,j=/([^\\w\\/\\-](,?))$/i,k=100,l={\")\":\"(\",\"]\":\"[\",\"}\":\"{\"};a.dom.autoLink=b,a.dom.autoLink.URL_REG_EXP=i}(wysihtml5),function(a){var b=a.dom;b.addClass=function(a,c){var d=a.classList;return d?d.add(c):void(b.hasClass(a,c)||(a.className+=\" \"+c))},b.removeClass=function(a,b){var c=a.classList;return c?c.remove(b):void(a.className=a.className.replace(new RegExp(\"(^|\\\\s+)\"+b+\"(\\\\s+|$)\"),\" \"))},b.hasClass=function(a,b){var c=a.classList;if(c)return c.contains(b);var d=a.className;return d.length>0&&(d==b||new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\").test(d))}}(wysihtml5),wysihtml5.dom.contains=function(){var a=document.documentElement;return a.contains?function(a,b){if(b.nodeType!==wysihtml5.ELEMENT_NODE){if(b.parentNode===a)return!0;b=b.parentNode}return a!==b&&a.contains(b)}:a.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:void 0}(),wysihtml5.dom.convertToList=function(){function a(a,b){var c=a.createElement(\"li\");return b.appendChild(c),c}function b(a,b){return a.createElement(b)}function c(c,d,e){if(\"UL\"===c.nodeName||\"OL\"===c.nodeName||\"MENU\"===c.nodeName)return c;var f,g,h,i,j,k,l,m,n,o=c.ownerDocument,p=b(o,d),q=c.querySelectorAll(\"br\"),r=q.length;for(n=0;r>n;n++)for(i=q[n];(j=i.parentNode)&&j!==c&&j.lastChild===i;){if(\"block\"===wysihtml5.dom.getStyle(\"display\").from(j)){j.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(f=wysihtml5.lang.array(c.childNodes).get(),g=f.length,n=0;g>n;n++)m=m||a(o,p),h=f[n],k=\"block\"===wysihtml5.dom.getStyle(\"display\").from(h),l=\"BR\"===h.nodeName,!k||e&&wysihtml5.dom.hasClass(h,e)?l?m=m.firstChild?null:m:m.appendChild(h):(m=m.firstChild?a(o,p):m,m.appendChild(h),m=null);return 0===f.length&&a(o,p),c.parentNode.replaceChild(p,c),p}return c}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){for(var d,e=0,f=a.length;f>e;e++)d=a[e],\"undefined\"!=typeof b[d]&&\"\"!==b[d]&&(c[d]=b[d]);return{andTo:arguments.callee}}}}}},function(a){var b=[\"-webkit-box-sizing\",\"-moz-box-sizing\",\"-ms-box-sizing\",\"box-sizing\"],c=function(b){return d(b)?parseInt(a.getStyle(\"width\").from(b),10)<b.offsetWidth:!1},d=function(c){for(var d=0,e=b.length;e>d;d++)if(\"border-box\"===a.getStyle(b[d]).from(c))return b[d]};a.copyStyles=function(d){return{from:function(e){c(e)&&(d=wysihtml5.lang.array(d).without(b));for(var f,g=\"\",h=d.length,i=0;h>i;i++)f=d[i],g+=f+\":\"+a.getStyle(f).from(e)+\";\";return{to:function(b){return a.setStyles(g).on(b),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(a,b,c,d){var e=function(c){for(var e=c.target,f=3===e.nodeType?e.parentNode:e,g=a.querySelectorAll(b),h=0,i=g.length;i>h;h++)g[h].contains(f)&&d.call(g[h],c)};return a.addEventListener(c,e,!1),{stop:function(){a.removeEventListener(c,e,!1)}}}}(wysihtml5),function(a){function b(a,b){for(var c=[a],d=a;b&&d&&d!==b||!b&&d;)c.unshift(d),d=d.parentNode;return c}function c(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")}a.dom.domNode=function(d){var e=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(b){var c=b?/^\\s*$/g:/^[\\r\\n]*$/g;return d.nodeType===a.TEXT_NODE&&c.test(d.data)},visible:function(){var b=!/^\\s*$/g.test(a.dom.getTextContent(d));return b||1===d.nodeType&&d.querySelector(\"img, br, hr, object, embed, canvas, input, textarea\")&&(b=!0),b}},prev:function(b){var f=d.previousSibling,g=b&&b.nodeTypes?b.nodeTypes:e;return f?c(f)||!a.lang.array(g).contains(f.nodeType)||b&&b.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).prev(b):f:null},next:function(b){var f=d.nextSibling,g=b&&b.nodeTypes?b.nodeTypes:e;return f?c(f)||!a.lang.array(g).contains(f.nodeType)||b&&b.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).next(b):f:null},commonAncestor:function(a,c){var e=b(d,c),f=b(a,c);if(e[0]!=f[0])return null;for(var g=0;g<e.length;g++)if(e[g]!=f[g])return e[g-1];return null},lastLeafNode:function(b){var c;if(1!==d.nodeType)return d;if(c=d.lastChild,!c)return d;if(b&&b.leafClasses)for(var e=b.leafClasses.length;e--;)if(a.dom.hasClass(d,b.leafClasses[e]))return d;return a.dom.domNode(c).lastLeafNode(b)},escapeParent:function(b,c){var e,f,g,h=d;if(!a.dom.contains(b,d))throw new Error(\"Child is not a descendant of node.\");do{for(e=h.parentNode,f=e.cloneNode(!1);e.lastChild&&e.lastChild!==h;)f.insertBefore(e.lastChild,f.firstChild);if(e!==b&&(g=e.cloneNode(!1),g.appendChild(h),h=g),e.parentNode.insertBefore(h,e.nextSibling),\"\"!==f.innerHTML)if(/^\\s+$/.test(f.innerHTML))for(;f.lastChild;)e.parentNode.insertBefore(f.lastChild,h.nextSibling);else e.parentNode.insertBefore(f,h.nextSibling);if(\"\"===e.innerHTML)e.parentNode.removeChild(e);else if(/^\\s+$/.test(e.innerHTML)){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}while(e&&e!==b);c&&h&&(h.parentNode.insertBefore(c,h),c.appendChild(h))},test:function(b){var c;if(!b)return!1;if(1!==d.nodeType)return!1;if(b.query&&!d.matches(b.query))return!1;if(b.nodeName&&d.nodeName.toLowerCase()!==b.nodeName.toLowerCase())return!1;if(b.className&&!d.classList.contains(b.className))return!1;if(b.classRegExp){var e=(d.className||\"\").match(b.classRegExp)||[];if(0===e.length)return!1}if(b.styleProperty&&b.styleProperty.length>0)for(var f=!1,g=Array.isArray(b.styleProperty)?b.styleProperty:[b.styleProperty],h=0,i=g.length;i>h;h++){if(c=a.browser.fixStyleKey(g[h]),d.style[c]){if(!b.styleValue){f=!0;break}if(b.styleValue instanceof RegExp){if(d.style[c].trim().match(b.styleValue).length>0){f=!0;break}}else if(Array.isArray(b.styleValue)){if(b.styleValue.indexOf(d.style[c].trim())){f=!0;break}}else if(b.styleValue===d.style[c].trim().replace(/, /g,\",\")){f=!0;break}}if(!f)return!1}if(b.attribute){var j=a.dom.getAttributes(d),k=[],l=!1;Array.isArray(b.attribute)?k=b.attribute:k[b.attribute]=b.attributeValue;for(var m in k)if(k.hasOwnProperty(m))if(\"undefined\"==typeof k[m]){if(\"undefined\"!=typeof j[m]){l=!0;break}}else if(j[m]===k[m]){l=!0;break}if(!l)return!1}return!0}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a=function(a,b){var c=b.createElement(\"div\");c.style.display=\"none\",b.body.appendChild(c);try{c.innerHTML=a}catch(d){}return b.body.removeChild(c),c},b=function(a){if(!a._wysihtml5_supportsHTML5Tags){for(var b=0,d=c.length;d>b;b++)a.createElement(c[b]);a._wysihtml5_supportsHTML5Tags=!0}},c=[\"abbr\",\"article\",\"aside\",\"audio\",\"bdi\",\"canvas\",\"command\",\"datalist\",\"details\",\"figcaption\",\"figure\",\"footer\",\"header\",\"hgroup\",\"keygen\",\"mark\",\"meter\",\"nav\",\"output\",\"progress\",\"rp\",\"rt\",\"ruby\",\"svg\",\"section\",\"source\",\"summary\",\"time\",\"track\",\"video\",\"wbr\"];return function(c,d){d=d||document;var e;return\"object\"==typeof c&&c.nodeType?(e=d.createElement(\"div\"),e.appendChild(c)):wysihtml5.browser.supportsHTML5Tags(d)?(e=d.createElement(\"div\"),e.innerHTML=c):(b(d),e=a(c,d)),e}}(),wysihtml5.dom.getParentElement=function(){return function(a,b,c,d){for(c=c||50;c--&&a&&\"BODY\"!==a.nodeName&&(!d||a!==d);){if(wysihtml5.dom.domNode(a).test(b))return a;a=a.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function a(a){return a.replace(c,function(a){return a.charAt(1).toUpperCase()})}var b={\"float\":\"styleFloat\"in document.createElement(\"div\").style?\"styleFloat\":\"cssFloat\"},c=/\\-[a-z]/g;return function(c){return{from:function(d){if(d.nodeType===wysihtml5.ELEMENT_NODE){var e=d.ownerDocument,f=b[c]||a(c),g=d.style,h=d.currentStyle,i=g[f];if(i)return i;if(h)try{return h[f]}catch(j){}var k,l,m=e.defaultView||e.parentWindow,n=(\"height\"===c||\"width\"===c)&&\"TEXTAREA\"===d.nodeName;return m.getComputedStyle?(n&&(k=g.overflow,g.overflow=\"hidden\"),l=m.getComputedStyle(d,null).getPropertyValue(c),n&&(g.overflow=k||\"\"),l):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(a,b){var c=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b&&/^\\s*$/.test(a.innerText||a.textContent)||c.push(a):c=c.concat(wysihtml5.dom.getTextNodes(a,b));return c},wysihtml5.dom.hasElementWithTagName=function(){function a(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=c++)}var b={},c=1;return function(c,d){var e=a(c)+\":\"+d,f=b[e];return f||(f=b[e]=c.getElementsByTagName(d)),f.length>0}}(),function(a){function b(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=d++)}var c={},d=1;a.dom.hasElementWithClassName=function(d,e){if(!a.browser.supportsNativeGetElementsByClassName())return!!d.querySelector(\".\"+e);var f=b(d)+\":\"+e,g=c[f];return g||(g=c[f]=d.getElementsByClassName(e)),\ng.length>0}}(wysihtml5),wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join(\"\\n\"),{into:function(b){var c=b.createElement(\"style\");c.type=\"text/css\",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a));var d=b.querySelector(\"head link\");if(d)return void d.parentNode.insertBefore(c,d);var e=b.querySelector(\"head\");e&&e.appendChild(c)}}},function(a){a.dom.lineBreaks=function(b){function c(a){return\"BR\"===a.nodeName}function d(b){return c(b)?!0:\"block\"===a.dom.getStyle(\"display\").from(b)?!0:!1}return{add:function(c){var e=b.ownerDocument,f=a.dom.domNode(b).next({ignoreBlankTexts:!0}),g=a.dom.domNode(b).prev({ignoreBlankTexts:!0});f&&!d(f)&&a.dom.insert(e.createElement(\"br\")).after(b),g&&!d(g)&&a.dom.insert(e.createElement(\"br\")).before(b)},remove:function(d){var e=a.dom.domNode(b).next({ignoreBlankTexts:!0}),f=a.dom.domNode(b).prev({ignoreBlankTexts:!0});e&&c(e)&&e.parentNode.removeChild(e),f&&c(f)&&f.parentNode.removeChild(f)}}}}(wysihtml5),wysihtml5.dom.observe=function(a,b,c){b=\"string\"==typeof b?[b]:b;for(var d,e,f=0,g=b.length;g>f;f++)e=b[f],a.addEventListener?a.addEventListener(e,c,!1):(d=function(b){\"target\"in b||(b.target=b.srcElement),b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},c.call(a,b)},a.attachEvent(\"on\"+e,d));return{stop:function(){for(var e,f=0,g=b.length;g>f;f++)e=b[f],a.removeEventListener?a.removeEventListener(e,c,!1):a.detachEvent(\"on\"+e,d)}}},wysihtml5.dom.parse=function(a,b){function c(a,b){wysihtml5.lang.object(t).merge(s).merge(b.rules).get();var c,f,g,h=b.context||a.ownerDocument||document,i=h.createDocumentFragment(),j=\"string\"==typeof a,k=!1;for(b.clearInternals===!0&&(k=!0),c=j?wysihtml5.dom.getAsDom(a,h):a,t.selectors&&e(c,t.selectors);c.firstChild;)g=c.firstChild,f=d(g,b.cleanUp,k,b.uneditableClass),f&&i.appendChild(f),g!==f&&c.removeChild(g);if(b.unjoinNbsps)for(var l=wysihtml5.dom.getTextNodes(i),m=l.length;m--;)l[m].nodeValue=l[m].nodeValue.replace(/([\\S\\u00A0])\\u00A0/gi,\"$1 \");return c.innerHTML=\"\",c.appendChild(i),j?wysihtml5.quirks.getCorrectInnerHTML(c):c}function d(a,b,c,e){var f,g,h,i,j=a.nodeType,k=a.childNodes,l=k.length,m=p[j],n=0;if(e&&1===j&&wysihtml5.dom.hasClass(a,e))return a;if(g=m&&m(a,c),!g){if(g===!1){for(f=a.ownerDocument.createDocumentFragment(),n=l;n--;)k[n]&&(h=d(k[n],b,c,e),h&&(k[n]===h&&n--,f.insertBefore(h,f.firstChild)));return i=wysihtml5.dom.getStyle(\"display\").from(a),\"\"===i&&(i=wysihtml5.lang.array(u).contains(a.tagName)?\"block\":\"\"),wysihtml5.lang.array([\"block\",\"flex\",\"table\"]).contains(i)&&f.appendChild(a.ownerDocument.createElement(\"br\")),wysihtml5.lang.array([\"div\",\"pre\",\"p\",\"table\",\"td\",\"th\",\"ul\",\"ol\",\"li\",\"dd\",\"dl\",\"footer\",\"header\",\"section\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"]).contains(a.nodeName.toLowerCase())&&a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\\s/.test(a.nextSibling.nodeValue)||f.appendChild(a.ownerDocument.createTextNode(\" \"))),f.normalize&&f.normalize(),f}return null}for(n=0;l>n;n++)k[n]&&(h=d(k[n],b,c,e),h&&(k[n]===h&&n--,g.appendChild(h)));if(b&&g.nodeName.toLowerCase()===q&&(!g.childNodes.length||/^\\s*$/gi.test(g.innerHTML)&&(c||\"_wysihtml5-temp-placeholder\"!==a.className&&\"rangySelectionBoundary\"!==a.className)||!g.attributes.length)){for(f=g.ownerDocument.createDocumentFragment();g.firstChild;)f.appendChild(g.firstChild);return f.normalize&&f.normalize(),f}return g.normalize&&g.normalize(),g}function e(a,b){var c,d,e;for(c in b)if(b.hasOwnProperty(c)){wysihtml5.lang.object(b[c]).isFunction()?d=b[c]:\"string\"==typeof b[c]&&z[b[c]]&&(d=z[b[c]]),e=a.querySelectorAll(c);for(var f=e.length;f--;)d(e[f])}}function f(a,b){var c,d,e,f=t.tags,h=a.nodeName.toLowerCase(),j=a.scopeName;if(a._wysihtml5)return null;if(a._wysihtml5=1,\"wysihtml5-temp\"===a.className)return null;if(j&&\"HTML\"!=j&&(h=j+\":\"+h),\"outerHTML\"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||\"P\"!==a.nodeName||\"</p>\"===a.outerHTML.slice(-4).toLowerCase()||(h=\"div\")),h in f){if(c=f[h],!c||c.remove)return null;if(c.unwrap)return!1;c=\"string\"==typeof c?{rename_tag:c}:c}else{if(!a.firstChild)return null;c={rename_tag:q}}if(c.one_of_type&&!g(a,t,c.one_of_type,b)){if(!c.remove_action)return null;if(\"unwrap\"===c.remove_action)return!1;if(\"rename\"!==c.remove_action)return null;e=c.remove_action_rename_to||q}return d=a.ownerDocument.createElement(e||c.rename_tag||h),m(a,d,c,b),i(a,d,c),a=null,d.normalize&&d.normalize(),d}function g(a,b,c,d){var e,f;if(\"SPAN\"===a.nodeName&&!d&&(\"_wysihtml5-temp-placeholder\"===a.className||\"rangySelectionBoundary\"===a.className))return!0;for(f in c)if(c.hasOwnProperty(f)&&b.type_definitions&&b.type_definitions[f]&&(e=b.type_definitions[f],h(a,e)))return!0;return!1}function h(a,b){var c,d,e,f,g,h=a.getAttribute(\"class\"),i=a.getAttribute(\"style\");if(b.methods)for(var j in b.methods)if(b.methods.hasOwnProperty(j)&&y[j]&&y[j](a))return!0;if(h&&b.classes){h=h.replace(/^\\s+/g,\"\").replace(/\\s+$/g,\"\").split(r),c=h.length;for(var k=0;c>k;k++)if(b.classes[h[k]])return!0}if(i&&b.styles){i=i.split(\";\");for(d in b.styles)if(b.styles.hasOwnProperty(d))for(var l=i.length;l--;)if(g=i[l].split(\":\"),g[0].replace(/\\s/g,\"\").toLowerCase()===d&&(b.styles[d]===!0||1===b.styles[d]||wysihtml5.lang.array(b.styles[d]).contains(g[1].replace(/\\s/g,\"\").toLowerCase())))return!0}if(b.attrs)for(e in b.attrs)if(b.attrs.hasOwnProperty(e)&&(f=wysihtml5.dom.getAttribute(a,e),\"string\"==typeof f&&f.search(b.attrs[e])>-1))return!0;return!1}function i(a,b,c){var d,e;if(c&&c.keep_styles)for(d in c.keep_styles)if(c.keep_styles.hasOwnProperty(d)){if(e=\"float\"===d?a.style.styleFloat||a.style.cssFloat:a.style[d],c.keep_styles[d]instanceof RegExp&&!c.keep_styles[d].test(e))continue;\"float\"===d?b.style[a.style.styleFloat?\"styleFloat\":\"cssFloat\"]=e:a.style[d]&&(b.style[d]=e)}}function j(a,b){var c=[];for(var d in b)b.hasOwnProperty(d)&&0===d.indexOf(a)&&c.push(d);return c}function k(a,b,c,d){var e,f=wysihtml5.lang.object(c).isFunction()?c:v[c];return f&&(e=f(b,d),\"string\"==typeof e)?e:!1}function l(a,b){var c,d,e,f=wysihtml5.lang.object(t.attributes||{}).clone(),g=wysihtml5.lang.object(f).merge(wysihtml5.lang.object(b||{}).clone()).get(),h={},i=wysihtml5.dom.getAttributes(a);for(c in g)if(/\\*$/.test(c)){e=j(c.slice(0,-1),i);for(var l=0,m=e.length;m>l;l++)d=k(e[l],i[e[l]],g[c],a.nodeName),d!==!1&&(h[e[l]]=d)}else d=k(c,i[c],g[c],a.nodeName),d!==!1&&(h[c]=d);return h}function m(a,b,c,d){var e,f,g,h,i,j={},k=c.set_class,m=c.add_class,n=c.add_style,o=c.set_attributes,p=t.classes,q=0,s=[],u=[],v=[],y=[];if(o&&(j=wysihtml5.lang.object(o).clone()),j=wysihtml5.lang.object(j).merge(l(a,c.check_attributes)).get(),k&&s.push(k),m)for(h in m)i=x[m[h]],i&&(g=i(wysihtml5.dom.getAttribute(a,h)),\"string\"==typeof g&&s.push(g));if(n)for(h in n)i=w[n[h]],i&&(newStyle=i(wysihtml5.dom.getAttribute(a,h)),\"string\"==typeof newStyle&&u.push(newStyle));if(\"string\"==typeof p&&\"any\"===p)if(a.getAttribute(\"class\"))if(t.classes_blacklist){for(y=a.getAttribute(\"class\"),y&&(s=s.concat(y.split(r))),e=s.length;e>q;q++)f=s[q],t.classes_blacklist[f]||v.push(f);v.length&&(j[\"class\"]=wysihtml5.lang.array(v).unique().join(\" \"))}else j[\"class\"]=a.getAttribute(\"class\");else s&&s.length>0&&(j[\"class\"]=wysihtml5.lang.array(s).unique().join(\" \"));else{for(d||(p[\"_wysihtml5-temp-placeholder\"]=1,p._rangySelectionBoundary=1,p[\"wysiwyg-tmp-selected-cell\"]=1),y=a.getAttribute(\"class\"),y&&(s=s.concat(y.split(r))),e=s.length;e>q;q++)f=s[q],p[f]&&v.push(f);v.length&&(j[\"class\"]=wysihtml5.lang.array(v).unique().join(\" \"))}j[\"class\"]&&d&&(j[\"class\"]=j[\"class\"].replace(\"wysiwyg-tmp-selected-cell\",\"\"),/^\\s*$/g.test(j[\"class\"])&&delete j[\"class\"]),u.length&&(j.style=wysihtml5.lang.array(u).unique().join(\" \"));for(h in j)try{b.setAttribute(h,j[h])}catch(z){}j.src&&(\"undefined\"!=typeof j.width&&b.setAttribute(\"width\",j.width),\"undefined\"!=typeof j.height&&b.setAttribute(\"height\",j.height))}function n(a){var b=a.nextSibling;if(!b||b.nodeType!==wysihtml5.TEXT_NODE){var c=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\");return a.ownerDocument.createTextNode(c)}b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")}function o(a){return t.comments?a.ownerDocument.createComment(a.nodeValue):void 0}var p={1:f,3:n,8:o},q=\"span\",r=/\\s+/,s={tags:{},classes:{}},t={},u=[\"ADDRESS\",\"BLOCKQUOTE\",\"CENTER\",\"DIR\",\"DIV\",\"DL\",\"FIELDSET\",\"FORM\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"ISINDEX\",\"MENU\",\"NOFRAMES\",\"NOSCRIPT\",\"OL\",\"P\",\"PRE\",\"TABLE\",\"UL\"],v={url:function(){var a=/^https?:\\/\\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\\/|https?:\\/\\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\\/|https?:\\/\\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\\-]/gi;return function(b,c){return b?b.replace(a,\"\"):\"IMG\"===c?\"\":null}}(),numbers:function(){var a=/\\D/g;return function(b){return b=(b||\"\").replace(a,\"\"),b||null}}(),dimension:function(){var a=/\\D*(\\d+)(\\.\\d+)?\\s?(%)?\\D*/;return function(b){return b=(b||\"\").replace(a,\"$1$2$3\"),b||null}}(),any:function(){return function(a){return a?a:null}}()},w={align_text:function(){var a={left:\"text-align: left;\",right:\"text-align: right;\",center:\"text-align: center;\"};return function(b){return a[String(b).toLowerCase()]}}()},x={align_img:function(){var a={left:\"wysiwyg-float-left\",right:\"wysiwyg-float-right\"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:\"wysiwyg-text-align-left\",right:\"wysiwyg-text-align-right\",center:\"wysiwyg-text-align-center\",justify:\"wysiwyg-text-align-justify\"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:\"wysiwyg-clear-left\",right:\"wysiwyg-clear-right\",both:\"wysiwyg-clear-both\",all:\"wysiwyg-clear-both\"};return function(b){return a[String(b).toLowerCase()]}}(),size_font:function(){var a={1:\"wysiwyg-font-size-xx-small\",2:\"wysiwyg-font-size-small\",3:\"wysiwyg-font-size-medium\",4:\"wysiwyg-font-size-large\",5:\"wysiwyg-font-size-x-large\",6:\"wysiwyg-font-size-xx-large\",7:\"wysiwyg-font-size-xx-large\",\"-\":\"wysiwyg-font-size-smaller\",\"+\":\"wysiwyg-font-size-larger\"};return function(b){return a[String(b).charAt(0)]}}()},y={has_visible_contet:function(){var a,b=[\"img\",\"video\",\"picture\",\"br\",\"script\",\"noscript\",\"style\",\"table\",\"iframe\",\"object\",\"embed\",\"audio\",\"svg\",\"input\",\"button\",\"select\",\"textarea\",\"canvas\"];return function(c){if(a=(c.innerText||c.textContent).replace(/\\s/g,\"\"),a&&a.length>0)return!0;for(var d=b.length;d--;)if(c.querySelector(b[d]))return!0;return c.offsetWidth&&c.offsetWidth>0&&c.offsetHeight&&c.offsetHeight>0?!0:!1}}()},z={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return c(a,b)},wysihtml5.dom.removeEmptyTextNodes=function(a){for(var b,c=wysihtml5.lang.array(a.childNodes).get(),d=c.length,e=0;d>e;e++)b=c[e],b.nodeType===wysihtml5.TEXT_NODE&&/^[\\n\\r]*$/.test(b.data)&&b.parentNode.removeChild(b)},wysihtml5.dom.renameElement=function(a,b){for(var c,d=a.ownerDocument.createElement(b);c=a.firstChild;)d.appendChild(c);return wysihtml5.dom.copyAttributes([\"align\",\"className\"]).from(a).to(d),a.parentNode&&a.parentNode.replaceChild(d,a),d},wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){if(!a.firstChild)return void a.parentNode.removeChild(a);for(var b=a.ownerDocument.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a),a=b=null}},function(a){function b(b){return\"block\"===a.getStyle(\"display\").from(b)}function c(a){return\"BR\"===a.nodeName}function d(a){var b=a.ownerDocument.createElement(\"br\");a.appendChild(b)}function e(a,e){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f,g,h,i,j,k,l,m=a.ownerDocument,n=m.createDocumentFragment(),o=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),p=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),q=a.lastElementChild||a.lastChild;if(e)for(!o||b(o)||c(o)||d(n);k=a.firstElementChild||a.firstChild;){for(g=k.lastChild,l=k===q;f=k.firstChild;)h=f===g,i=(!l||p&&!b(p))&&h&&!b(f)&&!c(f),n.appendChild(f),i&&d(n);k.parentNode.removeChild(k)}else for(;k=a.firstElementChild||a.firstChild;){if(k.querySelector&&k.querySelector(\"div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6\"))for(;f=k.firstChild;)n.appendChild(f);else{for(j=m.createElement(\"p\");f=k.firstChild;)j.appendChild(f);n.appendChild(j)}k.parentNode.removeChild(k)}a.parentNode.replaceChild(n,a)}}a.resolveList=e}(wysihtml5.dom),function(a){var b=document,c=[\"parent\",\"top\",\"opener\",\"frameElement\",\"frames\",\"localStorage\",\"globalStorage\",\"sessionStorage\",\"indexedDB\"],d=[\"open\",\"close\",\"openDialog\",\"showModalDialog\",\"alert\",\"confirm\",\"prompt\",\"openDatabase\",\"postMessage\",\"XMLHttpRequest\",\"XDomainRequest\"],e=[\"referrer\",\"write\",\"open\",\"close\"];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.config.className||(this.config.className=\"wysihtml5-sandbox\"),this.editableArea=this._createIframe()},insertInto:function(a){\"string\"==typeof a&&(a=b.getElementById(a)),a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw new Error(\"wysihtml5.Sandbox: Sandbox iframe isn't loaded yet\")},_createIframe:function(){var c=this,d=b.createElement(\"iframe\");return d.className=this.config.className,a.dom.setAttributes({security:\"restricted\",allowtransparency:\"true\",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d),a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(d.src=\"javascript:'<html></html>'\"),d.onload=function(){d.onreadystatechange=d.onload=null,c._onLoadIframe(d)},d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&(d.onreadystatechange=d.onload=null,c._onLoadIframe(d))},d},_onLoadIframe:function(f){if(a.dom.contains(b.documentElement,f)){var g=this,h=f.contentWindow,i=f.contentWindow.document,j=b.characterSet||b.charset||\"utf-8\",k=this._getHtml({charset:j,stylesheets:this.config.stylesheets});if(i.open(\"text/html\",\"replace\"),i.write(k),i.close(),this.getWindow=function(){return f.contentWindow},this.getDocument=function(){return f.contentWindow.document},h.onerror=function(a,b,c){throw new Error(\"wysihtml5.Sandbox: \"+a,b,c)},!a.browser.supportsSandboxedIframes()){var l,m;for(l=0,m=c.length;m>l;l++)this._unset(h,c[l]);for(l=0,m=d.length;m>l;l++)this._unset(h,d[l],a.EMPTY_FUNCTION);for(l=0,m=e.length;m>l;l++)this._unset(i,e[l]);this._unset(i,\"cookie\",\"\",!0)}a.polyfills&&a.polyfills(h,i),this.loaded=!0,setTimeout(function(){g.callback(g)},0)}},_getHtml:function(b){var c,d=b.stylesheets,e=\"\",f=0;if(d=\"string\"==typeof d?[d]:d)for(c=d.length;c>f;f++)e+='<link rel=\"stylesheet\" href=\"'+d[f]+'\">';return b.stylesheets=e,a.lang.string('<!DOCTYPE html><html><head><meta charset=\"#{charset}\">#{stylesheets}</head><body></body></html>').interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(f){}try{b.__defineGetter__(c,function(){return d})}catch(f){}if(e)try{b.__defineSetter__(c,function(){})}catch(f){}if(!a.browser.crashesWhenDefineProperty(c))try{var g={get:function(){return d}};e&&(g.set=function(){}),Object.defineProperty(b,c,g)}catch(f){}}})}(wysihtml5),function(a){var b=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(b,c,d){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.config.className||(this.config.className=\"wysihtml5-sandbox\"),d?this.element=this._bindElement(d):this.element=this._createElement()},destroy:function(){},_createElement:function(){var a=b.createElement(\"div\");return a.className=this.config.className,this._loadElement(a),a},_bindElement:function(a){return a.className=a.className?a.className+\" wysihtml5-sandbox\":\"wysihtml5-sandbox\",this._loadElement(a,!0),a},_loadElement:function(a,b){var c=this;if(!b){var d=this._getHtml();a.innerHTML=d}this.loaded=!0,setTimeout(function(){c.callback(c)},0)},_getHtml:function(a){return\"\"}})}(wysihtml5),function(){var a={className:\"class\"};wysihtml5.dom.setAttributes=function(b){return{on:function(c){for(var d in b)c.setAttribute(a[d]||d,b[d])}}}}(),wysihtml5.dom.setStyles=function(a){return{on:function(b){var c=b.style;if(\"string\"==typeof a)return void(c.cssText+=\";\"+a);for(var d in a)\"float\"===d?(c.cssFloat=a[d],c.styleFloat=a[d]):c[d]=a[d]}}},function(a){a.simulatePlaceholder=function(b,c,d,e){var f=e||\"wysihtml5-placeholder\",g=function(){var b=c.element.offsetWidth>0&&c.element.offsetHeight>0;c.hasPlaceholderSet()&&(c.clear(),c.element.focus(),b&&setTimeout(function(){var a=c.selection.getSelection();a.focusNode&&a.anchorNode||c.selection.selectNode(c.element.firstChild||c.element)},0)),c.placeholderSet=!1,a.removeClass(c.element,f)},h=function(){c.isEmpty()&&!c.placeholderSet&&(c.placeholderSet=!0,c.setValue(d,!1),a.addClass(c.element,f))};b.on(\"set_placeholder\",h).on(\"unset_placeholder\",g).on(\"focus:composer\",g).on(\"paste:composer\",g).on(\"blur:composer\",h),h()}}(wysihtml5.dom),function(a){var b=document.documentElement;\"textContent\"in b?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):\"innerText\"in b?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(a,b){var c=!wysihtml5.browser.supportsGetAttributeCorrectly();b=b.toLowerCase();var d=a.nodeName;if(\"IMG\"==d&&\"src\"==b&&wysihtml5.dom.isLoadedImage(a)===!0)return a.src;if(c&&\"outerHTML\"in a){var e=a.outerHTML.toLowerCase(),f=-1!=e.indexOf(\" \"+b+\"=\");return f?a.getAttribute(b):null}return a.getAttribute(b)},wysihtml5.dom.getAttributes=function(a){var b,c=!wysihtml5.browser.supportsGetAttributeCorrectly(),d=a.nodeName,e=[];for(b in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(b)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,b))&&a.attributes[b].specified&&(\"IMG\"==d&&\"src\"==a.attributes[b].name.toLowerCase()&&wysihtml5.dom.isLoadedImage(a)===!0?e.src=a.src:wysihtml5.lang.array([\"rowspan\",\"colspan\"]).contains(a.attributes[b].name.toLowerCase())&&c?1!==a.attributes[b].value&&(e[a.attributes[b].name]=a.attributes[b].value):e[a.attributes[b].name]=a.attributes[b].value);return e},wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(\":-moz-broken\")}catch(b){if(a.complete&&\"complete\"===a.readyState)return!0}},function(a){function b(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)if(c=a[e].querySelectorAll(b))for(var g=c.length;g--;d.unshift(c[g]));return d}function d(a){a.parentNode.removeChild(a)}function e(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function f(a,b){for(var c=a.nextSibling;1!=c.nodeType;)if(c=c.nextSibling,!b||b==c.tagName.toLowerCase())return c;return null}var g=a.dom,h=function(a){this.el=a,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},i=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{query:\"table\"})):b&&(this.table=b,this.cell=this.table.querySelectorAll(\"th, td\")[0])};i.prototype={addSpannedCellToMap:function(a,b,c,d,e,f){for(var g=[],i=c+(f?parseInt(f,10)-1:0),j=d+(e?parseInt(e,10)-1:0),k=c;i>=k;k++){\"undefined\"==typeof b[k]&&(b[k]=[]);for(var l=d;j>=l;l++)b[k][l]=new h(a),b[k][l].isColspan=e&&parseInt(e,10)>1,b[k][l].isRowspan=f&&parseInt(f,10)>1,b[k][l].firstCol=l==d,b[k][l].lastCol=l==j,b[k][l].firstRow=k==c,b[k][l].lastRow=k==i,b[k][l].isReal=l==d&&k==c,b[k][l].spanCollection=g,g.push(b[k][l])}},setCellAsModified:function(a){if(a.modified=!0,a.spanCollection.length>0)for(var b=0,c=a.spanCollection.length;c>b;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a,b,c,d,e,f,i,j,k=[],l=this.getTableRows();for(a=0;a<l.length;a++)for(b=l[a],c=this.getRowCells(b),f=0,\"undefined\"==typeof k[a]&&(k[a]=[]),d=0;d<c.length;d++){for(e=c[d];\"undefined\"!=typeof k[a][f];)f++;i=g.getAttribute(e,\"colspan\"),j=g.getAttribute(e,\"rowspan\"),i||j?(this.addSpannedCellToMap(e,k,a,f,i,j),f+=i?parseInt(i,10):1):(k[a][f]=new h(e),f++)}return this.map=k,k},getRowCells:function(c){var d=this.table.querySelectorAll(\"table\"),e=d?b(d,\"th, td\"):[],f=c.querySelectorAll(\"th, td\"),g=e.length>0?a.lang.array(f).without(e):f;return g},getTableRows:function(){var c=this.table.querySelectorAll(\"table\"),d=c?b(c,\"tr\"):[],e=this.table.querySelectorAll(\"tr\"),f=d.length>0?a.lang.array(e).without(d):e;return f},getMapIndex:function(a){for(var b=this.map.length,c=this.map&&this.map[0]?this.map[0].length:0,d=0;b>d;d++)for(var e=0;c>e;e++)if(this.map[d][e].el===a)return{row:d,col:e};return!1},getElementAtIndex:function(a){return this.setTableMap(),this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var c=this.idx_start;this.idx_start=this.idx_end,this.idx_end=c}if(this.idx_start.col>this.idx_end.col){var d=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=d}if(null!=this.idx_start&&null!=this.idx_end)for(var e=this.idx_start.row,f=this.idx_end.row;f>=e;e++)for(var g=this.idx_start.col,h=this.idx_end.col;h>=g;g++)b.push(this.map[e][g].el);return b},orderSelectionEnds:function(a){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,c){for(var d,e=this.table.ownerDocument,f=e.createDocumentFragment(),g=0;b>g;g++){if(d=e.createElement(a),c)for(var h in c)c.hasOwnProperty(h)&&d.setAttribute(h,c[h]);d.appendChild(document.createTextNode(\" \")),f.appendChild(d)}return f},correctColIndexForUnreals:function(a,b){for(var c=this.map[b],d=-1,e=0;a>e;e++)c[e].isReal&&d++;return d},getLastNewCellOnRow:function(a,b){for(var c,d,e=this.getRowCells(a),f=0,g=e.length;g>f;f++)if(c=e[f],d=this.getMapIndex(c),d===!1||\"undefined\"!=typeof b&&d.row!=b)return c;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll(\"td, th\");return a&&0!=a.length?!1:(d(this.table),!0)},splitRowToCells:function(a){if(a.isColspan){var b=parseInt(g.getAttribute(a.el,\"colspan\")||1,10),c=a.el.tagName.toLowerCase();if(b>1){var d=this.createCells(c,b-1);e(a.el,d)}a.el.removeAttribute(\"colspan\")}},getRealRowEl:function(a,b){var c=null,d=null;b=b||this.idx;for(var e=0,f=this.map[b.row].length;f>e;e++)if(d=this.map[b.row][e],d.isReal&&(c=g.getParentElement(d.el,{query:\"tr\"})))return c;return null===c&&a&&(c=g.getParentElement(this.map[b.row][b.col].el,{query:\"tr\"})||null),c},injectRowAt:function(a,b,c,d,f){var h=this.getRealRowEl(!1,{row:a,col:b}),i=this.createCells(d,c);if(h){var j=this.correctColIndexForUnreals(b,a);j>=0?e(this.getRowCells(h)[j],i):h.insertBefore(i,h.firstChild)}else{var k=this.table.ownerDocument.createElement(\"tr\");k.appendChild(i),e(g.getParentElement(f.el,{query:\"tr\"}),k)}},canMerge:function(a){if(this.to=a,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}for(var d=this.idx_start.row,e=this.idx_end.row;e>=d;d++)for(var f=this.idx_start.col,g=this.idx_end.col;g>=f;f++)if(this.map[d][f].isColspan||this.map[d][f].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var c=parseInt(g.getAttribute(a.el,b),10)-1;c>=1?a.el.setAttribute(b,c):(a.el.removeAttribute(b),\"colspan\"==b&&(a.isColspan=!1),\"rowspan\"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,b,c,e,f,h,i;if(this.setTableMap(),this.map){for(c=0,e=this.map.length;e>c;c++){for(a=this.map[c],i=!0,f=0,h=a.length;h>f;f++)if(b=a[f],!(g.getAttribute(b.el,\"rowspan\")&&parseInt(g.getAttribute(b.el,\"rowspan\"),10)>1&&b.firstRow!==!0)){i=!1;break}if(i)for(f=0;h>f;f++)this.decreaseCellSpan(a[f],\"rowspan\")}var j=this.getTableRows();for(c=0,e=j.length;e>c;c++)a=j[c],0==a.childNodes.length&&/^\\s*$/.test(a.textContent||a.innerText)&&d(a)}},fillMissingCells:function(){var a=0,b=0,c=null;if(this.setTableMap(),this.map){a=this.map.length;for(var d=0;a>d;d++)this.map[d].length>b&&(b=this.map[d].length);for(var f=0;a>f;f++)for(var g=0;b>g;g++)this.map[f]&&!this.map[f][g]&&g>0&&(this.map[f][g]=new h(this.createCells(\"td\",1)),c=this.map[f][g-1],c&&c.el&&c.el.parent&&e(this.map[f][g-1].el,this.map[f][g].el))}},rectify:function(){return this.removeEmptyTable()?!1:(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,\"colspan\")?parseInt(g.getAttribute(a.el,\"colspan\"),10):1,c=a.el.tagName.toLowerCase();if(a.isRowspan){var d=parseInt(g.getAttribute(a.el,\"rowspan\"),10);if(d>1)for(var e=1,f=d-1;f>=e;e++)this.injectRowAt(this.idx.row+e,this.idx.col,b,c,a);a.el.removeAttribute(\"rowspan\")}this.splitRowToCells(a)}},merge:function(a){if(this.rectify())if(this.canMerge(a)){for(var b=this.idx_end.row-this.idx_start.row+1,c=this.idx_end.col-this.idx_start.col+1,e=this.idx_start.row,f=this.idx_end.row;f>=e;e++)for(var g=this.idx_start.col,h=this.idx_end.col;h>=g;g++)e==this.idx_start.row&&g==this.idx_start.col?(b>1&&this.map[e][g].el.setAttribute(\"rowspan\",b),c>1&&this.map[e][g].el.setAttribute(\"colspan\",c)):(/^\\s*<br\\/?>\\s*$/.test(this.map[e][g].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=\" \"+this.map[e][g].el.innerHTML),d(this.map[e][g].el));this.rectify()}else window.console&&console.log(\"Do not know how to merge allready merged cells.\")},collapseCellToNextRow:function(a){var b=this.getMapIndex(a.el),c=b.row+1,d={row:c,col:b.col};if(c<this.map.length){var f=this.getRealRowEl(!1,d);if(null!==f){var h=this.correctColIndexForUnreals(d.col,d.row);if(h>=0)e(this.getRowCells(f)[h],a.el);else{var i=this.getLastNewCellOnRow(f,c);null!==i?e(i,a.el):f.insertBefore(a.el,f.firstChild)}parseInt(g.getAttribute(a.el,\"rowspan\"),10)>2?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)-1):a.el.removeAttribute(\"rowspan\")}}},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):d(a.el):parseInt(g.getAttribute(a.el,\"rowspan\"),10)>2?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)-1):a.el.removeAttribute(\"rowspan\")},getRowElementsByCell:function(){var a=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=this.map[this.idx.row],c=0,d=b.length;d>c;c++)b[c].isReal&&a.push(b[c].el);return a},getColumnElementsByCell:function(){var a=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=0,c=this.map.length;c>b;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=g.getParentElement(this.cell,{query:\"tr\"});if(a){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var b=this.map[this.idx.row],c=0,e=b.length;e>c;c++)b[c].modified||(this.setCellAsModified(b[c]),this.removeRowCell(b[c]));d(a)}},removeColCell:function(a){a.isColspan?parseInt(g.getAttribute(a.el,\"colspan\"),10)>2?a.el.setAttribute(\"colspan\",parseInt(g.getAttribute(a.el,\"colspan\"),10)-1):a.el.removeAttribute(\"colspan\"):a.isReal&&d(a.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var a=0,b=this.map.length;b>a;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case\"row\":this.removeRow();break;case\"column\":this.removeColumn()}this.rectify()}},addRow:function(a){var b=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),\"below\"==a&&g.getAttribute(this.cell,\"rowspan\")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,\"rowspan\"),10)-1),this.idx!==!1){for(var c=this.map[this.idx.row],d=b.createElement(\"tr\"),f=0,h=c.length;h>f;f++)c[f].modified||(this.setCellAsModified(c[f]),this.addRowCell(c[f],d,a));switch(a){case\"below\":e(this.getRealRowEl(!0),d);break;case\"above\":var i=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:\"tr\"});i&&i.parentNode.insertBefore(d,i)}}},addRowCell:function(a,b,d){var e=a.isColspan?{colspan:g.getAttribute(a.el,\"colspan\")}:null;a.isReal?\"above\"!=d&&a.isRowspan?a.el.setAttribute(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)+1):b.appendChild(this.createCells(\"td\",1,e)):\"above\"!=d&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells(\"td\",1,e)):c.isRowspan&&a.el.attr(\"rowspan\",parseInt(g.getAttribute(a.el,\"rowspan\"),10)+1)},add:function(a){this.rectify()&&((\"below\"==a||\"above\"==a)&&this.addRow(a),(\"before\"==a||\"after\"==a)&&this.addColumn(a))},addColCell:function(a,b,d){var f,h=a.el.tagName.toLowerCase();switch(d){case\"before\":f=!a.isColspan||a.firstCol;break;case\"after\":f=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(f){switch(d){case\"before\":a.el.parentNode.insertBefore(this.createCells(h,1),a.el);break;case\"after\":e(a.el,this.createCells(h,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,b+1,d)}else a.el.setAttribute(\"colspan\",parseInt(g.getAttribute(a.el,\"colspan\"),10)+1)},addColumn:function(a){var b,c;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),\"after\"==a&&g.getAttribute(this.cell,\"colspan\")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,\"colspan\"),10)-1),this.idx!==!1)for(var d=0,e=this.map.length;e>d;d++)b=this.map[d],b[this.idx.col]&&(c=b[this.idx.col],c.modified||(this.setCellAsModified(c),this.addColCell(c,d,a)))},handleCellAddWithRowspan:function(a,b,c){for(var d,h,i,j=parseInt(g.getAttribute(this.cell,\"rowspan\"),10)-1,k=g.getParentElement(a.el,{query:\"tr\"}),l=a.el.tagName.toLowerCase(),m=this.table.ownerDocument,n=0;j>n;n++)if(d=this.correctColIndexForUnreals(this.idx.col,b+n),k=f(k,\"tr\"))if(d>0)switch(c){case\"before\":h=this.getRowCells(k),d>0&&this.map[b+n][this.idx.col].el!=h[d]&&d==h.length-1?e(h[d],this.createCells(l,1)):h[d].parentNode.insertBefore(this.createCells(l,1),h[d]);break;case\"after\":e(this.getRowCells(k)[d],this.createCells(l,1))}else k.insertBefore(this.createCells(l,1),k.firstChild);else i=m.createElement(\"tr\"),i.appendChild(this.createCells(l,1)),\nthis.table.appendChild(i)}},g.table={getCellsBetween:function(a,b){var c=new i(a);return c.getMapElsTo(b)},addCells:function(a,b){var c=new i(a);c.add(b)},removeCells:function(a,b){var c=new i(a);c.remove(b)},mergeCellsBetween:function(a,b){var c=new i(a);c.merge(b)},unmergeCell:function(a){var b=new i(a);b.unmerge()},orderSelectionEnds:function(a,b){var c=new i(a);return c.orderSelectionEnds(b)},indexOf:function(a){var b=new i(a);return b.setTableMap(),b.getMapIndex(a)},findCell:function(a,b){var c=new i(null,a);return c.getElementAtIndex(b)},findRowByCell:function(a){var b=new i(a);return b.getRowElementsByCell()},findColumnByCell:function(a){var b=new i(a);return b.getColumnElementsByCell()},canMerge:function(a,b){var c=new i(a);return c.canMerge(b)}}}(wysihtml5),wysihtml5.dom.query=function(a,b){var c,d=[];a.nodeType&&(a=[a]);for(var e=0,f=a.length;f>e;e++)if(c=a[e].querySelectorAll(b))for(var g=c.length;g--;d.unshift(c[g]));return d},wysihtml5.dom.compareDocumentPosition=function(){var a=document.documentElement;return a.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)}:function(a,b){var c,d;if(c=9===a.nodeType?a:a.ownerDocument,d=9===b.nodeType?b:b.ownerDocument,a===b)return 0;if(a===b.ownerDocument)return 20;if(a.ownerDocument===b)return 10;if(c!==d)return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(b))return 20;if(2===b.nodeType&&b.childNodes&&-1!==wysihtml5.lang.array(b.childNodes).indexOf(a))return 10;for(var e=a,f=[],g=null;e;){if(e==b)return 10;f.push(e),e=e.parentNode}for(e=b,g=null;e;){if(e==a)return 20;var h=wysihtml5.lang.array(f).indexOf(e);if(-1!==h){var i=f[h],j=wysihtml5.lang.array(i.childNodes).indexOf(f[h-1]),k=wysihtml5.lang.array(i.childNodes).indexOf(g);return j>k?2:4}g=e,e=e.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(a){var b=[];if(a.parentNode){for(;a.lastChild;)b.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return b},wysihtml5.dom.getPastedHtml=function(a){var b;return wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains(\"text/html\")?b=a.clipboardData.getData(\"text/html\"):wysihtml5.lang.array(a.clipboardData.types).contains(\"text/plain\")&&(b=wysihtml5.lang.string(a.clipboardData.getData(\"text/plain\")).escapeHTML(!0,!0))),b},wysihtml5.dom.getPastedHtmlWithDiv=function(a,b){var c=a.selection.getBookmark(),d=a.element.ownerDocument,e=d.createElement(\"DIV\"),f=a.getScrollPos();d.body.appendChild(e),e.style.width=\"1px\",e.style.height=\"1px\",e.style.overflow=\"hidden\",e.style.position=\"absolute\",e.style.top=f.y+\"px\",e.style.left=f.x+\"px\",e.setAttribute(\"contenteditable\",\"true\"),e.focus(),setTimeout(function(){var d;a.selection.setBookmark(c),d=e.innerHTML,d&&/^<br\\/?>$/i.test(d.trim())&&(d=!1),b(d),e.parentNode.removeChild(e)},0)},wysihtml5.dom.removeInvisibleSpaces=function(a){for(var b=wysihtml5.dom.getTextNodes(a),c=b.length;c--;)b[c].nodeValue=b[c].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,\"\")},wysihtml5.quirks.cleanPastedHTML=function(){var a=function(a){var b=wysihtml5.lang.string(a).trim(),c=b.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\");return new RegExp(\"^((?!^\"+c+\"$).)*$\",\"i\")},b=function(b,c){var d,e,f=wysihtml5.lang.object(b).clone(!0);for(d in f.tags)if(f.tags.hasOwnProperty(d)&&f.tags[d].keep_styles)for(e in f.tags[d].keep_styles)f.tags[d].keep_styles.hasOwnProperty(e)&&c[e]&&(f.tags[d].keep_styles[e]=a(c[e]));return f},c=function(a,b){var c;if(!a)return null;for(var d=0,e=a.length;e>d;d++)if(a[d].condition||(c=a[d].set),a[d].condition&&a[d].condition.test(b))return a[d].set;return c};return function(a,d){var e,f={color:wysihtml5.dom.getStyle(\"color\").from(d.referenceNode),fontSize:wysihtml5.dom.getStyle(\"font-size\").from(d.referenceNode)},g=b(c(d.rules,a)||{},f);return e=wysihtml5.dom.parse(a,{rules:g,cleanUp:!0,context:d.referenceNode.ownerDocument,uneditableClass:d.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();(\"<p>&nbsp;</p>\"==b||\"<p>&nbsp;</p><p>&nbsp;</p>\"==b)&&(a.innerHTML=\"\")},0)};return function(b){wysihtml5.dom.observe(b.element,[\"cut\",\"keydown\"],a)}}(),function(a){var b=\"%7E\";a.quirks.getCorrectInnerHTML=function(c){var d=c.innerHTML;if(-1===d.indexOf(b))return d;var e,f,g,h,i=c.querySelectorAll(\"[href*='~'], [src*='~']\");for(h=0,g=i.length;g>h;h++)e=i[h].href||i[h].src,f=a.lang.string(e).replace(\"~\").by(b),d=a.lang.string(d).replace(f).by(e);return d}}(wysihtml5),function(a){var b=\"wysihtml5-quirks-redraw\";a.quirks.redraw=function(c){a.dom.addClass(c,b),a.dom.removeClass(c,b);try{var d=c.ownerDocument;d.execCommand(\"italic\",!1,null),d.execCommand(\"italic\",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(a,b){function c(){return a.addEventListener(\"mousedown\",n),l}function d(c){l.start=c,l.end=c,l.cells=[c],l.table=k.getParentElement(l.start,{query:\"table\"},!1,a),l.table&&(e(),k.addClass(c,m),a.addEventListener(\"mousemove\",g),a.addEventListener(\"mouseup\",h),b.fire(\"tableselectstart\").fire(\"tableselectstart:composer\"))}function e(){if(a){var b=a.querySelectorAll(\".\"+m);if(b.length>0)for(var c=0;c<b.length;c++)k.removeClass(b[c],m)}}function f(a){for(var b=0;b<a.length;b++)k.addClass(a[b],m)}function g(c){var d,g=null,h=k.getParentElement(c.target,{query:\"td, th\"},!1,a);h&&l.table&&l.start&&(g=k.getParentElement(h,{query:\"table\"},!1,a),g&&g===l.table&&(e(),d=l.end,l.end=h,l.cells=k.table.getCellsBetween(l.start,h),l.cells.length>1&&b.composer.selection.deselect(),f(l.cells),l.end!==d&&b.fire(\"tableselectchange\").fire(\"tableselectchange:composer\")))}function h(c){a.removeEventListener(\"mousemove\",g),a.removeEventListener(\"mouseup\",h),b.fire(\"tableselect\").fire(\"tableselect:composer\"),setTimeout(function(){i()},0)}function i(){a.ownerDocument.addEventListener(\"click\",o)}function j(c,d){l.start=c,l.end=d,l.table=k.getParentElement(l.start,{query:\"table\"},!1,a),selectedCells=k.table.getCellsBetween(l.start,l.end),f(selectedCells),i(),b.fire(\"tableselect\").fire(\"tableselect:composer\")}var k=wysihtml5.dom,l={table:null,start:null,end:null,cells:null,select:j},m=\"wysiwyg-tmp-selected-cell\",n=function(b){var c=wysihtml5.dom.getParentElement(b.target,{query:\"td, th\"},!1,a);c&&d(c)},o=function(c){a.ownerDocument.removeEventListener(\"click\",o),k.getParentElement(c.target,{query:\"table\"},!1,a)!=l.table&&(e(),l.table=null,l.start=null,l.end=null,b.fire(\"tableunselect\").fire(\"tableunselect:composer\"))};return c()},function(a){function b(a){var b,c;for(b in d)if(d.hasOwnProperty(b)&&(c=d[b],c.regex.test(a)))return c}function c(a){var c=b(a);return c?c.name:void 0}var d={rgba:{regex:/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([\\d\\.]+)\\s*\\)/i,name:\"rgba\"},rgb:{regex:/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)/i,name:\"rgb\"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:\"hex\",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:\"hex\",radix:16}},e=function(a){return new RegExp(\"(^|\\\\s|;)\"+a+\"\\\\s*:\\\\s*[^;$]+\",\"gi\")};a.quirks.styleParser={getColorParseMethod:b,getColorFormat:c,parseColor:function(c,f){var g,h,i,j,k,l=c;if(f){if(g=e(f),!(h=c.match(g)))return!1;h=h.pop().split(\":\")[1],l=a.lang.string(h).trim()}return(i=b(l))&&(j=l.match(i.regex))?(k=i.radix||10,i===d.hex3?(j.shift(),j.push(1),a.lang.array(j).map(function(a,b){return 3>b?parseInt(a,k)*k+parseInt(a,k):parseFloat(a)})):(j.shift(),j[3]||j.push(1),a.lang.array(j).map(function(a,b){return 3>b?parseInt(a,k):parseFloat(a)}))):!1},unparseColor:function(a,b){var c=16;return\"hex\"===b?(a[0].toString(c)+a[1].toString(c)+a[2].toString(c)).toUpperCase():\"hash\"===b?\"#\"+(a[0].toString(c)+a[1].toString(c)+a[2].toString(c)).toUpperCase():\"rgb\"===b?\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\":\"rgba\"===b?\"rgba(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]+\")\":\"csv\"===b?a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]:a[3]&&1!==a[3]?\"rgba(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\",\"+a[3]+\")\":\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\"},parseFontSize:function(b){var c=b.match(e(\"font-size\"));return c?a.lang.string(c[c.length-1].split(\":\")[1]).trim():!1}}}(wysihtml5),function(a){function b(a){var b=0;if(a.parentNode)do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}function c(a,b){for(var c=0;b!==a;)if(c++,b=b.parentNode,!b)throw new Error(\"not a descendant of ancestor!\");return c}function d(b){var c=document.createElement(\"span\"),d=function(a){b.removeEventListener(\"mouseup\",d),b.removeEventListener(\"keydown\",d),b.removeEventListener(\"touchstart\",d),b.removeEventListener(\"focus\",d),b.removeEventListener(\"blur\",d),b.removeEventListener(\"paste\",e),b.removeEventListener(\"drop\",e),b.removeEventListener(\"beforepaste\",e),c&&c.parentNode&&c.parentNode.removeChild(c)},e=function(a){c&&c.parentNode&&setTimeout(d,0)};return c.appendChild(document.createTextNode(a.INVISIBLE_SPACE)),c.className=\"_wysihtml5-temp-caret-fix\",c.style.display=\"block\",c.style.minWidth=\"1px\",c.style.height=\"0px\",b.addEventListener(\"mouseup\",d),b.addEventListener(\"keydown\",d),b.addEventListener(\"touchstart\",d),b.addEventListener(\"focus\",d),b.addEventListener(\"blur\",d),b.addEventListener(\"paste\",e),b.addEventListener(\"drop\",e),b.addEventListener(\"beforepaste\",e),c}function e(a){if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,d=c(b,a.startContainer),e=c(b,a.endContainer);!a.canSurroundContents();)d>e?(a.setStartBefore(a.startContainer),d=c(b,a.startContainer)):(a.setEndAfter(a.endContainer),e=c(b,a.endContainer))}var f=a.dom;a.Selection=Base.extend({constructor:function(a,b,c){window.rangy.init(),this.editor=a,this.composer=a.composer,this.doc=this.composer.doc,this.win=this.composer.win,this.contain=b,this.unselectableClass=c||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);return b.setStartBefore(a),b.setEndBefore(a),this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var c=this.doc.createElement(\"span\"),d=this.doc.createTextNode(a.INVISIBLE_SPACE),e=function(b){var d;this.contain.removeEventListener(\"mouseup\",e),this.contain.removeEventListener(\"keydown\",g),this.contain.removeEventListener(\"touchstart\",e),this.contain.removeEventListener(\"focus\",e),this.contain.removeEventListener(\"blur\",e),this.contain.removeEventListener(\"paste\",f),this.contain.removeEventListener(\"drop\",f),this.contain.removeEventListener(\"beforepaste\",f),c&&c.parentNode&&(c.innerHTML=c.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,\"\"),/[^\\s]+/.test(c.innerHTML)?(d=c.lastChild,a.dom.unwrap(c),this.setAfter(d)):c.parentNode.removeChild(c))}.bind(this),f=function(a){c&&c.parentNode&&setTimeout(e,0)},g=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||e()};return c.className=\"_wysihtml5-temp-caret-fix\",c.style.position=\"absolute\",c.style.display=\"block\",c.style.minWidth=\"1px\",c.style.zIndex=\"99999\",c.appendChild(d),b.parentNode.insertBefore(c,b.nextSibling),this.setBefore(d),this.contain.addEventListener(\"mouseup\",e),this.contain.addEventListener(\"keydown\",g),this.contain.addEventListener(\"touchstart\",e),this.contain.addEventListener(\"focus\",e),this.contain.addEventListener(\"blur\",e),this.contain.addEventListener(\"paste\",f),this.contain.addEventListener(\"drop\",f),this.contain.addEventListener(\"beforepaste\",f),c},setAfter:function(b,c,d){var e,f=this.win,g=rangy.createRange(this.doc),h=function(){var d=b.parentNode,g=d?d.childNodes[d.childNodes.length-1]:null;if(!e||g===b&&1===b.nodeType&&\"block\"===f.getComputedStyle(b).display)if(c){var h=this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(h,b.nextSibling),this.selectNode(h),setTimeout(function(){h&&h.parentNode&&h.parentNode.removeChild(h)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this);if(g.setStartAfter(b),g.setEndAfter(b),document.activeElement&&document.activeElement===this.composer.element)e=this.setSelection(g),h(),d&&d(e);else{var i=this.composer.getScrollPos();this.composer.element.focus(),this.composer.setScrollPos(i),setTimeout(function(){e=this.setSelection(g),h(),d&&d(e)}.bind(this),0)}},selectNode:function(b,c){var d=rangy.createRange(this.doc),e=b.nodeType===a.ELEMENT_NODE,g=\"canHaveHTML\"in b?b.canHaveHTML:\"IMG\"!==b.nodeName,h=e?b.innerHTML:b.data,i=\"\"===h||h===a.INVISIBLE_SPACE,j=f.getStyle(\"display\").from(b),k=\"block\"===j||\"list-item\"===j;if(i&&e&&g&&!c)try{b.innerHTML=a.INVISIBLE_SPACE}catch(l){}g?d.selectNodeContents(b):d.selectNode(b),g&&i&&e?d.collapse(k):g&&i&&(d.setStartAfter(b),d.setEndAfter(b)),this.setSelection(d)},getSelectedNode:function(a){var b,c;return a&&this.doc.selection&&\"Control\"===this.doc.selection.type&&(c=this.doc.selection.createRange(),c&&c.length)?c.item(0):(b=this.getSelection(this.doc),b.focusNode===b.anchorNode?b.focusNode:(c=this.getRange(this.doc),c?c.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var a=this.getRange();e(a),this.setSelection(a)},getSelectedOwnNodes:function(a){for(var b=this.getOwnRanges(),c=[],d=0,e=b.length;e>d;d++)c.push(b[d].commonAncestorContainer||this.doc.body);return c},findNodesInSelection:function(b){for(var c,d=this.getOwnRanges(),e=[],f=0,g=d.length;g>f;f++)c=d[f].getNodes([1],function(c){return a.lang.array(b).contains(c.nodeName)}),e=e.concat(c);return e},filterElements:function(a){for(var b,c=this.getOwnRanges(),d=[],e=0,f=c.length;f>e;e++)b=c[e].getNodes([1],function(b){return a(b,c[e])}),d=d.concat(b);return d},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),c=0,d=a.length;d>c;c++)if(b.containsNode(a[c]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a),this.setSelection(a)},deleteRangeContents:function(b){var c,d,e,f;if(this.unselectableClass){(c=a.dom.getParentElement(b.startContainer,{query:\".\"+this.unselectableClass},!1,this.contain))&&b.setStartBefore(c),(d=a.dom.getParentElement(b.endContainer,{query:\".\"+this.unselectableClass},!1,this.contain))&&b.setEndAfter(d),e=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this));for(var g=e.length;g--;)try{f=new CustomEvent(\"wysihtml5:uneditable:delete\"),e[g].dispatchEvent(f)}catch(h){}}b.deleteContents()},getPreviousNode:function(b,c){var d;if(!b){var e=this.getSelection();b=e.anchorNode}if(b===this.contain)return!1;var f,g=b.previousSibling;return g===this.contain?!1:(g&&3!==g.nodeType&&1!==g.nodeType?g=this.getPreviousNode(g,c):g&&3===g.nodeType&&/^\\s*$/.test(g.textContent)?g=this.getPreviousNode(g,c):c&&g&&1===g.nodeType?(d=a.dom.getStyle(\"display\").from(g),a.lang.array([\"BR\",\"HR\",\"IMG\"]).contains(g.nodeName)||a.lang.array([\"block\",\"inline-block\",\"flex\",\"list-item\",\"table\"]).contains(d)||!/^[\\s]*$/.test(g.innerHTML)||(g=this.getPreviousNode(g,c))):g||b===this.contain||(f=b.parentNode,f!==this.contain&&(g=this.getPreviousNode(f,c))),g!==this.contain?g:!1)},getSelectionParentsByTag:function(b){for(var c,d=this.getSelectedOwnNodes(),e=[],f=0,g=d.length;g>f;f++)c=d[f].nodeName&&\"LI\"===d[f].nodeName?d[f]:a.dom.getParentElement(d[f],{query:\"li\"},!1,this.contain),c&&e.push(c);return e.length?e:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,c=a.startOffset,d=rangy.createRange(this.doc);return d.selectNodeContents(b),d.setStart(b,c),d}},caretIsLastInSelection:function(){var a=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),b=a.textContent;return/^\\s*$/.test(b)},caretIsFirstInSelection:function(){var b=rangy.createRange(this.doc),c=this.getSelection(),d=this.getRange(),e=d.startContainer;return e?e.nodeType===a.TEXT_NODE?this.isCollapsed()&&e.nodeType===a.TEXT_NODE&&/^\\s*$/.test(e.data.substr(0,d.startOffset)):(b.selectNodeContents(this.getRange().commonAncestorContainer),b.collapse(!0),this.isCollapsed()&&(b.startContainer===c.anchorNode||b.endContainer===c.anchorNode)&&b.startOffset===c.anchorOffset):void 0},caretIsInTheBeginnig:function(b){var c=this.getSelection(),d=c.anchorNode,e=c.anchorOffset;return b&&d?0===e&&(d.nodeName&&d.nodeName===b.toUpperCase()||a.dom.getParentElement(d.parentNode,{query:b},1)):d?0===e&&!this.getPreviousNode(d,!0):void 0},getBeforeSelection:function(b){var c,d,e=this.getSelection(),f=e.isBackwards()?e.focusNode:e.anchorNode,g=e.isBackwards()?e.focusOffset:e.anchorOffset,h=this.createRange();if(d=a.dom.getParentElement(f,{query:\"._wysihtml5-temp-caret-fix\"},1),d&&(f=d.parentNode,g=Array.prototype.indexOf.call(f.childNodes,d)),f){if(g>0)return 3===f.nodeType?(h.setStart(f,0),h.setEnd(f,g),{type:\"text\",range:h,offset:g,node:f}):(h.setStartBefore(f.childNodes[0]),c=f.childNodes[g-1],h.setEndAfter(c),{type:\"element\",range:h,offset:g,node:c});if(h.setStartAndEnd(f,0),b){var i=this.getPreviousNode(f,!0),j=null;if(i&&(j=1===i.nodeType&&a.dom.hasClass(i,this.unselectableClass)?i:a.dom.domNode(i).lastLeafNode()),j)return{type:\"leafnode\",range:h,offset:g,node:j}}return{type:\"none\",range:h,offset:g,node:f}}return null},executeAndRestoreRangy:function(a,b){var c=rangy.saveSelection(this.win);if(c)try{a()}catch(d){setTimeout(function(){throw d},0)}else a();rangy.restoreSelection(c)},executeAndRestore:function(b,c){var d,e,g,h,i,j,k,l,m=this.doc.body,n=c&&m.scrollTop,o=c&&m.scrollLeft,p=\"_wysihtml5-temp-placeholder\",q='<span class=\"'+p+'\">'+a.INVISIBLE_SPACE+\"</span>\",r=this.getRange(!0);if(!r)return void b(m,m);r.collapsed||(k=r.cloneRange(),j=k.createContextualFragment(q),k.collapse(!1),k.insertNode(j),k.detach()),i=r.createContextualFragment(q),r.insertNode(i),j&&(d=this.contain.querySelectorAll(\".\"+p),r.setStartBefore(d[0]),r.setEndAfter(d[d.length-1])),this.setSelection(r);try{b(r.startContainer,r.endContainer)}catch(s){setTimeout(function(){throw s},0)}if(d=this.contain.querySelectorAll(\".\"+p),d&&d.length){l=rangy.createRange(this.doc),g=d[0].nextSibling,d.length>1&&(h=d[d.length-1].previousSibling),h&&g?(l.setStartBefore(g),l.setEndAfter(h)):(e=this.doc.createTextNode(a.INVISIBLE_SPACE),f.insert(e).after(d[0]),l.setStartBefore(e),l.setEndAfter(e)),this.setSelection(l);for(var t=d.length;t--;)d[t].parentNode.removeChild(d[t])}else this.contain.focus();c&&(m.scrollTop=n,m.scrollLeft=o);try{d.parentNode.removeChild(d)}catch(u){}},set:function(a,b){var c=rangy.createRange(this.doc);c.setStart(a,b||0),this.setSelection(c)},insertHTML:function(a){var b,c,d=this.getRange(),e=this.doc.createElement(\"DIV\"),f=this.doc.createDocumentFragment();if(d){for(d.deleteContents(),e.innerHTML=a,b=e.lastChild;e.firstChild;)f.appendChild(e.firstChild);for(d.insertNode(f),c=this.contain.lastChild;c&&3===c.nodeType&&c.previousSibling&&/^\\s*$/.test(c.data);)c=c.previousSibling;b&&(c&&b===c&&1===b.nodeType&&this.contain.appendChild(this.doc.createElement(\"br\")),this.setAfter(b))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,c,d=[\"area\",\"base\",\"br\",\"col\",\"command\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"],e=this.getRange();return b=a||e.startContainer,b&&(c=(b.tagName||b.nodeName).toLowerCase()),-1===d.indexOf(c)},splitElementAtCaret:function(b,c){var d,e,f,g,h,i=this.getSelection();if(i.rangeCount>0){d=i.getRangeAt(0).cloneRange(),d.setEndAfter(b),e=d.extractContents(),h=e.childNodes;for(var j=h.length;j--;)a.dom.domNode(h[j]).is.visible()||e.removeChild(h[j]);b.parentNode.insertBefore(e,b.nextSibling),c?(f=c.firstChild||c,g=c.lastChild||c,b.parentNode.insertBefore(c,b.nextSibling),f&&g&&(d.setStartBefore(f),d.setEndAfter(g),this.setSelection(d))):(d.setStartAfter(b),d.setEndAfter(b)),a.dom.domNode(b).is.visible()||(\"\"===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(\" \"),b))}},surround:function(a){var b,c=this.getOwnRanges(),d=[];if(0==c.length)return d;for(var e=c.length;e--;){b=this.doc.createElement(a.nodeName),d.push(b),a.className&&(b.className=a.className),a.cssStyle&&b.setAttribute(\"style\",a.cssStyle);try{c[e].surroundContents(b),this.selectNode(b)}catch(f){b.appendChild(c[e].extractContents()),c[e].insertNode(b)}}return d},deblockAndSurround:function(b){var c,d,e,f=this.doc.createElement(\"div\"),g=rangy.createRange(this.doc);if(f.className=b.className,this.composer.commands.exec(\"formatBlock\",b),c=this.contain.querySelectorAll(\".\"+b.className),c[0])for(c[0].parentNode.insertBefore(f,c[0]),g.setStartBefore(c[0]),g.setEndAfter(c[c.length-1]),d=g.extractContents();d.firstChild;)if(e=d.firstChild,1==e.nodeType&&a.dom.hasClass(e,b.className)){for(;e.firstChild;)f.appendChild(e.firstChild);\"BR\"!==e.nodeName&&f.appendChild(this.doc.createElement(\"br\")),d.removeChild(e)}else f.appendChild(e);else f=null;return f},scrollIntoView:function(){var c,d=this.doc,e=5,f=d.documentElement.scrollHeight>d.documentElement.offsetHeight,g=d._wysihtml5ScrollIntoViewElement=d._wysihtml5ScrollIntoViewElement||function(){var b=d.createElement(\"span\");return b.innerHTML=a.INVISIBLE_SPACE,b}();f&&(this.insertNode(g),c=b(g),g.parentNode.removeChild(g),c>=d.body.scrollTop+d.documentElement.offsetHeight-e&&(d.body.scrollTop=c))},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),c=function(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")},d=function(a){return 1===a.nodeType?a.childNodes&&a.childNodes.length||0:a.data&&a.data.length||0},e=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,f=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode;f&&a.focusOffset===d(f)&&f.nextSibling&&c(f.nextSibling)&&b.setEndAfter(f.nextSibling),e&&0===a.anchorOffset&&e.previousSibling&&c(e.previousSibling)&&b.setStartBefore(e.previousSibling),b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify(\"move\",\"left\",\"lineboundary\"),a.modify(\"extend\",\"right\",\"lineboundary\"),a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,c){if(c=\"undefined\"==typeof c?!1:c,a.browser.supportsSelectionModify()){var d=this.win.getSelection();d.modify(\"extend\",b,\"lineboundary\"),c&&(\"left\"===b?d.collapseToStart():\"right\"===b&&d.collapseToEnd())}},getRangeRect:function(a){var b,c=(this.doc.createTextNode(\"i\"),this.doc.createTextNode(\"i\"));return a.collapsed?(a.insertNode(c),a.selectNode(c),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect(),b},_selectLineUniversal:function(){var b,c,d,e,f,g,h=this.getSelection(),i=h.getRangeAt(0),j=0,k=this,l=function(b){return b&&1===b.nodeType&&(\"block\"===k.win.getComputedStyle(b).display||a.lang.array([\"BR\",\"HR\"]).contains(b.nodeName))},m=function(a){var b=a;if(b)for(;b&&(1===b.nodeType&&b.classList.contains(\"rangySelectionBoundary\")||3===b.nodeType&&/^\\s*$/.test(b.data));)b=b.previousSibling;return b};c=i.cloneRange(),d=i.cloneRange(),i.collapsed&&(3===i.startContainer.nodeType&&i.startOffset<i.startContainer.data.length?i.moveEnd(\"character\",1):1===i.startContainer.nodeType&&i.startContainer.childNodes[i.startOffset]&&3===i.startContainer.childNodes[i.startOffset].nodeType&&i.startContainer.childNodes[i.startOffset].data.length>0?i.moveEnd(\"character\",1):i.startOffset>0&&(3===i.startContainer.nodeType||1===i.startContainer.nodeType&&!l(m(i.startContainer.childNodes[i.startOffset-1])))&&i.moveStart(\"character\",-1)),i.collapsed||i.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE)),b=i.nativeRange.getBoundingClientRect();do e=i.moveStart(\"character\",-1),f=i.nativeRange.getBoundingClientRect(),f&&Math.floor(f.top)===Math.floor(b.top)||(i.moveStart(\"character\",1),g=!0),j++;while(0!==e&&!g&&2e3>j);j=0,g=!1,b=i.nativeRange.getBoundingClientRect();do e=i.moveEnd(\"character\",1),f=i.nativeRange.getBoundingClientRect(),f&&Math.floor(f.bottom)===Math.floor(b.bottom)||(i.moveEnd(\"character\",-1),i.endContainer&&1===i.endContainer.nodeType&&i.endContainer.childNodes[i.endOffset]&&1===i.endContainer.childNodes[i.endOffset].nodeType&&\"BR\"===i.endContainer.childNodes[i.endOffset].nodeName&&i.endContainer.childNodes[i.endOffset].previousSibling&&(1===i.endContainer.childNodes[i.endOffset].previousSibling.nodeType?i.setEnd(i.endContainer.childNodes[i.endOffset].previousSibling,i.endContainer.childNodes[i.endOffset].previousSibling.childNodes.length):3===i.endContainer.childNodes[i.endOffset].previousSibling.nodeType&&i.setEnd(i.endContainer.childNodes[i.endOffset].previousSibling,i.endContainer.childNodes[i.endOffset].previousSibling.data.length)),g=!0),j++;while(0!==e&&!g&&2e3>j);i.select(),this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():\"\"},getNodes:function(a,b){var c=this.getRange();return c?c.getNodes(Array.isArray(a)?a:[a],b):[]},getOwnNodes:function(a,b,c){for(var d=this.getOwnRanges(),e=[],f=0,g=d.length;g>f;f++)d[f]&&(c&&d[f].splitBoundaries(),e=e.concat(d[f].getNodes(Array.isArray(a)?a:[a],b)));return e},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);if(2!==b)1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(a)){var c=a.endContainer.previousElementSibling;c&&a.setEnd(c,this._endOffsetForNode(c))}}},_endOffsetForNode:function(a){var b=document.createRange();return b.selectNodeContents(a),b.endOffset},_detectInlineRangeProblems:function(a){var b=f.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&4&b},getRange:function(a){var b=this.getSelection(),c=b&&b.rangeCount&&b.getRangeAt(0);return a!==!0&&this.fixRangeOverflow(c),c},getOwnUneditables:function(){var b=f.query(this.contain,\".\"+this.unselectableClass),c=f.query(b,\".\"+this.unselectableClass);return a.lang.array(b).without(c)},getOwnRanges:function(){var a,b=[],c=this.getRange();if(c&&b.push(c),this.unselectableClass&&this.contain&&c){var d,e=this.getOwnUneditables();if(e.length>0)for(var f=0,g=e.length;g>f;f++){a=[];for(var h=0,i=b.length;i>h;h++){if(b[h])switch(b[h].compareNode(e[f])){case 2:break;case 3:d=b[h].cloneRange(),d.setEndBefore(e[f]),a.push(d),d=b[h].cloneRange(),d.setStartAfter(e[f]),a.push(d);break;default:a.push(b[h])}b=a}}}return b},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);return b.setSingleRange(a),b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var b,c=this.createRange(),e=this.composer,f=this,g=d(this.composer.element),h=d(this.composer.element),i=function(){c.setStart(e.element,0),c.setEnd(e.element,e.element.childNodes.length),b=f.setSelection(c)},j=function(){return!b||b.nativeSelection&&b.nativeSelection.type&&(\"Caret\"===b.nativeSelection.type||\"None\"===b.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element),i(),this.composer.element.firstChild&&j()&&(this.composer.element.appendChild(g),i(),j()&&(g.parentNode.removeChild(g),this.composer.element.insertBefore(h,this.composer.element.firstChild),i(),j()&&(this.composer.element.appendChild(g),i())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var c=this.getRange(),d=c.commonAncestorContainer,e=c.startContainer,f=c.endContainer;if(d.nodeType===a.TEXT_NODE&&(d=d.parentNode),e.nodeType===a.TEXT_NODE&&!/^\\s*$/.test(e.data.substr(c.startOffset)))return!1;if(f.nodeType===a.TEXT_NODE&&!/^\\s*$/.test(f.data.substr(c.endOffset)))return!1;for(;e&&e!==d;){if(e.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,e))return!1;if(a.dom.domNode(e).prev({ignoreBlankTexts:!0}))return!1;e=e.parentNode}for(;f&&f!==d;){if(f.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,f))return!1;if(a.dom.domNode(f).next({ignoreBlankTexts:!0}))return!1;f=f.parentNode}return a.lang.array(b).contains(d.nodeName)?d:!1},isInThisEditable:function(){var b=this.getSelection(),c=b.focusNode,d=b.anchorNode;return c&&1!==c.nodeType&&(c=c.parentNode),d&&1!==d.nodeType&&(d=d.parentNode),d&&c&&(a.dom.contains(this.composer.element,c)||this.composer.element===c)&&(a.dom.contains(this.composer.element,d)||this.composer.element===d)},deselect:function(){var a=this.getSelection();a&&a.removeAllRanges()}})}(wysihtml5),function(a,b){function c(a,b,c){if(!a.className)return!1;var d=a.className.match(c)||[];return d[d.length-1]===b}function d(a,b){if(!a.getAttribute||!a.getAttribute(\"style\"))return!1;a.getAttribute(\"style\").match(b);return a.getAttribute(\"style\").match(b)?!0:!1}function e(a,b,c){a.getAttribute(\"style\")?(h(a,c),a.getAttribute(\"style\")&&!/^\\s*$/.test(a.getAttribute(\"style\"))?a.setAttribute(\"style\",b+\";\"+a.getAttribute(\"style\")):a.setAttribute(\"style\",b)):a.setAttribute(\"style\",b)}function f(a,b,c){a.className?(g(a,c),a.className+=\" \"+b):a.className=b}function g(a,b){a.className&&(a.className=a.className.replace(b,\"\"))}function h(a,b){var c,d=[];if(a.getAttribute(\"style\")){c=a.getAttribute(\"style\").split(\";\");for(var e=c.length;e--;)c[e].match(b)||/^\\s*$/.test(c[e])||d.push(c[e]);d.length?a.setAttribute(\"style\",d.join(\";\")):a.removeAttribute(\"style\")}}function i(a,b){var c=[],d=b.split(\";\"),e=a.getAttribute(\"style\");if(e){e=e.replace(/\\s/gi,\"\").toLowerCase(),c.push(new RegExp(\"(^|\\\\s|;)\"+b.replace(/\\s/gi,\"\").replace(/([\\(\\)])/gi,\"\\\\$1\").toLowerCase().replace(\";\",\";?\").replace(/rgb\\\\\\((\\d+),(\\d+),(\\d+)\\\\\\)/gi,\"\\\\s?rgb\\\\($1,\\\\s?$2,\\\\s?$3\\\\)\"),\"gi\"));for(var f=d.length;f-->0;)/^\\s*$/.test(d[f])||c.push(new RegExp(\"(^|\\\\s|;)\"+d[f].replace(/\\s/gi,\"\").replace(/([\\(\\)])/gi,\"\\\\$1\").toLowerCase().replace(\";\",\";?\").replace(/rgb\\\\\\((\\d+),(\\d+),(\\d+)\\\\\\)/gi,\"\\\\s?rgb\\\\($1,\\\\s?$2,\\\\s?$3\\\\)\"),\"gi\"));for(var g=0,h=c.length;h>g;g++)if(e.match(c[g]))return c[g]}return!1}function j(c,d,e,f){return e?i(c,e):f?a.dom.hasClass(c,f):b.dom.arrayContains(d,c.tagName.toLowerCase())}function k(a,b,c,d){for(var e=a.length;e--;)if(!j(a[e],b,c,d))return!1;return a.length?!0:!1}function l(a,b,c){var d=i(a,b);return d?(h(a,d),\"remove\"):(e(a,b,c),\"change\")}function m(a,b){return a.className.replace(u,\" \")==b.className.replace(u,\" \")}function n(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}function o(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c,d,e,f=0,g=a.attributes.length;g>f;++f)if(c=a.attributes[f],e=c.name,\"class\"!=e){if(d=b.attributes.getNamedItem(e),c.specified!=d.specified)return!1;if(c.specified&&c.nodeValue!==d.nodeValue)return!1}return!0}function p(a,c){return b.dom.isCharacterDataNode(a)?0==c?!!a.previousSibling:c==a.length?!!a.nextSibling:!0:c>0&&c<a.childNodes.length}function q(a,c,d,e){var f;if(b.dom.isCharacterDataNode(c)&&(0==d?(d=b.dom.getNodeIndex(c),c=c.parentNode):d==c.length?(d=b.dom.getNodeIndex(c)+1,c=c.parentNode):f=b.dom.splitDataNode(c,d)),!(f||e&&c===e)){f=c.cloneNode(!1),f.id&&f.removeAttribute(\"id\");for(var g;g=c.childNodes[d];)f.appendChild(g);b.dom.insertAfter(f,c)}return c==a?f:q(a,f.parentNode,b.dom.getNodeIndex(f),e)}function r(b){this.isElementMerge=b.nodeType==a.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?b.lastChild:b,this.textNodes=[this.firstTextNode]}function s(a,b,c,d,e,f,g){this.tagNames=a||[t],this.cssClass=b||(b===!1?!1:\"\"),this.similarClassRegExp=c,this.cssStyle=e||\"\",this.similarStyleRegExp=f,this.normalize=d,this.applyToAnyTagName=!1,this.container=g}var t=\"span\",u=/\\s+/g;\nr.prototype={doMerge:function(){for(var a,b,c,d=[],e=0,f=this.textNodes.length;f>e;++e)a=this.textNodes[e],b=a.parentNode,d[e]=a.data,e&&(b.removeChild(a),b.hasChildNodes()||b.parentNode.removeChild(b));return this.firstTextNode.data=c=d.join(\"\"),c},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=0,c=this.textNodes.length;c>b;++b)a[b]=\"'\"+this.textNodes[b].data+\"'\";return\"[Merge(\"+a.join(\",\")+\")]\"}},s.prototype={getAncestorWithClass:function(d){for(var e;d;){if(e=this.cssClass?c(d,this.cssClass,this.similarClassRegExp):\"\"!==this.cssStyle?!1:!0,d.nodeType==a.ELEMENT_NODE&&\"false\"!=d.getAttribute(\"contenteditable\")&&b.dom.arrayContains(this.tagNames,d.tagName.toLowerCase())&&e)return d;d=d.parentNode}return!1},getAncestorWithStyle:function(c){for(var e;c;){if(e=this.cssStyle?d(c,this.similarStyleRegExp):!1,c.nodeType==a.ELEMENT_NODE&&\"false\"!=c.getAttribute(\"contenteditable\")&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&e)return c;c=c.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),c=!1;return b?this.cssStyle&&(c=\"class\"):(b=this.getAncestorWithStyle(a),b&&(c=\"style\")),{element:b,type:c}},postApply:function(a,b){for(var c,d,e,f=a[0],g=a[a.length-1],h=[],i=f,j=g,k=0,l=g.length,m=0,n=a.length;n>m;++m)d=a[m],e=null,d&&d.parentNode&&(e=this.getAdjacentMergeableTextNode(d.parentNode,!1)),e?(c||(c=new r(e),h.push(c)),c.textNodes.push(d),d===f&&(i=c.firstTextNode,k=i.length),d===g&&(j=c.firstTextNode,l=c.getLength())):c=null;if(g&&g.parentNode){var o=this.getAdjacentMergeableTextNode(g.parentNode,!0);o&&(c||(c=new r(g),h.push(c)),c.textNodes.push(o))}if(h.length){for(m=0,n=h.length;n>m;++m)h[m].doMerge();b.setStart(i,k),b.setEnd(j,l)}},getAdjacentMergeableTextNode:function(b,c){var d,e=b.nodeType==a.TEXT_NODE,f=e?b.parentNode:b,g=c?\"nextSibling\":\"previousSibling\";if(e){if(d=b[g],d&&d.nodeType==a.TEXT_NODE)return d}else if(d=f[g],d&&this.areElementsMergeable(b,d))return d[c?\"firstChild\":\"lastChild\"];return null},areElementsMergeable:function(a,c){return b.dom.arrayContains(this.tagNames,(a.tagName||\"\").toLowerCase())&&b.dom.arrayContains(this.tagNames,(c.tagName||\"\").toLowerCase())&&m(a,c)&&o(a,c)},createContainer:function(a){var b=a.createElement(this.tagNames[0]);return this.cssClass&&(b.className=this.cssClass),this.cssStyle&&b.setAttribute(\"style\",this.cssStyle),b},applyToTextNode:function(a){var c=a.parentNode;if(1==c.childNodes.length&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase()))this.cssClass&&f(c,this.cssClass,this.similarClassRegExp),this.cssStyle&&e(c,this.cssStyle,this.similarStyleRegExp);else{var d=this.createContainer(b.dom.getDocument(a));a.parentNode.insertBefore(d,a),d.appendChild(a)}},isRemovable:function(c){return b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&\"\"===a.lang.string(c.className).trim()&&(!c.getAttribute(\"style\")||\"\"===a.lang.string(c.getAttribute(\"style\")).trim())},undoToTextNode:function(a,b,c,d){var e=c?!1:!0,f=c||d,h=!1;if(!b.containsNode(f)){var i=b.cloneRange();i.selectNode(f),i.isPointInRange(b.endContainer,b.endOffset)&&p(b.endContainer,b.endOffset)&&(q(f,b.endContainer,b.endOffset,this.container),b.setEndAfter(f)),i.isPointInRange(b.startContainer,b.startOffset)&&p(b.startContainer,b.startOffset)&&(f=q(f,b.startContainer,b.startOffset,this.container))}!e&&this.similarClassRegExp&&g(f,this.similarClassRegExp),e&&this.similarStyleRegExp&&(h=\"change\"===l(f,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(f)&&!h&&n(f)},applyToRange:function(b){for(var c,d=b.length;d--;){if(c=b[d].getNodes([a.TEXT_NODE]),!c.length)try{var e=this.createContainer(b[d].endContainer.ownerDocument);return b[d].surroundContents(e),void this.selectNode(b[d],e)}catch(f){}if(b[d].splitBoundaries(),c=b[d].getNodes([a.TEXT_NODE]),c.length){for(var g,h=0,i=c.length;i>h;++h)g=c[h],this.getMatchingAncestor(g).element||this.applyToTextNode(g);b[d].setStart(c[0],0),g=c[c.length-1],b[d].setEnd(g,g.length),this.normalize&&this.postApply(c,b[d])}}},undoToRange:function(b){for(var c,d,e,f=b.length;f--;){if(c=b[f].getNodes([a.TEXT_NODE]),c.length)b[f].splitBoundaries(),c=b[f].getNodes([a.TEXT_NODE]);else{var g=b[f].endContainer.ownerDocument,h=g.createTextNode(a.INVISIBLE_SPACE);b[f].insertNode(h),b[f].selectNode(h),c=[h]}for(var i=0,j=c.length;j>i;++i)b[f].isValid()&&(d=c[i],e=this.getMatchingAncestor(d),\"style\"===e.type?this.undoToTextNode(d,b[f],!1,e.element):e.element&&this.undoToTextNode(d,b[f],e.element));1==j?this.selectNode(b[f],c[0]):(b[f].setStart(c[0],0),d=c[c.length-1],b[f].setEnd(d,d.length),this.normalize&&this.postApply(c,b[f]))}},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e=\"canHaveHTML\"in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data,g=\"\"===f||f===a.INVISIBLE_SPACE;if(g&&d&&e)try{c.innerHTML=a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c),g&&d?b.collapse(!1):g&&(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),e=d?d.toString():\"\";return c.detach(),e},isAppliedToRange:function(b){for(var c,d,e=[],f=\"full\",g=b.length;g--;){if(d=b[g].getNodes([a.TEXT_NODE]),!d.length)return c=this.getMatchingAncestor(b[g].startContainer).element,c?{elements:[c],coverage:f}:!1;for(var h,i=0,j=d.length;j>i;++i)h=this.getTextSelectedByRange(d[i],b[g]),c=this.getMatchingAncestor(d[i]).element,c&&\"\"!=h?(e.push(c),1===a.dom.getTextNodes(c,!0).length?f=\"full\":\"full\"===f&&(f=\"inline\")):c||(f=\"partial\")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b,c=this.isAppliedToRange(a);c?\"full\"===c.coverage?this.undoToRange(a):\"inline\"===c.coverage?(b=k(c.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):(k(c.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}},a.selection.HTMLApplier=s}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.exec,f=null;if(this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array([\"styleWithCSS\",\"enableObjectResizing\",\"enableInlineTableEditing\"]).contains(a)&&(this.composer.element.innerHTML=\"\",this.composer.selection.selectNode(this.composer.element)),this.editor.fire(\"beforecommand:composer\"),e)d.unshift(this.composer),f=e.apply(c,d);else try{f=this.doc.execCommand(a,!1,b)}catch(g){}return this.editor.fire(\"aftercommand:composer\"),f},remove:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.remove;return e?(d.unshift(this.composer),e.apply(c,d)):void 0},state:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.state;if(e)return d.unshift(this.composer),e.apply(c,d);try{return this.doc.queryCommandState(a)}catch(f){return!1}},stateValue:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&&b.stateValue;return d?(c.unshift(this.composer),d.apply(b,c)):!1}}),function(a){var b={nodeName:\"B\",toggle:!0};a.commands.bold={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){function b(b){return a.lang.object({}).merge(c).merge({attribute:b}).get()}var c={nodeName:\"A\",toggle:!1};a.commands.createLink={exec:function(c,d,e){var f=b(e);if(c.selection.isCollapsed()&&!this.state(c,d)){var g=c.doc.createTextNode(f.attribute.href);c.selection.insertNode(g),c.selection.selectNode(g)}a.commands.formatInline.exec(c,d,f)},state:function(b,d){return a.commands.formatInline.state(b,d,c)}}}(wysihtml5),function(a){var b={nodeName:\"A\"};a.commands.removeLink={exec:function(c,d){a.commands.formatInline.remove(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b=/wysiwyg-font-size-[0-9a-z\\-]+/g;a.commands.fontSize={exec:function(c,d,e){a.commands.formatInline.exec(c,d,{className:\"wysiwyg-font-size-\"+e,classRegExp:b,toggle:!0})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{className:\"wysiwyg-font-size-\"+d})}}}(wysihtml5),function(a){a.commands.fontSizeStyle={exec:function(b,c,d){d=d.size||d,/^\\s*$/.test(d)||a.commands.formatInline.exec(b,c,{styleProperty:\"fontSize\",styleValue:d,toggle:!1})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{styleProperty:\"fontSize\",styleValue:d||void 0})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"fontSize\"})},stateValue:function(b,c){var d,e=this.state(b,c);return e&&a.lang.object(e).isArray()&&(e=e[0]),e&&(d=e.getAttribute(\"style\"))?a.quirks.styleParser.parseFontSize(d):!1}}}(wysihtml5),function(a){var b=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(c,d,e){a.commands.formatInline.exec(c,d,{className:\"wysiwyg-color-\"+e,classRegExp:b,toggle:!0})},state:function(b,c,d){return a.commands.formatInline.state(b,c,{className:\"wysiwyg-color-\"+d})}}}(wysihtml5),function(a){a.commands.foreColorStyle={exec:function(b,c,d){var e,f;d&&(e=a.quirks.styleParser.parseColor(\"color:\"+(d.color||d),\"color\"),e&&(f=(1===e[3]?\"rgb(\"+[e[0],e[1],e[2]].join(\", \"):\"rgba(\"+e.join(\", \"))+\")\",a.commands.formatInline.exec(b,c,{styleProperty:\"color\",styleValue:f})))},state:function(b,c,d){var e,f=d?a.quirks.styleParser.parseColor(\"color:\"+(d.color||d),\"color\"):null;return f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\"),a.commands.formatInline.state(b,c,{styleProperty:\"color\",styleValue:e})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"color\"})},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&&a.lang.object(f).isArray()&&(f=f[0]),f&&(e=f.getAttribute(\"style\"))?(g=a.quirks.styleParser.parseColor(e,\"color\"),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){a.commands.bgColorStyle={exec:function(b,c,d){var e,f=a.quirks.styleParser.parseColor(\"background-color:\"+(d.color||d),\"background-color\");f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\",a.commands.formatInline.exec(b,c,{styleProperty:\"backgroundColor\",styleValue:e}))},state:function(b,c,d){var e,f=d?a.quirks.styleParser.parseColor(\"background-color:\"+(d.color||d),\"background-color\"):null;return f&&(e=(1===f[3]?\"rgb(\"+[f[0],f[1],f[2]].join(\", \"):\"rgba(\"+f.join(\", \"))+\")\"),a.commands.formatInline.state(b,c,{styleProperty:\"backgroundColor\",styleValue:e})},remove:function(b,c){return a.commands.formatInline.remove(b,c,{styleProperty:\"backgroundColor\"})},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&&a.lang.object(f).isArray()&&(f=f[0]),f&&(e=f.getAttribute(\"style\"))?(g=a.quirks.styleParser.parseColor(e,\"background-color\"),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){function b(a){return{nodeName:a.nodeName||null,className:a.classRegExp?null:a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}}function c(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function d(a){return a&&1===a.nodeType&&\"BR\"===a.nodeName}function e(a,b){return a&&1===a.nodeType&&\"block\"===b.win.getComputedStyle(a).display}function f(a){return a&&1===a.nodeType&&a.classList.contains(\"rangySelectionBoundary\")}function g(a,b){return d(a)||e(a,b)}function h(b,c){a.dom.removeInvisibleSpaces(b.element);for(var d,e=b.element,f=e.querySelectorAll(D),g=b.config.classNames.uneditableContainer+[\"\"].concat(D.split(\",\")).join(\", \"+b.config.classNames.uneditableContainer+\" \"),h=e.querySelectorAll(g),i=a.lang.array(f).without(h),j=i.length;j--;)\"\"===i[j].innerHTML.replace(/[\\uFEFF]/g,\"\")&&(d=a.lang.array(c).indexOf(i[j]),d>-1&&c.splice(d,1),i[j].parentNode.removeChild(i[j]));return c}function i(a){return a.config.useLineBreaks?\"DIV\":\"P\"}function j(a,b,c){for(var d=a,e=null;d&&b&&d!==b;)1===d.nodeType&&d.matches(c?D:C)&&(e=d),d=d.parentNode;return e}function k(a,b){for(var c,d,e,f=a,g=null;f&&b&&f!==b;)1===f.nodeType&&f.matches(E)&&(d=f,null===g?(g=f.cloneNode(!1),c=g):(e=f.cloneNode(!1),e.appendChild(g),g=e)),f=f.parentNode;return{parent:d,outerNode:g,innerNode:c}}function l(b,c,d){return b||(b=d.doc.createElement(c.nodeName||i(d)),b.appendChild(d.doc.createTextNode(a.INVISIBLE_SPACE))),c.nodeName&&b.nodeName!==c.nodeName&&(b=B.renameElement(b,c.nodeName)),c.classRegExp&&(b.className=b.className.replace(c.classRegExp,\"\")),c.className&&b.classList.add(c.className),c.styleProperty&&\"undefined\"!=typeof c.styleValue&&(b.style[a.browser.fixStyleKey(c.styleProperty)]=c.styleValue),b}function m(b,c,d){var e,f=b.previousSibling,g=b.nextSibling,h=!1;c.styleProperty&&(b.style[a.browser.fixStyleKey(c.styleProperty)]=\"\"),c.className&&b.classList.remove(c.className),c.classRegExp&&(b.className=b.className.replace(c.classRegExp,\"\")),null!==b.getAttribute(\"class\")&&\"\"===b.getAttribute(\"class\").trim()&&b.removeAttribute(\"class\"),c.nodeName&&b.nodeName.toLowerCase()===c.nodeName.toLowerCase()&&(e=b.getAttribute(\"style\"),e&&\"\"!==e.trim()?b=B.renameElement(b,i(d)):(B.unwrap(b),h=!0)),null!==b.getAttribute(\"style\")&&\"\"===b.getAttribute(\"style\").trim()&&b.removeAttribute(\"style\"),h&&u(f,g,d)}function n(b){for(var c,d,e=b.querySelectorAll(D)||[],f=e.length;f--;)c=a.dom.domNode(e[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),d=a.dom.domNode(e[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),c&&1!==c.nodeType&&\"BR\"!==c.nodeName&&\"\"!==(e[f].innerHTML||e[f].nodeValue||\"\").trim()&&e[f].parentNode.insertBefore(e[f].ownerDocument.createElement(\"BR\"),c),c&&1!==c.nodeType&&\"BR\"!==c.nodeName&&\"\"!==(e[f].innerHTML||e[f].nodeValue||\"\").trim()&&e[f].parentNode.insertBefore(e[f].ownerDocument.createElement(\"BR\"),c),a.dom.unwrap(e[f])}function o(a,b){var c,d=a.startContainer,e=a.endContainer;return d&&1===d.nodeType&&d===e?void(d.firstChild===d.lastChild&&1===a.endOffset&&d!==b.element&&\"LI\"!==d.nodeName&&\"TD\"!==d.nodeName&&(a.setStartBefore(d),a.setEndAfter(e))):d&&1===d.nodeType&&3===e.nodeType?void(d.firstChild===e&&a.endOffset===e.data.length&&d!==b.element&&\"LI\"!==d.nodeName&&\"TD\"!==d.nodeName&&a.setEndAfter(d)):e&&1===e.nodeType&&3===d.nodeType?void(e.firstChild===d&&0===a.startOffset&&e!==b.element&&\"LI\"!==e.nodeName&&\"TD\"!==e.nodeName&&a.setStartBefore(e)):d&&3===d.nodeType&&d===e&&1===d.parentNode.childNodes.length?void(a.endOffset==e.data.length&&0===a.startOffset&&(c=d.parentNode,c!==b.element&&\"LI\"!==c.nodeName&&\"TD\"!==c.nodeName&&(a.setStartBefore(c),a.setEndAfter(c)))):void 0}function p(b){for(var c,d,e,f,g,h,i=[],j=0,k=b.length;k>j;j++)if(1===b[j].startContainer.nodeType&&b[j].startContainer.matches(\"ul, ol\")&&b[j].setStart(b[j].startContainer.childNodes[b[j].startOffset],0),1===b[j].endContainer.nodeType&&b[j].endContainer.matches(\"ul, ol\")&&(h=b[j].endContainer.childNodes[Math.max(b[j].endOffset-1,0)],h.childNodes&&b[j].setEnd(h,h.childNodes.length)),c=b[j].getNodes([1],function(a){return\"LI\"===a.nodeName}),c.length>0){for(d=0,e=c.length;e>d;d++)g=b[j].compareNode(c[d]),(g===b[j].NODE_AFTER||g===b[j].NODE_INSIDE)&&(f=b[j].cloneRange(),h=a.dom.domNode(c[d]).prev({nodeTypes:[1]}),h?f.setEnd(h,h.childNodes.length):c[d].closest(\"ul, ol\")?f.setEndBefore(c[d].closest(\"ul, ol\")):f.setEndBefore(c[d]),i.push(f),b[j].setStart(c[d],0)),(g===b[j].NODE_BEFORE||g===b[j].NODE_INSIDE)&&(f=b[j].cloneRange(),f.setEnd(c[d],c[d].childNodes.length),i.push(f),h=a.dom.domNode(c[d]).next({nodeTypes:[1]}),h?b[j].setStart(h,0):c[d].closest(\"ul, ol\")?b[j].setStartAfter(c[d].closest(\"ul, ol\")):b[j].setStartAfter(c[d]));i.push(b[j])}else i.push(b[j]);return i}function q(b,c,d){var e=b?a.lang.object(b).clone(!0):null;return e&&(e.nodeName=e.nodeName||c||i(d)),e}function r(b,c,d,e){var f,h,i,l,m,n=c.startContainer,e=e||j(n,d.element,!0);if(e)h=b.firstChild,i=b.lastChild,d.selection.splitElementAtCaret(e,b),m=a.dom.domNode(i).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),l=a.dom.domNode(h).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),h&&!g(h,d)&&l&&!g(l,d)&&h.parentNode.insertBefore(d.doc.createElement(\"br\"),h),i&&!g(i,d)&&m&&!g(m,d)&&m.parentNode.insertBefore(d.doc.createElement(\"br\"),m);else if(f=k(n,d.element),f.outerNode&&f.innerNode&&f.parent){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)f.innerNode.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(f.outerNode)}d.selection.splitElementAtCaret(f.parent,b)}else c.insertNode(b)}function s(b,d,e){for(var f,h,i=b.cloneRange(),j=c(i.startContainer,i.startOffset).previousSibling,k=c(i.endContainer,i.endOffset).nextSibling,l=i.extractContents(),m=e.doc.createDocumentFragment(),o=!0;l.firstChild;){if(1===l.firstChild.nodeType&&l.firstChild.matches(D)){n(l.firstChild),f=a.dom.unwrap(l.firstChild),f.length>0&&(m.lastChild&&(1!==m.lastChild.nodeType||!g(m.lastChild,e))||!m.lastChild&&j&&(1!==j.nodeType||g(j,e)))&&m.appendChild(e.doc.createElement(\"BR\"));for(var p=0,q=f.length;q>p;p++)m.appendChild(f[p]);f.length>0&&(1===m.lastChild.nodeType&&g(m.lastChild,e)||(k||m.lastChild!==l.lastChild)&&m.appendChild(e.doc.createElement(\"BR\")))}else m.appendChild(l.firstChild);o=!1}return h=a.lang.array(m.childNodes).get(),r(m,i,e),h}function t(b,c,e){var f=b&&a.dom.domNode(b).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});d(c)&&c.parentNode.removeChild(c),!d(b)||f&&1===f.nodeType&&\"block\"===e.win.getComputedStyle(f).display||b.parentNode.removeChild(b)}function u(a,b,c){var e;a&&f(a)&&(a=a.previousSibling),b&&f(b)&&(b=b.nextSibling),e=a&&a.previousSibling,a&&(1!==a.nodeType||\"block\"!==c.win.getComputedStyle(a).display&&!d(a))&&a.parentNode&&a.parentNode.insertBefore(c.doc.createElement(\"br\"),a.nextSibling),b&&(1!==b.nodeType||\"block\"!==c.win.getComputedStyle(b).display)&&b.parentNode&&b.parentNode.insertBefore(c.doc.createElement(\"br\"),b)}function v(d,e,f,g){var h,i,k=e?b(e):null,m=d.cloneRange(),o=m.startContainer,p=a.dom.domNode(c(m.startContainer,m.startOffset)).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),s=a.dom.domNode(c(m.endContainer,m.endOffset)).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),u=m.extractContents(),v=g.doc.createDocumentFragment(),w=k?a.dom.getParentElement(o,k,null,g.element):null,x=!f||!e||\"BLOCKQUOTE\"===e.nodeName&&\"BLOCKQUOTE\"===f,y=w||j(o,g.element,x);if(e&&\"BLOCKQUOTE\"===e.nodeName){var z=l(null,e,g);z.appendChild(u),v.appendChild(z),i=[z]}else{if(u.firstChild)for(;u.firstChild;)if(1==u.firstChild.nodeType&&u.firstChild.matches(D))l(u.firstChild,e,g),u.firstChild.matches(C)&&n(u.firstChild),v.appendChild(u.firstChild);else{for(h=l(null,q(e,f,g),g);u.firstChild&&(1!==u.firstChild.nodeType||!u.firstChild.matches(D));)1==u.firstChild.nodeType&&h.matches(C)&&n(u.firstChild),h.appendChild(u.firstChild);v.appendChild(h)}else v.appendChild(l(null,e,g));i=a.lang.array(v.childNodes).get()}return r(v,m,g,y),t(p,s,g),i}function w(b,c){var d=a.dom.getParentElement(b,{query:D},null,c.element);return d?d.nodeName:null}function x(b,c){var d,e=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:C+\", \"+(c?c.toLowerCase():\"div\")},null,b.element);e?(d=b.selection.createRange(),d.selectNode(e),b.selection.setSelection(d)):b.isEmpty()||b.selection.selectLine()}function y(a,b){var c=b.selection.createRange(),d=a[a.length-1],e=1===d.nodeType&&d.childNodes?0|d.childNodes.length:d.length||0;c.setStart(a[0],0),c.setEnd(d,e),c.select()}function z(a,b,c){var d,e=b.selection.getOwnRanges(),f=[];e=p(e);for(var g=e.length;g--;)o(e[g],b),d=w(e[g].startContainer,b),f=\"remove\"===a?f.concat(s(e[g],d,b)):f.concat(v(e[g],c,d,b));return f}function A(a){return\"string\"==typeof a&&(a={nodeName:a.toUpperCase()}),a}var B=a.dom,C=\"h1, h2, h3, h4, h5, h6, p, pre\",D=\"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote\",E=\"b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u\";a.commands.formatBlock={exec:function(a,b,c){c=A(c);var d,e,f=[];if(c&&c.toggle&&(e=this.state(a,b,c)),e){d=rangy.saveSelection(a.win);for(var g=0,i=e.length;i>g;g++)m(e[g],c,a)}else a.selection.isCollapsed()&&(d=rangy.saveSelection(a.win),x(a,c&&c.nodeName?c.nodeName.toUpperCase():void 0)),f=c?z(\"apply\",a,c):z(\"remove\",a);f=h(a,f),d?rangy.restoreSelection(d):y(f,a)},remove:function(a,b,c){c=A(c);var d,e;a.selection.isCollapsed()&&(e=rangy.saveSelection(a.win),x(a,c&&c.nodeName?c.nodeName.toUpperCase():void 0)),d=z(\"remove\",a),d=h(a,d),e?rangy.restoreSelection(e):y(d,a)},state:function(b,c,d){d=A(d);for(var e,f=b.selection.filterElements(function(b){return a.dom.domNode(b).test(d||{query:D})}.bind(this)),g=b.selection.getSelectedOwnNodes(),h=0,i=g.length;i>h;h++)e=B.getParentElement(g[h],d||{query:D},null,b.element),e&&-1===f.indexOf(e)&&f.push(e);return 0===f.length?!1:f}}}(wysihtml5),function(a){a.commands.formatCode={exec:function(b,c,d){var e,f,g,h=this.state(b)[0];h?b.selection.executeAndRestore(function(){e=h.querySelector(\"code\"),a.dom.replaceWithChildNodes(h),e&&a.dom.replaceWithChildNodes(e)}):(f=b.selection.getRange(),g=f.extractContents(),h=b.doc.createElement(\"pre\"),e=b.doc.createElement(\"code\"),d&&(e.className=d),h.appendChild(e),e.appendChild(g),f.insertNode(h),b.selection.selectNode(h))},state:function(b){var c,d=b.selection.getSelectedNode();return d&&d.nodeName&&\"PRE\"==d.nodeName&&d.firstChild&&d.firstChild.nodeName&&\"CODE\"==d.firstChild.nodeName?[d]:(c=a.dom.getParentElement(d,{query:\"pre code\"}),c?[c.parentNode]:!1)}}}(wysihtml5),function(a){function b(a){return/^\\s*$/.test(a.className)}function c(a){return!a.getAttribute(\"style\")||/^\\s*$/.test(a.getAttribute(\"style\"))}function d(b){var c=a.dom.getAttributes(b);return a.lang.object(c).isEmpty()}function e(b,c){var d,e,f,g;return 1!==b.nodeType||1!==c.nodeType?!1:b.nodeName!==c.nodeName?!1:(d=b.className.trim().replace(/\\s+/g,\" \").split(\" \"),e=c.className.trim().replace(/\\s+/g,\" \").split(\" \"),a.lang.array(d).without(e).length>0?!1:(f=a.dom.getAttributes(b),g=a.dom.getAttributes(c),f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1))}function f(b,c){var d=c&&c.nodeName||F,e=b.ownerDocument.createElement(d);if(c.classRegExp&&(e.className=e.className.replace(c.classRegExp,\"\")),c.className&&e.classList.add(c.className),c.styleProperty&&\"undefined\"!=typeof c.styleValue&&(e.style[a.browser.fixStyleKey(c.styleProperty)]=c.styleValue),c.attribute)if(\"object\"==typeof c.attribute)for(var f in c.attribute)c.attribute.hasOwnProperty(f)&&e.setAttribute(f,c.attribute[f]);else\"undefined\"!=typeof c.attributeValue&&e.setAttribute(c.attribute,c.attributeValue);return e}function g(a,b){for(var c in a)if(a.hasOwnProperty(c)&&(void 0===typeof b[c]||b[c]!==a[c]))return!1;return!0}function h(b,c,d){var e,f=a.dom.getAttributes(b),h=g(c,f);a.lang.object(f).difference(c);if(h&&d!==!1)for(e in c)c.hasOwnProperty(e)&&b.removeAttribute(e);else for(e in c)c.hasOwnProperty(e)&&b.setAttribute(e,c[e])}function i(e,f){var g,i,j;f.className&&(f.toggle!==!1&&e.classList.contains(f.className)?e.classList.remove(f.className):(f.classRegExp&&(e.className=e.className.replace(f.classRegExp,\"\")),e.classList.add(f.className)),b(e)&&e.removeAttribute(\"class\")),f.styleProperty&&(f.toggle!==!1&&e.style[a.browser.fixStyleKey(f.styleProperty)].trim().replace(/, /g,\",\")===f.styleValue?e.style[a.browser.fixStyleKey(f.styleProperty)]=\"\":e.style[a.browser.fixStyleKey(f.styleProperty)]=f.styleValue),c(e)&&e.removeAttribute(\"style\"),f.attribute&&(\"object\"==typeof f.attribute?g=f.attribute:(g={},g[f.attribute]=f.attributeValue||\"\"),h(e,g,f.toggle)),i=f.nodeName?H[f.nodeName.toLowerCase()]||f.nodeName.toLowerCase():null,j=i?a.dom.domNode(e).test({query:i}):!1,(!f.nodeName||f.nodeName===F||j)&&(f.toggle!==!1&&j||!f.nodeName&&e.nodeName===F)&&b(e)&&c(e)&&d(e)&&a.dom.unwrap(e)}function j(b,c){var d=[];return b.isCollapsed()||(d=d.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},c))),d}function k(a,b,c,d){var e=a,f=d?b:l(b);do{if(1===e.nodeType&&m(e,f))return e;e=e.parentNode}while(e&&e!==c);return null}function l(a){return{nodeName:a.nodeName||null,className:a.classRegExp?null:a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}}function m(b,c){var d;if(c.nodeName){var e=H[c.nodeName.toLowerCase()]||c.nodeName.toLowerCase();return a.dom.domNode(b).test({query:e})}return d=a.lang.object(c).clone(),d.query=G,a.dom.domNode(b).test(d)}function n(b,c){var d=document.documentElement||document.body,e=d.scrollTop,f=d.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(c)}catch(g){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),d.scrollTop=e,d.scrollLeft=f,rangy.getSelection(b.win).addRange(c))}function o(a,b){var c=rangy.createRange(b.doc),d=a[a.length-1];a[0]&&d&&(c.setStart(a[0],0),c.setEnd(d,d.length),n(b,c))}function p(a,b,c,d){var e=rangy.createRange(a.doc);b&&(e.setStart(b,c),e.setEnd(b,\"undefined\"!=typeof d?d:c),n(a,e))}function q(a,b,c){var d,e,f,g=j(a.selection),h=[],i=!1;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){if(f=a.selection.getSelection().anchorNode,!f)return{nodes:[],partial:!1};3===f.nodeType&&(g=[f])}g.length||(e=a.selection.getOwnRanges()[0],e&&(g=[e.endContainer]));for(var l=0,m=g.length;m>l;l++)d=k(g[l],b,a.element,c),d?h.push(d):i=!0}return{nodes:h,partial:i}}function r(a){var b,c,d,e;return a&&(b=a.anchorNode,c=a.anchorOffset,b&&3===b.nodeType&&c>0&&c<b.data.length)?(d=b.data[c-1],e=b.data[c],/\\w/.test(d)&&/\\w/.test(e)):!1}function s(b){var c,d,e,f,g,h,i=[];if(b&&(c=b.anchorNode,d=g=h=b.anchorOffset,e=c.ownerDocument,f=rangy.createRange(e),c&&3===c.nodeType)){for(;g>0&&/\\w/.test(c.data[g-1]);)g--;for(;h<c.data.length&&/\\w/.test(c.data[h]);)h++;return f.setStartAndEnd(c,g,h),f.splitBoundaries(),i=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()}),{wordOffset:d-g,range:f,textNode:i[0]}}return!1}function t(a,b){for(;b.firstChild;)a.appendChild(b.firstChild);b.parentNode.removeChild(b)}function u(a){for(var b=a.length;b--;)a[b]&&a[b].parentNode&&(a[b].nextSibling&&e(a[b],a[b].nextSibling)&&t(a[b],a[b].nextSibling),a[b].previousSibling&&e(a[b],a[b].previousSibling)&&t(a[b].previousSibling,a[b]))}function v(a,b,c){b.length>0&&o(b,a),u(q(a,c).nodes),b.length>0&&o(b,a)}function w(a,b,c,d){p(a,b,c),u(q(a,d).nodes),p(a,b,c)}function x(a,b){var c=f(a,b);a.parentNode.insertBefore(c,a),c.appendChild(a)}function y(b,c,d){var e,f=c.element,g=k(b,d,f);g&&(e=g.cloneNode(!1),a.dom.domNode(b).escapeParent(g,e),i(e,d))}function z(b,c,d){var e=c.element,f=k(b,d,e);f&&a.dom.domNode(b).escapeParent(f)}function A(a,b,c){var d=f(a.endContainer,c);a.surroundContents(d),b.selection.selectNode(d)}function B(b,c,d,e){var f,g,h,j,l=q(b,e,!0),m=b.selection.getSelection();if(c.length){if(l.partial||e.toggle===!1)for(j=c.length;j--;)k(c[j],e,b.element)&&y(c[j],b,e),k(c[j],e,b.element)||x(c[j],e);else for(j=c.length;j--;)y(c[j],b,e);v(b,c,e)}else if(e.toggle!==!1)if(r(m))f=s(m),g=f.textNode,y(f.textNode,b,e),w(b,f.textNode,f.wordOffset,e);else{g=b.doc.createTextNode(a.INVISIBLE_SPACE),h=d.nodes[0].cloneNode(!1),h.appendChild(g),b.selection.splitElementAtCaret(d.nodes[0],h),i(h,e),v(b,[g],e);var n=b.selection.getSelection();if(n.anchorNode&&n.focusNode)try{n.collapseToEnd()}catch(o){}}else for(j=d.nodes.length;j--;)i(d.nodes[j],e)}function C(b,c,d,e){var f,g,h,i=b.selection.getSelection();if(c.length){for(h=c.length;h--;)z(c[h],b,e);v(b,c,e)}else{for(f=i.anchorNode,g=i.anchorOffset,h=d.nodes.length;h--;)a.dom.unwrap(d.nodes[h]);w(b,f,g,e)}}function D(a,b,c){var d,e,f=a.selection.getSelection();if(b.length){for(e=b.length;e--;)x(b[e],c);v(a,b,c)}else if(r(f))d=s(f),x(d.textNode,c),w(a,d.textNode,d.wordOffset,c);else{var g=a.selection.getOwnRanges()[0];g&&A(g,a,c)}}function E(a){return a=\"string\"==typeof a?{nodeName:a}:a,a.nodeName&&(a.nodeName=a.nodeName.toUpperCase()),a}var F=\"SPAN\",G=\"b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u\",H={b:\"b, strong\",strong:\"b, strong\",em:\"em, i\",i:\"em, i\"};a.commands.formatInline={exec:function(a,b,c){c=E(c),a.element.normalize();var d=j(a.selection,!0),e=q(a,c);e.nodes.length>0?B(a,d,e,c):D(a,d,c),a.element.normalize()},remove:function(a,b,c){c=E(c),a.element.normalize();var d=j(a.selection,!0),e=q(a,c);e.nodes.length>0&&C(a,d,e,c),a.element.normalize()},state:function(a,b,c){c=E(c);var d=q(a,c,!0).nodes;return 0===d.length?!1:d}}}(wysihtml5),function(a){var b={nodeName:\"BLOCKQUOTE\",toggle:!0};a.commands.insertBlockQuote={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){a.commands.insertHTML={exec:function(a,b,c){a.selection.insertHTML(c)},state:function(){return!1}}}(wysihtml5),function(a){var b=\"IMG\";a.commands.insertImage={exec:function(c,d,e){e=\"object\"==typeof e?e:{src:e};var f,g,h=c.doc,i=this.state(c);if(i&&!e.src)return c.selection.setBefore(i),g=i.parentNode,g.removeChild(i),a.dom.removeEmptyTextNodes(g),\"A\"!==g.nodeName||g.firstChild||(c.selection.setAfter(g),g.parentNode.removeChild(g)),void a.quirks.redraw(c.element);if(i)for(var j in e)e.hasOwnProperty(j)&&i.setAttribute(\"className\"===j?\"class\":j,e[j]);else{i=h.createElement(b);for(var k in e)i.setAttribute(\"className\"===k?\"class\":k,e[k]);c.selection.insertNode(i),a.browser.hasProblemsSettingCaretAfterImg()?(f=h.createTextNode(a.INVISIBLE_SPACE),c.selection.insertNode(f),c.selection.setAfter(f)):c.selection.setAfter(i)}},state:function(c){var d,e,f,g=c.doc;return a.dom.hasElementWithTagName(g,b)&&(d=c.selection.getSelectedNode())?d.nodeName===b?d:d.nodeType!==a.ELEMENT_NODE?!1:(e=c.selection.getText(),(e=a.lang.string(e).trim())?!1:(f=c.selection.getNodes(a.ELEMENT_NODE,function(a){return\"IMG\"===a.nodeName}),1!==f.length?!1:f[0])):!1}}}(wysihtml5),function(a){var b=\"<br>\"+(a.browser.needsSpaceAfterLineBreak()?\" \":\"\");a.commands.insertLineBreak={exec:function(a,c){a.selection.insertHTML(b)},state:function(){return!1}}}(wysihtml5),function(a){a.commands.insertOrderedList={exec:function(b,c){a.commands.insertList.exec(b,c,\"OL\")},state:function(b,c){return a.commands.insertList.state(b,c,\"OL\")}}}(wysihtml5),function(a){a.commands.insertUnorderedList={exec:function(b,c){a.commands.insertList.exec(b,c,\"UL\")},state:function(b,c){return a.commands.insertList.state(b,c,\"UL\")}}}(wysihtml5),wysihtml5.commands.insertList=function(a){var b=function(a,b){if(a&&a.nodeName){\"string\"==typeof b&&(b=[b]);for(var c=b.length;c--;)if(a.nodeName===b[c])return!0}return!1},c=function(c,d,e){var f={el:null,other:!1};if(c){var g=a.dom.getParentElement(c,{query:\"li\"},!1,e.element),h=\"UL\"===d?\"OL\":\"UL\";b(c,d)?f.el=c:b(c,h)?f={el:c,other:!0}:g&&(b(g.parentNode,d)?f.el=g.parentNode:b(g.parentNode,h)&&(f={el:g.parentNode,other:!0}))}return f.el&&!e.element.contains(f.el)&&(f.el=null),f},d=function(b,c,d){var e,g,h=\"UL\"===c?\"OL\":\"UL\";d.selection.executeAndRestoreRangy(function(){if(e=f(h,d),e.length)for(var i=e.length;i--;)a.dom.renameElement(e[i],c.toLowerCase());else{g=f([\"OL\",\"UL\"],d);for(var j=g.length;j--;)a.dom.resolveList(g[j],d.config.useLineBreaks);a.dom.resolveList(b,d.config.useLineBreaks)}})},e=function(b,c,d){var e=\"UL\"===c?\"OL\":\"UL\";d.selection.executeAndRestoreRangy(function(){for(var g=[b].concat(f(e,d)),h=g.length;h--;)a.dom.renameElement(g[h],c.toLowerCase())})},f=function(a,c){for(var d=c.selection.getOwnRanges(),e=[],f=d.length;f--;)e=e.concat(d[f].getNodes([1],function(c){return b(c,a)}));return e},g=function(b,c){var d;c.selection.isCollapsed()||(d=rangy.saveSelection(c.win));var e,f,g=\"_wysihtml5-temp-\"+(new Date).getTime(),h=c.selection.deblockAndSurround({nodeName:\"div\",\nclassName:g});h.innerHTML=h.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,\"\"),h&&(e=/^(\\s|(<br>))+$/i.test(h.innerHTML),f=a.dom.convertToList(h,b.toLowerCase(),c.parent.config.classNames.uneditableContainer),d&&rangy.restoreSelection(d),e&&c.selection.selectNode(f.querySelector(\"li\"),!0))};return{exec:function(a,b,f){var h=a.doc,i=\"OL\"===f?\"insertOrderedList\":\"insertUnorderedList\",j=a.selection.getSelectedNode(),k=c(j,f,a);k.el?k.other?e(k.el,f,a):d(k.el,f,a):a.commands.support(i)?h.execCommand(i,!1,null):g(f,a)},state:function(a,b,d){var e=a.selection.getSelectedNode(),f=c(e,d,a);return f.el&&!f.other?f.el:!1}}}(wysihtml5),function(a){var b={nodeName:\"I\",toggle:!0};a.commands.italic={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-center\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-left\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-right\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={className:\"wysiwyg-text-align-justify\",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"right\",toggle:!0};a.commands.alignRightStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"left\",toggle:!0};a.commands.alignLeftStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"center\",toggle:!0};a.commands.alignCenterStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){var b={styleProperty:\"textAlign\",styleValue:\"justify\",toggle:!0};a.commands.alignJustifyStyle={exec:function(c,d){return a.commands.formatBlock.exec(c,\"formatBlock\",b)},state:function(c,d){return a.commands.formatBlock.state(c,\"formatBlock\",b)}}}(wysihtml5),function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}}(wysihtml5),function(a){var b={nodeName:\"U\",toggle:!0};a.commands.underline={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}}(wysihtml5),function(a){a.commands.createTable={exec:function(a,b,c){var d,e,f;if(c&&c.cols&&c.rows&&parseInt(c.cols,10)>0&&parseInt(c.rows,10)>0){for(f=c.tableStyle?'<table style=\"'+c.tableStyle+'\">':\"<table>\",f+=\"<tbody>\",e=0;e<c.rows;e++){for(f+=\"<tr>\",d=0;d<c.cols;d++)f+=\"<td><br></td>\";f+=\"</tr>\"}f+=\"</tbody></table>\",a.commands.exec(\"insertHTML\",f)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.mergeTableCells={exec:function(b,c){b.tableSelection&&b.tableSelection.start&&b.tableSelection.end&&(this.state(b,c)?a.dom.table.unmergeCell(b.tableSelection.start):a.dom.table.mergeCellsBetween(b.tableSelection.start,b.tableSelection.end))},state:function(b,c){if(b.tableSelection){var d=b.tableSelection.start,e=b.tableSelection.end;if(d&&e&&d==e&&(a.dom.getAttribute(d,\"colspan\")&&parseInt(a.dom.getAttribute(d,\"colspan\"),10)>1||a.dom.getAttribute(d,\"rowspan\")&&parseInt(a.dom.getAttribute(d,\"rowspan\"),10)>1))return[d]}return!1}}}(wysihtml5),function(a){a.commands.addTableCells={exec:function(b,c,d){if(b.tableSelection&&b.tableSelection.start&&b.tableSelection.end){var e=a.dom.table.orderSelectionEnds(b.tableSelection.start,b.tableSelection.end);\"before\"==d||\"above\"==d?a.dom.table.addCells(e.start,d):(\"after\"==d||\"below\"==d)&&a.dom.table.addCells(e.end,d),setTimeout(function(){b.tableSelection.select(e.start,e.end)},0)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.deleteTableCells={exec:function(b,c,d){if(b.tableSelection&&b.tableSelection.start&&b.tableSelection.end){var e,f=a.dom.table.orderSelectionEnds(b.tableSelection.start,b.tableSelection.end),g=a.dom.table.indexOf(f.start),h=b.tableSelection.table;a.dom.table.removeCells(f.start,d),setTimeout(function(){e=a.dom.table.findCell(h,g),e||(\"row\"==d&&(e=a.dom.table.findCell(h,{row:g.row-1,col:g.col})),\"column\"==d&&(e=a.dom.table.findCell(h,{row:g.row,col:g.col-1}))),e&&b.tableSelection.select(e,e)},0)}},state:function(a,b){return!1}}}(wysihtml5),function(a){a.commands.indentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag(\"LI\");return d?this.tryToPushLiLevel(d,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(b,c){var d,e,f,g,h,i=!1;return c.executeAndRestoreRangy(function(){for(var c=b.length;c--;)g=b[c],d=\"OL\"===g.parentNode.nodeName?\"OL\":\"UL\",e=g.ownerDocument.createElement(d),f=a.dom.domNode(g).prev({nodeTypes:[a.ELEMENT_NODE]}),h=f?f.querySelector(\"ul, ol\"):null,f&&(h?h.appendChild(g):(e.appendChild(g),f.appendChild(e)),i=!0)}),i}}}(wysihtml5),function(a){a.commands.outdentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag(\"LI\");return d?this.tryToPullLiLevel(d,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(b,c){var d,e,f,g,h,i=!1,j=this;return c.selection.executeAndRestoreRangy(function(){for(var k=b.length;k--;)if(g=b[k],g.parentNode&&(d=g.parentNode,\"OL\"===d.tagName||\"UL\"===d.tagName)){if(i=!0,e=a.dom.getParentElement(d.parentNode,{query:\"ol, ul\"},!1,c.element),f=a.dom.getParentElement(d.parentNode,{query:\"li\"},!1,c.element),e&&f)g.nextSibling&&(h=j.getAfterList(d,g),g.appendChild(h)),e.insertBefore(g,f.nextSibling);else{g.nextSibling&&(h=j.getAfterList(d,g),g.appendChild(h));for(var l=g.childNodes.length;l--;)d.parentNode.insertBefore(g.childNodes[l],d.nextSibling);d.parentNode.insertBefore(document.createElement(\"br\"),d.nextSibling),g.parentNode.removeChild(g)}0===d.childNodes.length&&d.parentNode.removeChild(d)}}),i},getAfterList:function(a,b){for(var c=a.nodeName,d=document.createElement(c);b.nextSibling;)d.appendChild(b.nextSibling);return d}}}(wysihtml5),function(a){var b={nodeName:\"SUB\",toggle:!0};a.commands.subscript={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b={nodeName:\"SUP\",toggle:!0};a.commands.superscript={exec:function(c,d){a.commands.formatInline.exec(c,d,b)},state:function(c,d){return a.commands.formatInline.state(c,d,b)}}}(wysihtml5),function(a){var b=90,c=89,d=8,e=46,f=25,g=\"data-wysihtml5-selection-node\",h=\"data-wysihtml5-selection-offset\",i=('<span id=\"_wysihtml5-undo\" class=\"_wysihtml5-temp\">'+a.INVISIBLE_SPACE+\"</span>\",'<span id=\"_wysihtml5-redo\" class=\"_wysihtml5-temp\">'+a.INVISIBLE_SPACE+\"</span>\",a.dom);a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var a,f=this;this.composer.sandbox.getDocument();i.observe(this.element,\"keydown\",function(a){if(!a.altKey&&(a.ctrlKey||a.metaKey)){var d=a.keyCode,e=d===b&&!a.shiftKey,g=d===b&&a.shiftKey||d===c;e?(f.undo(),a.preventDefault()):g&&(f.redo(),a.preventDefault())}}),i.observe(this.element,\"keydown\",function(b){var c=b.keyCode;c!==a&&(a=c,(c===d||c===e)&&f.transact())}),this.editor.on(\"newword:composer\",function(){f.transact()}).on(\"beforecommand:composer\",function(){f.transact()})},transact:function(){var b,c,d,e,i,j=this.historyStr[this.position-1],k=this.composer.getValue(!1,!1),l=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(k!==j){var m=this.historyStr.length=this.historyDom.length=this.position;m>f&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,l&&(b=this.composer.selection.getRange(),c=b&&b.startContainer?b.startContainer:this.element,d=b&&b.startOffset?b.startOffset:0,c.nodeType===a.ELEMENT_NODE?e=c:(e=c.parentNode,i=this.getChildNodeIndex(e,c)),e.setAttribute(h,d),\"undefined\"!=typeof i&&e.setAttribute(g,i));var n=this.element.cloneNode(!!k);this.historyDom.push(n),this.historyStr.push(k),e&&(e.removeAttribute(h),e.removeAttribute(g))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire(\"undo:composer\"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire(\"redo:composer\"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML=\"\";for(var b=0,c=a.childNodes,d=a.childNodes.length;d>b;b++)this.element.appendChild(c[b].cloneNode(!0));var e,f,i;a.hasAttribute(h)?(e=a.getAttribute(h),i=a.getAttribute(g),f=this.element):(f=this.element.querySelector(\"[\"+h+\"]\")||this.element,e=f.getAttribute(h),i=f.getAttribute(g),f.removeAttribute(h),f.removeAttribute(g)),null!==i&&(f=this.getChildNodeByIndex(f,+i)),this.composer.selection.set(f,e)},getChildNodeIndex:function(a,b){for(var c=0,d=a.childNodes,e=d.length;e>c;c++)if(d[c]===b)return c},getChildNodeByIndex:function(a,b){return a.childNodes[b]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(a,b,c){this.parent=a,this.element=b,this.config=c,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on(\"beforeload\",function(){a.parent.on(\"change_view\",function(b){b===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(\":focus\")!==this.element)try{this.element&&this.element.focus()}catch(a){}},hide:function(){this.element.style.display=\"none\"},show:function(){this.element.style.display=\"\"},disable:function(){this.element.setAttribute(\"disabled\",\"disabled\")},enable:function(){this.element.removeAttribute(\"disabled\")}}),function(a){var b=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:\"composer\",constructor:function(a,b,c){this.base(a,b,c),this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?\"\":\"<br>\"},getValue:function(b,c){var d=this.isEmpty()?\"\":a.quirks.getCorrectInnerHTML(this.element);return b!==!1&&(d=this.parent.parse(d,c===!1?!1:!0)),d},setValue:function(a,b){b!==!1&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(c){this.element.innerText=a}},cleanUp:function(a){var b;this.selection&&this.selection.isInThisEditable()&&(b=rangy.saveSelection(this.win)),this.parent.parse(this.element,void 0,a),b&&rangy.restoreSelection(b)},show:function(){this.editableArea.style.display=this._displayStyle||\"\",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=b.getStyle(\"display\").from(this.editableArea),\"none\"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display=\"none\"},disable:function(){this.parent.fire(\"disable:composer\"),this.element.removeAttribute(\"contentEditable\")},enable:function(){this.parent.fire(\"enable:composer\"),this.element.setAttribute(\"contentEditable\",\"true\")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var c=this.element.lastChild;b&&c&&this.selection&&(\"BR\"===c.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};return\"undefined\"!=typeof this.win.pageYOffset?a.y=this.win.pageYOffset:a.y=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop,\"undefined\"!=typeof this.win.pageXOffset?a.x=this.win.pageXOffset:a.x=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft,a}},setScrollPos:function(a){a&&\"undefined\"!=typeof a.x&&\"undefined\"!=typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute(\"data-placeholder\"):this.textarea.element.getAttribute(\"placeholder\"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\\s|<br>|<\\/br>|<p>|<\\/p>)*$/i.test(a)||\"\"===a||\"<br>\"===a||\"<p></p>\"===a||\"<p><br></p>\"===a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new b.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new b.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),b.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=this;this.sandbox=new b.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getIframe();var c=this.textarea.element;b.insert(this.editableArea).after(c),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement(\"input\");a.type=\"hidden\",a.name=\"_wysihtml5_mode\",a.value=1,b.insert(a).after(this.textarea.element)}},_create:function(){var d=this;this.doc=this.sandbox.getDocument(),this.win=this.sandbox.getWindow(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer),this.commands=new a.Commands(this.parent),this.config.noTextarea||b.copyAttributes([\"className\",\"spellcheck\",\"title\",\"lang\",\"dir\",\"accessKey\"]).from(this.textarea.element).to(this.element),this._initAutoLinking(),b.addClass(this.element,this.config.classNames.composer),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var e=this.config.name;e&&(b.addClass(this.element,e),this.config.contentEditableMode||b.addClass(this.editableArea,e)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var f=\"string\"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute(\"data-placeholder\"):this.textarea.element.getAttribute(\"placeholder\");f&&b.simulatePlaceholder(this.parent,this,f,this.config.classNames.placeholder),this.commands.exec(\"styleWithCSS\",!1),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute(\"autofocus\")&&document.querySelector(\":focus\")!=this.textarea.element||c.isIos()||setTimeout(function(){d.focus(!0)},100),c.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire(\"beforeload\").fire(\"load\")},_initAutoLinking:function(){var d=this,e=c.canDisableAutoLinking(),f=c.doesAutoLinkingInContentEditable();if(e&&this.commands.exec(\"AutoUrlDetect\",!1,!1),this.config.autoLink){(!f||f&&e)&&(this.parent.on(\"newword:composer\",function(){if(b.getTextContent(d.element).match(b.autoLink.URL_REG_EXP)){for(var c=d.selection.getSelectedNode(),e=d.element.querySelectorAll(\".\"+d.config.classNames.uneditableContainer),f=!1,g=e.length;g--;)a.dom.contains(e[g],c)&&(f=!0);f||b.autoLink(c,[d.config.classNames.uneditableContainer])}}),b.observe(this.element,\"blur\",function(){b.autoLink(d.element,[d.config.classNames.uneditableContainer])}));var g=this.sandbox.getDocument().getElementsByTagName(\"a\"),h=b.autoLink.URL_REG_EXP,i=function(c){var d=a.lang.string(b.getTextContent(c)).trim();return\"www.\"===d.substr(0,4)&&(d=\"http://\"+d),d};b.observe(this.element,\"keydown\",function(a){if(g.length){var c,e=d.selection.getSelectedNode(a.target.ownerDocument),f=b.getParentElement(e,{query:\"a\"},4);f&&(c=i(f),setTimeout(function(){var a=i(f);a!==c&&a.match(h)&&f.setAttribute(\"href\",a)},0))}})}},_initObjectResizing:function(){if(this.commands.exec(\"enableObjectResizing\",!0),c.supportsEvent(\"resizeend\")){var d=[\"width\",\"height\"],e=d.length,f=this.element;b.observe(f,\"resizeend\",function(b){var c,g=b.target||b.srcElement,h=g.style,i=0;if(\"IMG\"===g.nodeName){for(;e>i;i++)c=d[i],h[c]&&(g.setAttribute(c,parseInt(h[c],10)),h[c]=\"\");a.quirks.redraw(f)}})}},_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function d(a){var c=b.getParentElement(a,{query:\"p, div\"},2);c&&b.contains(e.element,c)&&e.selection.executeAndRestore(function(){e.config.useLineBreaks?b.replaceWithChildNodes(c):\"P\"!==c.nodeName&&b.renameElement(c,\"p\")})}var e=this,f=\"li, p, h1, h2, h3, h4, h5, h6\",g=\"ul, ol, menu\";this.config.useLineBreaks||b.observe(this.element,[\"focus\",\"keydown\"],function(){if(e.isEmpty()){var a=e.doc.createElement(\"P\");e.element.innerHTML=\"\",e.element.appendChild(a),c.displaysCaretInEmptyContentEditableCorrectly()?e.selection.selectNode(a,!0):(a.innerHTML=\"<br>\",e.selection.setBefore(a.firstChild))}}),b.observe(this.element,\"keydown\",function(c){var h=c.keyCode;if(!c.shiftKey&&(h===a.ENTER_KEY||h===a.BACKSPACE_KEY)){var i=b.getParentElement(e.selection.getSelectedNode(),{query:f},4);return i?void setTimeout(function(){var c,f=e.selection.getSelectedNode();if(\"LI\"===i.nodeName){if(!f)return;c=b.getParentElement(f,{query:g},2),c||d(f)}h===a.ENTER_KEY&&i.nodeName.match(/^H[1-6]$/)&&d(f)},0):void(e.config.useLineBreaks&&h===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(c.preventDefault(),e.commands.exec(\"insertLineBreak\")))}})}})}(wysihtml5),function(a){var b=a.dom,c=document,d=window,e=c.createElement(\"div\"),f=[\"background-color\",\"color\",\"cursor\",\"font-family\",\"font-size\",\"font-style\",\"font-variant\",\"font-weight\",\"line-height\",\"letter-spacing\",\"text-align\",\"text-decoration\",\"text-indent\",\"text-rendering\",\"word-break\",\"word-wrap\",\"word-spacing\"],g=[\"background-color\",\"border-collapse\",\"border-bottom-color\",\"border-bottom-style\",\"border-bottom-width\",\"border-left-color\",\"border-left-style\",\"border-left-width\",\"border-right-color\",\"border-right-style\",\"border-right-width\",\"border-top-color\",\"border-top-style\",\"border-top-width\",\"clear\",\"display\",\"float\",\"margin-bottom\",\"margin-left\",\"margin-right\",\"margin-top\",\"outline-color\",\"outline-offset\",\"outline-width\",\"outline-style\",\"padding-left\",\"padding-right\",\"padding-top\",\"padding-bottom\",\"position\",\"top\",\"left\",\"right\",\"bottom\",\"z-index\",\"vertical-align\",\"text-align\",\"-webkit-box-sizing\",\"-moz-box-sizing\",\"-ms-box-sizing\",\"box-sizing\",\"-webkit-box-shadow\",\"-moz-box-shadow\",\"-ms-box-shadow\",\"box-shadow\",\"-webkit-border-top-right-radius\",\"-moz-border-radius-topright\",\"border-top-right-radius\",\"-webkit-border-bottom-right-radius\",\"-moz-border-radius-bottomright\",\"border-bottom-right-radius\",\"-webkit-border-bottom-left-radius\",\"-moz-border-radius-bottomleft\",\"border-bottom-left-radius\",\"-webkit-border-top-left-radius\",\"-moz-border-radius-topleft\",\"border-top-left-radius\",\"width\",\"height\"],h=[\"html                 { height: 100%; }\",\"body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }\",\"body > p:first-child { margin-top: 0; }\",\"._wysihtml5-temp     { display: none; }\",a.browser.isGecko?\"body.placeholder { color: graytext !important; }\":\"body.placeholder { color: #a9a9a9 !important; }\",\"img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }\"],i=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.scrollLeft||c.body.scrollLeft,i={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};b.setStyles({position:\"absolute\",top:\"-99999px\",left:\"-99999px\",WebkitUserSelect:\"none\"}).on(a),a.focus(),b.setStyles(i).on(a),d.scrollTo&&d.scrollTo(h,g)}};a.views.Composer.prototype.style=function(){var d,j=this,k=c.querySelector(\":focus\"),l=this.textarea.element,m=l.hasAttribute(\"placeholder\"),n=m&&l.getAttribute(\"placeholder\"),o=l.style.display,p=l.disabled;this.focusStylesHost=e.cloneNode(!1),this.blurStylesHost=e.cloneNode(!1),this.disabledStylesHost=e.cloneNode(!1),m&&l.removeAttribute(\"placeholder\"),l===k&&l.blur(),l.disabled=!1,l.style.display=d=\"none\",(l.getAttribute(\"rows\")&&\"auto\"===b.getStyle(\"height\").from(l)||l.getAttribute(\"cols\")&&\"auto\"===b.getStyle(\"width\").from(l))&&(l.style.display=d=o),b.copyStyles(g).from(l).to(this.editableArea).andTo(this.blurStylesHost),b.copyStyles(f).from(l).to(this.element).andTo(this.blurStylesHost),b.insertCSS(h).into(this.element.ownerDocument),l.disabled=!0,b.copyStyles(g).from(l).to(this.disabledStylesHost),b.copyStyles(f).from(l).to(this.disabledStylesHost),l.disabled=p,l.style.display=o,i(l),l.style.display=d,b.copyStyles(g).from(l).to(this.focusStylesHost),b.copyStyles(f).from(l).to(this.focusStylesHost),l.style.display=o,b.copyStyles([\"display\"]).from(l).to(this.editableArea);var q=a.lang.array(g).without([\"display\"]);return k?k.focus():l.blur(),m&&l.setAttribute(\"placeholder\",n),this.parent.on(\"focus:composer\",function(){b.copyStyles(q).from(j.focusStylesHost).to(j.editableArea),b.copyStyles(f).from(j.focusStylesHost).to(j.element)}),this.parent.on(\"blur:composer\",function(){b.copyStyles(q).from(j.blurStylesHost).to(j.editableArea),b.copyStyles(f).from(j.blurStylesHost).to(j.element)}),this.parent.observe(\"disable:composer\",function(){b.copyStyles(q).from(j.disabledStylesHost).to(j.editableArea),b.copyStyles(f).from(j.disabledStylesHost).to(j.element)}),this.parent.observe(\"enable:composer\",function(){b.copyStyles(q).from(j.blurStylesHost).to(j.editableArea),b.copyStyles(f).from(j.blurStylesHost).to(j.element)}),this}}(wysihtml5),function(a){var b=a.dom,c=a.browser,d={66:\"bold\",73:\"italic\",85:\"underline\"},e=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a.addEventListener(b[d],c,!1)},f=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a.removeEventListener(b[d],c,!1)},g=function(b,c){if(b.selection.caretIsLastInSelection()){var d=b.selection.getSelection(),e=d.anchorNode;if(e&&1===e.nodeType&&(a.dom.getParentElement(e,{query:\"td, th\"},!1,b.element)||c)){var f=e.childNodes[d.anchorOffset];if(f&&1===f.nodeType&\"BR\"===f.nodeName)return f.parentNode.removeChild(f),!0}}return!1},h=function(a){var b=a.selection.getBeforeSelection(!0);if(b&&(\"element\"===b.type||\"leafnode\"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(g(a,!0))return!0;try{var c=new CustomEvent(\"wysihtml5:uneditable:delete\");b.node.dispatchEvent(c)}catch(d){}return b.node.parentNode.removeChild(b.node),!0}return!1},i=function(b){var c=b.selection,d=c.getPreviousNode();if(c.caretIsFirstInSelection()&&d&&1===d.nodeType&&/block/.test(b.win.getComputedStyle(d).display)){if(/^\\s*$/.test(d.textContent||d.innerText))return d.parentNode.removeChild(d),!0;if(d.lastChild){var e=d.lastChild,f=c.getSelectedNode(),g=a.dom.domNode(d).commonAncestor(f,b.element);if(curNode=g?a.dom.getParentElement(f,{query:\"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote\"},!1,g):null,curNode){for(;curNode.firstChild;)d.appendChild(curNode.firstChild);return c.setAfter(e),!0}if(3===f.nodeType)return d.appendChild(f),c.setAfter(e),!0}}return!1},j=function(a,b){var c=b.selection;b.element;if(c.isCollapsed()){if(i(b))return void a.preventDefault();if(g(b))return void a.preventDefault();if(h(b))return void a.preventDefault()}else c.containsUneditable()&&(a.preventDefault(),c.deleteContents())},k=function(a,b,c){if(a.selection.isCollapsed()){if(a.selection.caretIsInTheBeginnig(\"li\"))if(c){if(a.commands.exec(\"outdentList\"))return}else if(a.commands.exec(\"indentList\"))return}else a.selection.deleteContents();a.commands.exec(\"insertHTML\",\"&emsp;\")},l=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval),this.parent.fire(\"destroy:composer\")},m=function(a){this.parent.fire(\"beforeinteraction\",a).fire(\"beforeinteraction:composer\",a),setTimeout(function(){this.parent.fire(\"interaction\",a).fire(\"interaction:composer\",a)}.bind(this),0)},n=function(a){this.parent.fire(\"focus\",a).fire(\"focus:composer\",a),setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},o=function(a){if(this.focusState!==this.getValue(!1,!1)){var b=a;\"function\"==typeof Object.create&&(b=Object.create(a,{type:{value:\"change\"}})),this.parent.fire(\"change\",b).fire(\"change:composer\",b)}this.parent.fire(\"blur\",a).fire(\"blur:composer\",a)},p=function(a){this.parent.fire(a.type,a).fire(a.type+\":composer\",a),\"paste\"===a.type&&setTimeout(function(){this.parent.fire(\"newword:composer\")}.bind(this),0)},q=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData(\"text/html\",this.config.copyedFromMarking+this.selection.getHtml()),b.clipboardData.setData(\"text/plain\",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+\":composer\",b))},r=function(b){var c=b.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&&this.parent.fire(\"newword:composer\")},s=function(b){if(!c.canSelectImagesInContentEditable()){var d=b.target,e=this.element.querySelectorAll(\"img\"),f=this.element.querySelectorAll(\".\"+this.config.classNames.uneditableContainer+\" img\"),g=a.lang.array(e).without(f);\"IMG\"===d.nodeName&&a.lang.array(g).contains(d)&&this.selection.selectNode(d)}},t=function(a){var b,c={IMG:\"Image: \",A:\"Link: \"},d=a.target,e=d.nodeName;(\"A\"===e||\"IMG\"===e)&&(d.hasAttribute(\"title\")||(b=c[e]+(d.getAttribute(\"href\")||d.getAttribute(\"src\")),d.setAttribute(\"title\",b)))},u=function(b){if(this.config.classNames.uneditableContainer){var c=a.dom.getParentElement(b.target,{query:\".\"+this.config.classNames.uneditableContainer},!1,this.element);c&&this.selection.setAfter(c)}},v=function(a){c.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},w=function(b){var c,e,f=b.keyCode,g=d[f];return!b.ctrlKey&&!b.metaKey||b.altKey||65!==f?((b.ctrlKey||b.metaKey)&&!b.altKey&&g&&(this.commands.exec(g),b.preventDefault()),f===a.BACKSPACE_KEY&&j(b,this),(f===a.BACKSPACE_KEY||f===a.DELETE_KEY)&&(c=this.selection.getSelectedNode(!0),c&&\"IMG\"===c.nodeName&&(b.preventDefault(),e=c.parentNode,e.removeChild(c),\"A\"!==e.nodeName||e.firstChild||e.parentNode.removeChild(e),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0))),void(this.config.handleTabKey&&f===a.TAB_KEY&&(b.preventDefault(),k(this,this.element,b.shiftKey)))):(this.selection.selectAll(),void b.preventDefault())},x=function(){var b=function(){window.removeEventListener(\"load\",b),this.doc.execCommand(\"enableObjectResizing\",!1,\"false\"),this.doc.execCommand(\"enableInlineTableEditing\",!1,\"false\")}.bind(this),c=function(){b.call(this),f(this.sandbox.getIframe(),[\"focus\",\"mouseup\",\"mouseover\"],c)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,\"enableObjectResizing\")&&a.browser.supportsCommand(this.doc,\"enableInlineTableEditing\")&&(this.sandbox.getIframe?e(this.sandbox.getIframe(),[\"focus\",\"mouseup\",\"mouseover\"],c):window.addEventListener(\"load\",b)),this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)};a.views.Composer.prototype.observe=function(){var a=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),d=(this.element,c.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow());this.focusState=this.getValue(!1,!1),a.addEventListener([\"DOMNodeRemoved\"],l.bind(this),!1),c.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){b.contains(document.documentElement,a)||l.call(this)},250)),this.config.handleTables&&x.call(this),e(d,[\"drop\",\"paste\",\"mouseup\",\"focus\",\"keyup\"],m.bind(this)),d.addEventListener(\"focus\",n.bind(this),!1),d.addEventListener(\"blur\",o.bind(this),!1),e(this.element,[\"drop\",\"paste\",\"beforepaste\"],p.bind(this),!1),this.element.addEventListener(\"copy\",q.bind(this),!1),this.element.addEventListener(\"mousedown\",s.bind(this),!1),this.element.addEventListener(\"mouseover\",t.bind(this),!1),this.element.addEventListener(\"click\",u.bind(this),!1),this.element.addEventListener(\"drop\",v.bind(this),!1),this.element.addEventListener(\"keyup\",r.bind(this),!1),this.element.addEventListener(\"keydown\",w.bind(this),!1),this.element.addEventListener(\"dragenter\",function(){this.parent.fire(\"unset_placeholder\")}.bind(this),!1)}}(wysihtml5),function(a){var b=400;a.views.Synchronizer=Base.extend({constructor:function(a,b,c){this.editor=a,this.textarea=b,this.composer=c,this._observe()},fromComposerToTextarea:function(b){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),b)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(\"set_placeholder\"))},sync:function(a){\"textarea\"===this.editor.currentView.name?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},_observe:function(){var c,d=this,e=this.textarea.element.form,f=function(){c=setInterval(function(){d.fromComposerToTextarea()},b)},g=function(){clearInterval(c),c=null};f(),e&&(a.dom.observe(e,\"submit\",function(){d.sync(!0)}),a.dom.observe(e,\"reset\",function(){setTimeout(function(){d.fromTextareaToComposer()},0)})),this.editor.on(\"change_view\",function(a){\"composer\"!==a||c?\"textarea\"===a&&(d.fromComposerToTextarea(!0),g()):(d.fromTextareaToComposer(!0),f())}),this.editor.on(\"destroy:composer\",g)}})}(wysihtml5),function(a){a.views.SourceView=Base.extend({constructor:function(a,b){this.editor=a,this.composer=b,this._observe()},switchToTextarea:function(a){var b=this.composer.win.getComputedStyle(this.composer.element),c=parseFloat(b.width),d=Math.max(parseFloat(b.height),100);this.textarea||(this.textarea=this.composer.doc.createElement(\"textarea\"),this.textarea.className=\"wysihtml5-source-view\"),this.textarea.style.width=c+\"px\",this.textarea.style.height=d+\"px\",this.textarea.value=this.editor.getValue(a,!0),this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element),this.editor.currentView=\"source\",this.composer.element.style.display=\"none\"},switchToComposer:function(a){var b=this.textarea.value;b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(\"set_placeholder\")),this.textarea.parentNode.removeChild(this.textarea),this.editor.currentView=this.composer,this.composer.element.style.display=\"\"},_observe:function(){this.editor.on(\"change_view\",function(a){\"composer\"===a?this.switchToComposer(!0):\"textarea\"===a&&this.switchToTextarea(!0)}.bind(this))}})}(wysihtml5),\nwysihtml5.views.Textarea=wysihtml5.views.View.extend({name:\"textarea\",constructor:function(a,b,c){this.base(a,b,c),this._observe()},clear:function(){this.element.value=\"\"},getValue:function(a){var b=this.isEmpty()?\"\":this.element.value;return a!==!1&&(b=this.parent.parse(b)),b},setValue:function(a,b){b!==!1&&(a=this.parent.parse(a)),this.element.value=a},cleanUp:function(a){var b=this.parent.parse(this.element.value,void 0,a);this.element.value=b},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),b=this.element.getAttribute(\"placeholder\")||null,c=this.element.value,d=!c;return a&&d||c===b},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,b=this.parent,c={focusin:\"focus\",focusout:\"blur\"},d=wysihtml5.browser.supportsEvent(\"focusin\")?[\"focusin\",\"focusout\",\"change\"]:[\"focus\",\"blur\",\"change\"];b.on(\"beforeload\",function(){wysihtml5.dom.observe(a,d,function(a){var d=c[a.type]||a.type;b.fire(d).fire(d+\":textarea\")}),wysihtml5.dom.observe(a,[\"paste\",\"drop\"],function(){setTimeout(function(){b.fire(\"paste\").fire(\"paste:textarea\")},0)})})}}),function(a){var b,c={name:b,style:!0,toolbar:b,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,stylesheets:[],placeholderText:b,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:\"wysihtml5-editor\",body:\"wysihtml5-supported\",sandbox:\"wysihtml5-sandbox\",placeholder:\"wysihtml5-placeholder\",uneditableContainer:\"wysihtml5-uneditable-container\"},copyedFromMarking:'<meta name=\"copied-from\" content=\"wysihtml5\">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,d){if(this.editableElement=\"string\"==typeof b?document.getElementById(b):b,this.config=a.lang.object({}).merge(c).merge(d).get(),this._isCompatible=a.browser.supported(),d&&d.classNames&&a.lang.object(this.config.classNames).merge(d.classNames),\"textarea\"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new a.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var e=this;return void setTimeout(function(){e.fire(\"beforeload\").fire(\"load\")},0)}a.dom.addClass(document.body,this.config.classNames.body),this.composer=new a.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,\"function\"==typeof this.config.parser&&this._initParser(),this.on(\"beforeload\",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(a,b){return this.currentView.getValue(a,b)},setValue:function(a,b){return this.fire(\"unset_placeholder\"),a?(this.currentView.setValue(a,b),this):this.clear()},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){return this.currentView.focus(a),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy(),this.toolbar&&this.toolbar.destroy(),this.off()},parse:function(b,c,d){var e=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,f=this.config.parser(b,{rules:d||this.config.parserRules,cleanUp:this.config.cleanUp,context:e,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:c});return\"object\"==typeof b&&a.quirks.redraw(b),f},_initParser:function(){var b;a.browser.supportsModernPaste()?this.on(\"paste:composer\",function(c){c.preventDefault(),b=a.dom.getPastedHtml(c),b&&this._cleanAndPaste(b)}.bind(this)):this.on(\"beforepaste:composer\",function(b){b.preventDefault();var c=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a),this.composer.setScrollPos(c)}.bind(this))}.bind(this))},_cleanAndPaste:function(b){var c=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(c)}})}(wysihtml5),function(a){var b=a.dom,c=\"wysihtml5-command-dialog-opened\",d=\"input, select, textarea\",e=\"[data-wysihtml5-dialog-field]\",f=\"data-wysihtml5-dialog-field\";a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a,this.container=b},_observe:function(){if(!this._observed){var d=this,e=function(a){var b=d._serialize();d.fire(\"save\",b),d.hide(),a.preventDefault(),a.stopPropagation()};b.observe(d.link,\"click\",function(){b.hasClass(d.link,c)&&setTimeout(function(){d.hide()},0)}),b.observe(this.container,\"keydown\",function(b){var c=b.keyCode;c===a.ENTER_KEY&&e(b),c===a.ESCAPE_KEY&&d.cancel()}),b.delegate(this.container,\"[data-wysihtml5-dialog-action=save]\",\"click\",e),b.delegate(this.container,\"[data-wysihtml5-dialog-action=cancel]\",\"click\",function(a){d.cancel(),a.preventDefault(),a.stopPropagation()}),this._observed=!0}},_serialize:function(){for(var a={},b=this.container.querySelectorAll(e),c=b.length,d=0;c>d;d++)a[b[d].getAttribute(f)]=b[d].value;return a},_interpolate:function(a){for(var b,c,d,g=document.querySelector(\":focus\"),h=this.container.querySelectorAll(e),i=h.length,j=0;i>j;j++)b=h[j],b!==g&&(a&&\"hidden\"===b.type||(c=b.getAttribute(f),d=this.elementToChange&&\"boolean\"!=typeof this.elementToChange?this.elementToChange.getAttribute(c)||\"\":b.defaultValue,b.value=d))},update:function(a){this.elementToChange=a?a:this.elementToChange,this._interpolate()},show:function(a){var e=this.container.querySelector(d);if(this._observe(),this.update(a),b.addClass(this.link,c),this.container.style.display=\"\",this.isOpen=!0,this.fire(\"show\"),e&&!a)try{e.focus()}catch(f){}},_hide:function(a){this.elementToChange=null,b.removeClass(this.link,c),this.container.style.display=\"none\",this.isOpen=!1},hide:function(){this._hide(),this.fire(\"hide\")},cancel:function(){this._hide(),this.fire(\"cancel\")}})}(wysihtml5),function(a){var b=a.dom,c={position:\"relative\"},d={left:0,margin:0,opacity:0,overflow:\"hidden\",padding:0,position:\"absolute\",top:0,zIndex:1},e={cursor:\"inherit\",fontSize:\"50px\",height:\"50px\",marginTop:\"-25px\",outline:0,padding:0,position:\"absolute\",right:\"-4px\",top:\"50%\"},f={\"x-webkit-speech\":\"\",speech:\"\"};a.toolbar.Speech=function(g,h){var i=document.createElement(\"input\");if(!a.browser.supportsSpeechApiOn(i))return void(h.style.display=\"none\");var j=g.editor.textarea.element.getAttribute(\"lang\");j&&(f.lang=j);var k=document.createElement(\"div\");a.lang.object(d).merge({width:h.offsetWidth+\"px\",height:h.offsetHeight+\"px\"}),b.insert(i).into(k),b.insert(k).into(h),b.setStyles(e).on(i),b.setAttributes(f).on(i),b.setStyles(d).on(k),b.setStyles(c).on(h);var l=\"onwebkitspeechchange\"in i?\"webkitspeechchange\":\"speechchange\";b.observe(i,l,function(){g.execCommand(\"insertText\",i.value),i.value=\"\"}),b.observe(i,\"click\",function(a){b.hasClass(h,\"wysihtml5-command-disabled\")&&a.preventDefault(),a.stopPropagation()})}}(wysihtml5),function(a){function b(b,c){var d=b.commands.state(c.name,c.value);return!c.dialog.multiselect&&a.lang.object(d).isArray()&&(d=1===d.length?d[0]:!0),d}var c=\"wysihtml5-command-disabled\",d=\"wysihtml5-commands-disabled\",e=\"wysihtml5-command-active\",f=\"wysihtml5-action-active\",g=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(b,g,h){this.editor=b,this.container=\"string\"==typeof g?document.getElementById(g):g,this.composer=b.composer,this._getLinks(\"command\"),this._getLinks(\"action\"),this._observe(),h&&this.show(),null!=b.config.classNameCommandDisabled&&(c=b.config.classNameCommandDisabled),null!=b.config.classNameCommandsDisabled&&(d=b.config.classNameCommandsDisabled),null!=b.config.classNameCommandActive&&(e=b.config.classNameCommandActive),null!=b.config.classNameActionActive&&(f=b.config.classNameActionActive);for(var i=this.container.querySelectorAll(\"[data-wysihtml5-command=insertSpeech]\"),j=i.length,k=0;j>k;k++)new a.toolbar.Speech(this,i[k])},_getLinks:function(b){for(var c,d,e,f,g,h,i=this[b+\"Links\"]=a.lang.array(this.container.querySelectorAll(\"[data-wysihtml5-\"+b+\"]\")).get(),j=i.length,k=0,l=this[b+\"Mapping\"]={};j>k;k++)c=i[k],e=c.getAttribute(\"data-wysihtml5-\"+b),f=c.getAttribute(\"data-wysihtml5-\"+b+\"-value\"),h=c.getAttribute(\"data-wysihtml5-\"+b+\"-blank-value\"),d=this.container.querySelector(\"[data-wysihtml5-\"+b+\"-group='\"+e+\"']\"),g=this._getDialog(c,e),l[e+\":\"+f]={link:c,group:d,name:e,value:f,tracksBlankValue:h,dialog:g,state:!1}},_getDialog:function(b,c){var d,e,f=this,g=this.container.querySelector(\"[data-wysihtml5-dialog='\"+c+\"']\");return g&&(d=a.toolbar[\"Dialog_\"+c]?new a.toolbar[\"Dialog_\"+c](b,g):new a.toolbar.Dialog(b,g),d.on(\"show\",function(){e=f.composer.selection.getBookmark(),f.editor.fire(\"show:dialog\",{command:c,dialogContainer:g,commandLink:b})}),d.on(\"save\",function(a){e&&f.composer.selection.setBookmark(e),f._execCommand(c,a),f.editor.fire(\"save:dialog\",{command:c,dialogContainer:g,commandLink:b}),f._hideAllDialogs(),f._preventInstantFocus(),e=void 0}),d.on(\"cancel\",function(){e&&f.composer.selection.setBookmark(e),f.editor.fire(\"cancel:dialog\",{command:c,dialogContainer:g,commandLink:b}),e=void 0,f._preventInstantFocus()}),d.on(\"hide\",function(){f.editor.fire(\"hide:dialog\",{command:c,dialogContainer:g,commandLink:b}),e=void 0})),d},execCommand:function(a,b){this.commandsDisabled||this._execCommand(a,b)},_execCommand:function(a,b){this.editor.focus(!1),this.composer.commands.exec(a,b),this._updateLinkStates()},execAction:function(a){var b=this.editor;\"change_view\"===a&&(b.currentView===b.textarea||\"source\"===b.currentView?b.fire(\"change_view\",\"composer\"):b.fire(\"change_view\",\"textarea\")),\"showSource\"==a&&b.fire(\"showSource\")},_observe:function(){for(var c=this,e=this.editor,f=this.container,h=this.commandLinks.concat(this.actionLinks),i=h.length,j=0;i>j;j++)\"A\"===h[j].nodeName?g.setAttributes({href:\"javascript:;\",unselectable:\"on\"}).on(h[j]):g.setAttributes({unselectable:\"on\"}).on(h[j]);g.delegate(f,\"[data-wysihtml5-command], [data-wysihtml5-action]\",\"mousedown\",function(a){a.preventDefault()}),g.delegate(f,\"[data-wysihtml5-command]\",\"click\",function(a){var d,e=this,f=e.getAttribute(\"data-wysihtml5-command\"),g=e.getAttribute(\"data-wysihtml5-command-value\"),h=c.commandMapping[f+\":\"+g];g||!h.dialog?c.execCommand(f,g):(d=b(c.composer,h),h.dialog.show(d)),a.preventDefault()}),g.delegate(f,\"[data-wysihtml5-action]\",\"click\",function(a){var b=this.getAttribute(\"data-wysihtml5-action\");c.execAction(b),a.preventDefault()}),e.on(\"interaction:composer\",function(a){c.preventFocus||c._updateLinkStates()}),this._ownerDocumentClick=function(b){a.dom.contains(c.container,b.target)||a.dom.contains(c.composer.element,b.target)||(c._updateLinkStates(),c._preventInstantFocus())},this.container.ownerDocument.addEventListener(\"click\",this._ownerDocumentClick,!1),this.editor.on(\"destroy:composer\",this.destroy.bind(this)),this.editor.config.handleTables&&(e.on(\"tableselect:composer\",function(){c.container.querySelectorAll('[data-wysihtml5-hiddentools=\"table\"]')[0].style.display=\"\"}),e.on(\"tableunselect:composer\",function(){c.container.querySelectorAll('[data-wysihtml5-hiddentools=\"table\"]')[0].style.display=\"none\"})),e.on(\"change_view\",function(a){setTimeout(function(){c.commandsDisabled=\"composer\"!==a,c._updateLinkStates(),c.commandsDisabled?g.addClass(f,d):g.removeClass(f,d)},0)})},destroy:function(){this.container.ownerDocument.removeEventListener(\"click\",this._ownerDocumentClick,!1)},_hideAllDialogs:function(){var a=this.commandMapping;for(var b in a)a[b].dialog&&a[b].dialog.hide()},_preventInstantFocus:function(){this.preventFocus=!0,setTimeout(function(){this.preventFocus=!1}.bind(this),0)},_updateLinkStates:function(){var a,d,h,i,j,k=this.commandMapping,l=this.composer,m=this.actionMapping;for(a in k)i=k[a],this.commandsDisabled?(d=!1,g.removeClass(i.link,e),i.group&&g.removeClass(i.group,e),i.dialog&&i.dialog.hide()):(d=this.composer.commands.state(i.name,i.value),g.removeClass(i.link,c),i.group&&g.removeClass(i.group,c)),(i.state!==d||i.tracksBlankValue)&&(i.state=d,d?i.tracksBlankValue?g.removeClass(i.link,e):(g.addClass(i.link,e),i.group&&g.addClass(i.group,e),!i.dialog||\"undefined\"!=typeof i.value&&null!==i.value||(d&&\"object\"==typeof d?(d=b(l,i),i.state=d,j=i.dialog.container.dataset?i.dialog.container.dataset.showdialogonselection:!1,l.config.showToolbarDialogsOnSelection||j?i.dialog.show(d):i.dialog.update(d)):i.dialog.hide())):i.tracksBlankValue?g.addClass(i.link,e):(g.removeClass(i.link,e),i.group&&g.removeClass(i.group,e),i.dialog&&!i.value&&i.dialog.hide()));for(a in m)h=m[a],\"change_view\"===h.name&&(h.state=this.editor.currentView===this.editor.textarea||\"source\"===this.editor.currentView,h.state?g.addClass(h.link,f):g.removeClass(h.link,f))},show:function(){this.container.style.display=\"\"},hide:function(){this.container.style.display=\"none\"}})}(wysihtml5),function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})}(wysihtml5),function(a){var b=\"[data-wysihtml5-dialog-field]\",c=\"data-wysihtml5-dialog-field\";a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var a={},d=this.container.querySelectorAll(b),e=d.length,f=0;e>f;f++)a[d[f].getAttribute(c)]=d[f].value;return a},_interpolate:function(d){for(var e,f,g=a.quirks.styleParser,h=document.querySelector(\":focus\"),i=this.container.querySelectorAll(b),j=i.length,k=0,l=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,m=l?l.getAttribute(\"style\"):null,n=m?g.parseColor(m,\"color\"):null;j>k;k++)e=i[k],e!==h&&(d&&\"hidden\"===e.type||\"color\"===e.getAttribute(c)&&(f=(e.dataset.colormode||\"rgb\").toLowerCase(),f=\"hex\"===f?\"hash\":f,n?e.value=g.unparseColor(n,f):e.value=g.unparseColor([0,0,0],f)))}})}(wysihtml5),function(a){a.dom;a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field=\"size\"]').value}},_interpolate:function(b){var c=document.querySelector(\":focus\"),d=this.container.querySelector(\"[data-wysihtml5-dialog-field='size']\"),e=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,f=e?e.getAttribute(\"style\"):null,g=f?a.quirks.styleParser.parseFontSize(f):null;d&&d!==c&&g&&!/^\\s*$/.test(g)&&(d.value=g)}})}(wysihtml5);\n/**\n * Full HTML5 compatibility rule set\n * Loosened and extended ruleset. Allows more freedom on user side\n * These rules define which tags and CSS classes are supported and which tags should be specially treated.\n */\n\nvar wysihtml5ParserRulesDefaults = {\n    \"blockLevelEl\": {\n        \"keep_styles\": {\n            \"textAlign\": /^((left)|(right)|(center)|(justify))$/i,\n            \"float\": 1\n        },\n        \"add_style\": {\n            \"align\": \"align_text\"\n        },\n        \"check_attributes\": {\n            \"id\": \"any\"\n        }\n    },\n\n    \"makeDiv\": {\n        \"rename_tag\": \"div\",\n        \"one_of_type\": {\n            \"alignment_object\": 1\n        },\n        \"remove_action\": \"unwrap\",\n        \"keep_styles\": {\n            \"textAlign\": 1,\n            \"float\": 1\n        },\n        \"add_style\": {\n            \"align\": \"align_text\"\n        },\n        \"check_attributes\": {\n            \"id\": \"any\"\n        }\n    }\n};\n\nvar wysihtml5ParserRules = {\n    /**\n     * CSS Class white-list\n     * Following CSS classes won't be removed when parsed by the wysihtml5 HTML parser\n     * If all classes should pass \"any\" as classes value. Ex: \"classes\": \"any\"\n     */\n    \"classes\": \"any\",\n\n    /* blacklist of classes is only available if classes is set to any */\n    \"classes_blacklist\": {\n        \"Apple-interchange-newline\": 1,\n        \"MsoNormal\": 1,\n        \"MsoPlainText\": 1\n    },\n\n    \"type_definitions\": {\n\n        \"alignment_object\": {\n            \"classes\": {\n                \"wysiwyg-text-align-center\": 1,\n                \"wysiwyg-text-align-justify\": 1,\n                \"wysiwyg-text-align-left\": 1,\n                \"wysiwyg-text-align-right\": 1,\n                \"wysiwyg-float-left\": 1,\n                \"wysiwyg-float-right\": 1\n            },\n            \"styles\": {\n                \"float\": [\"left\", \"right\"],\n                \"text-align\": [\"left\", \"right\", \"center\"]\n            }\n        },\n\n        \"valid_image_src\": {\n            \"attrs\": {\n                \"src\": /^[^data\\:]/i\n            }\n        },\n\n        \"text_color_object\": {\n          \"styles\": {\n            \"color\": true,\n            \"background-color\": true\n          }\n        },\n\n        \"text_fontsize_object\": {\n          \"styles\": {\n            \"font-size\": false\n          }\n        },\n\n        \"text_formatting_object\": {\n            \"classes\": {\n                \"wysiwyg-color-aqua\": 1,\n                \"wysiwyg-color-black\": 1,\n                \"wysiwyg-color-blue\": 1,\n                \"wysiwyg-color-fuchsia\": 1,\n                \"wysiwyg-color-gray\": 1,\n                \"wysiwyg-color-green\": 1,\n                \"wysiwyg-color-lime\": 1,\n                \"wysiwyg-color-maroon\": 1,\n                \"wysiwyg-color-navy\": 1,\n                \"wysiwyg-color-olive\": 1,\n                \"wysiwyg-color-purple\": 1,\n                \"wysiwyg-color-red\": 1,\n                \"wysiwyg-color-silver\": 1,\n                \"wysiwyg-color-teal\": 1,\n                \"wysiwyg-color-white\": 1,\n                \"wysiwyg-color-yellow\": 1,\n                \"wysiwyg-font-size-large\": 1,\n                \"wysiwyg-font-size-larger\": 1,\n                \"wysiwyg-font-size-medium\": 1,\n                \"wysiwyg-font-size-small\": 1,\n                \"wysiwyg-font-size-smaller\": 1,\n                \"wysiwyg-font-size-x-large\": 1,\n                \"wysiwyg-font-size-x-small\": 1,\n                \"wysiwyg-font-size-xx-large\": 1,\n                \"wysiwyg-font-size-xx-small\": 1,\n                \"wysiwyg-font-size-xx-h1\": 1,\n                \"wysiwyg-font-size-xx-h2\": 1,\n                \"wysiwyg-font-size-xx-h3\": 1,\n                \"wysiwyg-font-size-xx-h4\": 1,\n                \"wysiwyg-font-size-xx-h5\": 1,\n                \"wysiwyg-font-size-xx-h6\": 1,\n                \"wysiwyg-font-size-h6\": 1,\n                \"wysiwyg-font-size-h5\": 1,\n                \"wysiwyg-font-size-h4\": 1,\n                \"wysiwyg-font-size-h3\": 1,\n                \"wysiwyg-font-size-h2\": 1,\n                \"wysiwyg-font-size-h1\": 1\n            }\n        }\n    },\n\n    \"comments\": 1, // if set allows comments to pass\n\n    /**\n     * Tag list\n     *\n     * The following options are available:\n     *\n     *    - add_class:        converts and deletes the given HTML4 attribute (align, clear, ...) via the given method to a css class\n     *                        The following methods are implemented in wysihtml5.dom.parse:\n     *                          - align_text:  converts align attribute values (right/left/center/justify) to their corresponding css class \"wysiwyg-text-align-*\")\n     *                            <p align=\"center\">foo</p> ... becomes ... <p> class=\"wysiwyg-text-align-center\">foo</p>\n     *                          - clear_br:    converts clear attribute values left/right/all/both to their corresponding css class \"wysiwyg-clear-*\"\n     *                            <br clear=\"all\"> ... becomes ... <br class=\"wysiwyg-clear-both\">\n     *                          - align_img:    converts align attribute values (right/left) on <img> to their corresponding css class \"wysiwyg-float-*\"\n     *\n     *    - remove:             removes the element and its content\n     *\n     *    - unwrap              removes element but leaves content\n     *\n     *    - rename_tag:         renames the element to the given tag\n     *\n     *    - set_class:          adds the given class to the element (note: make sure that the class is in the \"classes\" white list above)\n     *\n     *    - set_attributes:     sets/overrides the given attributes\n     *\n     *    - check_attributes:   checks the given HTML attribute via the given method\n     *                            - url:            allows only valid urls (starting with http:// or https://)\n     *                            - src:            allows something like \"/foobar.jpg\", \"http://google.com\", ...\n     *                            - href:           allows something like \"mailto:bert@foo.com\", \"http://google.com\", \"/foobar.jpg\"\n     *                            - alt:            strips unwanted characters. if the attribute is not set, then it gets set (to ensure valid and compatible HTML)\n     *                            - numbers:  ensures that the attribute only contains numeric characters\n     *                            - any:            allows anything to pass\n     */\n    \"tags\": {\n        \"tr\": {\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"strike\": {\n            \"unwrap\": 1\n        },\n        \"form\": {\n            \"unwrap\": 1\n        },\n        \"rt\": {\n            \"rename_tag\": \"span\"\n        },\n        \"code\": {},\n        \"acronym\": {\n            \"rename_tag\": \"span\"\n        },\n        \"br\": {\n            \"add_class\": {\n                \"clear\": \"clear_br\"\n            }\n        },\n        \"details\": {\n            \"unwrap\": 1\n        },\n        \"h4\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"em\": {},\n        \"title\": {\n            \"remove\": 1\n        },\n        \"multicol\": {\n            \"unwrap\": 1\n        },\n        \"figure\": {\n            \"unwrap\": 1\n        },\n        \"xmp\": {\n            \"unwrap\": 1\n        },\n        \"small\": {\n            \"rename_tag\": \"span\",\n            \"set_class\": \"wysiwyg-font-size-smaller\"\n        },\n        \"area\": {\n            \"remove\": 1\n        },\n        \"time\": {\n            \"unwrap\": 1\n        },\n        \"dir\": {\n            \"rename_tag\": \"ul\"\n        },\n        \"bdi\": {\n            \"unwrap\": 1\n        },\n        \"command\": {\n            \"unwrap\": 1\n        },\n        \"ul\": {\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"progress\": {\n            \"rename_tag\": \"span\"\n        },\n        \"dfn\": {\n            \"unwrap\": 1\n        },\n        \"iframe\": {\n            \"check_attributes\": {\n                \"src\": \"any\",\n                \"width\": \"any\",\n                \"height\": \"any\",\n                \"frameborder\": \"any\",\n                \"style\": \"any\",\n                \"id\": \"any\"\n            }\n        },\n        \"figcaption\": {\n            \"unwrap\": 1\n        },\n        \"a\": {\n            \"check_attributes\": {\n                \"href\": \"href\", // if you compiled master manually then change this from 'url' to 'href'\n                \"rel\": \"any\",\n                \"target\": \"any\",\n                \"id\": \"any\"\n            }\n        },\n        \"img\": {\n            \"one_of_type\": {\n                \"valid_image_src\": 1\n            },\n            \"check_attributes\": {\n                \"width\": \"numbers\",\n                \"alt\": \"alt\",\n                \"src\": \"src\", // if you compiled master manually then change this from 'url' to 'src'\n                \"height\": \"numbers\",\n                \"id\": \"any\"\n            },\n            \"add_class\": {\n                \"align\": \"align_img\"\n            }\n        },\n        \"rb\": {\n            \"unwrap\": 1\n        },\n        \"footer\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"noframes\": {\n            \"remove\": 1\n        },\n        \"abbr\": {\n            \"unwrap\": 1\n        },\n        \"u\": {},\n        \"bgsound\": {\n            \"remove\": 1\n        },\n        \"sup\": {\n            \"unwrap\": 1\n        },\n        \"address\": {\n            \"unwrap\": 1\n        },\n        \"basefont\": {\n            \"remove\": 1\n        },\n        \"nav\": {\n            \"unwrap\": 1\n        },\n        \"h1\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"head\": {\n            \"unwrap\": 1\n        },\n        \"tbody\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"dd\": {\n            \"unwrap\": 1\n        },\n        \"s\": {\n            \"unwrap\": 1\n        },\n        \"li\": {},\n        \"td\": {\n            \"check_attributes\": {\n                \"rowspan\": \"numbers\",\n                \"colspan\": \"numbers\",\n                \"valign\": \"any\",\n                \"align\": \"any\",\n                \"id\": \"any\",\n                \"class\": \"any\"\n            },\n            \"keep_styles\": {\n                \"backgroundColor\": 1,\n                \"width\": 1,\n                \"height\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            }\n        },\n        \"object\": {\n            \"remove\": 1\n        },\n\n        \"div\": {\n            \"one_of_type\": {\n                \"alignment_object\": 1\n            },\n            \"remove_action\": \"unwrap\",\n            \"keep_styles\": {\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\",\n                \"contenteditable\": \"any\"\n            }\n        },\n\n        \"option\": {\n            \"remove\":1\n        },\n        \"select\": {\n            \"remove\":1\n        },\n        \"i\": {},\n        \"track\": {\n            \"remove\": 1\n        },\n        \"wbr\": {\n            \"remove\": 1\n        },\n        \"fieldset\": {\n            \"unwrap\": 1\n        },\n        \"big\": {\n            \"rename_tag\": \"span\",\n            \"set_class\": \"wysiwyg-font-size-larger\"\n        },\n        \"button\": {\n            \"unwrap\": 1\n        },\n        \"noscript\": {\n            \"remove\": 1\n        },\n        \"svg\": {\n            \"remove\": 1\n        },\n        \"input\": {\n            \"remove\": 1\n        },\n        \"table\": {\n            \"keep_styles\": {\n                \"width\": 1,\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"keygen\": {\n            \"remove\": 1\n        },\n        \"h5\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"meta\": {\n            \"remove\": 1\n        },\n        \"map\": {\n            \"remove\": 1\n        },\n        \"isindex\": {\n            \"remove\": 1\n        },\n        \"mark\": {\n            \"unwrap\": 1\n        },\n        \"caption\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"tfoot\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"base\": {\n            \"remove\": 1\n        },\n        \"video\": {\n            \"remove\": 1\n        },\n        \"strong\": {},\n        \"canvas\": {\n            \"remove\": 1\n        },\n        \"output\": {\n            \"unwrap\": 1\n        },\n        \"marquee\": {\n            \"unwrap\": 1\n        },\n        \"b\": {},\n        \"q\": {\n            \"check_attributes\": {\n                \"cite\": \"url\",\n                \"id\": \"any\"\n            }\n        },\n        \"applet\": {\n            \"remove\": 1\n        },\n        \"span\": {\n            \"one_of_type\": {\n                \"text_formatting_object\": 1,\n                \"text_color_object\": 1,\n                \"text_fontsize_object\": 1\n            },\n            \"keep_styles\": {\n                \"color\": 1,\n                \"backgroundColor\": 1,\n                \"fontSize\": 1\n            },\n            \"remove_action\": \"unwrap\",\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"rp\": {\n            \"unwrap\": 1\n        },\n        \"spacer\": {\n            \"remove\": 1\n        },\n        \"source\": {\n            \"remove\": 1\n        },\n        \"aside\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"frame\": {\n            \"remove\": 1\n        },\n        \"section\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"body\": {\n            \"unwrap\": 1\n        },\n        \"ol\": {},\n        \"nobr\": {\n            \"unwrap\": 1\n        },\n        \"html\": {\n            \"unwrap\": 1\n        },\n        \"summary\": {\n            \"unwrap\": 1\n        },\n        \"var\": {\n            \"unwrap\": 1\n        },\n        \"del\": {\n            \"unwrap\": 1\n        },\n        \"blockquote\": {\n            \"keep_styles\": {\n                \"textAlign\": 1,\n                \"float\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"cite\": \"url\",\n                \"id\": \"any\"\n            }\n        },\n        \"style\": {\n            \"check_attributes\": {\n                \"type\": \"any\",\n                \"src\": \"any\",\n                \"charset\": \"any\"\n            }\n        },\n        \"device\": {\n            \"remove\": 1\n        },\n        \"meter\": {\n            \"unwrap\": 1\n        },\n        \"h3\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"textarea\": {\n            \"unwrap\": 1\n        },\n        \"embed\": {\n            \"remove\": 1\n        },\n        \"hgroup\": {\n            \"unwrap\": 1\n        },\n        \"font\": {\n            \"rename_tag\": \"span\",\n            \"add_class\": {\n                \"size\": \"size_font\"\n            }\n        },\n        \"tt\": {\n            \"unwrap\": 1\n        },\n        \"noembed\": {\n            \"remove\": 1\n        },\n        \"thead\": {\n            \"add_style\": {\n                \"align\": \"align_text\"\n            },\n            \"check_attributes\": {\n                \"id\": \"any\"\n            }\n        },\n        \"blink\": {\n            \"unwrap\": 1\n        },\n        \"plaintext\": {\n            \"unwrap\": 1\n        },\n        \"xml\": {\n            \"remove\": 1\n        },\n        \"h6\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"param\": {\n            \"remove\": 1\n        },\n        \"th\": {\n            \"check_attributes\": {\n                \"rowspan\": \"numbers\",\n                \"colspan\": \"numbers\",\n                \"valign\": \"any\",\n                \"align\": \"any\",\n                \"id\": \"any\"\n            },\n            \"keep_styles\": {\n                \"backgroundColor\": 1,\n                \"width\": 1,\n                \"height\": 1\n            },\n            \"add_style\": {\n                \"align\": \"align_text\"\n            }\n        },\n        \"legend\": {\n            \"unwrap\": 1\n        },\n        \"hr\": {},\n        \"label\": {\n            \"unwrap\": 1\n        },\n        \"dl\": {\n            \"unwrap\": 1\n        },\n        \"kbd\": {\n            \"unwrap\": 1\n        },\n        \"listing\": {\n            \"unwrap\": 1\n        },\n        \"dt\": {\n            \"unwrap\": 1\n        },\n        \"nextid\": {\n            \"remove\": 1\n        },\n        \"pre\": {},\n        \"center\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"audio\": {\n            \"remove\": 1\n        },\n        \"datalist\": {\n            \"unwrap\": 1\n        },\n        \"samp\": {\n            \"unwrap\": 1\n        },\n        \"col\": {\n            \"remove\": 1\n        },\n        \"article\": wysihtml5ParserRulesDefaults.makeDiv,\n        \"cite\": {},\n        \"link\": {\n            \"remove\": 1\n        },\n        \"script\": {\n            \"check_attributes\": {\n                \"type\": \"any\",\n                \"src\": \"any\",\n                \"charset\": \"any\"\n            }\n        },\n        \"bdo\": {\n            \"unwrap\": 1\n        },\n        \"menu\": {\n            \"rename_tag\": \"ul\"\n        },\n        \"colgroup\": {\n            \"remove\": 1\n        },\n        \"ruby\": {\n            \"unwrap\": 1\n        },\n        \"h2\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"ins\": {\n            \"unwrap\": 1\n        },\n        \"p\": wysihtml5ParserRulesDefaults.blockLevelEl,\n        \"sub\": {\n            \"unwrap\": 1\n        },\n        \"comment\": {\n            \"remove\": 1\n        },\n        \"frameset\": {\n            \"remove\": 1\n        },\n        \"optgroup\": {\n            \"unwrap\": 1\n        },\n        \"header\": wysihtml5ParserRulesDefaults.makeDiv\n    }\n};\n\n\n(function() {\n    // Paste cleanup rules universal for all rules (also applied to content copied from editor)\n    var commonRules = wysihtml5.lang.object(wysihtml5ParserRules).clone(true);\n    commonRules.comments    = false;\n    commonRules.selectors   = { \"a u\": \"unwrap\"};\n    commonRules.tags.style  = { \"remove\": 1 };\n    commonRules.tags.script = { \"remove\": 1 };\n    commonRules.tags.head = { \"remove\": 1 };\n\n    // Paste cleanup for unindentified source\n    var universalRules = wysihtml5.lang.object(commonRules).clone(true);\n    universalRules.tags.div.one_of_type.alignment_object = 1;\n    universalRules.tags.div.remove_action = \"unwrap\";\n    universalRules.tags.div.check_attributes.style = false;\n    universalRules.tags.div.keep_styles = {\n        \"textAlign\": /^((left)|(right)|(center)|(justify))$/i,\n        \"float\": 1\n    };\n    universalRules.tags.span.keep_styles = false;\n\n    // Paste cleanup for MS Office\n    // TODO: should be extended to stricter ruleset, as current set will probably not cover all Office bizarreness\n    var msOfficeRules = wysihtml5.lang.object(universalRules).clone(true);\n    msOfficeRules.classes = {};\n\n    window.wysihtml5ParserPasteRulesets = [\n        {\n            condition: /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument|class=\"OutlineElement|id=\"?docs\\-internal\\-guid\\-/i,\n            set: msOfficeRules\n        },{\n            condition: /<meta name=\"copied-from\" content=\"wysihtml5\">/i,\n            set: commonRules\n        },{\n            set: universalRules\n        }\n    ];\n\n})();\n\nexports[\"wysihtml5\"] = wysihtml5;\nexports[\"wysihtml5ParserRules\"] = wysihtml5ParserRules;\n\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = wysihtml5ParserRules;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/exports-loader?wysihtml5ParserRules!./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js\n// module id = ../node_modules/exports-loader/index.js?wysihtml5ParserRules!./mobilizations/widgets/__plugins__/content/components/wysihtml-toolbar.min.js\n// module chunks = 0","/**\r\n * Rangy, a cross-browser JavaScript range and selection library\r\n * https://github.com/timdown/rangy\r\n *\r\n * Copyright 2015, Tim Down\r\n * Licensed under the MIT license.\r\n * Version: 1.3.0\r\n * Build date: 10 May 2015\r\n */\r\n\r\n(function(factory, root) {\r\n    if (typeof define == \"function\" && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(factory);\r\n    } else if (typeof module != \"undefined\" && typeof exports == \"object\") {\r\n        // Node/CommonJS style\r\n        module.exports = factory();\r\n    } else {\r\n        // No AMD or CommonJS support so we place Rangy in (probably) the global variable\r\n        root.rangy = factory();\r\n    }\r\n})(function() {\r\n\r\n    var OBJECT = \"object\", FUNCTION = \"function\", UNDEFINED = \"undefined\";\r\n\r\n    // Minimal set of properties required for DOM Level 2 Range compliance. Comparison constants such as START_TO_START\r\n    // are omitted because ranges in KHTML do not have them but otherwise work perfectly well. See issue 113.\r\n    var domRangeProperties = [\"startContainer\", \"startOffset\", \"endContainer\", \"endOffset\", \"collapsed\",\r\n        \"commonAncestorContainer\"];\r\n\r\n    // Minimal set of methods required for DOM Level 2 Range compliance\r\n    var domRangeMethods = [\"setStart\", \"setStartBefore\", \"setStartAfter\", \"setEnd\", \"setEndBefore\",\r\n        \"setEndAfter\", \"collapse\", \"selectNode\", \"selectNodeContents\", \"compareBoundaryPoints\", \"deleteContents\",\r\n        \"extractContents\", \"cloneContents\", \"insertNode\", \"surroundContents\", \"cloneRange\", \"toString\", \"detach\"];\r\n\r\n    var textRangeProperties = [\"boundingHeight\", \"boundingLeft\", \"boundingTop\", \"boundingWidth\", \"htmlText\", \"text\"];\r\n\r\n    // Subset of TextRange's full set of methods that we're interested in\r\n    var textRangeMethods = [\"collapse\", \"compareEndPoints\", \"duplicate\", \"moveToElementText\", \"parentElement\", \"select\",\r\n        \"setEndPoint\", \"getBoundingClientRect\"];\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Trio of functions taken from Peter Michaux's article:\r\n    // http://peter.michaux.ca/articles/feature-detection-state-of-the-art-browser-scripting\r\n    function isHostMethod(o, p) {\r\n        var t = typeof o[p];\r\n        return t == FUNCTION || (!!(t == OBJECT && o[p])) || t == \"unknown\";\r\n    }\r\n\r\n    function isHostObject(o, p) {\r\n        return !!(typeof o[p] == OBJECT && o[p]);\r\n    }\r\n\r\n    function isHostProperty(o, p) {\r\n        return typeof o[p] != UNDEFINED;\r\n    }\r\n\r\n    // Creates a convenience function to save verbose repeated calls to tests functions\r\n    function createMultiplePropertyTest(testFunc) {\r\n        return function(o, props) {\r\n            var i = props.length;\r\n            while (i--) {\r\n                if (!testFunc(o, props[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n    }\r\n\r\n    // Next trio of functions are a convenience to save verbose repeated calls to previous two functions\r\n    var areHostMethods = createMultiplePropertyTest(isHostMethod);\r\n    var areHostObjects = createMultiplePropertyTest(isHostObject);\r\n    var areHostProperties = createMultiplePropertyTest(isHostProperty);\r\n\r\n    function isTextRange(range) {\r\n        return range && areHostMethods(range, textRangeMethods) && areHostProperties(range, textRangeProperties);\r\n    }\r\n\r\n    function getBody(doc) {\r\n        return isHostObject(doc, \"body\") ? doc.body : doc.getElementsByTagName(\"body\")[0];\r\n    }\r\n\r\n    var forEach = [].forEach ?\r\n        function(arr, func) {\r\n            arr.forEach(func);\r\n        } :\r\n        function(arr, func) {\r\n            for (var i = 0, len = arr.length; i < len; ++i) {\r\n                func(arr[i], i);\r\n            }\r\n        };\r\n\r\n    var modules = {};\r\n\r\n    var isBrowser = (typeof window != UNDEFINED && typeof document != UNDEFINED);\r\n\r\n    var util = {\r\n        isHostMethod: isHostMethod,\r\n        isHostObject: isHostObject,\r\n        isHostProperty: isHostProperty,\r\n        areHostMethods: areHostMethods,\r\n        areHostObjects: areHostObjects,\r\n        areHostProperties: areHostProperties,\r\n        isTextRange: isTextRange,\r\n        getBody: getBody,\r\n        forEach: forEach\r\n    };\r\n\r\n    var api = {\r\n        version: \"1.3.0\",\r\n        initialized: false,\r\n        isBrowser: isBrowser,\r\n        supported: true,\r\n        util: util,\r\n        features: {},\r\n        modules: modules,\r\n        config: {\r\n            alertOnFail: false,\r\n            alertOnWarn: false,\r\n            preferTextRange: false,\r\n            autoInitialize: (typeof rangyAutoInitialize == UNDEFINED) ? true : rangyAutoInitialize\r\n        }\r\n    };\r\n\r\n    function consoleLog(msg) {\r\n        if (typeof console != UNDEFINED && isHostMethod(console, \"log\")) {\r\n            console.log(msg);\r\n        }\r\n    }\r\n\r\n    function alertOrLog(msg, shouldAlert) {\r\n        if (isBrowser && shouldAlert) {\r\n            alert(msg);\r\n        } else  {\r\n            consoleLog(msg);\r\n        }\r\n    }\r\n\r\n    function fail(reason) {\r\n        api.initialized = true;\r\n        api.supported = false;\r\n        alertOrLog(\"Rangy is not supported in this environment. Reason: \" + reason, api.config.alertOnFail);\r\n    }\r\n\r\n    api.fail = fail;\r\n\r\n    function warn(msg) {\r\n        alertOrLog(\"Rangy warning: \" + msg, api.config.alertOnWarn);\r\n    }\r\n\r\n    api.warn = warn;\r\n\r\n    // Add utility extend() method\r\n    var extend;\r\n    if ({}.hasOwnProperty) {\r\n        util.extend = extend = function(obj, props, deep) {\r\n            var o, p;\r\n            for (var i in props) {\r\n                if (props.hasOwnProperty(i)) {\r\n                    o = obj[i];\r\n                    p = props[i];\r\n                    if (deep && o !== null && typeof o == \"object\" && p !== null && typeof p == \"object\") {\r\n                        extend(o, p, true);\r\n                    }\r\n                    obj[i] = p;\r\n                }\r\n            }\r\n            // Special case for toString, which does not show up in for...in loops in IE <= 8\r\n            if (props.hasOwnProperty(\"toString\")) {\r\n                obj.toString = props.toString;\r\n            }\r\n            return obj;\r\n        };\r\n\r\n        util.createOptions = function(optionsParam, defaults) {\r\n            var options = {};\r\n            extend(options, defaults);\r\n            if (optionsParam) {\r\n                extend(options, optionsParam);\r\n            }\r\n            return options;\r\n        };\r\n    } else {\r\n        fail(\"hasOwnProperty not supported\");\r\n    }\r\n\r\n    // Test whether we're in a browser and bail out if not\r\n    if (!isBrowser) {\r\n        fail(\"Rangy can only run in a browser\");\r\n    }\r\n\r\n    // Test whether Array.prototype.slice can be relied on for NodeLists and use an alternative toArray() if not\r\n    (function() {\r\n        var toArray;\r\n\r\n        if (isBrowser) {\r\n            var el = document.createElement(\"div\");\r\n            el.appendChild(document.createElement(\"span\"));\r\n            var slice = [].slice;\r\n            try {\r\n                if (slice.call(el.childNodes, 0)[0].nodeType == 1) {\r\n                    toArray = function(arrayLike) {\r\n                        return slice.call(arrayLike, 0);\r\n                    };\r\n                }\r\n            } catch (e) {}\r\n        }\r\n\r\n        if (!toArray) {\r\n            toArray = function(arrayLike) {\r\n                var arr = [];\r\n                for (var i = 0, len = arrayLike.length; i < len; ++i) {\r\n                    arr[i] = arrayLike[i];\r\n                }\r\n                return arr;\r\n            };\r\n        }\r\n\r\n        util.toArray = toArray;\r\n    })();\r\n\r\n    // Very simple event handler wrapper function that doesn't attempt to solve issues such as \"this\" handling or\r\n    // normalization of event properties\r\n    var addListener;\r\n    if (isBrowser) {\r\n        if (isHostMethod(document, \"addEventListener\")) {\r\n            addListener = function(obj, eventType, listener) {\r\n                obj.addEventListener(eventType, listener, false);\r\n            };\r\n        } else if (isHostMethod(document, \"attachEvent\")) {\r\n            addListener = function(obj, eventType, listener) {\r\n                obj.attachEvent(\"on\" + eventType, listener);\r\n            };\r\n        } else {\r\n            fail(\"Document does not have required addEventListener or attachEvent method\");\r\n        }\r\n\r\n        util.addListener = addListener;\r\n    }\r\n\r\n    var initListeners = [];\r\n\r\n    function getErrorDesc(ex) {\r\n        return ex.message || ex.description || String(ex);\r\n    }\r\n\r\n    // Initialization\r\n    function init() {\r\n        if (!isBrowser || api.initialized) {\r\n            return;\r\n        }\r\n        var testRange;\r\n        var implementsDomRange = false, implementsTextRange = false;\r\n\r\n        // First, perform basic feature tests\r\n\r\n        if (isHostMethod(document, \"createRange\")) {\r\n            testRange = document.createRange();\r\n            if (areHostMethods(testRange, domRangeMethods) && areHostProperties(testRange, domRangeProperties)) {\r\n                implementsDomRange = true;\r\n            }\r\n        }\r\n\r\n        var body = getBody(document);\r\n        if (!body || body.nodeName.toLowerCase() != \"body\") {\r\n            fail(\"No body element found\");\r\n            return;\r\n        }\r\n\r\n        if (body && isHostMethod(body, \"createTextRange\")) {\r\n            testRange = body.createTextRange();\r\n            if (isTextRange(testRange)) {\r\n                implementsTextRange = true;\r\n            }\r\n        }\r\n\r\n        if (!implementsDomRange && !implementsTextRange) {\r\n            fail(\"Neither Range nor TextRange are available\");\r\n            return;\r\n        }\r\n\r\n        api.initialized = true;\r\n        api.features = {\r\n            implementsDomRange: implementsDomRange,\r\n            implementsTextRange: implementsTextRange\r\n        };\r\n\r\n        // Initialize modules\r\n        var module, errorMessage;\r\n        for (var moduleName in modules) {\r\n            if ( (module = modules[moduleName]) instanceof Module ) {\r\n                module.init(module, api);\r\n            }\r\n        }\r\n\r\n        // Call init listeners\r\n        for (var i = 0, len = initListeners.length; i < len; ++i) {\r\n            try {\r\n                initListeners[i](api);\r\n            } catch (ex) {\r\n                errorMessage = \"Rangy init listener threw an exception. Continuing. Detail: \" + getErrorDesc(ex);\r\n                consoleLog(errorMessage);\r\n            }\r\n        }\r\n    }\r\n\r\n    function deprecationNotice(deprecated, replacement, module) {\r\n        if (module) {\r\n            deprecated += \" in module \" + module.name;\r\n        }\r\n        api.warn(\"DEPRECATED: \" + deprecated + \" is deprecated. Please use \" +\r\n        replacement + \" instead.\");\r\n    }\r\n\r\n    function createAliasForDeprecatedMethod(owner, deprecated, replacement, module) {\r\n        owner[deprecated] = function() {\r\n            deprecationNotice(deprecated, replacement, module);\r\n            return owner[replacement].apply(owner, util.toArray(arguments));\r\n        };\r\n    }\r\n\r\n    util.deprecationNotice = deprecationNotice;\r\n    util.createAliasForDeprecatedMethod = createAliasForDeprecatedMethod;\r\n\r\n    // Allow external scripts to initialize this library in case it's loaded after the document has loaded\r\n    api.init = init;\r\n\r\n    // Execute listener immediately if already initialized\r\n    api.addInitListener = function(listener) {\r\n        if (api.initialized) {\r\n            listener(api);\r\n        } else {\r\n            initListeners.push(listener);\r\n        }\r\n    };\r\n\r\n    var shimListeners = [];\r\n\r\n    api.addShimListener = function(listener) {\r\n        shimListeners.push(listener);\r\n    };\r\n\r\n    function shim(win) {\r\n        win = win || window;\r\n        init();\r\n\r\n        // Notify listeners\r\n        for (var i = 0, len = shimListeners.length; i < len; ++i) {\r\n            shimListeners[i](win);\r\n        }\r\n    }\r\n\r\n    if (isBrowser) {\r\n        api.shim = api.createMissingNativeApi = shim;\r\n        createAliasForDeprecatedMethod(api, \"createMissingNativeApi\", \"shim\");\r\n    }\r\n\r\n    function Module(name, dependencies, initializer) {\r\n        this.name = name;\r\n        this.dependencies = dependencies;\r\n        this.initialized = false;\r\n        this.supported = false;\r\n        this.initializer = initializer;\r\n    }\r\n\r\n    Module.prototype = {\r\n        init: function() {\r\n            var requiredModuleNames = this.dependencies || [];\r\n            for (var i = 0, len = requiredModuleNames.length, requiredModule, moduleName; i < len; ++i) {\r\n                moduleName = requiredModuleNames[i];\r\n\r\n                requiredModule = modules[moduleName];\r\n                if (!requiredModule || !(requiredModule instanceof Module)) {\r\n                    throw new Error(\"required module '\" + moduleName + \"' not found\");\r\n                }\r\n\r\n                requiredModule.init();\r\n\r\n                if (!requiredModule.supported) {\r\n                    throw new Error(\"required module '\" + moduleName + \"' not supported\");\r\n                }\r\n            }\r\n\r\n            // Now run initializer\r\n            this.initializer(this);\r\n        },\r\n\r\n        fail: function(reason) {\r\n            this.initialized = true;\r\n            this.supported = false;\r\n            throw new Error(reason);\r\n        },\r\n\r\n        warn: function(msg) {\r\n            api.warn(\"Module \" + this.name + \": \" + msg);\r\n        },\r\n\r\n        deprecationNotice: function(deprecated, replacement) {\r\n            api.warn(\"DEPRECATED: \" + deprecated + \" in module \" + this.name + \" is deprecated. Please use \" +\r\n                replacement + \" instead\");\r\n        },\r\n\r\n        createError: function(msg) {\r\n            return new Error(\"Error in Rangy \" + this.name + \" module: \" + msg);\r\n        }\r\n    };\r\n\r\n    function createModule(name, dependencies, initFunc) {\r\n        var newModule = new Module(name, dependencies, function(module) {\r\n            if (!module.initialized) {\r\n                module.initialized = true;\r\n                try {\r\n                    initFunc(api, module);\r\n                    module.supported = true;\r\n                } catch (ex) {\r\n                    var errorMessage = \"Module '\" + name + \"' failed to load: \" + getErrorDesc(ex);\r\n                    consoleLog(errorMessage);\r\n                    if (ex.stack) {\r\n                        consoleLog(ex.stack);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        modules[name] = newModule;\r\n        return newModule;\r\n    }\r\n\r\n    api.createModule = function(name) {\r\n        // Allow 2 or 3 arguments (second argument is an optional array of dependencies)\r\n        var initFunc, dependencies;\r\n        if (arguments.length == 2) {\r\n            initFunc = arguments[1];\r\n            dependencies = [];\r\n        } else {\r\n            initFunc = arguments[2];\r\n            dependencies = arguments[1];\r\n        }\r\n\r\n        var module = createModule(name, dependencies, initFunc);\r\n\r\n        // Initialize the module immediately if the core is already initialized\r\n        if (api.initialized && api.supported) {\r\n            module.init();\r\n        }\r\n    };\r\n\r\n    api.createCoreModule = function(name, dependencies, initFunc) {\r\n        createModule(name, dependencies, initFunc);\r\n    };\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Ensure rangy.rangePrototype and rangy.selectionPrototype are available immediately\r\n\r\n    function RangePrototype() {}\r\n    api.RangePrototype = RangePrototype;\r\n    api.rangePrototype = new RangePrototype();\r\n\r\n    function SelectionPrototype() {}\r\n    api.selectionPrototype = new SelectionPrototype();\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // DOM utility methods used by Rangy\n    api.createCoreModule(\"DomUtil\", [], function(api, module) {\n        var UNDEF = \"undefined\";\n        var util = api.util;\n        var getBody = util.getBody;\n\n        // Perform feature tests\n        if (!util.areHostMethods(document, [\"createDocumentFragment\", \"createElement\", \"createTextNode\"])) {\n            module.fail(\"document missing a Node creation method\");\n        }\n\n        if (!util.isHostMethod(document, \"getElementsByTagName\")) {\n            module.fail(\"document missing getElementsByTagName method\");\n        }\n\n        var el = document.createElement(\"div\");\n        if (!util.areHostMethods(el, [\"insertBefore\", \"appendChild\", \"cloneNode\"] ||\n                !util.areHostObjects(el, [\"previousSibling\", \"nextSibling\", \"childNodes\", \"parentNode\"]))) {\n            module.fail(\"Incomplete Element implementation\");\n        }\n\n        // innerHTML is required for Range's createContextualFragment method\n        if (!util.isHostProperty(el, \"innerHTML\")) {\n            module.fail(\"Element is missing innerHTML property\");\n        }\n\n        var textNode = document.createTextNode(\"test\");\n        if (!util.areHostMethods(textNode, [\"splitText\", \"deleteData\", \"insertData\", \"appendData\", \"cloneNode\"] ||\n                !util.areHostObjects(el, [\"previousSibling\", \"nextSibling\", \"childNodes\", \"parentNode\"]) ||\n                !util.areHostProperties(textNode, [\"data\"]))) {\n            module.fail(\"Incomplete Text Node implementation\");\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Removed use of indexOf because of a bizarre bug in Opera that is thrown in one of the Acid3 tests. I haven't been\n        // able to replicate it outside of the test. The bug is that indexOf returns -1 when called on an Array that\n        // contains just the document as a single element and the value searched for is the document.\n        var arrayContains = /*Array.prototype.indexOf ?\n            function(arr, val) {\n                return arr.indexOf(val) > -1;\n            }:*/\n\n            function(arr, val) {\n                var i = arr.length;\n                while (i--) {\n                    if (arr[i] === val) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n\n        // Opera 11 puts HTML elements in the null namespace, it seems, and IE 7 has undefined namespaceURI\n        function isHtmlNamespace(node) {\n            var ns;\n            return typeof node.namespaceURI == UNDEF || ((ns = node.namespaceURI) === null || ns == \"http://www.w3.org/1999/xhtml\");\n        }\n\n        function parentElement(node) {\n            var parent = node.parentNode;\n            return (parent.nodeType == 1) ? parent : null;\n        }\n\n        function getNodeIndex(node) {\n            var i = 0;\n            while( (node = node.previousSibling) ) {\n                ++i;\n            }\n            return i;\n        }\n\n        function getNodeLength(node) {\n            switch (node.nodeType) {\n                case 7:\n                case 10:\n                    return 0;\n                case 3:\n                case 8:\n                    return node.length;\n                default:\n                    return node.childNodes.length;\n            }\n        }\n\n        function getCommonAncestor(node1, node2) {\n            var ancestors = [], n;\n            for (n = node1; n; n = n.parentNode) {\n                ancestors.push(n);\n            }\n\n            for (n = node2; n; n = n.parentNode) {\n                if (arrayContains(ancestors, n)) {\n                    return n;\n                }\n            }\n\n            return null;\n        }\n\n        function isAncestorOf(ancestor, descendant, selfIsAncestor) {\n            var n = selfIsAncestor ? descendant : descendant.parentNode;\n            while (n) {\n                if (n === ancestor) {\n                    return true;\n                } else {\n                    n = n.parentNode;\n                }\n            }\n            return false;\n        }\n\n        function isOrIsAncestorOf(ancestor, descendant) {\n            return isAncestorOf(ancestor, descendant, true);\n        }\n\n        function getClosestAncestorIn(node, ancestor, selfIsAncestor) {\n            var p, n = selfIsAncestor ? node : node.parentNode;\n            while (n) {\n                p = n.parentNode;\n                if (p === ancestor) {\n                    return n;\n                }\n                n = p;\n            }\n            return null;\n        }\n\n        function isCharacterDataNode(node) {\n            var t = node.nodeType;\n            return t == 3 || t == 4 || t == 8 ; // Text, CDataSection or Comment\n        }\n\n        function isTextOrCommentNode(node) {\n            if (!node) {\n                return false;\n            }\n            var t = node.nodeType;\n            return t == 3 || t == 8 ; // Text or Comment\n        }\n\n        function insertAfter(node, precedingNode) {\n            var nextNode = precedingNode.nextSibling, parent = precedingNode.parentNode;\n            if (nextNode) {\n                parent.insertBefore(node, nextNode);\n            } else {\n                parent.appendChild(node);\n            }\n            return node;\n        }\n\n        // Note that we cannot use splitText() because it is bugridden in IE 9.\n        function splitDataNode(node, index, positionsToPreserve) {\n            var newNode = node.cloneNode(false);\n            newNode.deleteData(0, index);\n            node.deleteData(index, node.length - index);\n            insertAfter(newNode, node);\n\n            // Preserve positions\n            if (positionsToPreserve) {\n                for (var i = 0, position; position = positionsToPreserve[i++]; ) {\n                    // Handle case where position was inside the portion of node after the split point\n                    if (position.node == node && position.offset > index) {\n                        position.node = newNode;\n                        position.offset -= index;\n                    }\n                    // Handle the case where the position is a node offset within node's parent\n                    else if (position.node == node.parentNode && position.offset > getNodeIndex(node)) {\n                        ++position.offset;\n                    }\n                }\n            }\n            return newNode;\n        }\n\n        function getDocument(node) {\n            if (node.nodeType == 9) {\n                return node;\n            } else if (typeof node.ownerDocument != UNDEF) {\n                return node.ownerDocument;\n            } else if (typeof node.document != UNDEF) {\n                return node.document;\n            } else if (node.parentNode) {\n                return getDocument(node.parentNode);\n            } else {\n                throw module.createError(\"getDocument: no document found for node\");\n            }\n        }\n\n        function getWindow(node) {\n            var doc = getDocument(node);\n            if (typeof doc.defaultView != UNDEF) {\n                return doc.defaultView;\n            } else if (typeof doc.parentWindow != UNDEF) {\n                return doc.parentWindow;\n            } else {\n                throw module.createError(\"Cannot get a window object for node\");\n            }\n        }\n\n        function getIframeDocument(iframeEl) {\n            if (typeof iframeEl.contentDocument != UNDEF) {\n                return iframeEl.contentDocument;\n            } else if (typeof iframeEl.contentWindow != UNDEF) {\n                return iframeEl.contentWindow.document;\n            } else {\n                throw module.createError(\"getIframeDocument: No Document object found for iframe element\");\n            }\n        }\n\n        function getIframeWindow(iframeEl) {\n            if (typeof iframeEl.contentWindow != UNDEF) {\n                return iframeEl.contentWindow;\n            } else if (typeof iframeEl.contentDocument != UNDEF) {\n                return iframeEl.contentDocument.defaultView;\n            } else {\n                throw module.createError(\"getIframeWindow: No Window object found for iframe element\");\n            }\n        }\n\n        // This looks bad. Is it worth it?\n        function isWindow(obj) {\n            return obj && util.isHostMethod(obj, \"setTimeout\") && util.isHostObject(obj, \"document\");\n        }\n\n        function getContentDocument(obj, module, methodName) {\n            var doc;\n\n            if (!obj) {\n                doc = document;\n            }\n\n            // Test if a DOM node has been passed and obtain a document object for it if so\n            else if (util.isHostProperty(obj, \"nodeType\")) {\n                doc = (obj.nodeType == 1 && obj.tagName.toLowerCase() == \"iframe\") ?\n                    getIframeDocument(obj) : getDocument(obj);\n            }\n\n            // Test if the doc parameter appears to be a Window object\n            else if (isWindow(obj)) {\n                doc = obj.document;\n            }\n\n            if (!doc) {\n                throw module.createError(methodName + \"(): Parameter must be a Window object or DOM node\");\n            }\n\n            return doc;\n        }\n\n        function getRootContainer(node) {\n            var parent;\n            while ( (parent = node.parentNode) ) {\n                node = parent;\n            }\n            return node;\n        }\n\n        function comparePoints(nodeA, offsetA, nodeB, offsetB) {\n            // See http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Comparing\n            var nodeC, root, childA, childB, n;\n            if (nodeA == nodeB) {\n                // Case 1: nodes are the same\n                return offsetA === offsetB ? 0 : (offsetA < offsetB) ? -1 : 1;\n            } else if ( (nodeC = getClosestAncestorIn(nodeB, nodeA, true)) ) {\n                // Case 2: node C (container B or an ancestor) is a child node of A\n                return offsetA <= getNodeIndex(nodeC) ? -1 : 1;\n            } else if ( (nodeC = getClosestAncestorIn(nodeA, nodeB, true)) ) {\n                // Case 3: node C (container A or an ancestor) is a child node of B\n                return getNodeIndex(nodeC) < offsetB  ? -1 : 1;\n            } else {\n                root = getCommonAncestor(nodeA, nodeB);\n                if (!root) {\n                    throw new Error(\"comparePoints error: nodes have no common ancestor\");\n                }\n\n                // Case 4: containers are siblings or descendants of siblings\n                childA = (nodeA === root) ? root : getClosestAncestorIn(nodeA, root, true);\n                childB = (nodeB === root) ? root : getClosestAncestorIn(nodeB, root, true);\n\n                if (childA === childB) {\n                    // This shouldn't be possible\n                    throw module.createError(\"comparePoints got to case 4 and childA and childB are the same!\");\n                } else {\n                    n = root.firstChild;\n                    while (n) {\n                        if (n === childA) {\n                            return -1;\n                        } else if (n === childB) {\n                            return 1;\n                        }\n                        n = n.nextSibling;\n                    }\n                }\n            }\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Test for IE's crash (IE 6/7) or exception (IE >= 8) when a reference to garbage-collected text node is queried\n        var crashyTextNodes = false;\n\n        function isBrokenNode(node) {\n            var n;\n            try {\n                n = node.parentNode;\n                return false;\n            } catch (e) {\n                return true;\n            }\n        }\n\n        (function() {\n            var el = document.createElement(\"b\");\n            el.innerHTML = \"1\";\n            var textNode = el.firstChild;\n            el.innerHTML = \"<br />\";\n            crashyTextNodes = isBrokenNode(textNode);\n\n            api.features.crashyTextNodes = crashyTextNodes;\n        })();\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        function inspectNode(node) {\n            if (!node) {\n                return \"[No node]\";\n            }\n            if (crashyTextNodes && isBrokenNode(node)) {\n                return \"[Broken node]\";\n            }\n            if (isCharacterDataNode(node)) {\n                return '\"' + node.data + '\"';\n            }\n            if (node.nodeType == 1) {\n                var idAttr = node.id ? ' id=\"' + node.id + '\"' : \"\";\n                return \"<\" + node.nodeName + idAttr + \">[index:\" + getNodeIndex(node) + \",length:\" + node.childNodes.length + \"][\" + (node.innerHTML || \"[innerHTML not supported]\").slice(0, 25) + \"]\";\n            }\n            return node.nodeName;\n        }\n\n        function fragmentFromNodeChildren(node) {\n            var fragment = getDocument(node).createDocumentFragment(), child;\n            while ( (child = node.firstChild) ) {\n                fragment.appendChild(child);\n            }\n            return fragment;\n        }\n\n        var getComputedStyleProperty;\n        if (typeof window.getComputedStyle != UNDEF) {\n            getComputedStyleProperty = function(el, propName) {\n                return getWindow(el).getComputedStyle(el, null)[propName];\n            };\n        } else if (typeof document.documentElement.currentStyle != UNDEF) {\n            getComputedStyleProperty = function(el, propName) {\n                return el.currentStyle ? el.currentStyle[propName] : \"\";\n            };\n        } else {\n            module.fail(\"No means of obtaining computed style properties found\");\n        }\n\n        function createTestElement(doc, html, contentEditable) {\n            var body = getBody(doc);\n            var el = doc.createElement(\"div\");\n            el.contentEditable = \"\" + !!contentEditable;\n            if (html) {\n                el.innerHTML = html;\n            }\n\n            // Insert the test element at the start of the body to prevent scrolling to the bottom in iOS (issue #292)\n            var bodyFirstChild = body.firstChild;\n            if (bodyFirstChild) {\n                body.insertBefore(el, bodyFirstChild);\n            } else {\n                body.appendChild(el);\n            }\n\n            return el;\n        }\n\n        function removeNode(node) {\n            return node.parentNode.removeChild(node);\n        }\n\n        function NodeIterator(root) {\n            this.root = root;\n            this._next = root;\n        }\n\n        NodeIterator.prototype = {\n            _current: null,\n\n            hasNext: function() {\n                return !!this._next;\n            },\n\n            next: function() {\n                var n = this._current = this._next;\n                var child, next;\n                if (this._current) {\n                    child = n.firstChild;\n                    if (child) {\n                        this._next = child;\n                    } else {\n                        next = null;\n                        while ((n !== this.root) && !(next = n.nextSibling)) {\n                            n = n.parentNode;\n                        }\n                        this._next = next;\n                    }\n                }\n                return this._current;\n            },\n\n            detach: function() {\n                this._current = this._next = this.root = null;\n            }\n        };\n\n        function createIterator(root) {\n            return new NodeIterator(root);\n        }\n\n        function DomPosition(node, offset) {\n            this.node = node;\n            this.offset = offset;\n        }\n\n        DomPosition.prototype = {\n            equals: function(pos) {\n                return !!pos && this.node === pos.node && this.offset == pos.offset;\n            },\n\n            inspect: function() {\n                return \"[DomPosition(\" + inspectNode(this.node) + \":\" + this.offset + \")]\";\n            },\n\n            toString: function() {\n                return this.inspect();\n            }\n        };\n\n        function DOMException(codeName) {\n            this.code = this[codeName];\n            this.codeName = codeName;\n            this.message = \"DOMException: \" + this.codeName;\n        }\n\n        DOMException.prototype = {\n            INDEX_SIZE_ERR: 1,\n            HIERARCHY_REQUEST_ERR: 3,\n            WRONG_DOCUMENT_ERR: 4,\n            NO_MODIFICATION_ALLOWED_ERR: 7,\n            NOT_FOUND_ERR: 8,\n            NOT_SUPPORTED_ERR: 9,\n            INVALID_STATE_ERR: 11,\n            INVALID_NODE_TYPE_ERR: 24\n        };\n\n        DOMException.prototype.toString = function() {\n            return this.message;\n        };\n\n        api.dom = {\n            arrayContains: arrayContains,\n            isHtmlNamespace: isHtmlNamespace,\n            parentElement: parentElement,\n            getNodeIndex: getNodeIndex,\n            getNodeLength: getNodeLength,\n            getCommonAncestor: getCommonAncestor,\n            isAncestorOf: isAncestorOf,\n            isOrIsAncestorOf: isOrIsAncestorOf,\n            getClosestAncestorIn: getClosestAncestorIn,\n            isCharacterDataNode: isCharacterDataNode,\n            isTextOrCommentNode: isTextOrCommentNode,\n            insertAfter: insertAfter,\n            splitDataNode: splitDataNode,\n            getDocument: getDocument,\n            getWindow: getWindow,\n            getIframeWindow: getIframeWindow,\n            getIframeDocument: getIframeDocument,\n            getBody: getBody,\n            isWindow: isWindow,\n            getContentDocument: getContentDocument,\n            getRootContainer: getRootContainer,\n            comparePoints: comparePoints,\n            isBrokenNode: isBrokenNode,\n            inspectNode: inspectNode,\n            getComputedStyleProperty: getComputedStyleProperty,\n            createTestElement: createTestElement,\n            removeNode: removeNode,\n            fragmentFromNodeChildren: fragmentFromNodeChildren,\n            createIterator: createIterator,\n            DomPosition: DomPosition\n        };\n\n        api.DOMException = DOMException;\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Pure JavaScript implementation of DOM Range\n    api.createCoreModule(\"DomRange\", [\"DomUtil\"], function(api, module) {\n        var dom = api.dom;\n        var util = api.util;\n        var DomPosition = dom.DomPosition;\n        var DOMException = api.DOMException;\n\n        var isCharacterDataNode = dom.isCharacterDataNode;\n        var getNodeIndex = dom.getNodeIndex;\n        var isOrIsAncestorOf = dom.isOrIsAncestorOf;\n        var getDocument = dom.getDocument;\n        var comparePoints = dom.comparePoints;\n        var splitDataNode = dom.splitDataNode;\n        var getClosestAncestorIn = dom.getClosestAncestorIn;\n        var getNodeLength = dom.getNodeLength;\n        var arrayContains = dom.arrayContains;\n        var getRootContainer = dom.getRootContainer;\n        var crashyTextNodes = api.features.crashyTextNodes;\n\n        var removeNode = dom.removeNode;\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Utility functions\n\n        function isNonTextPartiallySelected(node, range) {\n            return (node.nodeType != 3) &&\n                   (isOrIsAncestorOf(node, range.startContainer) || isOrIsAncestorOf(node, range.endContainer));\n        }\n\n        function getRangeDocument(range) {\n            return range.document || getDocument(range.startContainer);\n        }\n\n        function getRangeRoot(range) {\n            return getRootContainer(range.startContainer);\n        }\n\n        function getBoundaryBeforeNode(node) {\n            return new DomPosition(node.parentNode, getNodeIndex(node));\n        }\n\n        function getBoundaryAfterNode(node) {\n            return new DomPosition(node.parentNode, getNodeIndex(node) + 1);\n        }\n\n        function insertNodeAtPosition(node, n, o) {\n            var firstNodeInserted = node.nodeType == 11 ? node.firstChild : node;\n            if (isCharacterDataNode(n)) {\n                if (o == n.length) {\n                    dom.insertAfter(node, n);\n                } else {\n                    n.parentNode.insertBefore(node, o == 0 ? n : splitDataNode(n, o));\n                }\n            } else if (o >= n.childNodes.length) {\n                n.appendChild(node);\n            } else {\n                n.insertBefore(node, n.childNodes[o]);\n            }\n            return firstNodeInserted;\n        }\n\n        function rangesIntersect(rangeA, rangeB, touchingIsIntersecting) {\n            assertRangeValid(rangeA);\n            assertRangeValid(rangeB);\n\n            if (getRangeDocument(rangeB) != getRangeDocument(rangeA)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n\n            var startComparison = comparePoints(rangeA.startContainer, rangeA.startOffset, rangeB.endContainer, rangeB.endOffset),\n                endComparison = comparePoints(rangeA.endContainer, rangeA.endOffset, rangeB.startContainer, rangeB.startOffset);\n\n            return touchingIsIntersecting ? startComparison <= 0 && endComparison >= 0 : startComparison < 0 && endComparison > 0;\n        }\n\n        function cloneSubtree(iterator) {\n            var partiallySelected;\n            for (var node, frag = getRangeDocument(iterator.range).createDocumentFragment(), subIterator; node = iterator.next(); ) {\n                partiallySelected = iterator.isPartiallySelectedSubtree();\n                node = node.cloneNode(!partiallySelected);\n                if (partiallySelected) {\n                    subIterator = iterator.getSubtreeIterator();\n                    node.appendChild(cloneSubtree(subIterator));\n                    subIterator.detach();\n                }\n\n                if (node.nodeType == 10) { // DocumentType\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n                frag.appendChild(node);\n            }\n            return frag;\n        }\n\n        function iterateSubtree(rangeIterator, func, iteratorState) {\n            var it, n;\n            iteratorState = iteratorState || { stop: false };\n            for (var node, subRangeIterator; node = rangeIterator.next(); ) {\n                if (rangeIterator.isPartiallySelectedSubtree()) {\n                    if (func(node) === false) {\n                        iteratorState.stop = true;\n                        return;\n                    } else {\n                        // The node is partially selected by the Range, so we can use a new RangeIterator on the portion of\n                        // the node selected by the Range.\n                        subRangeIterator = rangeIterator.getSubtreeIterator();\n                        iterateSubtree(subRangeIterator, func, iteratorState);\n                        subRangeIterator.detach();\n                        if (iteratorState.stop) {\n                            return;\n                        }\n                    }\n                } else {\n                    // The whole node is selected, so we can use efficient DOM iteration to iterate over the node and its\n                    // descendants\n                    it = dom.createIterator(node);\n                    while ( (n = it.next()) ) {\n                        if (func(n) === false) {\n                            iteratorState.stop = true;\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n\n        function deleteSubtree(iterator) {\n            var subIterator;\n            while (iterator.next()) {\n                if (iterator.isPartiallySelectedSubtree()) {\n                    subIterator = iterator.getSubtreeIterator();\n                    deleteSubtree(subIterator);\n                    subIterator.detach();\n                } else {\n                    iterator.remove();\n                }\n            }\n        }\n\n        function extractSubtree(iterator) {\n            for (var node, frag = getRangeDocument(iterator.range).createDocumentFragment(), subIterator; node = iterator.next(); ) {\n\n                if (iterator.isPartiallySelectedSubtree()) {\n                    node = node.cloneNode(false);\n                    subIterator = iterator.getSubtreeIterator();\n                    node.appendChild(extractSubtree(subIterator));\n                    subIterator.detach();\n                } else {\n                    iterator.remove();\n                }\n                if (node.nodeType == 10) { // DocumentType\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n                frag.appendChild(node);\n            }\n            return frag;\n        }\n\n        function getNodesInRange(range, nodeTypes, filter) {\n            var filterNodeTypes = !!(nodeTypes && nodeTypes.length), regex;\n            var filterExists = !!filter;\n            if (filterNodeTypes) {\n                regex = new RegExp(\"^(\" + nodeTypes.join(\"|\") + \")$\");\n            }\n\n            var nodes = [];\n            iterateSubtree(new RangeIterator(range, false), function(node) {\n                if (filterNodeTypes && !regex.test(node.nodeType)) {\n                    return;\n                }\n                if (filterExists && !filter(node)) {\n                    return;\n                }\n                // Don't include a boundary container if it is a character data node and the range does not contain any\n                // of its character data. See issue 190.\n                var sc = range.startContainer;\n                if (node == sc && isCharacterDataNode(sc) && range.startOffset == sc.length) {\n                    return;\n                }\n\n                var ec = range.endContainer;\n                if (node == ec && isCharacterDataNode(ec) && range.endOffset == 0) {\n                    return;\n                }\n\n                nodes.push(node);\n            });\n            return nodes;\n        }\n\n        function inspect(range) {\n            var name = (typeof range.getName == \"undefined\") ? \"Range\" : range.getName();\n            return \"[\" + name + \"(\" + dom.inspectNode(range.startContainer) + \":\" + range.startOffset + \", \" +\n                    dom.inspectNode(range.endContainer) + \":\" + range.endOffset + \")]\";\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // RangeIterator code partially borrows from IERange by Tim Ryan (http://github.com/timcameronryan/IERange)\n\n        function RangeIterator(range, clonePartiallySelectedTextNodes) {\n            this.range = range;\n            this.clonePartiallySelectedTextNodes = clonePartiallySelectedTextNodes;\n\n\n            if (!range.collapsed) {\n                this.sc = range.startContainer;\n                this.so = range.startOffset;\n                this.ec = range.endContainer;\n                this.eo = range.endOffset;\n                var root = range.commonAncestorContainer;\n\n                if (this.sc === this.ec && isCharacterDataNode(this.sc)) {\n                    this.isSingleCharacterDataNode = true;\n                    this._first = this._last = this._next = this.sc;\n                } else {\n                    this._first = this._next = (this.sc === root && !isCharacterDataNode(this.sc)) ?\n                        this.sc.childNodes[this.so] : getClosestAncestorIn(this.sc, root, true);\n                    this._last = (this.ec === root && !isCharacterDataNode(this.ec)) ?\n                        this.ec.childNodes[this.eo - 1] : getClosestAncestorIn(this.ec, root, true);\n                }\n            }\n        }\n\n        RangeIterator.prototype = {\n            _current: null,\n            _next: null,\n            _first: null,\n            _last: null,\n            isSingleCharacterDataNode: false,\n\n            reset: function() {\n                this._current = null;\n                this._next = this._first;\n            },\n\n            hasNext: function() {\n                return !!this._next;\n            },\n\n            next: function() {\n                // Move to next node\n                var current = this._current = this._next;\n                if (current) {\n                    this._next = (current !== this._last) ? current.nextSibling : null;\n\n                    // Check for partially selected text nodes\n                    if (isCharacterDataNode(current) && this.clonePartiallySelectedTextNodes) {\n                        if (current === this.ec) {\n                            (current = current.cloneNode(true)).deleteData(this.eo, current.length - this.eo);\n                        }\n                        if (this._current === this.sc) {\n                            (current = current.cloneNode(true)).deleteData(0, this.so);\n                        }\n                    }\n                }\n\n                return current;\n            },\n\n            remove: function() {\n                var current = this._current, start, end;\n\n                if (isCharacterDataNode(current) && (current === this.sc || current === this.ec)) {\n                    start = (current === this.sc) ? this.so : 0;\n                    end = (current === this.ec) ? this.eo : current.length;\n                    if (start != end) {\n                        current.deleteData(start, end - start);\n                    }\n                } else {\n                    if (current.parentNode) {\n                        removeNode(current);\n                    } else {\n                    }\n                }\n            },\n\n            // Checks if the current node is partially selected\n            isPartiallySelectedSubtree: function() {\n                var current = this._current;\n                return isNonTextPartiallySelected(current, this.range);\n            },\n\n            getSubtreeIterator: function() {\n                var subRange;\n                if (this.isSingleCharacterDataNode) {\n                    subRange = this.range.cloneRange();\n                    subRange.collapse(false);\n                } else {\n                    subRange = new Range(getRangeDocument(this.range));\n                    var current = this._current;\n                    var startContainer = current, startOffset = 0, endContainer = current, endOffset = getNodeLength(current);\n\n                    if (isOrIsAncestorOf(current, this.sc)) {\n                        startContainer = this.sc;\n                        startOffset = this.so;\n                    }\n                    if (isOrIsAncestorOf(current, this.ec)) {\n                        endContainer = this.ec;\n                        endOffset = this.eo;\n                    }\n\n                    updateBoundaries(subRange, startContainer, startOffset, endContainer, endOffset);\n                }\n                return new RangeIterator(subRange, this.clonePartiallySelectedTextNodes);\n            },\n\n            detach: function() {\n                this.range = this._current = this._next = this._first = this._last = this.sc = this.so = this.ec = this.eo = null;\n            }\n        };\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var beforeAfterNodeTypes = [1, 3, 4, 5, 7, 8, 10];\n        var rootContainerNodeTypes = [2, 9, 11];\n        var readonlyNodeTypes = [5, 6, 10, 12];\n        var insertableNodeTypes = [1, 3, 4, 5, 7, 8, 10, 11];\n        var surroundNodeTypes = [1, 3, 4, 5, 7, 8];\n\n        function createAncestorFinder(nodeTypes) {\n            return function(node, selfIsAncestor) {\n                var t, n = selfIsAncestor ? node : node.parentNode;\n                while (n) {\n                    t = n.nodeType;\n                    if (arrayContains(nodeTypes, t)) {\n                        return n;\n                    }\n                    n = n.parentNode;\n                }\n                return null;\n            };\n        }\n\n        var getDocumentOrFragmentContainer = createAncestorFinder( [9, 11] );\n        var getReadonlyAncestor = createAncestorFinder(readonlyNodeTypes);\n        var getDocTypeNotationEntityAncestor = createAncestorFinder( [6, 10, 12] );\n\n        function assertNoDocTypeNotationEntityAncestor(node, allowSelf) {\n            if (getDocTypeNotationEntityAncestor(node, allowSelf)) {\n                throw new DOMException(\"INVALID_NODE_TYPE_ERR\");\n            }\n        }\n\n        function assertValidNodeType(node, invalidTypes) {\n            if (!arrayContains(invalidTypes, node.nodeType)) {\n                throw new DOMException(\"INVALID_NODE_TYPE_ERR\");\n            }\n        }\n\n        function assertValidOffset(node, offset) {\n            if (offset < 0 || offset > (isCharacterDataNode(node) ? node.length : node.childNodes.length)) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            }\n        }\n\n        function assertSameDocumentOrFragment(node1, node2) {\n            if (getDocumentOrFragmentContainer(node1, true) !== getDocumentOrFragmentContainer(node2, true)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n        }\n\n        function assertNodeNotReadOnly(node) {\n            if (getReadonlyAncestor(node, true)) {\n                throw new DOMException(\"NO_MODIFICATION_ALLOWED_ERR\");\n            }\n        }\n\n        function assertNode(node, codeName) {\n            if (!node) {\n                throw new DOMException(codeName);\n            }\n        }\n\n        function isValidOffset(node, offset) {\n            return offset <= (isCharacterDataNode(node) ? node.length : node.childNodes.length);\n        }\n\n        function isRangeValid(range) {\n            return (!!range.startContainer && !!range.endContainer &&\n                    !(crashyTextNodes && (dom.isBrokenNode(range.startContainer) || dom.isBrokenNode(range.endContainer))) &&\n                    getRootContainer(range.startContainer) == getRootContainer(range.endContainer) &&\n                    isValidOffset(range.startContainer, range.startOffset) &&\n                    isValidOffset(range.endContainer, range.endOffset));\n        }\n\n        function assertRangeValid(range) {\n            if (!isRangeValid(range)) {\n                throw new Error(\"Range error: Range is not valid. This usually happens after DOM mutation. Range: (\" + range.inspect() + \")\");\n            }\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Test the browser's innerHTML support to decide how to implement createContextualFragment\n        var styleEl = document.createElement(\"style\");\n        var htmlParsingConforms = false;\n        try {\n            styleEl.innerHTML = \"<b>x</b>\";\n            htmlParsingConforms = (styleEl.firstChild.nodeType == 3); // Opera incorrectly creates an element node\n        } catch (e) {\n            // IE 6 and 7 throw\n        }\n\n        api.features.htmlParsingConforms = htmlParsingConforms;\n\n        var createContextualFragment = htmlParsingConforms ?\n\n            // Implementation as per HTML parsing spec, trusting in the browser's implementation of innerHTML. See\n            // discussion and base code for this implementation at issue 67.\n            // Spec: http://html5.org/specs/dom-parsing.html#extensions-to-the-range-interface\n            // Thanks to Aleks Williams.\n            function(fragmentStr) {\n                // \"Let node the context object's start's node.\"\n                var node = this.startContainer;\n                var doc = getDocument(node);\n\n                // \"If the context object's start's node is null, raise an INVALID_STATE_ERR\n                // exception and abort these steps.\"\n                if (!node) {\n                    throw new DOMException(\"INVALID_STATE_ERR\");\n                }\n\n                // \"Let element be as follows, depending on node's interface:\"\n                // Document, Document Fragment: null\n                var el = null;\n\n                // \"Element: node\"\n                if (node.nodeType == 1) {\n                    el = node;\n\n                // \"Text, Comment: node's parentElement\"\n                } else if (isCharacterDataNode(node)) {\n                    el = dom.parentElement(node);\n                }\n\n                // \"If either element is null or element's ownerDocument is an HTML document\n                // and element's local name is \"html\" and element's namespace is the HTML\n                // namespace\"\n                if (el === null || (\n                    el.nodeName == \"HTML\" &&\n                    dom.isHtmlNamespace(getDocument(el).documentElement) &&\n                    dom.isHtmlNamespace(el)\n                )) {\n\n                // \"let element be a new Element with \"body\" as its local name and the HTML\n                // namespace as its namespace.\"\"\n                    el = doc.createElement(\"body\");\n                } else {\n                    el = el.cloneNode(false);\n                }\n\n                // \"If the node's document is an HTML document: Invoke the HTML fragment parsing algorithm.\"\n                // \"If the node's document is an XML document: Invoke the XML fragment parsing algorithm.\"\n                // \"In either case, the algorithm must be invoked with fragment as the input\n                // and element as the context element.\"\n                el.innerHTML = fragmentStr;\n\n                // \"If this raises an exception, then abort these steps. Otherwise, let new\n                // children be the nodes returned.\"\n\n                // \"Let fragment be a new DocumentFragment.\"\n                // \"Append all new children to fragment.\"\n                // \"Return fragment.\"\n                return dom.fragmentFromNodeChildren(el);\n            } :\n\n            // In this case, innerHTML cannot be trusted, so fall back to a simpler, non-conformant implementation that\n            // previous versions of Rangy used (with the exception of using a body element rather than a div)\n            function(fragmentStr) {\n                var doc = getRangeDocument(this);\n                var el = doc.createElement(\"body\");\n                el.innerHTML = fragmentStr;\n\n                return dom.fragmentFromNodeChildren(el);\n            };\n\n        function splitRangeBoundaries(range, positionsToPreserve) {\n            assertRangeValid(range);\n\n            var sc = range.startContainer, so = range.startOffset, ec = range.endContainer, eo = range.endOffset;\n            var startEndSame = (sc === ec);\n\n            if (isCharacterDataNode(ec) && eo > 0 && eo < ec.length) {\n                splitDataNode(ec, eo, positionsToPreserve);\n            }\n\n            if (isCharacterDataNode(sc) && so > 0 && so < sc.length) {\n                sc = splitDataNode(sc, so, positionsToPreserve);\n                if (startEndSame) {\n                    eo -= so;\n                    ec = sc;\n                } else if (ec == sc.parentNode && eo >= getNodeIndex(sc)) {\n                    eo++;\n                }\n                so = 0;\n            }\n            range.setStartAndEnd(sc, so, ec, eo);\n        }\n\n        function rangeToHtml(range) {\n            assertRangeValid(range);\n            var container = range.commonAncestorContainer.parentNode.cloneNode(false);\n            container.appendChild( range.cloneContents() );\n            return container.innerHTML;\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var rangeProperties = [\"startContainer\", \"startOffset\", \"endContainer\", \"endOffset\", \"collapsed\",\n            \"commonAncestorContainer\"];\n\n        var s2s = 0, s2e = 1, e2e = 2, e2s = 3;\n        var n_b = 0, n_a = 1, n_b_a = 2, n_i = 3;\n\n        util.extend(api.rangePrototype, {\n            compareBoundaryPoints: function(how, range) {\n                assertRangeValid(this);\n                assertSameDocumentOrFragment(this.startContainer, range.startContainer);\n\n                var nodeA, offsetA, nodeB, offsetB;\n                var prefixA = (how == e2s || how == s2s) ? \"start\" : \"end\";\n                var prefixB = (how == s2e || how == s2s) ? \"start\" : \"end\";\n                nodeA = this[prefixA + \"Container\"];\n                offsetA = this[prefixA + \"Offset\"];\n                nodeB = range[prefixB + \"Container\"];\n                offsetB = range[prefixB + \"Offset\"];\n                return comparePoints(nodeA, offsetA, nodeB, offsetB);\n            },\n\n            insertNode: function(node) {\n                assertRangeValid(this);\n                assertValidNodeType(node, insertableNodeTypes);\n                assertNodeNotReadOnly(this.startContainer);\n\n                if (isOrIsAncestorOf(node, this.startContainer)) {\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n\n                // No check for whether the container of the start of the Range is of a type that does not allow\n                // children of the type of node: the browser's DOM implementation should do this for us when we attempt\n                // to add the node\n\n                var firstNodeInserted = insertNodeAtPosition(node, this.startContainer, this.startOffset);\n                this.setStartBefore(firstNodeInserted);\n            },\n\n            cloneContents: function() {\n                assertRangeValid(this);\n\n                var clone, frag;\n                if (this.collapsed) {\n                    return getRangeDocument(this).createDocumentFragment();\n                } else {\n                    if (this.startContainer === this.endContainer && isCharacterDataNode(this.startContainer)) {\n                        clone = this.startContainer.cloneNode(true);\n                        clone.data = clone.data.slice(this.startOffset, this.endOffset);\n                        frag = getRangeDocument(this).createDocumentFragment();\n                        frag.appendChild(clone);\n                        return frag;\n                    } else {\n                        var iterator = new RangeIterator(this, true);\n                        clone = cloneSubtree(iterator);\n                        iterator.detach();\n                    }\n                    return clone;\n                }\n            },\n\n            canSurroundContents: function() {\n                assertRangeValid(this);\n                assertNodeNotReadOnly(this.startContainer);\n                assertNodeNotReadOnly(this.endContainer);\n\n                // Check if the contents can be surrounded. Specifically, this means whether the range partially selects\n                // no non-text nodes.\n                var iterator = new RangeIterator(this, true);\n                var boundariesInvalid = (iterator._first && (isNonTextPartiallySelected(iterator._first, this)) ||\n                        (iterator._last && isNonTextPartiallySelected(iterator._last, this)));\n                iterator.detach();\n                return !boundariesInvalid;\n            },\n\n            surroundContents: function(node) {\n                assertValidNodeType(node, surroundNodeTypes);\n\n                if (!this.canSurroundContents()) {\n                    throw new DOMException(\"INVALID_STATE_ERR\");\n                }\n\n                // Extract the contents\n                var content = this.extractContents();\n\n                // Clear the children of the node\n                if (node.hasChildNodes()) {\n                    while (node.lastChild) {\n                        node.removeChild(node.lastChild);\n                    }\n                }\n\n                // Insert the new node and add the extracted contents\n                insertNodeAtPosition(node, this.startContainer, this.startOffset);\n                node.appendChild(content);\n\n                this.selectNode(node);\n            },\n\n            cloneRange: function() {\n                assertRangeValid(this);\n                var range = new Range(getRangeDocument(this));\n                var i = rangeProperties.length, prop;\n                while (i--) {\n                    prop = rangeProperties[i];\n                    range[prop] = this[prop];\n                }\n                return range;\n            },\n\n            toString: function() {\n                assertRangeValid(this);\n                var sc = this.startContainer;\n                if (sc === this.endContainer && isCharacterDataNode(sc)) {\n                    return (sc.nodeType == 3 || sc.nodeType == 4) ? sc.data.slice(this.startOffset, this.endOffset) : \"\";\n                } else {\n                    var textParts = [], iterator = new RangeIterator(this, true);\n                    iterateSubtree(iterator, function(node) {\n                        // Accept only text or CDATA nodes, not comments\n                        if (node.nodeType == 3 || node.nodeType == 4) {\n                            textParts.push(node.data);\n                        }\n                    });\n                    iterator.detach();\n                    return textParts.join(\"\");\n                }\n            },\n\n            // The methods below are all non-standard. The following batch were introduced by Mozilla but have since\n            // been removed from Mozilla.\n\n            compareNode: function(node) {\n                assertRangeValid(this);\n\n                var parent = node.parentNode;\n                var nodeIndex = getNodeIndex(node);\n\n                if (!parent) {\n                    throw new DOMException(\"NOT_FOUND_ERR\");\n                }\n\n                var startComparison = this.comparePoint(parent, nodeIndex),\n                    endComparison = this.comparePoint(parent, nodeIndex + 1);\n\n                if (startComparison < 0) { // Node starts before\n                    return (endComparison > 0) ? n_b_a : n_b;\n                } else {\n                    return (endComparison > 0) ? n_a : n_i;\n                }\n            },\n\n            comparePoint: function(node, offset) {\n                assertRangeValid(this);\n                assertNode(node, \"HIERARCHY_REQUEST_ERR\");\n                assertSameDocumentOrFragment(node, this.startContainer);\n\n                if (comparePoints(node, offset, this.startContainer, this.startOffset) < 0) {\n                    return -1;\n                } else if (comparePoints(node, offset, this.endContainer, this.endOffset) > 0) {\n                    return 1;\n                }\n                return 0;\n            },\n\n            createContextualFragment: createContextualFragment,\n\n            toHtml: function() {\n                return rangeToHtml(this);\n            },\n\n            // touchingIsIntersecting determines whether this method considers a node that borders a range intersects\n            // with it (as in WebKit) or not (as in Gecko pre-1.9, and the default)\n            intersectsNode: function(node, touchingIsIntersecting) {\n                assertRangeValid(this);\n                if (getRootContainer(node) != getRangeRoot(this)) {\n                    return false;\n                }\n\n                var parent = node.parentNode, offset = getNodeIndex(node);\n                if (!parent) {\n                    return true;\n                }\n\n                var startComparison = comparePoints(parent, offset, this.endContainer, this.endOffset),\n                    endComparison = comparePoints(parent, offset + 1, this.startContainer, this.startOffset);\n\n                return touchingIsIntersecting ? startComparison <= 0 && endComparison >= 0 : startComparison < 0 && endComparison > 0;\n            },\n\n            isPointInRange: function(node, offset) {\n                assertRangeValid(this);\n                assertNode(node, \"HIERARCHY_REQUEST_ERR\");\n                assertSameDocumentOrFragment(node, this.startContainer);\n\n                return (comparePoints(node, offset, this.startContainer, this.startOffset) >= 0) &&\n                       (comparePoints(node, offset, this.endContainer, this.endOffset) <= 0);\n            },\n\n            // The methods below are non-standard and invented by me.\n\n            // Sharing a boundary start-to-end or end-to-start does not count as intersection.\n            intersectsRange: function(range) {\n                return rangesIntersect(this, range, false);\n            },\n\n            // Sharing a boundary start-to-end or end-to-start does count as intersection.\n            intersectsOrTouchesRange: function(range) {\n                return rangesIntersect(this, range, true);\n            },\n\n            intersection: function(range) {\n                if (this.intersectsRange(range)) {\n                    var startComparison = comparePoints(this.startContainer, this.startOffset, range.startContainer, range.startOffset),\n                        endComparison = comparePoints(this.endContainer, this.endOffset, range.endContainer, range.endOffset);\n\n                    var intersectionRange = this.cloneRange();\n                    if (startComparison == -1) {\n                        intersectionRange.setStart(range.startContainer, range.startOffset);\n                    }\n                    if (endComparison == 1) {\n                        intersectionRange.setEnd(range.endContainer, range.endOffset);\n                    }\n                    return intersectionRange;\n                }\n                return null;\n            },\n\n            union: function(range) {\n                if (this.intersectsOrTouchesRange(range)) {\n                    var unionRange = this.cloneRange();\n                    if (comparePoints(range.startContainer, range.startOffset, this.startContainer, this.startOffset) == -1) {\n                        unionRange.setStart(range.startContainer, range.startOffset);\n                    }\n                    if (comparePoints(range.endContainer, range.endOffset, this.endContainer, this.endOffset) == 1) {\n                        unionRange.setEnd(range.endContainer, range.endOffset);\n                    }\n                    return unionRange;\n                } else {\n                    throw new DOMException(\"Ranges do not intersect\");\n                }\n            },\n\n            containsNode: function(node, allowPartial) {\n                if (allowPartial) {\n                    return this.intersectsNode(node, false);\n                } else {\n                    return this.compareNode(node) == n_i;\n                }\n            },\n\n            containsNodeContents: function(node) {\n                return this.comparePoint(node, 0) >= 0 && this.comparePoint(node, getNodeLength(node)) <= 0;\n            },\n\n            containsRange: function(range) {\n                var intersection = this.intersection(range);\n                return intersection !== null && range.equals(intersection);\n            },\n\n            containsNodeText: function(node) {\n                var nodeRange = this.cloneRange();\n                nodeRange.selectNode(node);\n                var textNodes = nodeRange.getNodes([3]);\n                if (textNodes.length > 0) {\n                    nodeRange.setStart(textNodes[0], 0);\n                    var lastTextNode = textNodes.pop();\n                    nodeRange.setEnd(lastTextNode, lastTextNode.length);\n                    return this.containsRange(nodeRange);\n                } else {\n                    return this.containsNodeContents(node);\n                }\n            },\n\n            getNodes: function(nodeTypes, filter) {\n                assertRangeValid(this);\n                return getNodesInRange(this, nodeTypes, filter);\n            },\n\n            getDocument: function() {\n                return getRangeDocument(this);\n            },\n\n            collapseBefore: function(node) {\n                this.setEndBefore(node);\n                this.collapse(false);\n            },\n\n            collapseAfter: function(node) {\n                this.setStartAfter(node);\n                this.collapse(true);\n            },\n\n            getBookmark: function(containerNode) {\n                var doc = getRangeDocument(this);\n                var preSelectionRange = api.createRange(doc);\n                containerNode = containerNode || dom.getBody(doc);\n                preSelectionRange.selectNodeContents(containerNode);\n                var range = this.intersection(preSelectionRange);\n                var start = 0, end = 0;\n                if (range) {\n                    preSelectionRange.setEnd(range.startContainer, range.startOffset);\n                    start = preSelectionRange.toString().length;\n                    end = start + range.toString().length;\n                }\n\n                return {\n                    start: start,\n                    end: end,\n                    containerNode: containerNode\n                };\n            },\n\n            moveToBookmark: function(bookmark) {\n                var containerNode = bookmark.containerNode;\n                var charIndex = 0;\n                this.setStart(containerNode, 0);\n                this.collapse(true);\n                var nodeStack = [containerNode], node, foundStart = false, stop = false;\n                var nextCharIndex, i, childNodes;\n\n                while (!stop && (node = nodeStack.pop())) {\n                    if (node.nodeType == 3) {\n                        nextCharIndex = charIndex + node.length;\n                        if (!foundStart && bookmark.start >= charIndex && bookmark.start <= nextCharIndex) {\n                            this.setStart(node, bookmark.start - charIndex);\n                            foundStart = true;\n                        }\n                        if (foundStart && bookmark.end >= charIndex && bookmark.end <= nextCharIndex) {\n                            this.setEnd(node, bookmark.end - charIndex);\n                            stop = true;\n                        }\n                        charIndex = nextCharIndex;\n                    } else {\n                        childNodes = node.childNodes;\n                        i = childNodes.length;\n                        while (i--) {\n                            nodeStack.push(childNodes[i]);\n                        }\n                    }\n                }\n            },\n\n            getName: function() {\n                return \"DomRange\";\n            },\n\n            equals: function(range) {\n                return Range.rangesEqual(this, range);\n            },\n\n            isValid: function() {\n                return isRangeValid(this);\n            },\n\n            inspect: function() {\n                return inspect(this);\n            },\n\n            detach: function() {\n                // In DOM4, detach() is now a no-op.\n            }\n        });\n\n        function copyComparisonConstantsToObject(obj) {\n            obj.START_TO_START = s2s;\n            obj.START_TO_END = s2e;\n            obj.END_TO_END = e2e;\n            obj.END_TO_START = e2s;\n\n            obj.NODE_BEFORE = n_b;\n            obj.NODE_AFTER = n_a;\n            obj.NODE_BEFORE_AND_AFTER = n_b_a;\n            obj.NODE_INSIDE = n_i;\n        }\n\n        function copyComparisonConstants(constructor) {\n            copyComparisonConstantsToObject(constructor);\n            copyComparisonConstantsToObject(constructor.prototype);\n        }\n\n        function createRangeContentRemover(remover, boundaryUpdater) {\n            return function() {\n                assertRangeValid(this);\n\n                var sc = this.startContainer, so = this.startOffset, root = this.commonAncestorContainer;\n\n                var iterator = new RangeIterator(this, true);\n\n                // Work out where to position the range after content removal\n                var node, boundary;\n                if (sc !== root) {\n                    node = getClosestAncestorIn(sc, root, true);\n                    boundary = getBoundaryAfterNode(node);\n                    sc = boundary.node;\n                    so = boundary.offset;\n                }\n\n                // Check none of the range is read-only\n                iterateSubtree(iterator, assertNodeNotReadOnly);\n\n                iterator.reset();\n\n                // Remove the content\n                var returnValue = remover(iterator);\n                iterator.detach();\n\n                // Move to the new position\n                boundaryUpdater(this, sc, so, sc, so);\n\n                return returnValue;\n            };\n        }\n\n        function createPrototypeRange(constructor, boundaryUpdater) {\n            function createBeforeAfterNodeSetter(isBefore, isStart) {\n                return function(node) {\n                    assertValidNodeType(node, beforeAfterNodeTypes);\n                    assertValidNodeType(getRootContainer(node), rootContainerNodeTypes);\n\n                    var boundary = (isBefore ? getBoundaryBeforeNode : getBoundaryAfterNode)(node);\n                    (isStart ? setRangeStart : setRangeEnd)(this, boundary.node, boundary.offset);\n                };\n            }\n\n            function setRangeStart(range, node, offset) {\n                var ec = range.endContainer, eo = range.endOffset;\n                if (node !== range.startContainer || offset !== range.startOffset) {\n                    // Check the root containers of the range and the new boundary, and also check whether the new boundary\n                    // is after the current end. In either case, collapse the range to the new position\n                    if (getRootContainer(node) != getRootContainer(ec) || comparePoints(node, offset, ec, eo) == 1) {\n                        ec = node;\n                        eo = offset;\n                    }\n                    boundaryUpdater(range, node, offset, ec, eo);\n                }\n            }\n\n            function setRangeEnd(range, node, offset) {\n                var sc = range.startContainer, so = range.startOffset;\n                if (node !== range.endContainer || offset !== range.endOffset) {\n                    // Check the root containers of the range and the new boundary, and also check whether the new boundary\n                    // is after the current end. In either case, collapse the range to the new position\n                    if (getRootContainer(node) != getRootContainer(sc) || comparePoints(node, offset, sc, so) == -1) {\n                        sc = node;\n                        so = offset;\n                    }\n                    boundaryUpdater(range, sc, so, node, offset);\n                }\n            }\n\n            // Set up inheritance\n            var F = function() {};\n            F.prototype = api.rangePrototype;\n            constructor.prototype = new F();\n\n            util.extend(constructor.prototype, {\n                setStart: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n\n                    setRangeStart(this, node, offset);\n                },\n\n                setEnd: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n\n                    setRangeEnd(this, node, offset);\n                },\n\n                /**\n                 * Convenience method to set a range's start and end boundaries. Overloaded as follows:\n                 * - Two parameters (node, offset) creates a collapsed range at that position\n                 * - Three parameters (node, startOffset, endOffset) creates a range contained with node starting at\n                 *   startOffset and ending at endOffset\n                 * - Four parameters (startNode, startOffset, endNode, endOffset) creates a range starting at startOffset in\n                 *   startNode and ending at endOffset in endNode\n                 */\n                setStartAndEnd: function() {\n                    var args = arguments;\n                    var sc = args[0], so = args[1], ec = sc, eo = so;\n\n                    switch (args.length) {\n                        case 3:\n                            eo = args[2];\n                            break;\n                        case 4:\n                            ec = args[2];\n                            eo = args[3];\n                            break;\n                    }\n\n                    boundaryUpdater(this, sc, so, ec, eo);\n                },\n\n                setBoundary: function(node, offset, isStart) {\n                    this[\"set\" + (isStart ? \"Start\" : \"End\")](node, offset);\n                },\n\n                setStartBefore: createBeforeAfterNodeSetter(true, true),\n                setStartAfter: createBeforeAfterNodeSetter(false, true),\n                setEndBefore: createBeforeAfterNodeSetter(true, false),\n                setEndAfter: createBeforeAfterNodeSetter(false, false),\n\n                collapse: function(isStart) {\n                    assertRangeValid(this);\n                    if (isStart) {\n                        boundaryUpdater(this, this.startContainer, this.startOffset, this.startContainer, this.startOffset);\n                    } else {\n                        boundaryUpdater(this, this.endContainer, this.endOffset, this.endContainer, this.endOffset);\n                    }\n                },\n\n                selectNodeContents: function(node) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n\n                    boundaryUpdater(this, node, 0, node, getNodeLength(node));\n                },\n\n                selectNode: function(node) {\n                    assertNoDocTypeNotationEntityAncestor(node, false);\n                    assertValidNodeType(node, beforeAfterNodeTypes);\n\n                    var start = getBoundaryBeforeNode(node), end = getBoundaryAfterNode(node);\n                    boundaryUpdater(this, start.node, start.offset, end.node, end.offset);\n                },\n\n                extractContents: createRangeContentRemover(extractSubtree, boundaryUpdater),\n\n                deleteContents: createRangeContentRemover(deleteSubtree, boundaryUpdater),\n\n                canSurroundContents: function() {\n                    assertRangeValid(this);\n                    assertNodeNotReadOnly(this.startContainer);\n                    assertNodeNotReadOnly(this.endContainer);\n\n                    // Check if the contents can be surrounded. Specifically, this means whether the range partially selects\n                    // no non-text nodes.\n                    var iterator = new RangeIterator(this, true);\n                    var boundariesInvalid = (iterator._first && isNonTextPartiallySelected(iterator._first, this) ||\n                            (iterator._last && isNonTextPartiallySelected(iterator._last, this)));\n                    iterator.detach();\n                    return !boundariesInvalid;\n                },\n\n                splitBoundaries: function() {\n                    splitRangeBoundaries(this);\n                },\n\n                splitBoundariesPreservingPositions: function(positionsToPreserve) {\n                    splitRangeBoundaries(this, positionsToPreserve);\n                },\n\n                normalizeBoundaries: function() {\n                    assertRangeValid(this);\n\n                    var sc = this.startContainer, so = this.startOffset, ec = this.endContainer, eo = this.endOffset;\n\n                    var mergeForward = function(node) {\n                        var sibling = node.nextSibling;\n                        if (sibling && sibling.nodeType == node.nodeType) {\n                            ec = node;\n                            eo = node.length;\n                            node.appendData(sibling.data);\n                            removeNode(sibling);\n                        }\n                    };\n\n                    var mergeBackward = function(node) {\n                        var sibling = node.previousSibling;\n                        if (sibling && sibling.nodeType == node.nodeType) {\n                            sc = node;\n                            var nodeLength = node.length;\n                            so = sibling.length;\n                            node.insertData(0, sibling.data);\n                            removeNode(sibling);\n                            if (sc == ec) {\n                                eo += so;\n                                ec = sc;\n                            } else if (ec == node.parentNode) {\n                                var nodeIndex = getNodeIndex(node);\n                                if (eo == nodeIndex) {\n                                    ec = node;\n                                    eo = nodeLength;\n                                } else if (eo > nodeIndex) {\n                                    eo--;\n                                }\n                            }\n                        }\n                    };\n\n                    var normalizeStart = true;\n                    var sibling;\n\n                    if (isCharacterDataNode(ec)) {\n                        if (eo == ec.length) {\n                            mergeForward(ec);\n                        } else if (eo == 0) {\n                            sibling = ec.previousSibling;\n                            if (sibling && sibling.nodeType == ec.nodeType) {\n                                eo = sibling.length;\n                                if (sc == ec) {\n                                    normalizeStart = false;\n                                }\n                                sibling.appendData(ec.data);\n                                removeNode(ec);\n                                ec = sibling;\n                            }\n                        }\n                    } else {\n                        if (eo > 0) {\n                            var endNode = ec.childNodes[eo - 1];\n                            if (endNode && isCharacterDataNode(endNode)) {\n                                mergeForward(endNode);\n                            }\n                        }\n                        normalizeStart = !this.collapsed;\n                    }\n\n                    if (normalizeStart) {\n                        if (isCharacterDataNode(sc)) {\n                            if (so == 0) {\n                                mergeBackward(sc);\n                            } else if (so == sc.length) {\n                                sibling = sc.nextSibling;\n                                if (sibling && sibling.nodeType == sc.nodeType) {\n                                    if (ec == sibling) {\n                                        ec = sc;\n                                        eo += sc.length;\n                                    }\n                                    sc.appendData(sibling.data);\n                                    removeNode(sibling);\n                                }\n                            }\n                        } else {\n                            if (so < sc.childNodes.length) {\n                                var startNode = sc.childNodes[so];\n                                if (startNode && isCharacterDataNode(startNode)) {\n                                    mergeBackward(startNode);\n                                }\n                            }\n                        }\n                    } else {\n                        sc = ec;\n                        so = eo;\n                    }\n\n                    boundaryUpdater(this, sc, so, ec, eo);\n                },\n\n                collapseToPoint: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n                    this.setStartAndEnd(node, offset);\n                }\n            });\n\n            copyComparisonConstants(constructor);\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Updates commonAncestorContainer and collapsed after boundary change\n        function updateCollapsedAndCommonAncestor(range) {\n            range.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\n            range.commonAncestorContainer = range.collapsed ?\n                range.startContainer : dom.getCommonAncestor(range.startContainer, range.endContainer);\n        }\n\n        function updateBoundaries(range, startContainer, startOffset, endContainer, endOffset) {\n            range.startContainer = startContainer;\n            range.startOffset = startOffset;\n            range.endContainer = endContainer;\n            range.endOffset = endOffset;\n            range.document = dom.getDocument(startContainer);\n\n            updateCollapsedAndCommonAncestor(range);\n        }\n\n        function Range(doc) {\n            this.startContainer = doc;\n            this.startOffset = 0;\n            this.endContainer = doc;\n            this.endOffset = 0;\n            this.document = doc;\n            updateCollapsedAndCommonAncestor(this);\n        }\n\n        createPrototypeRange(Range, updateBoundaries);\n\n        util.extend(Range, {\n            rangeProperties: rangeProperties,\n            RangeIterator: RangeIterator,\n            copyComparisonConstants: copyComparisonConstants,\n            createPrototypeRange: createPrototypeRange,\n            inspect: inspect,\n            toHtml: rangeToHtml,\n            getRangeDocument: getRangeDocument,\n            rangesEqual: function(r1, r2) {\n                return r1.startContainer === r2.startContainer &&\n                    r1.startOffset === r2.startOffset &&\n                    r1.endContainer === r2.endContainer &&\n                    r1.endOffset === r2.endOffset;\n            }\n        });\n\n        api.DomRange = Range;\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Wrappers for the browser's native DOM Range and/or TextRange implementation\n    api.createCoreModule(\"WrappedRange\", [\"DomRange\"], function(api, module) {\n        var WrappedRange, WrappedTextRange;\n        var dom = api.dom;\n        var util = api.util;\n        var DomPosition = dom.DomPosition;\n        var DomRange = api.DomRange;\n        var getBody = dom.getBody;\n        var getContentDocument = dom.getContentDocument;\n        var isCharacterDataNode = dom.isCharacterDataNode;\n\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        if (api.features.implementsDomRange) {\n            // This is a wrapper around the browser's native DOM Range. It has two aims:\n            // - Provide workarounds for specific browser bugs\n            // - provide convenient extensions, which are inherited from Rangy's DomRange\n\n            (function() {\n                var rangeProto;\n                var rangeProperties = DomRange.rangeProperties;\n\n                function updateRangeProperties(range) {\n                    var i = rangeProperties.length, prop;\n                    while (i--) {\n                        prop = rangeProperties[i];\n                        range[prop] = range.nativeRange[prop];\n                    }\n                    // Fix for broken collapsed property in IE 9.\n                    range.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\n                }\n\n                function updateNativeRange(range, startContainer, startOffset, endContainer, endOffset) {\n                    var startMoved = (range.startContainer !== startContainer || range.startOffset != startOffset);\n                    var endMoved = (range.endContainer !== endContainer || range.endOffset != endOffset);\n                    var nativeRangeDifferent = !range.equals(range.nativeRange);\n\n                    // Always set both boundaries for the benefit of IE9 (see issue 35)\n                    if (startMoved || endMoved || nativeRangeDifferent) {\n                        range.setEnd(endContainer, endOffset);\n                        range.setStart(startContainer, startOffset);\n                    }\n                }\n\n                var createBeforeAfterNodeSetter;\n\n                WrappedRange = function(range) {\n                    if (!range) {\n                        throw module.createError(\"WrappedRange: Range must be specified\");\n                    }\n                    this.nativeRange = range;\n                    updateRangeProperties(this);\n                };\n\n                DomRange.createPrototypeRange(WrappedRange, updateNativeRange);\n\n                rangeProto = WrappedRange.prototype;\n\n                rangeProto.selectNode = function(node) {\n                    this.nativeRange.selectNode(node);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.cloneContents = function() {\n                    return this.nativeRange.cloneContents();\n                };\n\n                // Due to a long-standing Firefox bug that I have not been able to find a reliable way to detect,\n                // insertNode() is never delegated to the native range.\n\n                rangeProto.surroundContents = function(node) {\n                    this.nativeRange.surroundContents(node);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.collapse = function(isStart) {\n                    this.nativeRange.collapse(isStart);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.cloneRange = function() {\n                    return new WrappedRange(this.nativeRange.cloneRange());\n                };\n\n                rangeProto.refresh = function() {\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.toString = function() {\n                    return this.nativeRange.toString();\n                };\n\n                // Create test range and node for feature detection\n\n                var testTextNode = document.createTextNode(\"test\");\n                getBody(document).appendChild(testTextNode);\n                var range = document.createRange();\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for Firefox 2 bug that prevents moving the start of a Range to a point after its current end and\n                // correct for it\n\n                range.setStart(testTextNode, 0);\n                range.setEnd(testTextNode, 0);\n\n                try {\n                    range.setStart(testTextNode, 1);\n\n                    rangeProto.setStart = function(node, offset) {\n                        this.nativeRange.setStart(node, offset);\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.setEnd = function(node, offset) {\n                        this.nativeRange.setEnd(node, offset);\n                        updateRangeProperties(this);\n                    };\n\n                    createBeforeAfterNodeSetter = function(name) {\n                        return function(node) {\n                            this.nativeRange[name](node);\n                            updateRangeProperties(this);\n                        };\n                    };\n\n                } catch(ex) {\n\n                    rangeProto.setStart = function(node, offset) {\n                        try {\n                            this.nativeRange.setStart(node, offset);\n                        } catch (ex) {\n                            this.nativeRange.setEnd(node, offset);\n                            this.nativeRange.setStart(node, offset);\n                        }\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.setEnd = function(node, offset) {\n                        try {\n                            this.nativeRange.setEnd(node, offset);\n                        } catch (ex) {\n                            this.nativeRange.setStart(node, offset);\n                            this.nativeRange.setEnd(node, offset);\n                        }\n                        updateRangeProperties(this);\n                    };\n\n                    createBeforeAfterNodeSetter = function(name, oppositeName) {\n                        return function(node) {\n                            try {\n                                this.nativeRange[name](node);\n                            } catch (ex) {\n                                this.nativeRange[oppositeName](node);\n                                this.nativeRange[name](node);\n                            }\n                            updateRangeProperties(this);\n                        };\n                    };\n                }\n\n                rangeProto.setStartBefore = createBeforeAfterNodeSetter(\"setStartBefore\", \"setEndBefore\");\n                rangeProto.setStartAfter = createBeforeAfterNodeSetter(\"setStartAfter\", \"setEndAfter\");\n                rangeProto.setEndBefore = createBeforeAfterNodeSetter(\"setEndBefore\", \"setStartBefore\");\n                rangeProto.setEndAfter = createBeforeAfterNodeSetter(\"setEndAfter\", \"setStartAfter\");\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Always use DOM4-compliant selectNodeContents implementation: it's simpler and less code than testing\n                // whether the native implementation can be trusted\n                rangeProto.selectNodeContents = function(node) {\n                    this.setStartAndEnd(node, 0, dom.getNodeLength(node));\n                };\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for and correct WebKit bug that has the behaviour of compareBoundaryPoints round the wrong way for\n                // constants START_TO_END and END_TO_START: https://bugs.webkit.org/show_bug.cgi?id=20738\n\n                range.selectNodeContents(testTextNode);\n                range.setEnd(testTextNode, 3);\n\n                var range2 = document.createRange();\n                range2.selectNodeContents(testTextNode);\n                range2.setEnd(testTextNode, 4);\n                range2.setStart(testTextNode, 2);\n\n                if (range.compareBoundaryPoints(range.START_TO_END, range2) == -1 &&\n                        range.compareBoundaryPoints(range.END_TO_START, range2) == 1) {\n                    // This is the wrong way round, so correct for it\n\n                    rangeProto.compareBoundaryPoints = function(type, range) {\n                        range = range.nativeRange || range;\n                        if (type == range.START_TO_END) {\n                            type = range.END_TO_START;\n                        } else if (type == range.END_TO_START) {\n                            type = range.START_TO_END;\n                        }\n                        return this.nativeRange.compareBoundaryPoints(type, range);\n                    };\n                } else {\n                    rangeProto.compareBoundaryPoints = function(type, range) {\n                        return this.nativeRange.compareBoundaryPoints(type, range.nativeRange || range);\n                    };\n                }\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for IE deleteContents() and extractContents() bug and correct it. See issue 107.\n\n                var el = document.createElement(\"div\");\n                el.innerHTML = \"123\";\n                var textNode = el.firstChild;\n                var body = getBody(document);\n                body.appendChild(el);\n\n                range.setStart(textNode, 1);\n                range.setEnd(textNode, 2);\n                range.deleteContents();\n\n                if (textNode.data == \"13\") {\n                    // Behaviour is correct per DOM4 Range so wrap the browser's implementation of deleteContents() and\n                    // extractContents()\n                    rangeProto.deleteContents = function() {\n                        this.nativeRange.deleteContents();\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.extractContents = function() {\n                        var frag = this.nativeRange.extractContents();\n                        updateRangeProperties(this);\n                        return frag;\n                    };\n                } else {\n                }\n\n                body.removeChild(el);\n                body = null;\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for existence of createContextualFragment and delegate to it if it exists\n                if (util.isHostMethod(range, \"createContextualFragment\")) {\n                    rangeProto.createContextualFragment = function(fragmentStr) {\n                        return this.nativeRange.createContextualFragment(fragmentStr);\n                    };\n                }\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Clean up\n                getBody(document).removeChild(testTextNode);\n\n                rangeProto.getName = function() {\n                    return \"WrappedRange\";\n                };\n\n                api.WrappedRange = WrappedRange;\n\n                api.createNativeRange = function(doc) {\n                    doc = getContentDocument(doc, module, \"createNativeRange\");\n                    return doc.createRange();\n                };\n            })();\n        }\n\n        if (api.features.implementsTextRange) {\n            /*\n            This is a workaround for a bug where IE returns the wrong container element from the TextRange's parentElement()\n            method. For example, in the following (where pipes denote the selection boundaries):\n\n            <ul id=\"ul\"><li id=\"a\">| a </li><li id=\"b\"> b |</li></ul>\n\n            var range = document.selection.createRange();\n            alert(range.parentElement().id); // Should alert \"ul\" but alerts \"b\"\n\n            This method returns the common ancestor node of the following:\n            - the parentElement() of the textRange\n            - the parentElement() of the textRange after calling collapse(true)\n            - the parentElement() of the textRange after calling collapse(false)\n            */\n            var getTextRangeContainerElement = function(textRange) {\n                var parentEl = textRange.parentElement();\n                var range = textRange.duplicate();\n                range.collapse(true);\n                var startEl = range.parentElement();\n                range = textRange.duplicate();\n                range.collapse(false);\n                var endEl = range.parentElement();\n                var startEndContainer = (startEl == endEl) ? startEl : dom.getCommonAncestor(startEl, endEl);\n\n                return startEndContainer == parentEl ? startEndContainer : dom.getCommonAncestor(parentEl, startEndContainer);\n            };\n\n            var textRangeIsCollapsed = function(textRange) {\n                return textRange.compareEndPoints(\"StartToEnd\", textRange) == 0;\n            };\n\n            // Gets the boundary of a TextRange expressed as a node and an offset within that node. This function started\n            // out as an improved version of code found in Tim Cameron Ryan's IERange (http://code.google.com/p/ierange/)\n            // but has grown, fixing problems with line breaks in preformatted text, adding workaround for IE TextRange\n            // bugs, handling for inputs and images, plus optimizations.\n            var getTextRangeBoundaryPosition = function(textRange, wholeRangeContainerElement, isStart, isCollapsed, startInfo) {\n                var workingRange = textRange.duplicate();\n                workingRange.collapse(isStart);\n                var containerElement = workingRange.parentElement();\n\n                // Sometimes collapsing a TextRange that's at the start of a text node can move it into the previous node, so\n                // check for that\n                if (!dom.isOrIsAncestorOf(wholeRangeContainerElement, containerElement)) {\n                    containerElement = wholeRangeContainerElement;\n                }\n\n\n                // Deal with nodes that cannot \"contain rich HTML markup\". In practice, this means form inputs, images and\n                // similar. See http://msdn.microsoft.com/en-us/library/aa703950%28VS.85%29.aspx\n                if (!containerElement.canHaveHTML) {\n                    var pos = new DomPosition(containerElement.parentNode, dom.getNodeIndex(containerElement));\n                    return {\n                        boundaryPosition: pos,\n                        nodeInfo: {\n                            nodeIndex: pos.offset,\n                            containerElement: pos.node\n                        }\n                    };\n                }\n\n                var workingNode = dom.getDocument(containerElement).createElement(\"span\");\n\n                // Workaround for HTML5 Shiv's insane violation of document.createElement(). See Rangy issue 104 and HTML5\n                // Shiv issue 64: https://github.com/aFarkas/html5shiv/issues/64\n                if (workingNode.parentNode) {\n                    dom.removeNode(workingNode);\n                }\n\n                var comparison, workingComparisonType = isStart ? \"StartToStart\" : \"StartToEnd\";\n                var previousNode, nextNode, boundaryPosition, boundaryNode;\n                var start = (startInfo && startInfo.containerElement == containerElement) ? startInfo.nodeIndex : 0;\n                var childNodeCount = containerElement.childNodes.length;\n                var end = childNodeCount;\n\n                // Check end first. Code within the loop assumes that the endth child node of the container is definitely\n                // after the range boundary.\n                var nodeIndex = end;\n\n                while (true) {\n                    if (nodeIndex == childNodeCount) {\n                        containerElement.appendChild(workingNode);\n                    } else {\n                        containerElement.insertBefore(workingNode, containerElement.childNodes[nodeIndex]);\n                    }\n                    workingRange.moveToElementText(workingNode);\n                    comparison = workingRange.compareEndPoints(workingComparisonType, textRange);\n                    if (comparison == 0 || start == end) {\n                        break;\n                    } else if (comparison == -1) {\n                        if (end == start + 1) {\n                            // We know the endth child node is after the range boundary, so we must be done.\n                            break;\n                        } else {\n                            start = nodeIndex;\n                        }\n                    } else {\n                        end = (end == start + 1) ? start : nodeIndex;\n                    }\n                    nodeIndex = Math.floor((start + end) / 2);\n                    containerElement.removeChild(workingNode);\n                }\n\n\n                // We've now reached or gone past the boundary of the text range we're interested in\n                // so have identified the node we want\n                boundaryNode = workingNode.nextSibling;\n\n                if (comparison == -1 && boundaryNode && isCharacterDataNode(boundaryNode)) {\n                    // This is a character data node (text, comment, cdata). The working range is collapsed at the start of\n                    // the node containing the text range's boundary, so we move the end of the working range to the\n                    // boundary point and measure the length of its text to get the boundary's offset within the node.\n                    workingRange.setEndPoint(isStart ? \"EndToStart\" : \"EndToEnd\", textRange);\n\n                    var offset;\n\n                    if (/[\\r\\n]/.test(boundaryNode.data)) {\n                        /*\n                        For the particular case of a boundary within a text node containing rendered line breaks (within a\n                        <pre> element, for example), we need a slightly complicated approach to get the boundary's offset in\n                        IE. The facts:\n\n                        - Each line break is represented as \\r in the text node's data/nodeValue properties\n                        - Each line break is represented as \\r\\n in the TextRange's 'text' property\n                        - The 'text' property of the TextRange does not contain trailing line breaks\n\n                        To get round the problem presented by the final fact above, we can use the fact that TextRange's\n                        moveStart() and moveEnd() methods return the actual number of characters moved, which is not\n                        necessarily the same as the number of characters it was instructed to move. The simplest approach is\n                        to use this to store the characters moved when moving both the start and end of the range to the\n                        start of the document body and subtracting the start offset from the end offset (the\n                        \"move-negative-gazillion\" method). However, this is extremely slow when the document is large and\n                        the range is near the end of it. Clearly doing the mirror image (i.e. moving the range boundaries to\n                        the end of the document) has the same problem.\n\n                        Another approach that works is to use moveStart() to move the start boundary of the range up to the\n                        end boundary one character at a time and incrementing a counter with the value returned by the\n                        moveStart() call. However, the check for whether the start boundary has reached the end boundary is\n                        expensive, so this method is slow (although unlike \"move-negative-gazillion\" is largely unaffected\n                        by the location of the range within the document).\n\n                        The approach used below is a hybrid of the two methods above. It uses the fact that a string\n                        containing the TextRange's 'text' property with each \\r\\n converted to a single \\r character cannot\n                        be longer than the text of the TextRange, so the start of the range is moved that length initially\n                        and then a character at a time to make up for any trailing line breaks not contained in the 'text'\n                        property. This has good performance in most situations compared to the previous two methods.\n                        */\n                        var tempRange = workingRange.duplicate();\n                        var rangeLength = tempRange.text.replace(/\\r\\n/g, \"\\r\").length;\n\n                        offset = tempRange.moveStart(\"character\", rangeLength);\n                        while ( (comparison = tempRange.compareEndPoints(\"StartToEnd\", tempRange)) == -1) {\n                            offset++;\n                            tempRange.moveStart(\"character\", 1);\n                        }\n                    } else {\n                        offset = workingRange.text.length;\n                    }\n                    boundaryPosition = new DomPosition(boundaryNode, offset);\n                } else {\n\n                    // If the boundary immediately follows a character data node and this is the end boundary, we should favour\n                    // a position within that, and likewise for a start boundary preceding a character data node\n                    previousNode = (isCollapsed || !isStart) && workingNode.previousSibling;\n                    nextNode = (isCollapsed || isStart) && workingNode.nextSibling;\n                    if (nextNode && isCharacterDataNode(nextNode)) {\n                        boundaryPosition = new DomPosition(nextNode, 0);\n                    } else if (previousNode && isCharacterDataNode(previousNode)) {\n                        boundaryPosition = new DomPosition(previousNode, previousNode.data.length);\n                    } else {\n                        boundaryPosition = new DomPosition(containerElement, dom.getNodeIndex(workingNode));\n                    }\n                }\n\n                // Clean up\n                dom.removeNode(workingNode);\n\n                return {\n                    boundaryPosition: boundaryPosition,\n                    nodeInfo: {\n                        nodeIndex: nodeIndex,\n                        containerElement: containerElement\n                    }\n                };\n            };\n\n            // Returns a TextRange representing the boundary of a TextRange expressed as a node and an offset within that\n            // node. This function started out as an optimized version of code found in Tim Cameron Ryan's IERange\n            // (http://code.google.com/p/ierange/)\n            var createBoundaryTextRange = function(boundaryPosition, isStart) {\n                var boundaryNode, boundaryParent, boundaryOffset = boundaryPosition.offset;\n                var doc = dom.getDocument(boundaryPosition.node);\n                var workingNode, childNodes, workingRange = getBody(doc).createTextRange();\n                var nodeIsDataNode = isCharacterDataNode(boundaryPosition.node);\n\n                if (nodeIsDataNode) {\n                    boundaryNode = boundaryPosition.node;\n                    boundaryParent = boundaryNode.parentNode;\n                } else {\n                    childNodes = boundaryPosition.node.childNodes;\n                    boundaryNode = (boundaryOffset < childNodes.length) ? childNodes[boundaryOffset] : null;\n                    boundaryParent = boundaryPosition.node;\n                }\n\n                // Position the range immediately before the node containing the boundary\n                workingNode = doc.createElement(\"span\");\n\n                // Making the working element non-empty element persuades IE to consider the TextRange boundary to be within\n                // the element rather than immediately before or after it\n                workingNode.innerHTML = \"&#feff;\";\n\n                // insertBefore is supposed to work like appendChild if the second parameter is null. However, a bug report\n                // for IERange suggests that it can crash the browser: http://code.google.com/p/ierange/issues/detail?id=12\n                if (boundaryNode) {\n                    boundaryParent.insertBefore(workingNode, boundaryNode);\n                } else {\n                    boundaryParent.appendChild(workingNode);\n                }\n\n                workingRange.moveToElementText(workingNode);\n                workingRange.collapse(!isStart);\n\n                // Clean up\n                boundaryParent.removeChild(workingNode);\n\n                // Move the working range to the text offset, if required\n                if (nodeIsDataNode) {\n                    workingRange[isStart ? \"moveStart\" : \"moveEnd\"](\"character\", boundaryOffset);\n                }\n\n                return workingRange;\n            };\n\n            /*------------------------------------------------------------------------------------------------------------*/\n\n            // This is a wrapper around a TextRange, providing full DOM Range functionality using rangy's DomRange as a\n            // prototype\n\n            WrappedTextRange = function(textRange) {\n                this.textRange = textRange;\n                this.refresh();\n            };\n\n            WrappedTextRange.prototype = new DomRange(document);\n\n            WrappedTextRange.prototype.refresh = function() {\n                var start, end, startBoundary;\n\n                // TextRange's parentElement() method cannot be trusted. getTextRangeContainerElement() works around that.\n                var rangeContainerElement = getTextRangeContainerElement(this.textRange);\n\n                if (textRangeIsCollapsed(this.textRange)) {\n                    end = start = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, true,\n                        true).boundaryPosition;\n                } else {\n                    startBoundary = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, true, false);\n                    start = startBoundary.boundaryPosition;\n\n                    // An optimization used here is that if the start and end boundaries have the same parent element, the\n                    // search scope for the end boundary can be limited to exclude the portion of the element that precedes\n                    // the start boundary\n                    end = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, false, false,\n                        startBoundary.nodeInfo).boundaryPosition;\n                }\n\n                this.setStart(start.node, start.offset);\n                this.setEnd(end.node, end.offset);\n            };\n\n            WrappedTextRange.prototype.getName = function() {\n                return \"WrappedTextRange\";\n            };\n\n            DomRange.copyComparisonConstants(WrappedTextRange);\n\n            var rangeToTextRange = function(range) {\n                if (range.collapsed) {\n                    return createBoundaryTextRange(new DomPosition(range.startContainer, range.startOffset), true);\n                } else {\n                    var startRange = createBoundaryTextRange(new DomPosition(range.startContainer, range.startOffset), true);\n                    var endRange = createBoundaryTextRange(new DomPosition(range.endContainer, range.endOffset), false);\n                    var textRange = getBody( DomRange.getRangeDocument(range) ).createTextRange();\n                    textRange.setEndPoint(\"StartToStart\", startRange);\n                    textRange.setEndPoint(\"EndToEnd\", endRange);\n                    return textRange;\n                }\n            };\n\n            WrappedTextRange.rangeToTextRange = rangeToTextRange;\n\n            WrappedTextRange.prototype.toTextRange = function() {\n                return rangeToTextRange(this);\n            };\n\n            api.WrappedTextRange = WrappedTextRange;\n\n            // IE 9 and above have both implementations and Rangy makes both available. The next few lines sets which\n            // implementation to use by default.\n            if (!api.features.implementsDomRange || api.config.preferTextRange) {\n                // Add WrappedTextRange as the Range property of the global object to allow expression like Range.END_TO_END to work\n                var globalObj = (function(f) { return f(\"return this;\")(); })(Function);\n                if (typeof globalObj.Range == \"undefined\") {\n                    globalObj.Range = WrappedTextRange;\n                }\n\n                api.createNativeRange = function(doc) {\n                    doc = getContentDocument(doc, module, \"createNativeRange\");\n                    return getBody(doc).createTextRange();\n                };\n\n                api.WrappedRange = WrappedTextRange;\n            }\n        }\n\n        api.createRange = function(doc) {\n            doc = getContentDocument(doc, module, \"createRange\");\n            return new api.WrappedRange(api.createNativeRange(doc));\n        };\n\n        api.createRangyRange = function(doc) {\n            doc = getContentDocument(doc, module, \"createRangyRange\");\n            return new DomRange(doc);\n        };\n\n        util.createAliasForDeprecatedMethod(api, \"createIframeRange\", \"createRange\");\n        util.createAliasForDeprecatedMethod(api, \"createIframeRangyRange\", \"createRangyRange\");\n\n        api.addShimListener(function(win) {\n            var doc = win.document;\n            if (typeof doc.createRange == \"undefined\") {\n                doc.createRange = function() {\n                    return api.createRange(doc);\n                };\n            }\n            doc = win = null;\n        });\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // This module creates a selection object wrapper that conforms as closely as possible to the Selection specification\n    // in the HTML Editing spec (http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#selections)\n    api.createCoreModule(\"WrappedSelection\", [\"DomRange\", \"WrappedRange\"], function(api, module) {\n        api.config.checkSelectionRanges = true;\n\n        var BOOLEAN = \"boolean\";\n        var NUMBER = \"number\";\n        var dom = api.dom;\n        var util = api.util;\n        var isHostMethod = util.isHostMethod;\n        var DomRange = api.DomRange;\n        var WrappedRange = api.WrappedRange;\n        var DOMException = api.DOMException;\n        var DomPosition = dom.DomPosition;\n        var getNativeSelection;\n        var selectionIsCollapsed;\n        var features = api.features;\n        var CONTROL = \"Control\";\n        var getDocument = dom.getDocument;\n        var getBody = dom.getBody;\n        var rangesEqual = DomRange.rangesEqual;\n\n\n        // Utility function to support direction parameters in the API that may be a string (\"backward\", \"backwards\",\n        // \"forward\" or \"forwards\") or a Boolean (true for backwards).\n        function isDirectionBackward(dir) {\n            return (typeof dir == \"string\") ? /^backward(s)?$/i.test(dir) : !!dir;\n        }\n\n        function getWindow(win, methodName) {\n            if (!win) {\n                return window;\n            } else if (dom.isWindow(win)) {\n                return win;\n            } else if (win instanceof WrappedSelection) {\n                return win.win;\n            } else {\n                var doc = dom.getContentDocument(win, module, methodName);\n                return dom.getWindow(doc);\n            }\n        }\n\n        function getWinSelection(winParam) {\n            return getWindow(winParam, \"getWinSelection\").getSelection();\n        }\n\n        function getDocSelection(winParam) {\n            return getWindow(winParam, \"getDocSelection\").document.selection;\n        }\n\n        function winSelectionIsBackward(sel) {\n            var backward = false;\n            if (sel.anchorNode) {\n                backward = (dom.comparePoints(sel.anchorNode, sel.anchorOffset, sel.focusNode, sel.focusOffset) == 1);\n            }\n            return backward;\n        }\n\n        // Test for the Range/TextRange and Selection features required\n        // Test for ability to retrieve selection\n        var implementsWinGetSelection = isHostMethod(window, \"getSelection\"),\n            implementsDocSelection = util.isHostObject(document, \"selection\");\n\n        features.implementsWinGetSelection = implementsWinGetSelection;\n        features.implementsDocSelection = implementsDocSelection;\n\n        var useDocumentSelection = implementsDocSelection && (!implementsWinGetSelection || api.config.preferTextRange);\n\n        if (useDocumentSelection) {\n            getNativeSelection = getDocSelection;\n            api.isSelectionValid = function(winParam) {\n                var doc = getWindow(winParam, \"isSelectionValid\").document, nativeSel = doc.selection;\n\n                // Check whether the selection TextRange is actually contained within the correct document\n                return (nativeSel.type != \"None\" || getDocument(nativeSel.createRange().parentElement()) == doc);\n            };\n        } else if (implementsWinGetSelection) {\n            getNativeSelection = getWinSelection;\n            api.isSelectionValid = function() {\n                return true;\n            };\n        } else {\n            module.fail(\"Neither document.selection or window.getSelection() detected.\");\n            return false;\n        }\n\n        api.getNativeSelection = getNativeSelection;\n\n        var testSelection = getNativeSelection();\n\n        // In Firefox, the selection is null in an iframe with display: none. See issue #138.\n        if (!testSelection) {\n            module.fail(\"Native selection was null (possibly issue 138?)\");\n            return false;\n        }\n\n        var testRange = api.createNativeRange(document);\n        var body = getBody(document);\n\n        // Obtaining a range from a selection\n        var selectionHasAnchorAndFocus = util.areHostProperties(testSelection,\n            [\"anchorNode\", \"focusNode\", \"anchorOffset\", \"focusOffset\"]);\n\n        features.selectionHasAnchorAndFocus = selectionHasAnchorAndFocus;\n\n        // Test for existence of native selection extend() method\n        var selectionHasExtend = isHostMethod(testSelection, \"extend\");\n        features.selectionHasExtend = selectionHasExtend;\n\n        // Test if rangeCount exists\n        var selectionHasRangeCount = (typeof testSelection.rangeCount == NUMBER);\n        features.selectionHasRangeCount = selectionHasRangeCount;\n\n        var selectionSupportsMultipleRanges = false;\n        var collapsedNonEditableSelectionsSupported = true;\n\n        var addRangeBackwardToNative = selectionHasExtend ?\n            function(nativeSelection, range) {\n                var doc = DomRange.getRangeDocument(range);\n                var endRange = api.createRange(doc);\n                endRange.collapseToPoint(range.endContainer, range.endOffset);\n                nativeSelection.addRange(getNativeRange(endRange));\n                nativeSelection.extend(range.startContainer, range.startOffset);\n            } : null;\n\n        if (util.areHostMethods(testSelection, [\"addRange\", \"getRangeAt\", \"removeAllRanges\"]) &&\n                typeof testSelection.rangeCount == NUMBER && features.implementsDomRange) {\n\n            (function() {\n                // Previously an iframe was used but this caused problems in some circumstances in IE, so tests are\n                // performed on the current document's selection. See issue 109.\n\n                // Note also that if a selection previously existed, it is wiped and later restored by these tests. This\n                // will result in the selection direction begin reversed if the original selection was backwards and the\n                // browser does not support setting backwards selections (Internet Explorer, I'm looking at you).\n                var sel = window.getSelection();\n                if (sel) {\n                    // Store the current selection\n                    var originalSelectionRangeCount = sel.rangeCount;\n                    var selectionHasMultipleRanges = (originalSelectionRangeCount > 1);\n                    var originalSelectionRanges = [];\n                    var originalSelectionBackward = winSelectionIsBackward(sel);\n                    for (var i = 0; i < originalSelectionRangeCount; ++i) {\n                        originalSelectionRanges[i] = sel.getRangeAt(i);\n                    }\n\n                    // Create some test elements\n                    var testEl = dom.createTestElement(document, \"\", false);\n                    var textNode = testEl.appendChild( document.createTextNode(\"\\u00a0\\u00a0\\u00a0\") );\n\n                    // Test whether the native selection will allow a collapsed selection within a non-editable element\n                    var r1 = document.createRange();\n\n                    r1.setStart(textNode, 1);\n                    r1.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(r1);\n                    collapsedNonEditableSelectionsSupported = (sel.rangeCount == 1);\n                    sel.removeAllRanges();\n\n                    // Test whether the native selection is capable of supporting multiple ranges.\n                    if (!selectionHasMultipleRanges) {\n                        // Doing the original feature test here in Chrome 36 (and presumably later versions) prints a\n                        // console error of \"Discontiguous selection is not supported.\" that cannot be suppressed. There's\n                        // nothing we can do about this while retaining the feature test so we have to resort to a browser\n                        // sniff. I'm not happy about it. See\n                        // https://code.google.com/p/chromium/issues/detail?id=399791\n                        var chromeMatch = window.navigator.appVersion.match(/Chrome\\/(.*?) /);\n                        if (chromeMatch && parseInt(chromeMatch[1]) >= 36) {\n                            selectionSupportsMultipleRanges = false;\n                        } else {\n                            var r2 = r1.cloneRange();\n                            r1.setStart(textNode, 0);\n                            r2.setEnd(textNode, 3);\n                            r2.setStart(textNode, 2);\n                            sel.addRange(r1);\n                            sel.addRange(r2);\n                            selectionSupportsMultipleRanges = (sel.rangeCount == 2);\n                        }\n                    }\n\n                    // Clean up\n                    dom.removeNode(testEl);\n                    sel.removeAllRanges();\n\n                    for (i = 0; i < originalSelectionRangeCount; ++i) {\n                        if (i == 0 && originalSelectionBackward) {\n                            if (addRangeBackwardToNative) {\n                                addRangeBackwardToNative(sel, originalSelectionRanges[i]);\n                            } else {\n                                api.warn(\"Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend\");\n                                sel.addRange(originalSelectionRanges[i]);\n                            }\n                        } else {\n                            sel.addRange(originalSelectionRanges[i]);\n                        }\n                    }\n                }\n            })();\n        }\n\n        features.selectionSupportsMultipleRanges = selectionSupportsMultipleRanges;\n        features.collapsedNonEditableSelectionsSupported = collapsedNonEditableSelectionsSupported;\n\n        // ControlRanges\n        var implementsControlRange = false, testControlRange;\n\n        if (body && isHostMethod(body, \"createControlRange\")) {\n            testControlRange = body.createControlRange();\n            if (util.areHostProperties(testControlRange, [\"item\", \"add\"])) {\n                implementsControlRange = true;\n            }\n        }\n        features.implementsControlRange = implementsControlRange;\n\n        // Selection collapsedness\n        if (selectionHasAnchorAndFocus) {\n            selectionIsCollapsed = function(sel) {\n                return sel.anchorNode === sel.focusNode && sel.anchorOffset === sel.focusOffset;\n            };\n        } else {\n            selectionIsCollapsed = function(sel) {\n                return sel.rangeCount ? sel.getRangeAt(sel.rangeCount - 1).collapsed : false;\n            };\n        }\n\n        function updateAnchorAndFocusFromRange(sel, range, backward) {\n            var anchorPrefix = backward ? \"end\" : \"start\", focusPrefix = backward ? \"start\" : \"end\";\n            sel.anchorNode = range[anchorPrefix + \"Container\"];\n            sel.anchorOffset = range[anchorPrefix + \"Offset\"];\n            sel.focusNode = range[focusPrefix + \"Container\"];\n            sel.focusOffset = range[focusPrefix + \"Offset\"];\n        }\n\n        function updateAnchorAndFocusFromNativeSelection(sel) {\n            var nativeSel = sel.nativeSelection;\n            sel.anchorNode = nativeSel.anchorNode;\n            sel.anchorOffset = nativeSel.anchorOffset;\n            sel.focusNode = nativeSel.focusNode;\n            sel.focusOffset = nativeSel.focusOffset;\n        }\n\n        function updateEmptySelection(sel) {\n            sel.anchorNode = sel.focusNode = null;\n            sel.anchorOffset = sel.focusOffset = 0;\n            sel.rangeCount = 0;\n            sel.isCollapsed = true;\n            sel._ranges.length = 0;\n        }\n\n        function getNativeRange(range) {\n            var nativeRange;\n            if (range instanceof DomRange) {\n                nativeRange = api.createNativeRange(range.getDocument());\n                nativeRange.setEnd(range.endContainer, range.endOffset);\n                nativeRange.setStart(range.startContainer, range.startOffset);\n            } else if (range instanceof WrappedRange) {\n                nativeRange = range.nativeRange;\n            } else if (features.implementsDomRange && (range instanceof dom.getWindow(range.startContainer).Range)) {\n                nativeRange = range;\n            }\n            return nativeRange;\n        }\n\n        function rangeContainsSingleElement(rangeNodes) {\n            if (!rangeNodes.length || rangeNodes[0].nodeType != 1) {\n                return false;\n            }\n            for (var i = 1, len = rangeNodes.length; i < len; ++i) {\n                if (!dom.isAncestorOf(rangeNodes[0], rangeNodes[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        function getSingleElementFromRange(range) {\n            var nodes = range.getNodes();\n            if (!rangeContainsSingleElement(nodes)) {\n                throw module.createError(\"getSingleElementFromRange: range \" + range.inspect() + \" did not consist of a single element\");\n            }\n            return nodes[0];\n        }\n\n        // Simple, quick test which only needs to distinguish between a TextRange and a ControlRange\n        function isTextRange(range) {\n            return !!range && typeof range.text != \"undefined\";\n        }\n\n        function updateFromTextRange(sel, range) {\n            // Create a Range from the selected TextRange\n            var wrappedRange = new WrappedRange(range);\n            sel._ranges = [wrappedRange];\n\n            updateAnchorAndFocusFromRange(sel, wrappedRange, false);\n            sel.rangeCount = 1;\n            sel.isCollapsed = wrappedRange.collapsed;\n        }\n\n        function updateControlSelection(sel) {\n            // Update the wrapped selection based on what's now in the native selection\n            sel._ranges.length = 0;\n            if (sel.docSelection.type == \"None\") {\n                updateEmptySelection(sel);\n            } else {\n                var controlRange = sel.docSelection.createRange();\n                if (isTextRange(controlRange)) {\n                    // This case (where the selection type is \"Control\" and calling createRange() on the selection returns\n                    // a TextRange) can happen in IE 9. It happens, for example, when all elements in the selected\n                    // ControlRange have been removed from the ControlRange and removed from the document.\n                    updateFromTextRange(sel, controlRange);\n                } else {\n                    sel.rangeCount = controlRange.length;\n                    var range, doc = getDocument(controlRange.item(0));\n                    for (var i = 0; i < sel.rangeCount; ++i) {\n                        range = api.createRange(doc);\n                        range.selectNode(controlRange.item(i));\n                        sel._ranges.push(range);\n                    }\n                    sel.isCollapsed = sel.rangeCount == 1 && sel._ranges[0].collapsed;\n                    updateAnchorAndFocusFromRange(sel, sel._ranges[sel.rangeCount - 1], false);\n                }\n            }\n        }\n\n        function addRangeToControlSelection(sel, range) {\n            var controlRange = sel.docSelection.createRange();\n            var rangeElement = getSingleElementFromRange(range);\n\n            // Create a new ControlRange containing all the elements in the selected ControlRange plus the element\n            // contained by the supplied range\n            var doc = getDocument(controlRange.item(0));\n            var newControlRange = getBody(doc).createControlRange();\n            for (var i = 0, len = controlRange.length; i < len; ++i) {\n                newControlRange.add(controlRange.item(i));\n            }\n            try {\n                newControlRange.add(rangeElement);\n            } catch (ex) {\n                throw module.createError(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\");\n            }\n            newControlRange.select();\n\n            // Update the wrapped selection based on what's now in the native selection\n            updateControlSelection(sel);\n        }\n\n        var getSelectionRangeAt;\n\n        if (isHostMethod(testSelection, \"getRangeAt\")) {\n            // try/catch is present because getRangeAt() must have thrown an error in some browser and some situation.\n            // Unfortunately, I didn't write a comment about the specifics and am now scared to take it out. Let that be a\n            // lesson to us all, especially me.\n            getSelectionRangeAt = function(sel, index) {\n                try {\n                    return sel.getRangeAt(index);\n                } catch (ex) {\n                    return null;\n                }\n            };\n        } else if (selectionHasAnchorAndFocus) {\n            getSelectionRangeAt = function(sel) {\n                var doc = getDocument(sel.anchorNode);\n                var range = api.createRange(doc);\n                range.setStartAndEnd(sel.anchorNode, sel.anchorOffset, sel.focusNode, sel.focusOffset);\n\n                // Handle the case when the selection was selected backwards (from the end to the start in the\n                // document)\n                if (range.collapsed !== this.isCollapsed) {\n                    range.setStartAndEnd(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset);\n                }\n\n                return range;\n            };\n        }\n\n        function WrappedSelection(selection, docSelection, win) {\n            this.nativeSelection = selection;\n            this.docSelection = docSelection;\n            this._ranges = [];\n            this.win = win;\n            this.refresh();\n        }\n\n        WrappedSelection.prototype = api.selectionPrototype;\n\n        function deleteProperties(sel) {\n            sel.win = sel.anchorNode = sel.focusNode = sel._ranges = null;\n            sel.rangeCount = sel.anchorOffset = sel.focusOffset = 0;\n            sel.detached = true;\n        }\n\n        var cachedRangySelections = [];\n\n        function actOnCachedSelection(win, action) {\n            var i = cachedRangySelections.length, cached, sel;\n            while (i--) {\n                cached = cachedRangySelections[i];\n                sel = cached.selection;\n                if (action == \"deleteAll\") {\n                    deleteProperties(sel);\n                } else if (cached.win == win) {\n                    if (action == \"delete\") {\n                        cachedRangySelections.splice(i, 1);\n                        return true;\n                    } else {\n                        return sel;\n                    }\n                }\n            }\n            if (action == \"deleteAll\") {\n                cachedRangySelections.length = 0;\n            }\n            return null;\n        }\n\n        var getSelection = function(win) {\n            // Check if the parameter is a Rangy Selection object\n            if (win && win instanceof WrappedSelection) {\n                win.refresh();\n                return win;\n            }\n\n            win = getWindow(win, \"getNativeSelection\");\n\n            var sel = actOnCachedSelection(win);\n            var nativeSel = getNativeSelection(win), docSel = implementsDocSelection ? getDocSelection(win) : null;\n            if (sel) {\n                sel.nativeSelection = nativeSel;\n                sel.docSelection = docSel;\n                sel.refresh();\n            } else {\n                sel = new WrappedSelection(nativeSel, docSel, win);\n                cachedRangySelections.push( { win: win, selection: sel } );\n            }\n            return sel;\n        };\n\n        api.getSelection = getSelection;\n\n        util.createAliasForDeprecatedMethod(api, \"getIframeSelection\", \"getSelection\");\n\n        var selProto = WrappedSelection.prototype;\n\n        function createControlSelection(sel, ranges) {\n            // Ensure that the selection becomes of type \"Control\"\n            var doc = getDocument(ranges[0].startContainer);\n            var controlRange = getBody(doc).createControlRange();\n            for (var i = 0, el, len = ranges.length; i < len; ++i) {\n                el = getSingleElementFromRange(ranges[i]);\n                try {\n                    controlRange.add(el);\n                } catch (ex) {\n                    throw module.createError(\"setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)\");\n                }\n            }\n            controlRange.select();\n\n            // Update the wrapped selection based on what's now in the native selection\n            updateControlSelection(sel);\n        }\n\n        // Selecting a range\n        if (!useDocumentSelection && selectionHasAnchorAndFocus && util.areHostMethods(testSelection, [\"removeAllRanges\", \"addRange\"])) {\n            selProto.removeAllRanges = function() {\n                this.nativeSelection.removeAllRanges();\n                updateEmptySelection(this);\n            };\n\n            var addRangeBackward = function(sel, range) {\n                addRangeBackwardToNative(sel.nativeSelection, range);\n                sel.refresh();\n            };\n\n            if (selectionHasRangeCount) {\n                selProto.addRange = function(range, direction) {\n                    if (implementsControlRange && implementsDocSelection && this.docSelection.type == CONTROL) {\n                        addRangeToControlSelection(this, range);\n                    } else {\n                        if (isDirectionBackward(direction) && selectionHasExtend) {\n                            addRangeBackward(this, range);\n                        } else {\n                            var previousRangeCount;\n                            if (selectionSupportsMultipleRanges) {\n                                previousRangeCount = this.rangeCount;\n                            } else {\n                                this.removeAllRanges();\n                                previousRangeCount = 0;\n                            }\n                            // Clone the native range so that changing the selected range does not affect the selection.\n                            // This is contrary to the spec but is the only way to achieve consistency between browsers. See\n                            // issue 80.\n                            var clonedNativeRange = getNativeRange(range).cloneRange();\n                            try {\n                                this.nativeSelection.addRange(clonedNativeRange);\n                            } catch (ex) {\n                            }\n\n                            // Check whether adding the range was successful\n                            this.rangeCount = this.nativeSelection.rangeCount;\n\n                            if (this.rangeCount == previousRangeCount + 1) {\n                                // The range was added successfully\n\n                                // Check whether the range that we added to the selection is reflected in the last range extracted from\n                                // the selection\n                                if (api.config.checkSelectionRanges) {\n                                    var nativeRange = getSelectionRangeAt(this.nativeSelection, this.rangeCount - 1);\n                                    if (nativeRange && !rangesEqual(nativeRange, range)) {\n                                        // Happens in WebKit with, for example, a selection placed at the start of a text node\n                                        range = new WrappedRange(nativeRange);\n                                    }\n                                }\n                                this._ranges[this.rangeCount - 1] = range;\n                                updateAnchorAndFocusFromRange(this, range, selectionIsBackward(this.nativeSelection));\n                                this.isCollapsed = selectionIsCollapsed(this);\n                            } else {\n                                // The range was not added successfully. The simplest thing is to refresh\n                                this.refresh();\n                            }\n                        }\n                    }\n                };\n            } else {\n                selProto.addRange = function(range, direction) {\n                    if (isDirectionBackward(direction) && selectionHasExtend) {\n                        addRangeBackward(this, range);\n                    } else {\n                        this.nativeSelection.addRange(getNativeRange(range));\n                        this.refresh();\n                    }\n                };\n            }\n\n            selProto.setRanges = function(ranges) {\n                if (implementsControlRange && implementsDocSelection && ranges.length > 1) {\n                    createControlSelection(this, ranges);\n                } else {\n                    this.removeAllRanges();\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        this.addRange(ranges[i]);\n                    }\n                }\n            };\n        } else if (isHostMethod(testSelection, \"empty\") && isHostMethod(testRange, \"select\") &&\n                   implementsControlRange && useDocumentSelection) {\n\n            selProto.removeAllRanges = function() {\n                // Added try/catch as fix for issue #21\n                try {\n                    this.docSelection.empty();\n\n                    // Check for empty() not working (issue #24)\n                    if (this.docSelection.type != \"None\") {\n                        // Work around failure to empty a control selection by instead selecting a TextRange and then\n                        // calling empty()\n                        var doc;\n                        if (this.anchorNode) {\n                            doc = getDocument(this.anchorNode);\n                        } else if (this.docSelection.type == CONTROL) {\n                            var controlRange = this.docSelection.createRange();\n                            if (controlRange.length) {\n                                doc = getDocument( controlRange.item(0) );\n                            }\n                        }\n                        if (doc) {\n                            var textRange = getBody(doc).createTextRange();\n                            textRange.select();\n                            this.docSelection.empty();\n                        }\n                    }\n                } catch(ex) {}\n                updateEmptySelection(this);\n            };\n\n            selProto.addRange = function(range) {\n                if (this.docSelection.type == CONTROL) {\n                    addRangeToControlSelection(this, range);\n                } else {\n                    api.WrappedTextRange.rangeToTextRange(range).select();\n                    this._ranges[0] = range;\n                    this.rangeCount = 1;\n                    this.isCollapsed = this._ranges[0].collapsed;\n                    updateAnchorAndFocusFromRange(this, range, false);\n                }\n            };\n\n            selProto.setRanges = function(ranges) {\n                this.removeAllRanges();\n                var rangeCount = ranges.length;\n                if (rangeCount > 1) {\n                    createControlSelection(this, ranges);\n                } else if (rangeCount) {\n                    this.addRange(ranges[0]);\n                }\n            };\n        } else {\n            module.fail(\"No means of selecting a Range or TextRange was found\");\n            return false;\n        }\n\n        selProto.getRangeAt = function(index) {\n            if (index < 0 || index >= this.rangeCount) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            } else {\n                // Clone the range to preserve selection-range independence. See issue 80.\n                return this._ranges[index].cloneRange();\n            }\n        };\n\n        var refreshSelection;\n\n        if (useDocumentSelection) {\n            refreshSelection = function(sel) {\n                var range;\n                if (api.isSelectionValid(sel.win)) {\n                    range = sel.docSelection.createRange();\n                } else {\n                    range = getBody(sel.win.document).createTextRange();\n                    range.collapse(true);\n                }\n\n                if (sel.docSelection.type == CONTROL) {\n                    updateControlSelection(sel);\n                } else if (isTextRange(range)) {\n                    updateFromTextRange(sel, range);\n                } else {\n                    updateEmptySelection(sel);\n                }\n            };\n        } else if (isHostMethod(testSelection, \"getRangeAt\") && typeof testSelection.rangeCount == NUMBER) {\n            refreshSelection = function(sel) {\n                if (implementsControlRange && implementsDocSelection && sel.docSelection.type == CONTROL) {\n                    updateControlSelection(sel);\n                } else {\n                    sel._ranges.length = sel.rangeCount = sel.nativeSelection.rangeCount;\n                    if (sel.rangeCount) {\n                        for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                            sel._ranges[i] = new api.WrappedRange(sel.nativeSelection.getRangeAt(i));\n                        }\n                        updateAnchorAndFocusFromRange(sel, sel._ranges[sel.rangeCount - 1], selectionIsBackward(sel.nativeSelection));\n                        sel.isCollapsed = selectionIsCollapsed(sel);\n                    } else {\n                        updateEmptySelection(sel);\n                    }\n                }\n            };\n        } else if (selectionHasAnchorAndFocus && typeof testSelection.isCollapsed == BOOLEAN && typeof testRange.collapsed == BOOLEAN && features.implementsDomRange) {\n            refreshSelection = function(sel) {\n                var range, nativeSel = sel.nativeSelection;\n                if (nativeSel.anchorNode) {\n                    range = getSelectionRangeAt(nativeSel, 0);\n                    sel._ranges = [range];\n                    sel.rangeCount = 1;\n                    updateAnchorAndFocusFromNativeSelection(sel);\n                    sel.isCollapsed = selectionIsCollapsed(sel);\n                } else {\n                    updateEmptySelection(sel);\n                }\n            };\n        } else {\n            module.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\");\n            return false;\n        }\n\n        selProto.refresh = function(checkForChanges) {\n            var oldRanges = checkForChanges ? this._ranges.slice(0) : null;\n            var oldAnchorNode = this.anchorNode, oldAnchorOffset = this.anchorOffset;\n\n            refreshSelection(this);\n            if (checkForChanges) {\n                // Check the range count first\n                var i = oldRanges.length;\n                if (i != this._ranges.length) {\n                    return true;\n                }\n\n                // Now check the direction. Checking the anchor position is the same is enough since we're checking all the\n                // ranges after this\n                if (this.anchorNode != oldAnchorNode || this.anchorOffset != oldAnchorOffset) {\n                    return true;\n                }\n\n                // Finally, compare each range in turn\n                while (i--) {\n                    if (!rangesEqual(oldRanges[i], this._ranges[i])) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        };\n\n        // Removal of a single range\n        var removeRangeManually = function(sel, range) {\n            var ranges = sel.getAllRanges();\n            sel.removeAllRanges();\n            for (var i = 0, len = ranges.length; i < len; ++i) {\n                if (!rangesEqual(range, ranges[i])) {\n                    sel.addRange(ranges[i]);\n                }\n            }\n            if (!sel.rangeCount) {\n                updateEmptySelection(sel);\n            }\n        };\n\n        if (implementsControlRange && implementsDocSelection) {\n            selProto.removeRange = function(range) {\n                if (this.docSelection.type == CONTROL) {\n                    var controlRange = this.docSelection.createRange();\n                    var rangeElement = getSingleElementFromRange(range);\n\n                    // Create a new ControlRange containing all the elements in the selected ControlRange minus the\n                    // element contained by the supplied range\n                    var doc = getDocument(controlRange.item(0));\n                    var newControlRange = getBody(doc).createControlRange();\n                    var el, removed = false;\n                    for (var i = 0, len = controlRange.length; i < len; ++i) {\n                        el = controlRange.item(i);\n                        if (el !== rangeElement || removed) {\n                            newControlRange.add(controlRange.item(i));\n                        } else {\n                            removed = true;\n                        }\n                    }\n                    newControlRange.select();\n\n                    // Update the wrapped selection based on what's now in the native selection\n                    updateControlSelection(this);\n                } else {\n                    removeRangeManually(this, range);\n                }\n            };\n        } else {\n            selProto.removeRange = function(range) {\n                removeRangeManually(this, range);\n            };\n        }\n\n        // Detecting if a selection is backward\n        var selectionIsBackward;\n        if (!useDocumentSelection && selectionHasAnchorAndFocus && features.implementsDomRange) {\n            selectionIsBackward = winSelectionIsBackward;\n\n            selProto.isBackward = function() {\n                return selectionIsBackward(this);\n            };\n        } else {\n            selectionIsBackward = selProto.isBackward = function() {\n                return false;\n            };\n        }\n\n        // Create an alias for backwards compatibility. From 1.3, everything is \"backward\" rather than \"backwards\"\n        selProto.isBackwards = selProto.isBackward;\n\n        // Selection stringifier\n        // This is conformant to the old HTML5 selections draft spec but differs from WebKit and Mozilla's implementation.\n        // The current spec does not yet define this method.\n        selProto.toString = function() {\n            var rangeTexts = [];\n            for (var i = 0, len = this.rangeCount; i < len; ++i) {\n                rangeTexts[i] = \"\" + this._ranges[i];\n            }\n            return rangeTexts.join(\"\");\n        };\n\n        function assertNodeInSameDocument(sel, node) {\n            if (sel.win.document != getDocument(node)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n        }\n\n        // No current browser conforms fully to the spec for this method, so Rangy's own method is always used\n        selProto.collapse = function(node, offset) {\n            assertNodeInSameDocument(this, node);\n            var range = api.createRange(node);\n            range.collapseToPoint(node, offset);\n            this.setSingleRange(range);\n            this.isCollapsed = true;\n        };\n\n        selProto.collapseToStart = function() {\n            if (this.rangeCount) {\n                var range = this._ranges[0];\n                this.collapse(range.startContainer, range.startOffset);\n            } else {\n                throw new DOMException(\"INVALID_STATE_ERR\");\n            }\n        };\n\n        selProto.collapseToEnd = function() {\n            if (this.rangeCount) {\n                var range = this._ranges[this.rangeCount - 1];\n                this.collapse(range.endContainer, range.endOffset);\n            } else {\n                throw new DOMException(\"INVALID_STATE_ERR\");\n            }\n        };\n\n        // The spec is very specific on how selectAllChildren should be implemented and not all browsers implement it as\n        // specified so the native implementation is never used by Rangy.\n        selProto.selectAllChildren = function(node) {\n            assertNodeInSameDocument(this, node);\n            var range = api.createRange(node);\n            range.selectNodeContents(node);\n            this.setSingleRange(range);\n        };\n\n        selProto.deleteFromDocument = function() {\n            // Sepcial behaviour required for IE's control selections\n            if (implementsControlRange && implementsDocSelection && this.docSelection.type == CONTROL) {\n                var controlRange = this.docSelection.createRange();\n                var element;\n                while (controlRange.length) {\n                    element = controlRange.item(0);\n                    controlRange.remove(element);\n                    dom.removeNode(element);\n                }\n                this.refresh();\n            } else if (this.rangeCount) {\n                var ranges = this.getAllRanges();\n                if (ranges.length) {\n                    this.removeAllRanges();\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        ranges[i].deleteContents();\n                    }\n                    // The spec says nothing about what the selection should contain after calling deleteContents on each\n                    // range. Firefox moves the selection to where the final selected range was, so we emulate that\n                    this.addRange(ranges[len - 1]);\n                }\n            }\n        };\n\n        // The following are non-standard extensions\n        selProto.eachRange = function(func, returnValue) {\n            for (var i = 0, len = this._ranges.length; i < len; ++i) {\n                if ( func( this.getRangeAt(i) ) ) {\n                    return returnValue;\n                }\n            }\n        };\n\n        selProto.getAllRanges = function() {\n            var ranges = [];\n            this.eachRange(function(range) {\n                ranges.push(range);\n            });\n            return ranges;\n        };\n\n        selProto.setSingleRange = function(range, direction) {\n            this.removeAllRanges();\n            this.addRange(range, direction);\n        };\n\n        selProto.callMethodOnEachRange = function(methodName, params) {\n            var results = [];\n            this.eachRange( function(range) {\n                results.push( range[methodName].apply(range, params || []) );\n            } );\n            return results;\n        };\n\n        function createStartOrEndSetter(isStart) {\n            return function(node, offset) {\n                var range;\n                if (this.rangeCount) {\n                    range = this.getRangeAt(0);\n                    range[\"set\" + (isStart ? \"Start\" : \"End\")](node, offset);\n                } else {\n                    range = api.createRange(this.win.document);\n                    range.setStartAndEnd(node, offset);\n                }\n                this.setSingleRange(range, this.isBackward());\n            };\n        }\n\n        selProto.setStart = createStartOrEndSetter(true);\n        selProto.setEnd = createStartOrEndSetter(false);\n\n        // Add select() method to Range prototype. Any existing selection will be removed.\n        api.rangePrototype.select = function(direction) {\n            getSelection( this.getDocument() ).setSingleRange(this, direction);\n        };\n\n        selProto.changeEachRange = function(func) {\n            var ranges = [];\n            var backward = this.isBackward();\n\n            this.eachRange(function(range) {\n                func(range);\n                ranges.push(range);\n            });\n\n            this.removeAllRanges();\n            if (backward && ranges.length == 1) {\n                this.addRange(ranges[0], \"backward\");\n            } else {\n                this.setRanges(ranges);\n            }\n        };\n\n        selProto.containsNode = function(node, allowPartial) {\n            return this.eachRange( function(range) {\n                return range.containsNode(node, allowPartial);\n            }, true ) || false;\n        };\n\n        selProto.getBookmark = function(containerNode) {\n            return {\n                backward: this.isBackward(),\n                rangeBookmarks: this.callMethodOnEachRange(\"getBookmark\", [containerNode])\n            };\n        };\n\n        selProto.moveToBookmark = function(bookmark) {\n            var selRanges = [];\n            for (var i = 0, rangeBookmark, range; rangeBookmark = bookmark.rangeBookmarks[i++]; ) {\n                range = api.createRange(this.win);\n                range.moveToBookmark(rangeBookmark);\n                selRanges.push(range);\n            }\n            if (bookmark.backward) {\n                this.setSingleRange(selRanges[0], \"backward\");\n            } else {\n                this.setRanges(selRanges);\n            }\n        };\n\n        selProto.saveRanges = function() {\n            return {\n                backward: this.isBackward(),\n                ranges: this.callMethodOnEachRange(\"cloneRange\")\n            };\n        };\n\n        selProto.restoreRanges = function(selRanges) {\n            this.removeAllRanges();\n            for (var i = 0, range; range = selRanges.ranges[i]; ++i) {\n                this.addRange(range, (selRanges.backward && i == 0));\n            }\n        };\n\n        selProto.toHtml = function() {\n            var rangeHtmls = [];\n            this.eachRange(function(range) {\n                rangeHtmls.push( DomRange.toHtml(range) );\n            });\n            return rangeHtmls.join(\"\");\n        };\n\n        if (features.implementsTextRange) {\n            selProto.getNativeTextRange = function() {\n                var sel, textRange;\n                if ( (sel = this.docSelection) ) {\n                    var range = sel.createRange();\n                    if (isTextRange(range)) {\n                        return range;\n                    } else {\n                        throw module.createError(\"getNativeTextRange: selection is a control selection\");\n                    }\n                } else if (this.rangeCount > 0) {\n                    return api.WrappedTextRange.rangeToTextRange( this.getRangeAt(0) );\n                } else {\n                    throw module.createError(\"getNativeTextRange: selection contains no range\");\n                }\n            };\n        }\n\n        function inspect(sel) {\n            var rangeInspects = [];\n            var anchor = new DomPosition(sel.anchorNode, sel.anchorOffset);\n            var focus = new DomPosition(sel.focusNode, sel.focusOffset);\n            var name = (typeof sel.getName == \"function\") ? sel.getName() : \"Selection\";\n\n            if (typeof sel.rangeCount != \"undefined\") {\n                for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                    rangeInspects[i] = DomRange.inspect(sel.getRangeAt(i));\n                }\n            }\n            return \"[\" + name + \"(Ranges: \" + rangeInspects.join(\", \") +\n                    \")(anchor: \" + anchor.inspect() + \", focus: \" + focus.inspect() + \"]\";\n        }\n\n        selProto.getName = function() {\n            return \"WrappedSelection\";\n        };\n\n        selProto.inspect = function() {\n            return inspect(this);\n        };\n\n        selProto.detach = function() {\n            actOnCachedSelection(this.win, \"delete\");\n            deleteProperties(this);\n        };\n\n        WrappedSelection.detachAll = function() {\n            actOnCachedSelection(null, \"deleteAll\");\n        };\n\n        WrappedSelection.inspect = inspect;\n        WrappedSelection.isDirectionBackward = isDirectionBackward;\n\n        api.Selection = WrappedSelection;\n\n        api.selectionPrototype = selProto;\n\n        api.addShimListener(function(win) {\n            if (typeof win.getSelection == \"undefined\") {\n                win.getSelection = function() {\n                    return getSelection(win);\n                };\n            }\n            win = null;\n        });\n    });\n    \r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Wait for document to load before initializing\r\n    var docReady = false;\r\n\r\n    var loadHandler = function(e) {\r\n        if (!docReady) {\r\n            docReady = true;\r\n            if (!api.initialized && api.config.autoInitialize) {\r\n                init();\r\n            }\r\n        }\r\n    };\r\n\r\n    if (isBrowser) {\r\n        // Test whether the document has already been loaded and initialize immediately if so\r\n        if (document.readyState == \"complete\") {\r\n            loadHandler();\r\n        } else {\r\n            if (isHostMethod(document, \"addEventListener\")) {\r\n                document.addEventListener(\"DOMContentLoaded\", loadHandler, false);\r\n            }\r\n\r\n            // Add a fallback in case the DOMContentLoaded event isn't supported\r\n            addListener(window, \"load\", loadHandler);\r\n        }\r\n    }\r\n\r\n    return api;\r\n}, this);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rangy/lib/rangy-core.js\n// module id = ../node_modules/rangy/lib/rangy-core.js\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _chainFunction = require('chain-function');\n\nvar _chainFunction2 = _interopRequireDefault(_chainFunction);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _ChildMapping = require('./utils/ChildMapping');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  component: _propTypes2.default.any,\n  childFactory: _propTypes2.default.func,\n  children: _propTypes2.default.node\n};\n\nvar defaultProps = {\n  component: 'span',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n\nvar TransitionGroup = function (_React$Component) {\n  _inherits(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    _classCallCheck(this, TransitionGroup);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _this.performAppear = function (key, component) {\n      _this.currentlyTransitioningKeys[key] = true;\n\n      if (component.componentWillAppear) {\n        component.componentWillAppear(_this._handleDoneAppearing.bind(_this, key, component));\n      } else {\n        _this._handleDoneAppearing(key, component);\n      }\n    };\n\n    _this._handleDoneAppearing = function (key, component) {\n      if (component.componentDidAppear) {\n        component.componentDidAppear();\n      }\n\n      delete _this.currentlyTransitioningKeys[key];\n\n      var currentChildMapping = (0, _ChildMapping.getChildMapping)(_this.props.children);\n\n      if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n        // This was removed before it had fully appeared. Remove it.\n        _this.performLeave(key, component);\n      }\n    };\n\n    _this.performEnter = function (key, component) {\n      _this.currentlyTransitioningKeys[key] = true;\n\n      if (component.componentWillEnter) {\n        component.componentWillEnter(_this._handleDoneEntering.bind(_this, key, component));\n      } else {\n        _this._handleDoneEntering(key, component);\n      }\n    };\n\n    _this._handleDoneEntering = function (key, component) {\n      if (component.componentDidEnter) {\n        component.componentDidEnter();\n      }\n\n      delete _this.currentlyTransitioningKeys[key];\n\n      var currentChildMapping = (0, _ChildMapping.getChildMapping)(_this.props.children);\n\n      if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n        // This was removed before it had fully entered. Remove it.\n        _this.performLeave(key, component);\n      }\n    };\n\n    _this.performLeave = function (key, component) {\n      _this.currentlyTransitioningKeys[key] = true;\n\n      if (component.componentWillLeave) {\n        component.componentWillLeave(_this._handleDoneLeaving.bind(_this, key, component));\n      } else {\n        // Note that this is somewhat dangerous b/c it calls setState()\n        // again, effectively mutating the component before all the work\n        // is done.\n        _this._handleDoneLeaving(key, component);\n      }\n    };\n\n    _this._handleDoneLeaving = function (key, component) {\n      if (component.componentDidLeave) {\n        component.componentDidLeave();\n      }\n\n      delete _this.currentlyTransitioningKeys[key];\n\n      var currentChildMapping = (0, _ChildMapping.getChildMapping)(_this.props.children);\n\n      if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {\n        // This entered again before it fully left. Add it again.\n        _this.keysToEnter.push(key);\n      } else {\n        _this.setState(function (state) {\n          var newChildren = _extends({}, state.children);\n          delete newChildren[key];\n          return { children: newChildren };\n        });\n      }\n    };\n\n    _this.childRefs = Object.create(null);\n\n    _this.state = {\n      children: (0, _ChildMapping.getChildMapping)(props.children)\n    };\n    return _this;\n  }\n\n  TransitionGroup.prototype.componentWillMount = function componentWillMount() {\n    this.currentlyTransitioningKeys = {};\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n  };\n\n  TransitionGroup.prototype.componentDidMount = function componentDidMount() {\n    var initialChildMapping = this.state.children;\n    for (var key in initialChildMapping) {\n      if (initialChildMapping[key]) {\n        this.performAppear(key, this.childRefs[key]);\n      }\n    }\n  };\n\n  TransitionGroup.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var nextChildMapping = (0, _ChildMapping.getChildMapping)(nextProps.children);\n    var prevChildMapping = this.state.children;\n\n    this.setState({\n      children: (0, _ChildMapping.mergeChildMappings)(prevChildMapping, nextChildMapping)\n    });\n\n    for (var key in nextChildMapping) {\n      var hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key);\n      if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {\n        this.keysToEnter.push(key);\n      }\n    }\n\n    for (var _key in prevChildMapping) {\n      var hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(_key);\n      if (prevChildMapping[_key] && !hasNext && !this.currentlyTransitioningKeys[_key]) {\n        this.keysToLeave.push(_key);\n      }\n    }\n\n    // If we want to someday check for reordering, we could do it here.\n  };\n\n  TransitionGroup.prototype.componentDidUpdate = function componentDidUpdate() {\n    var _this2 = this;\n\n    var keysToEnter = this.keysToEnter;\n    this.keysToEnter = [];\n    keysToEnter.forEach(function (key) {\n      return _this2.performEnter(key, _this2.childRefs[key]);\n    });\n\n    var keysToLeave = this.keysToLeave;\n    this.keysToLeave = [];\n    keysToLeave.forEach(function (key) {\n      return _this2.performLeave(key, _this2.childRefs[key]);\n    });\n  };\n\n  TransitionGroup.prototype.render = function render() {\n    var _this3 = this;\n\n    // TODO: we could get rid of the need for the wrapper node\n    // by cloning a single child\n    var childrenToRender = [];\n\n    var _loop = function _loop(key) {\n      var child = _this3.state.children[key];\n      if (child) {\n        var isCallbackRef = typeof child.ref !== 'string';\n        var factoryChild = _this3.props.childFactory(child);\n        var ref = function ref(r) {\n          _this3.childRefs[key] = r;\n        };\n\n        process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(isCallbackRef, 'string refs are not supported on children of TransitionGroup and will be ignored. ' + 'Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute') : void 0;\n\n        // Always chaining the refs leads to problems when the childFactory\n        // wraps the child. The child ref callback gets called twice with the\n        // wrapper and the child. So we only need to chain the ref if the\n        // factoryChild is not different from child.\n        if (factoryChild === child && isCallbackRef) {\n          ref = (0, _chainFunction2.default)(child.ref, ref);\n        }\n\n        // You may need to apply reactive updates to a child as it is leaving.\n        // The normal React way to do it won't work since the child will have\n        // already been removed. In case you need this behavior you can provide\n        // a childFactory function to wrap every child, even the ones that are\n        // leaving.\n        childrenToRender.push(_react2.default.cloneElement(factoryChild, {\n          key: key,\n          ref: ref\n        }));\n      }\n    };\n\n    for (var key in this.state.children) {\n      _loop(key);\n    }\n\n    // Do not forward TransitionGroup props to primitive DOM nodes\n    var props = _extends({}, this.props);\n    delete props.transitionLeave;\n    delete props.transitionName;\n    delete props.transitionAppear;\n    delete props.transitionEnter;\n    delete props.childFactory;\n    delete props.transitionLeaveTimeout;\n    delete props.transitionEnterTimeout;\n    delete props.transitionAppearTimeout;\n    delete props.component;\n\n    return _react2.default.createElement(this.props.component, props, childrenToRender);\n  };\n\n  return TransitionGroup;\n}(_react2.default.Component);\n\nTransitionGroup.displayName = 'TransitionGroup';\n\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nTransitionGroup.defaultProps = defaultProps;\n\nexports.default = TransitionGroup;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-transition-group/TransitionGroup.js\n// module id = ../node_modules/react-transition-group/TransitionGroup.js\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.getChildMapping = getChildMapping;\nexports.mergeChildMappings = mergeChildMappings;\n\nvar _react = require('react');\n\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\nfunction getChildMapping(children) {\n  if (!children) {\n    return children;\n  }\n  var result = {};\n  _react.Children.map(children, function (child) {\n    return child;\n  }).forEach(function (child) {\n    result[child.key] = child;\n  });\n  return result;\n}\n\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\nfunction mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    if (next.hasOwnProperty(key)) {\n      return next[key];\n    }\n\n    return prev[key];\n  }\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  var nextKeysPending = {};\n\n  var pendingKeys = [];\n  for (var prevKey in prev) {\n    if (next.hasOwnProperty(prevKey)) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i = void 0;\n  var childMapping = {};\n  for (var nextKey in next) {\n    if (nextKeysPending.hasOwnProperty(nextKey)) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n    childMapping[nextKey] = getValueForKey(nextKey);\n  }\n\n  // Finally, add the keys which didn't appear before any key in `next`\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-transition-group/utils/ChildMapping.js\n// module id = ../node_modules/react-transition-group/utils/ChildMapping.js\n// module chunks = 0","const config = {\n  sentryDsn: process.env.SENTRY_DSN || 'https://1111:2222@sentry.io/86182',\n  nodeEnv: process.env.NODE_ENV,\n  webConcurrency: process.env.WEB_CONCURRENCY || 1,\n  port: process.env.PORT || 1337,\n  apiUrl: process.env.API_URL || 'http://localhost:3000',\n  graphqlUrl: process.env.GRAPHQL_URL || 'http://localhost:3003/graphql',\n  appDomain: process.env.APP_DOMAIN || 'localhost',\n  timeout: 120000,\n  defaultLocale: process.env.DEFAULT_LOCALE || 'pt-BR',\n  locales: ['pt-BR', 'en', 'es']\n}\n\nmodule.exports = config\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../server/config.js\n// module id = ../server/config.js\n// module chunks = 0","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default user => (dispatch, getState, { api }) => {\n  dispatch(createAction(t.ADD_USER_REQUEST))\n  return api.post('/users', { user })\n    .then(res => {\n      if (res.status === 200 && res.data.errors) {\n        // Reject request on redux-form\n        return Promise.reject({ ...res.data.errors })\n      } else if (res.status === 201) {\n        dispatch(createAction(t.ADD_USER_SUCCESS, res.data))\n        return Promise.resolve()\n      }\n    })\n    .catch(ex => {\n      dispatch(createAction(t.ADD_USER_FAILURE))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/async-add-user.js","/* eslint-disable prefer-promise-reject-errors */\nimport { addNotification as notify } from 'reapop'\nimport { accountPasswordRetrieveSuccess } from '~client/utils/notifications'\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default user => (dispatch, getState, { api, intl }) => {\n  const endpoint = '/retrieve'\n  const body = { user }\n\n  dispatch(createAction(t.ASYNC_RETRIEVE_PASSWORD_REQUEST))\n  return api.post(endpoint, body)\n    .then(res => {\n      if (res.status === 200 && res.data.errors) {\n        // Reject request on redux-form\n        return Promise.reject({ ...res.data.errors })\n      } else if (res.status === 200) {\n        dispatch(createAction(t.ASYNC_RETRIEVE_PASSWORD_SUCCESS, res.data))\n        dispatch(notify(accountPasswordRetrieveSuccess(intl)))\n        return Promise.resolve()\n      }\n    })\n    .catch(ex => {\n      dispatch(createAction(t.ASYNC_RETRIEVE_PASSWORD_FAILURE))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/async-retrieve-password.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '../selectors'\n\nexport default ({ id, ...user }) => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n\n  dispatch(createAction(t.UPDATE_USER_REQUEST))\n  return api.put(`/users/${id}`, { user }, { headers })\n    .then(res => {\n      dispatch(createAction(t.UPDATE_USER_SUCCESS, {\n        id: res.data.id,\n        firstName: res.data.first_name,\n        lastName: res.data.last_name,\n        email: res.data.email,\n        avatar: res.data.avatar_url\n      }))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_USER_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/async-update-user.js","export const createAction = (type, payload) => {\n  return {\n    type,\n    payload\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/create-action.js","export { default as load } from './load'\nexport { default as login } from './login'\nexport { default as logout } from './logout'\nexport { default as asyncUpdateUser } from './async-update-user'\nexport { default as asyncAddUser } from './async-add-user'\nexport { default as asyncRetrievePassword } from './async-retrieve-password'\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/index.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default user => (dispatch, getState) => {\n  return dispatch(createAction(t.LOAD_SUCCESS, { user }))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/load.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default ({ email, password }) => (dispatch, getState, { api, auth, intl }) => {\n  dispatch(createAction(t.LOGIN_REQUEST))\n  return api.post('/auth/sign_in', { email, password })\n    .then(({ headers, ...res }) => {\n      const { data: user } = res.data\n      const credentials = {\n        'Access-Token': headers['access-token'],\n        'Token-Type': headers['token-type'],\n        'Expiry': headers['expiry'],\n        'Uid': headers['uid'],\n        'Client': headers['client']\n      }\n      dispatch(createAction(t.LOGIN_SUCCESS, { user, credentials }))\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      const errorMessage = intl.formatMessage({\n        id: 'page--account-login.auth.error-message',\n        defaultMessage: 'Senha incorreta.'\n      })\n      dispatch(createAction(t.LOGIN_FAILURE, errorMessage))\n      return Promise.reject(new Error(failure))\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/login.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default () => (dispatch) => {\n  return new Promise((resolve, reject) => {\n    window.localStorage.removeItem('auth')\n    window.localStorage.removeItem('community')\n    dispatch(createAction(t.LOGOUT_SUCCESS))\n    resolve()\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-creators/logout.js","export const LOAD_SUCCESS = 'authenticate/LOAD_SUCCESS'\n\nexport const LOGIN_REQUEST = 'authenticate/LOGIN_REQUEST'\nexport const LOGIN_SUCCESS = 'authenticate/LOGIN_SUCCESS'\nexport const LOGIN_FAILURE = 'authenticate/LOGIN_FAILURE'\n\nexport const LOGOUT_REQUEST = 'authenticate/LOGOUT_REQUEST'\nexport const LOGOUT_SUCCESS = 'authenticate/LOGOUT_SUCCESS'\nexport const LOGOUT_FAILURE = 'authenticate/LOGOUT_FAILURE'\n\nexport const UPDATE_USER_REQUEST = 'account/UPDATE_USER_REQUEST'\nexport const UPDATE_USER_SUCCESS = 'account/UPDATE_USER_SUCCESS'\nexport const UPDATE_USER_FAILURE = 'account/UPDATE_USER_FAILURE'\n\nexport const ADD_USER_REQUEST = 'account/ADD_USER_REQUEST'\nexport const ADD_USER_SUCCESS = 'account/ADD_USER_SUCCESS'\nexport const ADD_USER_FAILURE = 'account/ADD_USER_FAILURE'\n\nexport const ASYNC_RETRIEVE_PASSWORD_REQUEST = 'ASYNC_RETRIEVE_PASSWORD_REQUEST'\nexport const ASYNC_RETRIEVE_PASSWORD_SUCCESS = 'ASYNC_RETRIEVE_PASSWORD_SUCCESS'\nexport const ASYNC_RETRIEVE_PASSWORD_FAILURE = 'ASYNC_RETRIEVE_PASSWORD_FAILURE'\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/action-types.js","import cookie from 'react-cookie'\nimport * as t from './action-types'\n\nexport const initialState = {\n  isLoaded: false,\n  isLoading: false,\n  saving: false,\n  user: undefined,\n  credentials: undefined,\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.LOAD_SUCCESS:\n      return { ...state, isLoaded: true, isLoading: false, ...action.payload }\n\n    case t.LOGIN_REQUEST:\n      return { ...state, isLoading: true }\n    case t.LOGIN_SUCCESS:\n      return { ...state, isLoading: false, error: undefined, ...action.payload }\n    case t.LOGIN_FAILURE:\n      return { ...state, isLoading: false, error: action.payload }\n\n    case t.LOGOUT_SUCCESS:\n      return initialState\n\n    case t.UPDATE_USER_REQUEST:\n      return { ...state, saving: true }\n    case t.UPDATE_USER_SUCCESS:\n      cookie.save('auth', {\n        auth: {\n          credentials: state.credentials,\n          user: action.payload\n        }\n      })\n      return { ...state, saving: false, user: action.payload }\n    case t.UPDATE_USER_FAILURE:\n      return { ...state, saving: false, error: action.payload }\n\n    case t.ASYNC_RETRIEVE_PASSWORD_REQUEST:\n      return { ...state, saving: false }\n    case t.ASYNC_RETRIEVE_PASSWORD_SUCCESS:\n      return { ...state, saving: true, user: action.payload }\n    case t.ASYNC_RETRIEVE_PASSWORD_FAILURE:\n      return { ...state, saving: false, error: action.payload }\n\n    default:\n      return { ...state }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/reducers.js","export default (state) => ({\n  isLoaded: () => state.auth.isLoaded,\n  getCredentials: () => state.auth.credentials,\n  getUser: () => state.auth.user,\n  getError: () => state.auth.error\n})\n\n\n\n// WEBPACK FOOTER //\n// ./account/redux/selectors.js","export const FETCH = 'community/FETCH'\n\nexport const FETCH_SUCCESS = 'community/FETCH_SUCCESS'\n\nexport const FETCH_FAIL = 'community/FETCH_FAIL'\n\nexport const ADD = 'community/ADD'\n\nexport const EDIT = 'community/EDIT'\n\nexport const SELECT = 'community/SELECT'\n\nexport const UNSET = 'community/UNSET'\n\nexport const FETCH_DNS_HOSTED_ZONES_REQUEST = 'FETCH_DNS_HOSTED_ZONES_REQUEST'\nexport const FETCH_DNS_HOSTED_ZONES_SUCCESS = 'FETCH_DNS_HOSTED_ZONES_SUCCESS'\nexport const FETCH_DNS_HOSTED_ZONES_FAILURE = 'FETCH_DNS_HOSTED_ZONES_FAILURE'\n\nexport const ADD_DNS_HOSTED_ZONE_REQUEST = 'ADD_DNS_HOSTED_ZONE_REQUEST'\nexport const ADD_DNS_HOSTED_ZONE_SUCCESS = 'ADD_DNS_HOSTED_ZONE_SUCCESS'\nexport const ADD_DNS_HOSTED_ZONE_FAILURE = 'ADD_DNS_HOSTED_ZONE_FAILURE'\n\nexport const FETCH_DNS_RECORDS_REQUEST = 'FETCH_DNS_RECORDS_REQUEST'\nexport const FETCH_DNS_RECORDS_SUCCESS = 'FETCH_DNS_RECORDS_SUCCESS'\nexport const FETCH_DNS_RECORDS_FAILURE = 'FETCH_DNS_RECORDS_FAILURE'\n\nexport const DELETE_DNS_HOSTED_ZONE_REQUEST = 'DELETE_DNS_HOSTED_ZONE_REQUEST'\nexport const DELETE_DNS_HOSTED_ZONE_SUCCESS = 'DELETE_DNS_HOSTED_ZONE_SUCCESS'\nexport const DELETE_DNS_HOSTED_ZONE_FAILURE = 'DELETE_DNS_HOSTED_ZONE_FAILURE'\n\nexport const ADD_DNS_RECORD_REQUEST = 'ADD_DNS_RECORD_REQUEST'\nexport const ADD_DNS_RECORD_SUCCESS = 'ADD_DNS_RECORD_SUCCESS'\nexport const ADD_DNS_RECORD_FAILURE = 'ADD_DNS_RECORD_FAILURE'\n\nexport const DELETE_DNS_RECORD_REQUEST = 'DELETE_DNS_RECORD_REQUEST'\nexport const DELETE_DNS_RECORD_SUCCESS = 'DELETE_DNS_RECORD_SUCCESS'\nexport const DELETE_DNS_RECORD_FAILURE = 'DELETE_DNS_RECORD_FAILURE'\n\nexport const CHECK_DNS_HOSTED_ZONE_REQUEST = 'CHECK_DNS_HOSTED_ZONE_REQUEST'\nexport const CHECK_DNS_HOSTED_ZONE_SUCCESS = 'CHECK_DNS_HOSTED_ZONE_SUCCESS'\nexport const CHECK_DNS_HOSTED_ZONE_FAILURE = 'CHECK_DNS_HOSTED_ZONE_FAILURE'\n\nexport const ASYNC_INVITE_REQUEST = 'ASYNC_INVITE_REQUEST'\nexport const ASYNC_INVITE_SUCCESS = 'ASYNC_INVITE_SUCCESS'\nexport const ASYNC_INVITE_FAILURE = 'ASYNC_INVITE_FAILURE'\n\nexport const SET_FORCED_SUBMIT = 'SET_FORCED_SUBMIT'\n\n\n\n// WEBPACK FOOTER //\n// ./community/action-types.js","const namespace = '/community'\n\nexport const communityAdd = () => `/communities/new`\nexport const communityDomain = () => `${namespace}/domain`\nexport const communityDomainCreate = next => `${namespace}/domain/add${next || ''}`\nexport const communityDomainEdit = domain => `${namespace}/domain/${domain.id}/edit`\nexport const communityInfo = () => `${namespace}/info`\nexport const communityInvite = () => `${namespace}/invite`\nexport const communityList = () => `/communities`\nexport const communityMailchimp = () => `${namespace}/mailchimp`\nexport const communityRecipient = () => `${namespace}/recipient`\nexport const communityReport = () => `${namespace}/report`\nexport const communityTwilio = () => `${namespace}/twilio`\n\n\n\n// WEBPACK FOOTER //\n// ./community/paths.js","import reactCookie from 'react-cookie'\nimport * as t from '../action-types'\n\n// Dependency module\nimport * as authT from '~client/account/redux/action-types'\n\nexport const initialState = {\n  loading: false,\n  isLoaded: false,\n  data: [],\n  currentId: undefined,\n  error: undefined,\n  forcedSubmit: false\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.FETCH:\n      return {\n        ...state,\n        loading: true\n      }\n    case t.FETCH_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        isLoaded: true,\n        data: action.data\n      }\n    case t.FETCH_FAIL:\n      return {\n        ...state,\n        loading: false,\n        isLoaded: false,\n        error: action.error\n      }\n    case t.ADD:\n      return {\n        ...state,\n        data: [...state.data, action.community]\n      }\n    case t.EDIT:\n      // update community in cache\n      reactCookie.save('community', {\n        community: {\n          list: {\n            currentId: action.community.id,\n            data: [action.community]\n          }\n        }\n      })\n      return {\n        ...state,\n        data: state.data.map(\n          c => c.id === action.community.id ? action.community : c\n        )\n      }\n    case t.SELECT:\n      return { ...state, currentId: action.id }\n    case t.UNSET:\n      return {\n        ...state,\n        currentId: null\n      }\n    case authT.LOGOUT_SUCCESS:\n      // reset info to make redirect correctly\n      return initialState\n\n    case t.ASYNC_INVITE_REQUEST:\n      return { ...state }\n    case t.ASYNC_INVITE_SUCCESS:\n      return { ...state }\n    case t.ASYNC_INVITE_FAILURE:\n      return { ...state, error: action.payload }\n\n    case t.SET_FORCED_SUBMIT:\n      return { ...state, forcedSubmit: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./community/reducers/communities.js","import * as t from '../action-types'\n\nconst initialState = {\n  isLoaded: false,\n  fetching: false,\n  saving: false,\n  data: [],\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.FETCH_DNS_HOSTED_ZONES_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.FETCH_DNS_HOSTED_ZONES_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload\n      }\n    case t.FETCH_DNS_HOSTED_ZONES_FAILURE:\n      return {...state,\n        fetching: false,\n        error: action.payload\n      }\n    case t.ADD_DNS_HOSTED_ZONE_REQUEST:\n    case t.DELETE_DNS_HOSTED_ZONE_REQUEST:\n    case t.CHECK_DNS_HOSTED_ZONE_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.ADD_DNS_HOSTED_ZONE_SUCCESS:\n      return {...state,\n        saving: false,\n        data: [action.payload, ...state.data]\n      }\n    case t.CHECK_DNS_HOSTED_ZONE_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.map(d => d.id === action.payload.id ? action.payload : d)\n      }\n    case t.DELETE_DNS_HOSTED_ZONE_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.filter(d => d.id !== action.payload.id)\n      }\n    case t.ADD_DNS_HOSTED_ZONE_FAILURE:\n    case t.DELETE_DNS_HOSTED_ZONE_FAILURE:\n    case t.CHECK_DNS_HOSTED_ZONE_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    case t.SELECT:\n      // Force reload community when select new community\n      return {...state,\n        isLoaded: false\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./community/reducers/dns-hosted-zones.js","import * as t from '../action-types'\n\nconst initialState = {\n  fetching: false,\n  saving: false,\n  data: [],\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.FETCH_DNS_RECORDS_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.ADD_DNS_RECORD_REQUEST:\n    case t.DELETE_DNS_RECORD_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.FETCH_DNS_RECORDS_SUCCESS:\n      return {...state,\n        fetching: false,\n        data: action.payload\n      }\n    case t.ADD_DNS_RECORD_SUCCESS:\n      return {...state,\n        saving: false,\n        data: [...state.data, action.payload]\n      }\n    case t.DELETE_DNS_RECORD_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.filter(d => d.id !== action.payload.id)\n      }\n    case t.FETCH_DNS_RECORDS_FAILURE:\n      return {...state,\n        fetching: false,\n        error: action.payload\n      }\n    case t.ADD_DNS_RECORD_FAILURE:\n    case t.DELETE_DNS_RECORD_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./community/reducers/dns-records.js","import { combineReducers } from 'redux'\n\nimport communitiesReducer from './communities'\nimport dnsHostedReducer from './dns-hosted-zones'\nimport dnsRecordsReducer from './dns-records'\n\nexport default combineReducers({\n  list: communitiesReducer,\n  dnsHostedZones: dnsHostedReducer,\n  dnsRecords: dnsRecordsReducer\n})\n\n\n\n// WEBPACK FOOTER //\n// ./community/reducers/index.js","export { default as Loading } from './loading'\nexport { default as Progress } from './progress'\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/index.js","import React from 'react'\nimport classnames from 'classnames'\n\nconst Loading = ({ localized, backgroundColor, loaderColor, className }) => (\n  <div\n    className={classnames(\n      { absolute: localized, fixed: !localized },\n      'top-0 right-0 bottom-0 left-0 z9',\n      className\n    )}\n    style={{ backgroundColor }}\n  >\n    <div className='table col-12 center full-height'>\n      <i\n        className='fa fa-circle-o-notch fa-spin fa-3x fa-w table-cell align-middle'\n        style={{ color: loaderColor }}\n      />\n    </div>\n  </div>\n)\n\nLoading.defaultProps = {\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  loaderColor: 'rgba(255, 255, 255, 1)'\n}\n\nexport default Loading\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/loading.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst Progress = ({ className, style, percent }) => (\n  <div className={classnames('progress col-12 border rounded border-darken-4')} >\n    <div\n      className={className}\n      style={{ ...style, width: `${percent}%` }} >\n      <br />\n    </div>\n  </div>\n)\n\nProgress.propTypes = {\n  percent: PropTypes.number.isRequired,\n  className: PropTypes.string,\n  style: PropTypes.object\n}\n\nexport default Progress\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/progress.js","const t = type => `components/await/${type}`\n\nexport const SET_LOADING = t('SET_LOADING')\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/redux/action-types.js","import * as t from './action-types'\n\nexport const initialState = {\n  loading: false\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.SET_LOADING:\n      return { ...state, loading: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/await/redux/reducers.js","//\n// Constants\n//\nexport const SET_SELECTED_COLOR = 'SET_SELECTED_COLOR'\n\n//\n// Actions\n//\nexport const setSelectedColor = color => ({ type: SET_SELECTED_COLOR, color })\n\n\n\n// WEBPACK FOOTER //\n// ./components/color-picker/actions.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { SketchPicker } from 'react-color'\nimport classnames from 'classnames'\n\nimport themes from './themes'\nimport * as ColorPickerActions from './actions'\n\nexport const ColorPicker = ({\n  className,\n  theme,\n  showColorPicker,\n  onChangeColor,\n  selectedColor,\n  color\n}) => {\n  const hasTheme = theme && themes[theme]\n  const colorStrategy = selectedColor || (hasTheme ? themes[theme][0] : '#333')\n\n  return !showColorPicker ? null : (\n    <div className={classnames('color-picker-container', className)}>\n      <SketchPicker\n        color={color || colorStrategy}\n        onChangeComplete={onChangeColor}\n        presetColors={hasTheme ? themes[theme] : []}\n      />\n    </div>\n  )\n}\n\nColorPicker.propTypes = {\n  showColorPicker: PropTypes.bool.isRequired,\n  onChangeColor: PropTypes.func,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  theme: PropTypes.string,\n  color: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n}\n\nColorPicker.defaultProps = {\n  showColorPicker: true\n}\n\nconst mapStateToProps = state => ({\n  selectedColor: state.colorPicker.color || '#333'\n})\n\nexport default connect(mapStateToProps, ColorPickerActions)(ColorPicker)\n\n\n\n// WEBPACK FOOTER //\n// ./components/color-picker/index.js","import {\n  SET_SELECTED_COLOR\n} from './actions'\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  color: undefined\n}\n\nconst ColorPickerReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case SET_SELECTED_COLOR:\n      return {\n        ...state,\n        color: action.color\n      }\n    default:\n      return state\n  }\n}\n\nexport default ColorPickerReducer\n\n\n\n// WEBPACK FOOTER //\n// ./components/color-picker/reducers.js","export default {\n  meurio: [\n    '#039046',\n    '#2BBAE2',\n    '#FFCF01',\n    '#EF7F3A',\n    '#DF499A',\n    '#8C78B7',\n    '#353A3D'\n  ],\n  meurecife: [\n    '#0FA7AC',\n    '#F0593E',\n    '#F4ED2F'\n  ],\n  minhablumenau: [\n    '#05A9CC',\n    '#D6DF21',\n    '#4B4C4D'\n  ],\n  minhacampinas: [\n    '#12868B',\n    '#FCB814',\n    '#D01F53'\n  ],\n  minhacuritiba: [\n    '#F9A51B',\n    '#1EABB4',\n    '#3C4F56'\n  ],\n  minhagaropaba: [\n    '#00ABCD',\n    '#BBD76A',\n    '#353B40'\n  ],\n  minhaouropreto: [\n    '#FDC93B',\n    '#47928D',\n    '#45494D'\n  ],\n  minhaportoalegre: [\n    '#F68B1F',\n    '#F15622',\n    '#1A9CAC'\n  ],\n  minhasampa: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627'\n  ],\n  nossascidades: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ],\n  nuestrasciudades: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ],\n  ourcities: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/color-picker/themes.js","import React from 'react'\n\n// Exported from redux-devtools\nimport { createDevTools } from 'redux-devtools'\n\n// Monitors are separate packages, and you can make a custom one\nimport LogMonitor from 'redux-devtools-log-monitor'\nimport DockMonitor from 'redux-devtools-dock-monitor'\n\n// createDevTools takes a monitor and produces a DevTools component\nconst DevTools = createDevTools(\n  // Monitors are individually adjustable with props.\n  // Consult their repositories to learn about those props.\n  // Here, we put LogMonitor inside a DockMonitor.\n  // Note: DockMonitor is visible by default.\n  <DockMonitor toggleVisibilityKey='ctrl-h'\n    changePositionKey='ctrl-q'\n    defaultIsVisible={false}>\n    <LogMonitor theme='tomorrow' />\n  </DockMonitor>\n)\n\nexport default DevTools\n\n\n\n// WEBPACK FOOTER //\n// ./components/dev-tools/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst DropdownMenuItem = props => {\n  const handleClick = event => {\n    (props.onClick || props.disabled) && event && event.preventDefault()\n    if (!props.disabled) {\n      props.onItemClick && props.onItemClick()\n      props.onClick && props.onClick()\n    }\n  }\n\n  const { className, disabled, href, children } = props\n\n  return (\n    <a\n      className={classnames(className, (disabled ? 'muted' : ''))}\n      disabled={disabled}\n      onClick={handleClick}\n      href={href}>\n      {children}\n    </a>\n  )\n}\n\nDropdownMenuItem.propTypes = {\n  href: PropTypes.string,\n  children: PropTypes.object,\n  onClick: PropTypes.func,\n  onItemClick: PropTypes.func,\n  disabled: PropTypes.bool,\n  className: PropTypes.string\n}\n\nexport default DropdownMenuItem\n\n\n\n// WEBPACK FOOTER //\n// ./components/dropdown-menu/dropdown-menu-item.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nclass DropdownMenu extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = { open: false }\n  }\n\n  handleClick () {\n    this.setState({ open: !this.state.open })\n  }\n\n  handleOverlayClick () {\n    this.setState({ open: false })\n  }\n\n  renderIcon () {\n    return !this.props.icon ? null : (\n      <i ref='icon' className={classnames('icon fa', `fa-${this.props.icon}`)} />\n    )\n  }\n\n  renderOverlay () {\n    return !this.state.open ? null : (\n      <div\n        className='overlay fixed top-0 right-0 bottom-0 left-0 z1'\n        onClick={::this.handleOverlayClick}\n      />\n    )\n  }\n\n  renderChildren () {\n    return this.props.children.map((child, index) => {\n      const props = child.type !== 'div' ? { onItemClick: ::this.handleOverlayClick } : {}\n      return React.cloneElement(child, {\n        key: 'item-' + index,\n        ...props\n      })\n    })\n  }\n\n  render () {\n    const {\n      wrapperClassName,\n      buttonClassName,\n      menuClassName,\n      menuStyle,\n      text,\n      children\n    } = this.props\n\n    return (\n      <div style={{ marginTop: '5px' }} className={classnames('relative', wrapperClassName)}>\n        <button ref='button' className={buttonClassName} onClick={::this.handleClick}>\n          {this.renderIcon()} {text}\n        </button>\n        <div\n          className={classnames(\n            'absolute nowrap z2',\n            menuClassName,\n            (this.state.open ? '' : 'display-none')\n          )}\n          style={menuStyle}\n        >\n          {children.length > 0 && this.renderChildren()}\n        </div>\n        {this.renderOverlay()}\n      </div>\n    )\n  }\n}\n\nDropdownMenu.propTypes = {\n  className: PropTypes.string,\n  menuClassName: PropTypes.string,\n  menuStyle: PropTypes.object,\n  wrapperClassName: PropTypes.string,\n  buttonClassName: PropTypes.string,\n  text: PropTypes.string,\n  children: PropTypes.array,\n  icon: PropTypes.string\n}\n\nexport default DropdownMenu\n\n\n\n// WEBPACK FOOTER //\n// ./components/dropdown-menu/dropdown-menu.js","export { default as DropdownMenu } from './dropdown-menu'\nexport { default as DropdownMenuItem } from './dropdown-menu-item'\n\n\n\n// WEBPACK FOOTER //\n// ./components/dropdown-menu/index.js","export default block => {\n  let style = 'left'\n  block.findStyleRanges(e => {\n    if (e.hasStyle('center')) style = 'center'\n    if (e.hasStyle('right')) style = 'right'\n  })\n  return style\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/AlignmentControls/getBlockAlignment.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\nimport styleWholeSelectedBlocksModifier from './styleWholeSelectedBlocksModifier'\n\nconst alignments = ['left', 'center', 'right']\n\nexport default class AlignmentControls extends Component {\n  handleToggleAlign (alignment) {\n    const { editorState, setEditorState } = this.props\n    const editorStateWithAlignment = styleWholeSelectedBlocksModifier(\n      editorState,\n      alignment,\n      alignments.filter(align => alignment !== align)\n    )\n    setEditorState(editorStateWithAlignment)\n\n    this.props.focusEditor()\n  }\n\n  hasAlignmentStyle (alignment) {\n    const { editorState } = this.props\n    const selectionState = editorState.getSelection()\n\n    const block = editorState.getCurrentContent().getBlockForKey(selectionState.getStartKey())\n\n    let alignmentStyle = 'left'\n    block.findStyleRanges(e => {\n      if (e.hasStyle('center')) alignmentStyle = 'center'\n      if (e.hasStyle('right')) alignmentStyle = 'right'\n    })\n\n    return alignmentStyle === alignment ? 'active' : null\n  }\n\n  render () {\n    const { buttonClassName } = this.props\n\n    return (\n      <div className='alignmentControls'>\n        <button\n          className={classnames(buttonClassName, this.hasAlignmentStyle('left'))}\n          onClick={() => this.handleToggleAlign('left')}\n        >\n          <i className='fa fa-align-left' />\n        </button>\n        <button\n          className={classnames(buttonClassName, this.hasAlignmentStyle('center'))}\n          onClick={() => this.handleToggleAlign('center')}\n        >\n          <i className='fa fa-align-center' />\n        </button>\n        <button\n          className={classnames(buttonClassName, this.hasAlignmentStyle('right'))}\n          onClick={() => this.handleToggleAlign('right')}\n        >\n          <i className='fa fa-align-right' />\n        </button>\n      </div>\n    )\n  }\n}\n\nAlignmentControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/AlignmentControls/index.js","import { EditorState, Modifier } from 'draft-js'\n\n//\n// USAGE\n// style = alignment you want (e.g. \"left\")\n// removeStyles = alignments to remove ([\"center\", \"right\"])\n//\n\nexport default (editorState, style, removeStyles = []) => {\n  let currentContent = editorState.getCurrentContent()\n  let selection = editorState.getSelection()\n  let focusBlock = currentContent.getBlockForKey(selection.getFocusKey())\n  let anchorBlock = currentContent.getBlockForKey(selection.getAnchorKey())\n  let selectionIsBackward = selection.getIsBackward()\n\n  let changes = {\n    anchorOffset: 0,\n    focusOffset: focusBlock.getLength()\n  }\n\n  if (selectionIsBackward) {\n    changes = {\n      focusOffset: 0,\n      anchorOffset: anchorBlock.getLength()\n    }\n  }\n  let selectWholeBlocks = selection.merge(changes)\n  let modifiedContent = Modifier.applyInlineStyle(currentContent, selectWholeBlocks, style)\n  let finalContent = removeStyles.reduce(function (content, style) {\n    return Modifier.removeInlineStyle(content, selectWholeBlocks, style)\n  }, modifiedContent)\n  return EditorState.push(editorState, finalContent, 'change-inline-style')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/AlignmentControls/styleWholeSelectedBlocksModifier.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { SketchPicker } from 'react-color'\n\nimport themes from '../themes'\n\nclass ColorPickerButton extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { showColorPicker: false }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { color } = nextProps\n    if (this.props.color !== color) {\n      this.setState({ color })\n    }\n  }\n\n  toggleColorPicker (e) {\n    this.setState({ showColorPicker: !this.state.showColorPicker })\n  }\n\n  handleChange (color) {\n    const { onChangeColor } = this.props\n    this.setState({ color: color.rgb })\n    onChangeColor(this.state.color)\n  }\n\n  handleChangeColor (color) {\n    this.setState({ showColorPicker: false })\n    this.props.focusEditor()\n  }\n\n  render () {\n    const { showColorPicker, color } = this.state\n    const { className, theme } = this.props\n\n    const presetColors = theme ? themes[theme] : []\n\n    const colorPickerProps = {\n      color,\n      presetColors,\n      onChangeComplete: this.handleChange.bind(this)\n    }\n\n    return (\n      <div>\n        <button type='button' className={className} onClick={this.toggleColorPicker.bind(this)}>\n          <i className='fa fa-eyedropper' />\n        </button>\n        {(showColorPicker ? (\n          <div className='absolute left-0'>\n            <SketchPicker {...colorPickerProps} />\n            <button\n              className='btn bg-darken-4 white col-12 rounded-bottom'\n              onClick={this.handleChangeColor.bind(this)}\n            >\n              Fechar\n            </button>\n          </div>\n        ) : null)}\n      </div>\n    )\n  }\n}\n\nColorPickerButton.propTypes = {\n  color: PropTypes.string,\n  onRemoveColor: PropTypes.func.isRequired,\n  onChangeColor: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  className: PropTypes.string,\n  theme: PropTypes.string\n}\n\nexport default ColorPickerButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/ColorControls/ColorPickerButton.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nimport EditorUtils from '../EditorUtils'\nimport ColorPickerButton from './ColorPickerButton'\n\nexport default class ColorControls extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { color: null }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { editorState } = nextProps\n    if (editorState !== this.props.editorState) {\n      const currentStyle = editorState.getCurrentInlineStyle()\n      const color = currentStyle.filter(value => value.startsWith('color')).last()\n      if (color) {\n        this.setState({\n          color: color\n            .replace('color:')\n            .replace(';', '')\n            .trim()\n        })\n      }\n    }\n  }\n\n  onChangeColor (color) {\n    const { editorState, setEditorState } = this.props\n\n    const targetSelection = editorState.getSelection()\n    if (!targetSelection.isCollapsed()) {\n      const editorStateWithColor = EditorUtils.toggleInlineStyle(\n        editorState,\n        `color: rgba(${color.r},${color.g},${color.b},${color.a});`\n      )\n      setEditorState(editorStateWithColor)\n    }\n  }\n\n  hasColorStyle () {\n    const { editorState } = this.props\n    const hasStyle = editorState.getCurrentInlineStyle().filter(style => style.startsWith('color'))\n    return hasStyle.size > 0 ? 'active' : null\n  }\n\n  render () {\n    const { buttonClassName, theme } = this.props\n\n    return (\n      <div className='colorControls'>\n        <ColorPickerButton\n          theme={theme}\n          className={classnames(buttonClassName, this.hasColorStyle())}\n          color={this.state.color}\n          onRemoveColor={() => {}}\n          onChangeColor={this.onChangeColor.bind(this)}\n          focusEditor={this.props.focusEditor}\n        />\n      </div>\n    )\n  }\n}\n\nColorControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string,\n  theme: PropTypes.string\n}\n\nexport const customStyleFn = (style) => {\n  const output = {}\n  const color = style.filter(value => value.startsWith('color')).last()\n  if (color) {\n    output.color = color\n      .replace('color:', '')\n      .replace(';', '')\n      .trim()\n  }\n  return output\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/ColorControls/index.js","import { EditorState, Entity, Modifier, RichUtils, SelectionState } from 'draft-js'\n\nimport getSelectionEntities from './getSelectionEntities'\n\nexport const getEntitySelectionState = (editorState, selectionState, entityType) => {\n  // Selection cursor\n  const currentContent = editorState.getCurrentContent()\n  const endOffset = selectionState.getEndOffset()\n\n  const block = currentContent.getBlockForKey(selectionState.getStartKey())\n\n  let entitySelectionState\n\n  block.findEntityRanges(character => {\n    const entityKey = character.getEntity()\n    return entityKey && Entity.get(entityKey).getType() === entityType\n  }, (start, end) => {\n    const isSelected = end >= endOffset && start <= endOffset\n\n    if (isSelected) {\n      entitySelectionState = selectionState.merge({\n        anchorOffset: start,\n        focusOffset: end\n      })\n    }\n  })\n\n  return entitySelectionState\n}\n\n/*\n * getSelectedBlocks\n */\nexport const getSelectedBlocks = (contentState, selectionState) => {\n  const anchorKey = selectionState.getStartKey()\n  const focusKey = selectionState.getEndKey()\n\n  const isSameBlock = anchorKey === focusKey\n  const startingBlock = contentState.getBlockForKey(anchorKey)\n\n  if (!startingBlock) {\n    return []\n  }\n\n  let selectedBlocks = [startingBlock]\n\n  if (!isSameBlock) {\n    let blockKey = anchorKey\n\n    while (blockKey !== focusKey) {\n      const nextBlock = contentState.getBlockAfter(blockKey)\n      if (!nextBlock) {\n        selectedBlocks = []\n        break\n      }\n      selectedBlocks.push(nextBlock)\n      blockKey = nextBlock.getKey()\n    }\n  }\n\n  return selectedBlocks\n}\n\nconst getBlockSelectionState = (contentBlock, selectionState) => {\n  const anchorKey = selectionState.getStartKey()\n  const focusKey = selectionState.getEndKey()\n\n  // Selection for this block\n  const blockKey = contentBlock.getKey()\n  const startOffset = blockKey === anchorKey ? selectionState.getStartOffset() : 0\n  const endOffset = blockKey === focusKey ? selectionState.getEndOffset() : contentBlock.getText().length\n\n  return SelectionState.createEmpty(blockKey).merge({\n    anchorOffset: startOffset,\n    focusOffset: endOffset\n  })\n}\n\n/*\n * Utils.js\n *\n * - toggleLink(editorState: EditorState, data: object)\n */\nexport default {\n\n  toggleInlineStyle: (editorState, inlineStyle) => {\n    if (inlineStyle.indexOf(':') > 0) {  // remove and add new custom inline style\n      let contentWithoutStyle = editorState.getCurrentContent()\n\n      const prefix = inlineStyle.split(':')[0]\n      const styles = editorState.getCurrentInlineStyle().filter(style => style.startsWith(prefix))\n      if (styles.size > 0) {\n        styles.forEach(style => {\n          contentWithoutStyle = Modifier.removeInlineStyle(\n            contentWithoutStyle,\n            editorState.getSelection(),\n            style\n          )\n        })\n        return RichUtils.toggleInlineStyle(\n          // apply custom inline style in content without style\n          EditorState.push(editorState, contentWithoutStyle, 'change-inline-style'),\n          inlineStyle\n        )\n      }\n    }\n\n    return RichUtils.toggleInlineStyle(editorState, inlineStyle)\n  },\n\n  toggleLink: (editorState, data) => {\n    /* This code need refactor */\n    // Save editorState then apply link in loop\n    let editorStateMutable = editorState\n\n    const selection = editorState.getSelection()\n    if (!selection.isCollapsed()) {\n      const contentState = editorState.getCurrentContent()\n\n      const arrayBlocks = getSelectedBlocks(contentState, selection)\n\n      // Should create entity when text select\n      // and merge entity data when block type selected is atomic\n      let entityKey\n\n      arrayBlocks.forEach(block => {\n        const entity = block.getEntityAt(0)\n        if (entity) {  // When has entity selected\n          if (block.getType() === 'atomic') {\n            if (!data) {  // Remove\n              Entity.mergeData(entity, { href: null })\n            } else {  // Update\n              Entity.mergeData(entity, data)\n            }\n          } else {\n            const blockSelectionState = getBlockSelectionState(block, selection)\n            const entitySelectionState = getEntitySelectionState(editorState, blockSelectionState, 'LINK')\n\n            if (entitySelectionState && data) {\n              editorStateMutable = RichUtils.toggleLink(\n                editorStateMutable,\n                blockSelectionState,\n                Entity.create('LINK', 'MUTABLE', data)\n              )\n            } else {\n              editorStateMutable = RichUtils.toggleLink(\n                editorStateMutable,\n                blockSelectionState,\n                null\n              )\n            }\n          }\n        } else if (block.getText().length > 0) {\n          if (!entityKey) {\n            // Ensure only a entity been created\n            entityKey = data ? Entity.create('LINK', 'MUTABLE', data) : null\n          }\n\n          // Toggle link\n          const blockSelectionState = getBlockSelectionState(block, selection)\n          editorStateMutable = RichUtils.toggleLink(\n            // Apply entity in content mutable to ensure\n            // that link before loop has been applied\n            editorStateMutable,\n            blockSelectionState,\n            entityKey\n          )\n        }\n      })\n\n      return editorStateMutable\n    } else {\n      const selectionEntity = getSelectionEntities(editorState, 'LINK').last()\n      if (selectionEntity) {\n        Entity.mergeData(selectionEntity.entityKey, data)\n      }\n      return editorState\n    }\n  },\n\n  getEntityInstance: (editorState, selectionState, entityType) => {\n    const entitySelectionState = getEntitySelectionState(\n      editorState,\n      selectionState,\n      entityType\n    )\n\n    if (entitySelectionState) {\n      const block = editorState\n        .getCurrentContent()\n        .getBlockForKey(\n          entitySelectionState.getStartKey()\n        )\n\n      const entityKey = block.getEntityAt(entitySelectionState.getStartOffset())\n      return entityKey ? Entity.get(entityKey) : undefined\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/EditorUtils.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst fonts = [\n  'Abel', 'Anton', 'Archivo Narrow', 'Asap', 'Bree Serif',\n  'Crimson Text', 'Cuprum', 'Exo', 'Exo 2', 'Fira Sans',\n  'Francois One', 'Josefin Sans', 'Karla', 'Libre Baskerville',\n  'Merriweather Sans', 'Pacifico', 'Poiret One', 'Quicksand',\n  'Signika', 'Varela Round', 'Arvo', 'Bitter', 'Cabin',\n  'Catamaran', 'Dosis', 'Fjalla One', 'Hind', 'Inconsolata',\n  'Indie Flower', 'Lobster', 'Muli', 'Noto Serif', 'Nunito',\n  'Oxygen', 'PT Serif', 'Playfair Display', 'Poppins',\n  'Titillium Web', 'Ubuntu Condensed', 'Yanone Kaffeesatz',\n  'Baloo Bhai', 'David Libre', 'Droid Sans', 'Gidugu',\n  'Lalezar', 'Lato', 'Lora', 'Montserrat', 'Open Sans',\n  'Open Sans Condensed', 'Oswald', 'PT Sans', 'Raleway',\n  'Roboto', 'Roboto Condensed', 'Roboto Slab', 'Ruslan Display',\n  'Slabo 27px', 'Source Sans Pro', 'Ubuntu'\n]\n\nconst SelectFontFamily = props => (\n  <select {...props} className='font-controls-family select col col-8 h5'>\n    <option value=''>Selecione uma fonte</option>\n    {fonts.map(\n      font => <option key={font} value={font}>{font}</option>\n    )}\n  </select>\n)\n\nSelectFontFamily.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n}\n\nexport default SelectFontFamily\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/FontControls/SelectFontFamily.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\nimport EditorUtils from '../EditorUtils'\n\nimport SelectFontFamily from './SelectFontFamily'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nexport default class FontControls extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { ...this.props.initialValue }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { editorState } = nextProps\n\n    const hasChangeInlineStyle = (\n      editorState.getCurrentInlineStyle() !== this.props.editorState.getCurrentInlineStyle()\n    )\n    if (hasChangeInlineStyle) {\n      const currentStyle = editorState.getCurrentInlineStyle()\n\n      const initialValue = {\n        ...this.props.initialValue\n      }\n\n      const fontSize = currentStyle.filter(value => value.startsWith('font-size')).last()\n      if (fontSize) {\n        initialValue.fontSize = fontSize\n          .replace('font-size:', '')\n          .replace('px', '')\n          .replace(';', '')\n          .trim()\n      }\n\n      const fontFamily = currentStyle.filter(value => value.startsWith('font-family')).last()\n      if (fontFamily) {\n        initialValue.fontFamily = fontFamily\n          .replace('font-family:', '')\n          .replace(';', '')\n          .trim()\n      }\n\n      if (initialValue) {\n        this.setState({ ...initialValue })\n      }\n    }\n  }\n\n  handleChangeSize (e) {\n    const { editorState, setEditorState } = this.props\n    const fontSize = e.target.value\n\n    if (fontSize) {\n      const editorStateWithFontSize = EditorUtils.toggleInlineStyle(\n        editorState,\n        `font-size: ${fontSize}px;`\n      )\n      setEditorState(editorStateWithFontSize)\n      this.setState({ fontSize })\n    }\n  }\n\n  handleChangeFont (e) {\n    const { editorState, setEditorState } = this.props\n    const fontFamily = e.target.value\n\n    const editorStateWithFontFamily = EditorUtils.toggleInlineStyle(\n      editorState,\n      `font-family: ${fontFamily};`\n    )\n    setEditorState(editorStateWithFontFamily)\n    this.setState({ fontFamily })\n  }\n\n  handleMouseOut () {\n    this.props.focusEditor()\n  }\n\n  render () {\n    return (\n      <div className='font-controls'>\n        <input\n          type='number'\n          value={this.state.fontSize}\n          onChange={this.handleChangeSize.bind(this)}\n          onMouseOut={this.handleMouseOut.bind(this)}\n          className='font-controls-size input col col-3 h5 mx1'\n        />\n        <SelectFontFamily\n          onChange={this.handleChangeFont.bind(this)}\n          value={this.state.fontFamily}\n          onMouseOut={this.handleMouseOut.bind(this)}\n        />\n      </div>\n    )\n  }\n}\n\nFontControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  initialValue: PropTypes.shape({\n    fontSize: PropTypes.number,\n    fontFamily: PropTypes.string\n  })\n\n}\n\nexport const customStyleFn = (style) => {\n  const output = {}\n  const fontSize = style.filter(value => value.startsWith('font-size')).last()\n  if (fontSize) {\n    output.fontSize = fontSize\n      .replace('font-size:', '')\n      .replace(';', '')\n      .trim()\n  }\n  const fontFamily = style.filter(value => value.startsWith('font-family')).last()\n  if (fontFamily) {\n    output.fontFamily = fontFamily\n      .replace('font-family:', '')\n      .replace(';', '')\n      .trim()\n  }\n  return output\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/FontControls/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-draft-js/Toolbar/FontControls/styles.scss\n// module id = ./components/editor-draft-js/Toolbar/FontControls/styles.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { EditorState } from 'draft-js'\n\nexport default class HistoryControls extends Component {\n  handleUndoClick () {\n    const { editorState, setEditorState } = this.props\n\n    if (!editorState.getUndoStack().isEmpty()) {\n      setEditorState(EditorState.undo(editorState))\n      this.props.focusEditor()\n    }\n  }\n\n  handleRedoClick () {\n    const { editorState, setEditorState } = this.props\n    if (!editorState.getRedoStack().isEmpty()) {\n      setEditorState(EditorState.redo(editorState))\n      this.props.focusEditor()\n    }\n  }\n\n  render () {\n    const { buttonClassName } = this.props\n\n    return (\n      <div className='historyControls'>\n        <button type='button' className={buttonClassName} onClick={this.handleUndoClick.bind(this)}>\n          <i className='fa fa-undo regular' />\n        </button>\n        <button type='button' className={buttonClassName} onClick={this.handleRedoClick.bind(this)}>\n          <i className='fa fa-repeat regular' />\n        </button>\n      </div>\n    )\n  }\n}\n\nHistoryControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/HistoryControls/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { Entity } from 'draft-js'\n\nconst Link = ({ children, entityKey }) => {\n  const { href, target } = Entity.get(entityKey).getData()\n\n  return (\n    <a href={href} target={target}>{children}</a>\n  )\n}\n\nLink.propTypes = {\n  entityKey: PropTypes.string.isRequired\n}\n\nexport default Link\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/LinkControls/Link.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\nimport { Entity } from 'draft-js'\n\nimport Link from './Link'\nimport linkStrategy from './linkStrategy'\n\nimport EditorUtils from '../EditorUtils'\nimport getSelectionEntities from '../getSelectionEntities'\n\nconst getSelectionLink = (editorState) => {\n  // Return entity when one and only one selected\n  return getSelectionEntities(editorState, 'LINK').last()\n}\n\nexport default class LinkControls extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      showInput: false,\n      href: '',\n      target: '_self'\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { editorState } = nextProps\n    if (editorState !== this.props.editorState) {\n      const entityLink = getSelectionLink(this.props.editorState)\n      const nextEntityLink = getSelectionLink(editorState)\n      if (nextEntityLink && nextEntityLink !== entityLink) {\n        const entityInstance = Entity.get(nextEntityLink.entityKey)\n        const { href, target } = entityInstance.getData()\n        this.setState({ href, target, hasLink: true })\n      } else {\n        this.setState({ href: '', target: '_self', hasLink: false })\n      }\n    }\n  }\n\n  handleToggleInput () {\n    this.setState({ showInput: !this.state.showInput })\n  }\n\n  confirmLink () {\n    const { editorState, setEditorState } = this.props\n\n    if (this.state.href) {\n      const { href, target } = this.state\n      setEditorState(EditorUtils.toggleLink(editorState, { href, target }))\n    } else {\n      setEditorState(EditorUtils.toggleLink(editorState, null))\n    }\n\n    this.setState({ showInput: false })\n    this.props.focusEditor()\n  }\n\n  removeLink () {\n    const { editorState, setEditorState } = this.props\n    setEditorState(EditorUtils.toggleLink(editorState, null))\n    this.props.focusEditor()\n  }\n\n  handleChangeTarget (e) {\n    this.setState({ target: e.target.checked ? '_blank' : '_self' })\n  }\n\n  render () {\n    const { buttonClassName, popoverClassName } = this.props\n\n    return (\n      <div className='linkControls'>\n        <button className={classnames(buttonClassName, this.state.hasLink ? 'active' : null)} onClick={this.handleToggleInput.bind(this)}>\n          <i className='fa fa-link' />\n        </button>\n        {this.state.showInput && (\n          <div className={popoverClassName}>\n            <div className='flex flex-wrap'>\n              <input\n                type='text'\n                value={this.state.href}\n                onChange={e => this.setState({ href: e.target.value })}\n                className='input col-8 m0'\n              />\n              <button\n                className='btn btn-outline white mx1'\n                onClick={this.confirmLink.bind(this)}\n              >\n                <i className='fa fa-check' />\n              </button>\n            </div>\n            <div className='flex flex-wrap mt1'>\n              <input\n                id='targetId'\n                type='checkbox'\n                onChange={this.handleChangeTarget.bind(this)}\n                value={this.state.target}\n                checked={this.state.target === '_blank'}\n                data-wysihtml5-dialog-field='target'\n              />\n              <label htmlFor='targetId' style={{ cursor: 'pointer', lineHeight: 'normal' }}>Abrir link em nova aba</label>\n            </div>\n          </div>\n        )}\n        <button className={buttonClassName} onClick={this.removeLink.bind(this)}>\n          <i className='fa fa-unlink' />\n        </button>\n      </div>\n    )\n  }\n}\n\nLinkControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string\n}\n\nexport const decorator = {\n  strategy: linkStrategy,\n  component: Link\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/LinkControls/index.js","import { Entity } from 'draft-js'\n\nexport default (contentBlock, callback) => {\n  contentBlock.findEntityRanges(character => {\n    const entityKey = character.getEntity()\n    if (entityKey) {\n      const entityInstance = Entity.get(entityKey)\n      return (\n          entityInstance !== null &&\n          entityInstance.getType() === 'LINK'\n      )\n    }\n    return false\n  }, callback)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/LinkControls/linkStrategy.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport ReactS3Uploader from 'react-s3-uploader'\n\nclass InsertImageButton extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { showInsertDialog: false, isLoading: false, image: null }\n  }\n\n  handleToggleDialog (e) {\n    this.setState({ showInsertDialog: !this.state.showInsertDialog })\n  }\n\n  handleUploadProgress () {\n    this.setState({ isLoading: true })\n  }\n\n  handleUploadError () {\n    this.setState({ isLoading: false })\n  }\n\n  handleUploadFinish (e) {\n    const { handleUploadFinish } = this.props\n    const imgUrl = e.signedUrl.substring(0, e.signedUrl.indexOf('?'))\n    this.setState({ isLoading: false, image: imgUrl })\n\n    handleUploadFinish(imgUrl)\n  }\n\n  handleOpenDialog () {\n    ReactDOM.findDOMNode(this.inputFile).click()\n  }\n\n  render () {\n    const { buttonClassName } = this.props\n\n    return (\n      <div>\n        <button className={buttonClassName} onClick={this.handleOpenDialog.bind(this)}>\n          <i className='fa fa-image' />\n        </button>\n        <ReactS3Uploader\n          signingUrl={`${process.env.API_URL}/uploads`}\n          accept='image/*'\n          onProgress={::this.handleUploadProgress}\n          onError={::this.handleUploadError}\n          onFinish={::this.handleUploadFinish}\n          ref={input => { this.inputFile = input }}\n          style={{\n            position: 'absolute',\n            visibility: 'hidden'\n          }}\n        />\n      </div>\n    )\n  }\n}\n\nInsertImageButton.propTypes = {\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string,\n  handleUploadFinish: PropTypes.func.isRequired\n}\n\nexport default InsertImageButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/MediaControls/InsertImageButton.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\nclass InsertScriptButton extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { showInputDialog: false, script: '' }\n  }\n\n  getTagName (script) {\n    if (script.startsWith('<iframe')) {\n      return 'iframe'\n    } else if (script.startsWith('<script')) {\n      return 'script'\n    }\n    throw new Error('Sorry, script name not permitted')\n  }\n\n  handleInsertScript () {\n    const { handleInsertScript } = this.props\n    const { script } = this.state\n\n    handleInsertScript(this.getTagName(script), script)\n    this.setState({ script: '', showInputDialog: false })\n  }\n\n  render () {\n    const { buttonClassName, popoverClassName } = this.props\n\n    return (\n      <div>\n        <button\n          className={buttonClassName}\n          onClick={e => this.setState({ showInputDialog: !this.state.showInputDialog })}\n        >\n          <i className='fa fa-code' />\n        </button>\n        {!this.state.showInputDialog ? null : (\n          <div className={popoverClassName}>\n            <input\n              type='text'\n              value={this.state.script}\n              onChange={e => this.setState({ script: e.target.value })}\n            />\n            <button\n              className='btn btn-outline white mx1'\n              onClick={this.handleInsertScript.bind(this)}\n            >\n              <i className='fa fa-check' />\n            </button>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nInsertScriptButton.propTypes = {\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string,\n  handleInsertScript: PropTypes.func.isRequired\n}\n\nexport default InsertScriptButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/MediaControls/InsertScriptButton.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { Entity } from 'draft-js'\n\nclass Media extends Component {\n  render () {\n    const { block } = this.props\n\n    const entityKey = block.getEntityAt(0)\n    const entity = entityKey ? Entity.get(entityKey) : undefined\n\n    if (!entity) {\n      // TODO: Remove behavior this code implemented because wasn't\n      // control for media block\n      return <span className='remove-block' />\n    }\n\n    const {\n      // Inside tag a\n      href,\n      target,\n      // Image or Iframe\n      ...mediaProps\n    } = entity.getData()\n\n    const entityType = entity.getType().toLowerCase()\n\n    if (entityType === 'image') {\n      const media = <img {...mediaProps} />\n\n      if (href) {\n        return (\n          <a href={href} target={target || '_blank'}>{media}</a>\n        )\n      }\n      return media\n    } else if (entityType === 'iframe' || entityType === 'script') {\n      // insert script or iframe in div\n      return <div className='noscript' dangerouslySetInnerHTML={{ __html: mediaProps.src }} />\n    } else {\n      throw new Error('Sorry, media type not found.')\n    }\n  }\n}\n\nMedia.propTypes = {\n  // Injected by draft-js in blockRendererFn\n  block: PropTypes.object.isRequired\n}\n\nexport default Media\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/MediaControls/Media.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\nimport { Entity, AtomicBlockUtils } from 'draft-js'\nimport Media from './Media'\n\nimport InsertImageButton from './InsertImageButton'\nimport InsertScriptButton from './InsertScriptButton'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nexport default class MediaControls extends Component {\n  handleInsertMedia (mediaType, source) {\n    const { editorState, setEditorState } = this.props\n\n    const entityKey = Entity.create(mediaType, 'IMMUTABLE', { src: source })\n    const editorStateWithMedia = AtomicBlockUtils.insertAtomicBlock(editorState, entityKey, ' ')\n    setEditorState(editorStateWithMedia)\n\n    this.props.focusEditor()\n  }\n\n  render () {\n    const { buttonClassName, popoverClassName } = this.props\n\n    return (\n      <div className='mediaControls'>\n        <InsertImageButton\n          buttonClassName={buttonClassName}\n          popoverClassName={popoverClassName}\n          handleUploadFinish={source => this.handleInsertMedia('image', source)}\n        />\n        <InsertScriptButton\n          buttonClassName={buttonClassName}\n          popoverClassName={popoverClassName}\n          handleInsertScript={this.handleInsertMedia.bind(this)}\n        />\n      </div>\n    )\n  }\n}\n\nMediaControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string\n}\n\nexport const blockRendererFn = (block) => {\n  if (block.getType() === 'atomic') {\n    return {\n      component: Media\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/MediaControls/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-draft-js/Toolbar/MediaControls/styles.scss\n// module id = ./components/editor-draft-js/Toolbar/MediaControls/styles.scss\n// module chunks = 0","import { Entity } from 'draft-js'\nimport { OrderedSet } from 'immutable'\n\nconst getSelectionEntities = (editorState, entityType) => {\n  // Selection cursor\n  const targetSelection = editorState.getSelection()\n  const endOffset = targetSelection.getEndOffset()\n\n  const currentContent = editorState.getCurrentContent()\n\n  const block = currentContent.getBlockForKey(targetSelection.getStartKey())\n\n  let selectionEntitySet = new OrderedSet()\n\n  block.findEntityRanges(character => {\n    const entityKey = character.getEntity()\n    return entityKey !== null && Entity.get(entityKey).getType() === entityType\n  }, (start, end) => {\n    const isSelected = end >= endOffset && start <= endOffset\n\n    if (isSelected) {\n      selectionEntitySet = selectionEntitySet.add({\n        blockKey: block.getKey(),\n        entityKey: block.getEntityAt(start),\n        start,\n        end\n      })\n    }\n  })\n\n  return selectionEntitySet\n}\n\nexport default getSelectionEntities\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/getSelectionEntities.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nimport { RichUtils, CompositeDecorator } from 'draft-js'\n\nimport ColorControls, { customStyleFn as colorCustomStyleFn } from './ColorControls'\nimport FontControls, { customStyleFn as fontCustomStyleFn } from './FontControls'\nimport HistoryControls from './HistoryControls'\nimport LinkControls, { decorator as linkDecorator } from './LinkControls'\nimport AlignmentControls from './AlignmentControls'\nimport MediaControls, { blockRendererFn as mediaBlockRendererFn } from './MediaControls'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nclass Toolbar extends Component {\n  toggleInlineStyle (style) {\n    const { editorState, setEditorState } = this.props\n    setEditorState(RichUtils.toggleInlineStyle(editorState, style))\n    this.props.focusEditor()\n  }\n\n  toggleBlockType (blockType) {\n    const { editorState, setEditorState } = this.props\n    setEditorState(RichUtils.toggleBlockType(editorState, blockType))\n    this.props.focusEditor()\n  }\n\n  hasInlineStyle (inlineStyle) {\n    const { editorState } = this.props\n    const hasStyle = editorState.getCurrentInlineStyle().filter(style => style === inlineStyle)\n    return hasStyle.size > 0 ? 'active' : null\n  }\n\n  hasBlockType (blockType) {\n    const { editorState } = this.props\n    const selectionState = editorState.getSelection()\n    const block = editorState.getCurrentContent().getBlockForKey(selectionState.getStartKey())\n    return block.getType() === blockType ? 'active' : null\n  }\n\n  render () {\n    const {\n      editorState,\n      setEditorState,\n      focusEditor,\n      buttonClassName,\n      popoverClassName,\n      theme,\n      style\n    } = this.props\n    const controlsProps = { editorState, setEditorState, focusEditor }\n\n    return (\n      <div\n        className='toolbar absolute full-width top-0 left-0 bg-darken-4 flex flex-wrap'\n        style={style}\n      >\n        <div>\n          {/* InlineStyle buttons */}\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasInlineStyle('BOLD'))}\n            onClick={() => this.toggleInlineStyle('BOLD')}\n          >\n            <i className='fa fa-bold' />\n          </button>\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasInlineStyle('ITALIC'))}\n            onClick={() => this.toggleInlineStyle('ITALIC')}\n          >\n            <i className='fa fa-italic' />\n          </button>\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasInlineStyle('UNDERLINE'))}\n            onClick={() => this.toggleInlineStyle('UNDERLINE')}\n          >\n            <i className='fa fa-underline' />\n          </button>\n          {/* BlockType buttons */}\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasBlockType('ordered-list-item'))}\n            onClick={() => this.toggleBlockType('ordered-list-item')}\n          >\n            <i className='fa fa-list-ol' />\n          </button>\n          <button\n            type='button'\n            className={classnames(buttonClassName, this.hasBlockType('unordered-list-item'))}\n            onClick={() => this.toggleBlockType('unordered-list-item')}\n          >\n            <i className='fa fa-list-ul' />\n          </button>\n        </div>\n        <LinkControls\n          buttonClassName={buttonClassName}\n          popoverClassName={popoverClassName}\n          {...controlsProps}\n        />\n        <ColorControls\n          theme={theme}\n          buttonClassName={buttonClassName}\n          {...controlsProps}\n        />\n        <FontControls\n          initialValue={{ fontSize: 15, fontFamily: '' }}\n          {...controlsProps}\n        />\n        <HistoryControls\n          buttonClassName={buttonClassName}\n          {...controlsProps}\n        />\n        <AlignmentControls\n          buttonClassName={buttonClassName}\n          {...controlsProps}\n        />\n        <MediaControls\n          buttonClassName={buttonClassName}\n          popoverClassName={popoverClassName}\n          {...controlsProps}\n        />\n      </div>\n    )\n  }\n}\n\nToolbar.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  setEditorState: PropTypes.func.isRequired,\n  focusEditor: PropTypes.func.isRequired,\n  buttonClassName: PropTypes.string,\n  popoverClassName: PropTypes.string,\n  theme: PropTypes.string\n}\n\nexport const toolbarEditorProps = {\n  blockRendererFn: mediaBlockRendererFn,\n  customStyleFn: (style) => {\n    return {\n      ...fontCustomStyleFn(style),\n      ...colorCustomStyleFn(style)\n    }\n  }\n}\n\nexport const decorator = new CompositeDecorator([\n  linkDecorator\n])\n\nexport { default as getBlockAlignment } from './AlignmentControls/getBlockAlignment'\n\nexport default Toolbar\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-draft-js/Toolbar/styles.scss\n// module id = ./components/editor-draft-js/Toolbar/styles.scss\n// module chunks = 0","export default {\n  meurio: [\n    '#039046',\n    '#2BBAE2',\n    '#FFCF01',\n    '#EF7F3A',\n    '#DF499A',\n    '#8C78B7',\n    '#353A3D'\n  ],\n  meurecife: [\n    '#0FA7AC',\n    '#F0593E',\n    '#F4ED2F'\n  ],\n  minhablumenau: [\n    '#05A9CC',\n    '#D6DF21',\n    '#4B4C4D'\n  ],\n  minhacampinas: [\n    '#12868B',\n    '#FCB814',\n    '#D01F53'\n  ],\n  minhacuritiba: [\n    '#F9A51B',\n    '#1EABB4',\n    '#3C4F56'\n  ],\n  minhagaropaba: [\n    '#00ABCD',\n    '#BBD76A',\n    '#353B40'\n  ],\n  minhaouropreto: [\n    '#FDC93B',\n    '#47928D',\n    '#45494D'\n  ],\n  minhaportoalegre: [\n    '#F68B1F',\n    '#F15622',\n    '#1A9CAC'\n  ],\n  minhasampa: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627'\n  ],\n  nossascidades: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ],\n  nuestrasciudades: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ],\n  ourcities: [\n    '#D51067',\n    '#FA9ABA',\n    '#646569',\n    '#CAC8C8',\n    '#00C4B3',\n    '#00A7CE',\n    '#8C84D6',\n    '#FFC627',\n    '#039046',\n    '#2bbae2',\n    '#ffcf01',\n    '#ef7f3a',\n    '#ed1c24',\n    '#df499a',\n    '#8c78b7',\n    '#353a3d',\n    '#0fa7ac',\n    '#f0593e',\n    '#f4ed2f',\n    '#05a9cc',\n    '#d6df21',\n    '#4b4c4d',\n    '#12868b',\n    '#fcb814',\n    '#d01f53',\n    '#f9a51b',\n    '#1eabb4',\n    '#3c4f56',\n    '#00abcd',\n    '#bbd76a',\n    '#353b40',\n    '#fdc93b',\n    '#47928d',\n    '#fdc93b',\n    '#47928d',\n    '#45494d',\n    '#f68b1f',\n    '#f15622',\n    '#1a9cac',\n    '#ffffff'\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/Toolbar/themes.js","import { ContentState, convertToRaw } from 'draft-js'\n\nexport default text => {\n  const contentState = ContentState.createFromText(text)\n  const rawContentState = convertToRaw(contentState)\n  return JSON.stringify(rawContentState)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/create-editor-content.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { OrderedMap } from 'immutable'\nimport {\n  Editor,\n  EditorState,\n  ContentBlock,\n  ContentState,\n  convertFromHTML,\n  convertToRaw,\n  convertFromRaw,\n  genKey\n} from 'draft-js'\n\n// Current module dependencies\nimport Toolbar, {\n  toolbarEditorProps,\n  decorator,\n  getBlockAlignment\n} from './Toolbar'\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nclass RebooEditor extends Component {\n  constructor (props) {\n    super(props)\n\n    let editorState = EditorState.createEmpty(decorator)\n    if (this.props.value) {\n      let contentState\n      if (typeof this.props.value === 'string') {\n        // initialValue is a string with syntax HTML, we need transform in contentState\n        contentState = ContentState.createFromBlockArray(convertFromHTML(this.props.value))\n      } else if (typeof this.props.value === 'object') {\n        contentState = convertFromRaw(this.props.value)\n      } else {\n        throw new Error('Value invalid')\n      }\n\n      editorState = EditorState.createWithContent(contentState, decorator)\n    }\n\n    this.state = { editorState, hasFocus: false }\n  }\n\n  focus () {\n    this.setState({\n      hasFocus: true\n    }, () => setTimeout(() => this.refs.editor.focus()))\n  }\n\n  onChangeEditorState (editorState) {\n    this.setState({ editorState })\n  }\n\n  handleKeyCommand (command) {\n    const { editorState } = this.state\n    const currentBlock = editorState\n      .getCurrentContent()\n      .getBlockForKey(editorState.getSelection().getStartKey())\n    // Modify behavior to insert new line\n    if (command === 'split-block' && currentBlock.getType() === 'atomic') {\n      // Create a contentBlock done to be insert\n      const contentBlock = new ContentBlock({\n        key: genKey(),\n        type: 'unstyled'\n      })\n      const contentBlockMap = new OrderedMap([\n        [contentBlock.getKey(), contentBlock]\n      ])\n\n      const currentContent = editorState.getCurrentContent()\n      const currentBlockMap = currentContent.getBlockMap()\n\n      // split blocks with current block\n      const skipCurrent = block => block === currentBlock\n      const beforeBlocks = currentBlockMap.toSeq().takeUntil(skipCurrent)\n      const afterBlocks = currentBlockMap\n        .toSeq()\n        .skipUntil(skipCurrent)\n        .rest()\n\n      let blockMap\n      if (editorState.getSelection().getAnchorOffset() < editorState.getSelection().getFocusOffset()) {\n        // mount block map with new block to insert in place of old block\n        blockMap = beforeBlocks.concat(\n          contentBlockMap.toSeq(),\n          afterBlocks\n        ).toOrderedMap()\n      } else {\n        // mount block map with new block to insert before\n        blockMap = beforeBlocks.concat(\n          new OrderedMap([[currentBlock.getKey(), currentBlock]]).toSeq(),\n          contentBlockMap.toSeq(),\n          afterBlocks\n        ).toOrderedMap()\n      }\n\n      const content = currentContent.merge({ blockMap })\n      const editorStateWithLineBreak = EditorState.push(editorState, content, 'insert-new-line')\n\n      this.onChangeEditorState(EditorState.forceSelection(\n        editorStateWithLineBreak,\n        editorStateWithLineBreak.getSelection().merge({\n          anchorKey: contentBlock.getKey(),\n          anchorOffset: 0,\n          isBackward: false\n        })\n      ))\n\n      return true\n    }\n    return false\n  }\n\n  blockStyleFn (block) {\n    // TODO: Move to control and receive like plugin\n    const { editorState } = this.state\n\n    let alignment = getBlockAlignment(block)\n    if (!block.getText()) {\n      let previousBlock = editorState.getCurrentContent().getBlockBefore(block.getKey())\n      if (previousBlock) {\n        alignment = getBlockAlignment(previousBlock)\n      }\n    }\n    return `alignment--${alignment}`\n  }\n\n  handleBeforeInput (chars) {\n    const { editorState } = this.state\n    const selection = editorState.getSelection()\n    const block = editorState.getCurrentContent().getBlockForKey(selection.getStartKey())\n    if (chars === ' ' && block.getType() === 'atomic') {\n      this.handleKeyCommand('split-block')\n      return true\n    }\n    return false\n  }\n\n  save () {\n    this.props.handleSave(convertToRaw(this.state.editorState.getCurrentContent()))\n    this.setState({ hasFocus: false })\n  }\n\n  render () {\n    // Injected root container props\n    const { containerStyle } = this.props\n    // Injected Toolbar props\n    const { toolbarStyle, toolbarContainerStyle, theme } = this.props\n    // Injected Editor props\n    const { editorStyle, focusStyle, readOnly } = this.props\n\n    const hasFocusStyle = this.state.hasFocus && !readOnly\n      ? focusStyle || { outline: '1px solid blue' }\n      : {}\n\n    return (\n      <div className='reboo-editor' style={containerStyle}>\n        {!readOnly ? (\n          <div\n            className='toolbar-container'\n            style={{ ...toolbarContainerStyle, display: this.state.hasFocus ? 'block' : 'none' }}\n          >\n            <Toolbar\n              theme={theme}\n              buttonClassName='btn white p2'\n              popoverClassName='absolute white p2 bg-darken-4 rounded-bottom'\n              editorState={this.state.editorState}\n              setEditorState={this.onChangeEditorState.bind(this)}\n              focusEditor={this.focus.bind(this)}\n              style={toolbarStyle}\n            />\n            <div className='outside' onClick={::this.save} />\n          </div>\n        ) : null}\n        <div\n          className='editor'\n          style={{ ...editorStyle, ...hasFocusStyle }}\n        >\n          <div onClick={this.focus.bind(this)}>\n            <Editor\n              ref='editor'\n              readOnly={readOnly}\n              editorState={this.state.editorState}\n              onChange={this.onChangeEditorState.bind(this)}\n              blockStyleFn={this.blockStyleFn.bind(this)}\n              handleKeyCommand={this.handleKeyCommand.bind(this)}\n              handleBeforeInput={this.handleBeforeInput.bind(this)}\n              {...toolbarEditorProps}\n            />\n            <div style={{ 'clear': 'both' }} />\n          </div>\n          {!readOnly ? (\n            <div\n              className='right mt1'\n              style={{\n                display: this.state.hasFocus ? 'block' : 'none',\n                width: '100%',\n                position: 'relative'\n              }}\n            >\n              <button\n                className='btn caps bg-darken-4 white rounded'\n                onClick={::this.save}\n              >\n                Salvar\n              </button>\n              <button\n                className='btn bg-darken-4 white rounded'\n                style={{\n                  position: 'absolute',\n                  right: '0'\n                }}\n                onClick={this.props.handleDelete}\n              >\n                <i className='fa fa-trash' />\n              </button>\n            </div>\n          ) : null}\n        </div>\n\n      </div>\n    )\n  }\n}\n\nRebooEditor.propTypes = {\n  handleSave: PropTypes.func,\n  readOnly: PropTypes.bool.isRequired,\n  value: PropTypes.any,\n  theme: PropTypes.string\n}\n\nRebooEditor.defaultProps = {\n  readOnly: false\n}\n\nexport default RebooEditor\n\nexport { default as createEditorContent } from './create-editor-content'\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-draft-js/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-draft-js/styles.scss\n// module id = ./components/editor-draft-js/styles.scss\n// module chunks = 0","//\n// Toolbar\n//\nexport { default as WYSIHTMLToolbar } from './wysihtml-toolbar'\nexport { default as WYSIHTMLToolbarColorPicker } from './wysihtml-toolbar-color-picker'\nexport { default as WYSIHTMLToolbarCreateLink } from './wysihtml-toolbar-create-link'\nexport { default as WYSIHTMLToolbarInsertHTML } from './wysihtml-toolbar-insert-html'\nexport { default as WYSIHTMLToolbarInsertImage } from './wysihtml-toolbar-insert-image'\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/index.js","import React from 'react'\n\nimport { ColorPicker } from '~client/components/color-picker'\n\nif (require('exenv').canUseDOM) require('./wysihtml-toolbar-color-picker.scss')\n\nclass WYSIHTMLToolbarColorPicker extends React.Component {\n  constructor () {\n    super()\n    this.state = { color: '#000000' }\n  }\n  handleChange ({ hex }) {\n    this.setState({ color: hex })\n  }\n\n  render () {\n    return (\n      <div\n        data-wysihtml5-dialog='foreColorStyle'\n        style={{ display: 'none', top: '36px', right: '105px' }}\n        className='white p2 absolute'\n      >\n        <input\n          type='text'\n          data-wysihtml5-dialog-field='color'\n          value={this.state.color}\n          onChange={::this.handleChange}\n          className='hide'\n        />\n        <ColorPicker\n          onChangeColor={::this.handleChange}\n          color={this.state.color}\n        />\n\n        <div className='save-button bg-atomic p1'>\n          <a\n            data-wysihtml5-dialog-action='save'\n            className='btn block center bg-aqua caps rounded'\n          >\n            Aplicar cor\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WYSIHTMLToolbarColorPicker\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar-color-picker.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editor-wysihtml/wysihtml-toolbar-color-picker.scss\n// module id = ./components/editor-wysihtml/wysihtml-toolbar-color-picker.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\n\n//\n// The content widget module it is not the perfect module to provide these actions.\n// Needs to refact to more abstract component like global reusable components module.\n//\nimport * as ContentActions from '~client/mobilizations/widgets/__plugins__/content/action-creators'\n\n// You may will see the warning below:\n// Warning: Stateless function components cannot be given refs (See ref \"wrappedInstance\" in\n// WYSIHTMLToolbarCreateLink created by Connect(WYSIHTMLToolbarCreateLink)). Attempts to\n// access this ref will fail.\n//\n// Upgrade React Redux to version 4 will should go away this warning.\n// See: https://github.com/reactjs/react-redux/issues/141#issuecomment-148358733\n\nexport const WYSIHTMLToolbarCreateLink = ({ editorLinkTargetType, setEditorLinkTargetType }) => (\n  <div\n    data-wysihtml5-dialog='createLink'\n    className='white p2 bg-darken-3'\n    style={{ display: 'none' }}\n  >\n    <input\n      type='text'\n      data-wysihtml5-dialog-field='href'\n      defaultValue='http://'\n      className='input mr1'\n    />\n    <a data-wysihtml5-dialog-action='save' className='btn btn-outline'>\n      Inserir\n    </a>\n    <span className='ml2'>\n      <input\n        type='checkbox'\n        name='editorLinkTargetType'\n        onChange={e => setEditorLinkTargetType(e.target.checked ? '_blank' : '_self')}\n        value={editorLinkTargetType}\n        data-wysihtml5-dialog-field='target'\n      />\n      <label htmlFor='editorLinkTargetType'>\n        Abrir link em nova aba\n      </label>\n    </span>\n  </div>\n)\n\nWYSIHTMLToolbarCreateLink.propTypes = {\n  editorLinkTargetType: PropTypes.string.isRequired\n}\n// TODO: Replace by selectors\nconst mapStateToProps = state => ({\n  editorLinkTargetType: state.mobilizations.plugins.content.editorLinkTargetType\n})\n\nexport default connect(mapStateToProps, ContentActions)(WYSIHTMLToolbarCreateLink)\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar-create-link.js","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nclass WYSIHTMLToolbarInsertHTML extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = { insertHTMLContent: null }\n  }\n\n  handleInsertHTMLChange (e) {\n    this.setState({ insertHTMLContent: e.target.value })\n  }\n\n  handleInsertHTMLClick () {\n    // When the insert button is pressed, the insertHTML dialog is not being closed. So we are forcing it\n    // by simulating a click in the cancel button\n    ReactDOM.findDOMNode(this.refs.cancelButton).click()\n  }\n\n  render () {\n    return (\n      <div\n        data-wysihtml5-dialog='insertHTMLForm'\n        style={{ display: 'none' }}\n        className='white p2 bg-darken-3'\n      >\n        <label className='col mr1' htmlFor='embed' style={{ lineHeight: '40px' }}>\n          Incorporar\n        </label>\n        <input\n          type='text'\n          name='embed'\n          className='input mr2 ml1 col col-7'\n          value={this.state.insertHTMLContent}\n          onChange={::this.handleInsertHTMLChange}\n        />\n        <a\n          data-wysihtml5-command='insertHTML'\n          data-wysihtml5-command-value={this.state.insertHTMLContent}\n          onClick={::this.handleInsertHTMLClick}\n          className='btn btn-outline mr1'>\n          Inserir\n        </a>\n        <a\n          ref='cancelButton'\n          data-wysihtml5-dialog-action='cancel'\n          className='btn btn-transparent'>\n          Cancelar\n        </a>\n      </div>\n    )\n  }\n}\n\nexport default WYSIHTMLToolbarInsertHTML\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar-insert-html.js","import React from 'react'\nimport ReactS3Uploader from 'react-s3-uploader'\n\nclass WYSIHTMLToolbarInsertImage extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      image: null,\n      isLoading: false\n    }\n  }\n\n  handleUploadProgress () {\n    this.setState({ isLoading: true })\n  }\n\n  handleUploadError () {\n    this.setState({ isLoading: false })\n  }\n\n  handleUploadFinish (e) {\n    this.setState({\n      image: e.signedUrl.substring(0, e.signedUrl.indexOf('?')),\n      isLoading: false\n    })\n  }\n\n  render () {\n    return (\n      <div\n        data-wysihtml5-dialog='insertImage'\n        style={{ display: 'none' }}\n        className='white p2 bg-darken-3'\n      >\n        <div>\n          <ReactS3Uploader\n            className='input col-11 inline-block'\n            signingUrl={`${process.env.API_URL}/uploads`}\n            accept='image/*'\n            onProgress={::this.handleUploadProgress}\n            onError={::this.handleUploadError}\n            onFinish={::this.handleUploadFinish}\n          />\n          <div\n            className='col-1 center'\n            style={{ display: this.state.isLoading ? 'inline-block' : 'none' }}\n          >\n            <i className='fa fa-refresh fa-spin fa-w white' />\n          </div>\n        </div>\n\n        <input data-wysihtml5-dialog-field='src' value={this.state.image} type='hidden' />\n        <label>\n          <span className='mr1'>Alinhamento</span>\n          <select\n            data-wysihtml5-dialog-field='className'\n            className='select inline-block col-2 mr2 mb0'\n          >\n            <option value='' />\n            <option value='left'>Esquerda</option>\n            <option value='right'>Direita</option>\n          </select>\n        </label>\n        <a data-wysihtml5-dialog-action='save' className='btn btn-outline white mr1'>Inserir</a>\n        <a data-wysihtml5-dialog-action='cancel' className='btn btn-transparent white'>Cancelar</a>\n      </div>\n    )\n  }\n}\n\nexport default WYSIHTMLToolbarInsertImage\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar-insert-image.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nimport WYSIHTMLToolbarInsertImage from './wysihtml-toolbar-insert-image'\nimport WYSIHTMLToolbarInsertHTML from './wysihtml-toolbar-insert-html'\nimport WYSIHTMLToolbarCreateLink from './wysihtml-toolbar-create-link'\nimport WYSIHTMLToolbarColorPicker from './wysihtml-toolbar-color-picker'\n\nimport { DropdownMenu, DropdownMenuItem } from '~client/components/dropdown-menu'\n\nconst renderFontsizeDropdownMenuItem = (size, className) => (\n  <DropdownMenuItem>\n    <span\n      className={classnames('block button button-transparent white p2', className)}\n      data-wysihtml5-command='fontSize'\n      data-wysihtml5-command-value={className}\n    >\n      {size}\n    </span>\n  </DropdownMenuItem>\n)\n\nclass WYSIHTMLToolbar extends React.Component {\n  render () {\n    const { elementId, className, style, buttonClassName } = this.props\n\n    return (\n      <div id={elementId} className={className} style={style}>\n        <a data-wysihtml5-command='createLink' className={buttonClassName}>\n          <i className='fa fa-link' />\n        </a>\n        <a data-wysihtml5-command='removeLink' className={buttonClassName}>\n          <i className='fa fa-unlink' />\n        </a>\n        <a data-wysihtml5-command='insertImage' className={buttonClassName}>\n          <i className='fa fa-image' />\n        </a>\n        <a data-wysihtml5-command='insertHTMLForm' className={buttonClassName}>\n          <i className='fa fa-code' />\n        </a>\n        <a data-wysihtml5-command='insertUnorderedList' className={buttonClassName}>\n          <i className='fa fa-list-ul' />\n        </a>\n        <a data-wysihtml5-command='insertOrderedList' className={buttonClassName}>\n          <i className='fa fa-list-ol' />\n        </a>\n        <a data-wysihtml5-command='alignLeftStyle' className={buttonClassName}>\n          <i className='fa fa-align-left' />\n        </a>\n        <a data-wysihtml5-command='alignCenterStyle' className={buttonClassName}>\n          <i className='fa fa-align-center' />\n        </a>\n        <a data-wysihtml5-command='alignRightStyle' className={buttonClassName}>\n          <i className='fa fa-align-right regular' />\n        </a>\n        <a data-wysihtml5-command='undo' className={buttonClassName}>\n          <i className='fa fa-undo regular' />\n        </a>\n        <a data-wysihtml5-command='redo' className={buttonClassName}>\n          <i className='fa fa-repeat regular' />\n        </a>\n        <a data-wysihtml5-command='bold' className={buttonClassName}>\n          <i className='fa fa-bold' />\n        </a>\n        <a data-wysihtml5-command='italic' className={buttonClassName}>\n          <i className='fa fa-italic' />\n        </a>\n        <DropdownMenu\n          icon='text-height'\n          wrapperClassName='inline'\n          buttonClassName='btn btn-transparent white p2'\n          menuClassName='bg-darken-4 left-0'\n        >\n          {renderFontsizeDropdownMenuItem(8, 'h6')}\n          {renderFontsizeDropdownMenuItem(16, 'h5')}\n          {renderFontsizeDropdownMenuItem(24, 'h4')}\n          {renderFontsizeDropdownMenuItem(48, 'h3')}\n          {renderFontsizeDropdownMenuItem(72, 'h2')}\n          {renderFontsizeDropdownMenuItem(80, 'h1')}\n        </DropdownMenu>\n        <a data-wysihtml5-command='foreColorStyle' className={buttonClassName}>\n          <i className='fa fa-eyedropper' />\n        </a>\n        <WYSIHTMLToolbarInsertImage />\n        <WYSIHTMLToolbarCreateLink />\n        <WYSIHTMLToolbarInsertHTML />\n        <WYSIHTMLToolbarColorPicker />\n      </div>\n    )\n  }\n}\n\nWYSIHTMLToolbar.propTypes = {\n  elementId: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  buttonClassName: PropTypes.string\n}\n\nexport default WYSIHTMLToolbar\n\n\n\n// WEBPACK FOOTER //\n// ./components/editor-wysihtml/wysihtml-toolbar.js","export { default as ZendeskWidget } from './zendesk-widget'\nexport { default as Pagarme } from './pagarme'\n\n\n\n// WEBPACK FOOTER //\n// ./components/external-services/index.js","import React, { Component } from 'react'\nimport exenv from 'exenv'\n\nclass Pagarme extends Component {\n  componentWillMount () {\n    if (exenv.canUseDOM) {\n      const script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.src = 'https://assets.pagar.me/js/pagarme.js'\n      script.async = true\n      document.body.appendChild(script)\n    }\n  }\n\n  render () {\n    return <span />\n  }\n}\n\nexport default Pagarme\n\n\n\n// WEBPACK FOOTER //\n// ./components/external-services/pagarme.js","import React, { Component } from 'react'\nimport exenv from 'exenv'\n\nclass ZendeskWidget extends Component {\n  componentWillMount () {\n    if (exenv.canUseDOM) {\n      const script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.text = `\nwindow.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement(\"iframe\");\nwindow.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,\nr.src=\"javascript:false\",r.title=\"\",r.role=\"presentation\",(r.frameElement||r).style\n.cssText=\"display: none\",d=document.getElementsByTagName(\"script\"),d=d[d.length-1],d.parentNode\n.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(e){n=document.domain,r\n.src='javascript:var d=document.open();d.domain=\"'+n+'\";void(0);',o=s}o.open()._l=function(){\nvar o=this.createElement(\"script\");n&&(this.domain=n),o.id=\"js-iframe-async\",o.src=e,\nthis.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write(\n'<body onload=\"document._l();\">'),o.close()}(\n\"https://assets.zendesk.com/embeddable_framework/main.js\",\"nossas.zendesk.com\")`\n      document.body.appendChild(script)\n    }\n  }\n\n  render () {\n    return <span />\n  }\n}\n\nexport default ZendeskWidget\n\n\n\n// WEBPACK FOOTER //\n// ./components/external-services/zendesk-widget.js","export const FILTERABLE_SEARCH_BAR_SET_LIST = 'FILTERABLE_SEARCH_BAR_SET_LIST'\nexport const setFilterableSearchBarList = list => ({ type: FILTERABLE_SEARCH_BAR_SET_LIST, list })\n\n\n\n// WEBPACK FOOTER //\n// ./components/filterable-search-bar/actions.js","import { FILTERABLE_SEARCH_BAR_SET_LIST } from './actions'\n\nexport const initialState = {\n  list: []\n}\n\n//\n// @todo: Make this reducer reusable, accepting a parameter with a prefix of\n//        action to differs each other. For now, it will be used only inside\n//        mobilization's templates reducers.\n//\nconst FilterableSearchBarReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case FILTERABLE_SEARCH_BAR_SET_LIST:\n      return { ...state, list: action.list }\n    default:\n      return state\n  }\n}\n\nexport default FilterableSearchBarReducer\n\n\n\n// WEBPACK FOOTER //\n// ./components/filterable-search-bar/reducers.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst Error = ({ message, classes, styles }) => (\n  <div\n    className={classnames('p1 border-left border-red mb1 rounded-right red bold', classes)}\n    style={{ ...styles }}>\n    {message}\n  </div>\n)\n\nError.propTypes = {\n  message: PropTypes.string.isRequired,\n  classes: PropTypes.array,\n  styles: PropTypes.object\n}\n\nError.defaultProps = {\n  classes: [],\n  styles: { backgroundColor: '#f9cace', borderWidth: '8px' }\n}\n\nexport default Error\n\n\n\n// WEBPACK FOOTER //\n// ./components/form-util/error.js","export { default as Error } from './error'\nexport { default as Input } from './input'\nexport { default as InputCounter } from './input-counter'\n\n\n\n// WEBPACK FOOTER //\n// ./components/form-util/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst InputCounter = ({ maxLength, length, className }) => {\n  const diff = maxLength - length\n\n  return (\n    <span className={classnames(className, { red: diff < 11 })}>\n      {diff}\n    </span>\n  )\n}\n\nInputCounter.propTypes = {\n  maxLength: PropTypes.number.isRequired,\n  length: PropTypes.number,\n  className: PropTypes.oneOfType([PropTypes.array, PropTypes.string])\n}\n\nexport default InputCounter\n\n\n\n// WEBPACK FOOTER //\n// ./components/form-util/input-counter.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst Input = ({ uid, type, label, placeholder, onChange, required, show, classes }) => (\n  <div className='mb2 form-group' style={{ display: !show ? 'none' : 'block' }}>\n    <label\n      className='caps bold mb1 inline-block white'\n      style={{\n        fontSize: '.75rem',\n        fontWeight: 600,\n        marginBottom: '1rem',\n        color: 'white'\n      }}\n    >\n      {label}{required ? ' *' : ''}\n    </label>\n    <input\n      id={'input-' + uid}\n      className={classnames('input block border border-gray94', classes)}\n      onChange={onChange}\n      placeholder={placeholder}\n      type={type}\n      required={required}\n    />\n  </div>\n)\n\nInput.propTypes = {\n  uid: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  required: PropTypes.bool,\n  show: PropTypes.bool,\n  classes: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}\n\nInput.defaultProps = {\n  onChange: () => {},\n  required: false,\n  show: true,\n  classes: []\n}\n\nexport default Input\n\n\n\n// WEBPACK FOOTER //\n// ./components/form-util/input.js","import React from 'react'\n\nconst Button = ({ children, type, className, pristine, submitting }) => (\n  <button\n    type={type}\n    className={className}\n    disabled={type === 'submit' ? pristine || submitting : false}\n  >\n    {children}\n  </button>\n)\n\nButton.defaultProps = {\n  type: 'button'\n}\n\nexport default Button\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/button.js","import React from 'react'\n\nexport const cloneElement = (children, props) => {\n  if (children.length > 1) {\n    return children.map(child => React.cloneElement(child, props))\n  }\n  return React.cloneElement(children, props)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/clone-element.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\nimport ColorPickerTheme from '~client/components/color-picker'\n\nclass ColorPicker extends Component {\n  getRGBA (color) {\n    if (typeof color === 'object') {\n      const { rgb: { r, g, b, a } } = color\n      return `rgba(${r},${g},${b},${a})`\n    } else if (typeof color === 'string') {\n      const regex = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/\n      const rgba = color.match(regex)\n      if (rgba) {\n        return { r: rgba[1], g: rgba[2], b: rgba[3], a: rgba[4] }\n      }\n    }\n    return color\n  }\n\n  render () {\n    const formGroup = this.context.$formGroup\n    const { value, onChange } = formGroup || {}\n    const { className, ...props } = this.props\n\n    return (\n      <div className={classnames('mt1 mb3', className)}>\n        <ColorPickerTheme\n          {...props}\n          onChangeColor={color => onChange(this.getRGBA(color))}\n          color={this.getRGBA(value)}\n        />\n      </div>\n    )\n  }\n}\n\nColorPicker.contextTypes = {\n  $formGroup: PropTypes.object\n}\n\nColorPicker.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  theme: PropTypes.string,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}\n\nexport default ColorPicker\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/color-picker.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { FormattedMessage, intlShape, injectIntl } from 'react-intl'\nimport classnames from 'classnames'\n\nexport class ControlButtons extends Component {\n  render () {\n    const { $formRedux: { floatButton, successMessage } } = this.context\n    const { onCancel, submitting, submitted, dirty, formInline, valid, intl } = this.props\n    return (\n      <div className={classnames(\n          'control-buttons',\n          formInline ? 'inline-block ml1' : 'flex flex-wrap mt1'\n      )}>\n        {onCancel && (\n          <button\n            className='btn h3 col-4 ml2 white mt1 mb2 p2 rounded bg-gray'\n            onClick={onCancel}\n          >\n            <FormattedMessage\n              id='components--control-buttons.cancel'\n              defaultMessage='Voltar'\n            />\n          </button>\n        )}\n        <input\n          type='submit'\n          className={classnames(\n            'btn h3 mt1 mb2 white p2 rounded',\n            !valid ? 'bg-gray95' : 'bg-pagenta',\n            onCancel ? 'col-7 ml3' : 'col-12 mx2'\n          )}\n          disabled={!valid || submitting || !dirty}\n          value={(submitting\n            ? intl.formatMessage({\n              id: 'components--control-buttons.input.value.saving',\n              defaultMessage: 'Salvando...'\n            })\n            : floatButton || intl.formatMessage({\n              id: 'components--control-buttons.input.value.default',\n              defaultMessage: 'Continuar'\n            })\n          )}\n        />\n        {submitted && !!successMessage && (\n          <div className='success-message olive h4 px2 mt2'>\n            {successMessage}\n            <i className='fa fa-check-circle olive' />\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nControlButtons.contextTypes = {\n  $formRedux: PropTypes.object\n}\n\nControlButtons.propTypes = {\n  submitting: PropTypes.bool,\n  submitted: PropTypes.bool.isRequired,\n  dirty: PropTypes.bool,\n  valid: PropTypes.bool,\n  formInline: PropTypes.bool.isRequired,\n  intl: intlShape.isRequired\n}\n\nControlButtons.defaultProps = {\n  formInline: false\n}\n\nexport default injectIntl(ControlButtons)\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/control-buttons.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\n// Global module dependencies\nimport { InputCounter } from '~client/components/form-util'\n\n// Current module dependencies\nimport { Raise } from '~client/components/forms'\n\nclass ControlLabel extends Component {\n  render () {\n    const formGroup = this.context.$formGroup\n    const controlId = formGroup && formGroup.controlId\n    const error = formGroup && formGroup.error\n    const touched = formGroup && formGroup.touched\n\n    const { children, htmlFor = controlId, className, maxLength, hideError, ...props } = this.props\n\n    return (\n      <label style={{ cursor: 'pointer' }} htmlFor={htmlFor} {...props}>\n        <span className={classnames('caps', className)}>{children}</span>\n        {!maxLength ? null : (\n          <InputCounter\n            className='right regular'\n            maxLength={maxLength}\n            length={formGroup.value ? formGroup.value.length : 0}\n          />\n        )}\n        {error && touched && !hideError && <Raise error={error} />}\n      </label>\n    )\n  }\n}\n\nControlLabel.contextTypes = {\n  $formGroup: PropTypes.object\n}\n\nControlLabel.propTypes = {\n  htmlFor: PropTypes.string\n}\n\nexport default ControlLabel\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/control-label.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nimport { ControlButtons } from './'\n\nconst tagsShouldCleanup = ['input', 'textarea', 'select']\n\nclass FormControl extends Component {\n  render () {\n    const {\n      componentClass: Component,\n      containerClassName,\n      className,\n      style,\n      submitted,\n      addonText,\n      children,\n      content,\n      ...props\n    } = this.props\n    const {\n      $formRedux: { formInline, submitting, dirty },\n      $formGroup: { controlId, ...field }\n    } = this.context\n\n    const fieldProps = Object.assign({}, field)\n    if (tagsShouldCleanup.indexOf(Component) !== -1) {\n      delete fieldProps.layout\n      delete fieldProps.error\n      delete fieldProps.touched\n      delete fieldProps.valid\n    }\n\n    return (\n      <div className={classnames(\n        containerClassName,\n        addonText !== undefined ? 'input-group' : ''\n      )}>\n        <Component\n          {...props}\n          {...fieldProps}\n          id={controlId}\n          className={classnames(\n            'form-control-input block lightestgray',\n            Component,\n            formInline ? 'inline-block' : '',\n            addonText !== undefined ? 'form-control-input-addon' : '',\n            className\n          )}\n          style={style}\n        >\n          {children}\n        </Component>\n        {addonText && <span className='text-addon'>{addonText}</span>}\n        {content}\n        {formInline && (\n          <ControlButtons {...{ submitted, submitting, dirty, showCancel: false, formInline }} />\n        )}\n      </div>\n    )\n  }\n}\n\nFormControl.contextTypes = {\n  $formRedux: PropTypes.shape({\n    formInline: PropTypes.bool,\n    submitting: PropTypes.bool,\n    dirty: PropTypes.bool\n  }),\n  $formGroup: PropTypes.shape({\n    controlId: PropTypes.string\n  })\n}\n\nFormControl.propTypes = {\n  submitted: PropTypes.bool.isRequired,\n  componentClass: PropTypes.string.isRequired,\n  style: PropTypes.object\n}\n\nFormControl.defaultProps = {\n  componentClass: 'input',\n  submitted: false\n}\n\nexport default FormControl\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-control.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass FormDropdown extends Component {\n  render () {\n    const formGroup = this.context.$formGroup\n    const { controlId, ...field } = formGroup || {}\n    const { className, children, ...props } = this.props\n\n    delete field.layout\n    delete field.error\n    delete field.touched\n    delete field.valid\n\n    return (\n      <select\n        id={controlId}\n        className={classnames('select col-12', className)}\n        {...field}\n        {...props}\n      >\n        {!!children && children}\n      </select>\n    )\n  }\n}\n\nFormDropdown.contextTypes = {\n  $formGroup: PropTypes.object\n}\n\nFormDropdown.propTypes = {\n  id: PropTypes.string,\n  className: PropTypes.oneOfType([PropTypes.array, PropTypes.string])\n}\n\nexport default FormDropdown\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-dropdown.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass FormError extends Component {\n  render () {\n    const { $formRedux: { error } } = this.context\n    const { className } = this.props\n\n    return !error ? null : (\n      <div className={classnames('h5 white bold center animated shake', className)}>\n        {error}\n      </div>\n    )\n  }\n}\n\nFormError.contextTypes = {\n  $formRedux: PropTypes.object\n}\n\nFormError.propTypes = {\n  className: PropTypes.string\n}\n\nexport default FormError\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-error.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass FormGroup extends Component {\n  getChildContext () {\n    const { controlId, layout, value, onChange, onBlur, error, touched, valid } = this.props\n    return {\n      $formGroup: { controlId, layout, value, onChange, onBlur, error, touched, valid }\n    }\n  }\n\n  render () {\n    const { children, className, layout, style } = this.props\n    const styleGroup = layout === 'inline' ? { paddingRight: '1rem' } : {}\n\n    return (\n      <div\n        className={classnames('form-group', className)}\n        style={Object.assign(styleGroup, style)}\n      >\n        {children}\n      </div>\n    )\n  }\n}\n\nFormGroup.contextTypes = {\n  $formRedux: PropTypes.object\n}\n\nFormGroup.propTypes = {\n  controlId: PropTypes.string,\n  className: PropTypes.string,\n  error: PropTypes.string,\n  touched: PropTypes.bool,\n  layout: PropTypes.oneOf(['inline', 'block'])\n}\n\nFormGroup.defaultProps = {\n  layout: 'block'\n}\n\nFormGroup.childContextTypes = {\n  $formGroup: PropTypes.object.isRequired\n}\n\nexport default FormGroup\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-group.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\n// Current module dependencies\nimport { ControlButtons } from '../'\nif (require('exenv').canUseDOM) require('./index.scss')\n\nclass FormRedux extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { submitted: false }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { onFinishSubmit, submitting, forceFinishSubmit } = this.props\n    const naturalSubmitTransition = (\n      submitting &&\n      !nextProps.submitting &&\n      !nextProps.submitFailed\n    )\n    const forcedSubmitTransition = !forceFinishSubmit && nextProps.forceFinishSubmit\n\n    if (naturalSubmitTransition || forcedSubmitTransition) {\n      this.setState({ submitted: true })\n      onFinishSubmit && onFinishSubmit()\n    }\n  }\n\n  getChildContext () {\n    const { inline, floatButton, successMessage, ...rest } = this.props\n    return {\n      $formRedux: {\n        ...rest,\n        formInline: inline,\n        floatButton,\n        successMessage,\n        submitted: this.state.submitted\n      }\n    }\n  }\n\n  render () {\n    const {\n      children,\n      onSubmit,\n      submit,\n      handleSubmit,\n      submitting,\n      dirty,\n      valid,\n      inline,\n      className,\n      floatButton,\n      nosubmit,\n      style,\n      onCancel\n    } = this.props\n    const { submitted } = this.state\n\n    return (\n      <form\n        style={style}\n        onSubmit={handleSubmit(submit || onSubmit)}\n        className={classnames(\n          'form-redux form',\n          floatButton ? 'btn-float' : null,\n          className || 'transparent'\n        )}\n      >\n        {children}\n        {!inline && !nosubmit && <ControlButtons {...{ submitted, submitting, dirty, valid, onCancel }} />}\n      </form>\n    )\n  }\n}\n\nFormRedux.propTypes = {\n  className: PropTypes.string,\n  onSubmit: PropTypes.func,\n  submit: PropTypes.func,\n  // redux-form props\n  handleSubmit: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired,\n  submitFailed: PropTypes.bool.isRequired,\n  dirty: PropTypes.bool.isRequired,\n  valid: PropTypes.bool.isRequired,\n  inline: PropTypes.bool.isRequired,\n  floatButton: PropTypes.string.isRequired,\n  successMessage: PropTypes.string\n}\n\nFormRedux.defaultProps = {\n  submitting: false,\n  inline: false,\n  className: '',\n  floatButton: ''\n}\n\nFormRedux.childContextTypes = {\n  $formRedux: PropTypes.object.isRequired\n}\n\nexport default FormRedux\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form-redux/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/forms/form-redux/index.scss\n// module id = ./components/forms/form-redux/index.scss\n// module chunks = 0","import React from 'react'\nimport { cloneElement } from './clone-element'\n\nconst Form = ({ children, handleSubmit, pristine, submitting }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      {children && cloneElement(children, { pristine, submitting })}\n    </form>\n  )\n}\n\nexport default Form\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/form.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst HelpBlock = ({ children, className }) => (\n  <div className={classnames('muted my2', className)}>\n    <small className='block'>\n      <dfn>{children}</dfn>\n    </small>\n  </div>\n)\n\nHelpBlock.propTypes = {\n  className: PropTypes.string\n}\n\nexport default HelpBlock\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/help-block.js","export { default as ColorPicker } from './color-picker'\nexport { default as ControlButtons } from './control-buttons'\nexport { default as ControlLabel } from './control-label'\nexport { default as FormControl } from './form-control'\nexport { default as FormDropdown } from './form-dropdown'\nexport { default as FormError } from './form-error'\nexport { default as FormGroup } from './form-group'\nexport { default as FormRedux } from './form-redux'\nexport { default as HelpBlock } from './help-block'\nexport { default as Radio } from './radio'\nexport { default as RadioGroup } from './radio-group'\nexport { default as Raise } from './raise'\nexport { default as Input } from './input'\nexport { default as SuccessMessage } from './success-message'\nexport { default as UploadImageField } from './upload-image-field'\nexport { default as Form } from './form'\nexport { default as Button } from './button'\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/index.js","import React from 'react'\n\nconst Input = ({ input, label, placeholder, type, meta: { touched, error, warning } }) => (\n  <div>\n    {label && <label>{label}</label>}\n    <input {...input} type={type} placeholder={placeholder} />\n    {touched && ((error && <span>{error}</span>) || (warning && <span>{warning}</span>))}\n  </div>\n)\n\nexport default Input\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/input.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass RadioGroup extends Component {\n  render () {\n    const formGroup = this.context.$formGroup\n    const { value, ...field } = formGroup || {}\n    const { children, className, layout, style } = this.props\n\n    return (\n      <p className={classnames('mt1', className)} style={style}>\n        {children && children.map((child, index) => {\n          return React.cloneElement(child, {\n            key: `radio-${index}`,\n            checked: value,\n            alignment: layout,\n            ...field\n          })\n        })}\n      </p>\n    )\n  }\n}\n\nRadioGroup.contextTypes = {\n  $formGroup: PropTypes.object\n}\n\nRadioGroup.propTypes = {\n  layout: PropTypes.oneOf(['horizontal', 'vertical']),\n  style: PropTypes.object\n}\n\nRadioGroup.defaultProps = {\n  layout: 'horizontal'\n}\n\nexport default RadioGroup\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/radio-group.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\n\nclass Radio extends Component {\n  render () {\n    const { children, alignment, className, checked, value, onChange } = this.props\n    const id = `radio-${value}-id`\n    const current = {\n      horizontal: { classes: 'pr2' },\n      vertical: { classes: 'block pb1' }\n    }[alignment]\n\n    const style = { cursor: 'pointer' }\n    if (alignment === 'vertical') {\n      style.display = 'block'\n    }\n\n    return (\n      <label\n        className={classnames('form-radio', className, current.classes)}\n        style={style}\n        htmlFor={id}\n      >\n        <input\n          type='radio'\n          id={id}\n          className='mr1'\n          value={value}\n          onChange={onChange}\n          checked={checked === value}\n        />\n        {children}\n      </label>\n    )\n  }\n}\n\nRadio.propTypes = {\n  checked: PropTypes.any,\n  alignment: PropTypes.oneOf(['horizontal', 'vertical'])\n}\n\nRadio.defaultProps = {\n  alignment: 'horizontal'\n}\n\nexport default Radio\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/radio.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst Raise = ({ className, error, componentClass, ...props }) => {\n  const Component = componentClass !== undefined ? componentClass : 'span'\n  return (\n    <Component className={classnames('red', className)} {...props}>{` - ${error}`}</Component>\n  )\n}\n\nRaise.propTypes = {\n  error: PropTypes.string.isRequired\n}\n\nexport default Raise\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/raise.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\nclass SuccessMessage extends Component {\n  render () {\n    const { $formRedux: { submitted } } = this.context\n    const { text } = this.props\n    return submitted ? (\n      <div className='success-message olive h4 mt2'>\n        {text}\n        <i className='fa fa-check-circle olive ml1' />\n      </div>\n    ) : <noscript />\n  }\n}\n\nSuccessMessage.contextTypes = {\n  $formRedux: PropTypes.object\n}\n\nSuccessMessage.propTypes = {\n  text: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]).isRequired\n}\n\nexport default SuccessMessage\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/success-message.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport ReactS3Uploader from 'react-s3-uploader'\n\nclass UploadImageField extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { loading: false }\n  }\n\n  onProgress () {\n    if (!this.state.loading) {\n      this.setState({ loading: true })\n    }\n  }\n\n  onError () {\n    this.setState({ loading: false })\n  }\n\n  onFinish (image) {\n    this.setState({ loading: false })\n    const { $formGroup: { onChange } } = this.context\n    const e = {\n      value: image.signedUrl.substring(0, image.signedUrl.indexOf('?'))\n    }\n    onChange(e)\n  }\n\n  onClick () {\n    ReactDOM.findDOMNode(this.refs.inputFile).click()\n  }\n\n  render () {\n    const { loading } = this.state\n    const { className, signingUrl, theme } = this.props\n    const { $formGroup: { value } } = this.context\n\n    let content = (<i className='fa fa-image' />)\n    if (loading) {\n      content = <i className='fa fa-circle-o-notch fa-spin fa-w' />\n    } else if (value) {\n      content = <img src={value} role='presentation' />\n    }\n\n    if (theme === 'icon') {\n      return (\n        <div className='upload-image-file'>\n          <button\n            type='button'\n            disabled={loading}\n            className={className}\n            onClick={this.onClick.bind(this)}\n          >\n            {content}\n          </button>\n          <ReactS3Uploader\n            signingUrl={signingUrl}\n            accept='image/*'\n            onProgress={this.onProgress.bind(this)}\n            onError={this.onError.bind(this)}\n            onFinish={this.onFinish.bind(this)}\n            ref='inputFile'\n          />\n        </div>\n      )\n    }\n    // if theme === 'classic'\n    return loading ? <i className='fa fa-spin fa-refresh' /> : (\n      <ReactS3Uploader\n        signingUrl={signingUrl}\n        accept='image/*'\n        onProgress={this.onProgress.bind(this)}\n        onError={this.onError.bind(this)}\n        onFinish={this.onFinish.bind(this)}\n        ref='inputFile'\n        className='border-none bg-darken-4 rounded p1 white'\n        style={{\n          position: 'absolute',\n          left: '50%',\n          bottom: '1rem',\n          width: '80%',\n          marginLeft: '-40%'\n        }}\n      />\n    )\n  }\n}\n\nUploadImageField.contextTypes = {\n  $formGroup: PropTypes.shape({\n    value: PropTypes.any,\n    onChange: PropTypes.func.isRequired\n  })\n}\n\nUploadImageField.propTypes = {\n  className: PropTypes.string,\n  signingUrl: PropTypes.string.isRequired,\n  theme: PropTypes.oneOf(['classic', 'icon'])\n}\n\nUploadImageField.defaultProps = {\n  theme: 'icon'\n}\n\nexport default UploadImageField\n\n\n\n// WEBPACK FOOTER //\n// ./components/forms/upload-image-field.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) require('./index.scss')\n\nconst Background = ({ children, contentSize, image, alignment }) => {\n  const flexAlignments = {\n    center: 'center',\n    'top': 'flex-start',\n    'bottom': 'flex-end'\n  }\n  const justifyContent = flexAlignments[alignment.x]\n  const alignItems = flexAlignments[alignment.y]\n\n  const bgStyle = {\n    backgroundImage: image ? `url('${image}')` : undefined,\n    overflow: 'auto',\n    alignItems,\n    justifyContent\n  }\n\n  return (\n    <div\n      className='bg-reboo bg-center bg-cover absolute top-0 right-0 bottom-0 left-0'\n      style={bgStyle}\n    >\n      <div className={classnames(`content col-${contentSize}`)}>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nBackground.propTypes = {\n  contentSize: PropTypes.number,\n  image: PropTypes.string,\n  alignment: PropTypes.shape({\n    x: PropTypes.string,\n    y: PropTypes.string\n  }).isRequired\n}\n\nBackground.defaultProps = {\n  contentSize: 3,\n  alignment: { x: 'center', y: 'center' }\n}\n\nexport const BondeBackground = ({ children, ...props }) => (\n  <Background\n    image={require('exenv').canUseDOM ? require('~client/images/bg-login.png') : ''}\n    contentSize={12}\n    {...props}\n  >\n    {children}\n  </Background>\n)\n\nexport default Background\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/background/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/layout/background/index.scss\n// module id = ./components/layout/background/index.scss\n// module chunks = 0","export { default as SettingsPageLayout } from './settings-page-layout'\nexport { default as SettingsPageContentLayout } from './settings-page-content-layout'\nexport { default as SettingsPageMenuLayout } from './settings-page-menu-layout'\nexport { default as Background } from './background'\n\nexport * from './page-centralized-layout'\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/index.js","export { default as PageCentralizedLayout } from './page'\nexport { default as PageCentralizedLayoutTitle } from './title'\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/page-centralized-layout/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport {\n  SettingsPageLayout,\n  SettingsPageContentLayout\n} from '~client/components/layout'\n\nif (require('exenv').canUseDOM) require('./page.scss')\n\nconst PageCentralizedLayout = ({ children }) => {\n  return (\n    <SettingsPageLayout className='page-centralized-layout'>\n      <SettingsPageContentLayout\n        className='table col-12 full-height center'\n        wrapClassName='table-cell align-middle'\n      >\n        {children}\n      </SettingsPageContentLayout>\n    </SettingsPageLayout>\n  )\n}\n\nPageCentralizedLayout.propTypes = {\n  children: PropTypes.node\n}\n\nexport default PageCentralizedLayout\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/page-centralized-layout/page.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/layout/page-centralized-layout/page.scss\n// module id = ./components/layout/page-centralized-layout/page.scss\n// module chunks = 0","import React from 'react'\n\nconst PageCentralizedLayoutTitle = ({ children }) => (\n  <h2 className='h1 mt0 mb3'>\n    {children}\n  </h2>\n)\n\nexport default PageCentralizedLayoutTitle\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/page-centralized-layout/title.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst SettingsPageContentLayout = ({\n  children,\n  className,\n  containerClassName,\n  wrapClassName,\n  overflow\n}) => (\n  <div\n    className={classnames(\n      'settings-page-content-layout clearfix py3 pr4 pl3 border-box',\n      `overflow-${overflow}`,\n      className\n    )}\n  >\n    <div\n      className={classnames(\n        'settings-page-content-layout-container',\n        'clearfix',\n        containerClassName,\n        wrapClassName || 'md-col-12 lg-col-9'\n      )}\n    >\n      {children}\n    </div>\n  </div>\n)\n\nSettingsPageContentLayout.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  containerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  wrapClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}\n\nSettingsPageContentLayout.defaultProps = {\n  overflow: 'auto'\n}\n\nexport default SettingsPageContentLayout\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/settings-page-content-layout.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst SettingsPageLayout = ({ children, className }) => (\n  <div\n    className={classnames(\n      'settings-page-layout flex-auto flex flex-column bg-silver relative',\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nSettingsPageLayout.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}\n\nexport default SettingsPageLayout\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/settings-page-layout.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nconst SettingsPageMenuLayout = ({ children, title, className }) => (\n  <div\n    className={classnames(\n      'settings-page-menu-layout bg-white pt3 pr4 pl3 border-only-bottom border-gray94',\n      className\n    )}\n  >\n    <h1 className='h1 mt0 mb3'>{title}</h1>\n    {children}\n  </div>\n)\n\nSettingsPageMenuLayout.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  title: PropTypes.any.isRequired\n}\n\nexport default SettingsPageMenuLayout\n\n\n\n// WEBPACK FOOTER //\n// ./components/layout/settings-page-menu-layout.js","export { default as NavbarButton } from './navbar-button'\nexport { default as NavbarForm } from './navbar-form'\nexport { default as NavbarEditionWrapper } from './navbar-edition-wrapper'\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/navbar/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport $ from 'jquery'\n\nconst NavbarButton = props => {\n  const handleClick = e => {\n    e.preventDefault()\n    const { targetId, scrollableId } = props\n    const target = $(`#${targetId}`)\n    const scrollable = $(`#${scrollableId}`)\n    const yPosition = target.position().top + scrollable.scrollTop() - scrollable.position().top\n\n    scrollable.stop().animate({scrollTop: yPosition}, 500, () => {\n      window.location.hash = targetId\n    })\n  }\n\n  const {className, children, hidden} = props\n  return (\n    <a\n      className={classnames(className, 'navbar-button relative')}\n      onClick={handleClick}>\n      <span style={{ opacity: hidden ? '.25' : '1' }}>\n        {children}\n      </span>\n      {hidden && (\n        <div className='h2 absolute top-0 bottom-0 left-0 right-0 center flex flex-center'>\n          <i className='fa fa-eye-slash flex-auto' />\n        </div>\n      )}\n    </a>\n  )\n}\n\nNavbarButton.propTypes = {\n  targetId: PropTypes.string.isRequired,\n  scrollableId: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  children: PropTypes.string,\n  hidden: PropTypes.bool\n}\n\nexport default NavbarButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/navbar/navbar-button.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { injectIntl, intlShape } from 'react-intl'\nimport classnames from 'classnames'\n\nimport { NavbarButton, NavbarForm } from '~client/components/navigation/navbar'\n\nexport class NavbarEditionWrapper extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      isEditing: false,\n      isMouseOver: false\n    }\n  }\n\n  handleEditButtonClick () {\n    this.setState({\n      isEditing: true,\n      isMouseOver: false\n    })\n  }\n\n  handleHideButtonClick () {\n    this.refs.hideButton.blur()\n    const { blockUpdate, block } = this.props\n    blockUpdate({ ...block, menu_hidden: !block.menu_hidden })\n  }\n\n  handleCloseForm () {\n    this.setState({isEditing: false})\n  }\n\n  handleMouseOver () {\n    this.setState({isMouseOver: true})\n  }\n\n  handleMouseOut () {\n    this.setState({isMouseOver: false})\n  }\n\n  renderEditingButtons () {\n    const buttonsWrapperClassName = classnames(\n      'absolute z1 right-align full-width top-0',\n      { hide: this.state && !this.state.isMouseOver }\n    )\n\n    const editingButtonsStyle = {\n      width: '27px',\n      height: '27px',\n      padding: 0,\n      marginLeft: '4px',\n      marginTop: '4px'\n    }\n\n    const editingButtonsClassName = 'btn white bg-darken-4 circle'\n\n    const hideButtonClassName = classnames(\n      'fa',\n      {'fa-eye-slash': !this.props.block.menu_hidden},\n      {'fa-eye': this.props.block.menu_hidden}\n    )\n\n    return (\n      <div className='relative'>\n        <div className={buttonsWrapperClassName}>\n          <button\n            className={editingButtonsClassName}\n            style={editingButtonsStyle}\n            onClick={::this.handleEditButtonClick}\n          >\n            <i className='fa fa-pencil' />\n          </button>\n          <button\n            ref='hideButton'\n            className={editingButtonsClassName}\n            style={editingButtonsStyle}\n            onClick={::this.handleHideButtonClick}\n          >\n            <i className={hideButtonClassName} />\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  blockName (block) {\n    return block.name || this.props.intl.formatMessage({\n      id: 'components.navigation--navbar-edition-wrapper.block',\n      defaultMessage: 'Bloco {position}'\n    }, { position: block.position })\n  }\n\n  renderNavbarButton () {\n    const { block, className } = this.props\n\n    return (\n      <div\n        onMouseOver={::this.handleMouseOver}\n        onMouseOut={::this.handleMouseOut}>\n        <NavbarButton\n          targetId={'block-' + block.id}\n          scrollableId='blocks-list'\n          hidden={block.menu_hidden}\n          className={className}>\n          {this.blockName(block)}\n        </NavbarButton>\n        {this.props.editable && this.renderEditingButtons()}\n      </div>\n    )\n  }\n\n  renderNavbarForm () {\n    const { block } = this.props\n\n    return (\n      <NavbarForm\n        {...this.props}\n        defaultValue={this.blockName(block)}\n        handleCloseForm={::this.handleCloseForm}\n      />\n    )\n  }\n\n  render () {\n    return (\n      this.state.isEditing ? this.renderNavbarForm() : this.renderNavbarButton()\n    )\n  }\n}\n\nNavbarEditionWrapper.propTypes = {\n  block: PropTypes.object.isRequired,\n  dispatch: PropTypes.func,\n  auth: PropTypes.object,\n  className: PropTypes.string,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(NavbarEditionWrapper)\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/navbar/navbar-edition-wrapper.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nclass NavbarForm extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      name: props.defaultValue\n    }\n  }\n\n  componentDidMount () {\n    this.refs.nameInput.focus()\n    this.refs.nameInput.select()\n    window.addEventListener('keyup', this.handleKeyUp)\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp)\n  }\n\n  handleKeyUp (e) {\n    if (e.keyCode === 27) {\n      this.submit(e)\n    }\n  }\n\n  handleChangeName (e) {\n    this.setState({name: e.target.value})\n  }\n\n  submit (e) {\n    e.preventDefault()\n    const {\n      block,\n      blockUpdate,\n      handleCloseForm\n    } = this.props\n\n    blockUpdate({ ...block, name: this.state.name })\n    handleCloseForm()\n  }\n\n  render () {\n    return (\n      <form className='inline-block' onSubmit={::this.submit}>\n        <input\n          type='text'\n          ref='nameInput'\n          className='input z2 relative'\n          value={this.state.name}\n          onChange={::this.handleChangeName}\n        />\n        <div\n          className='fixed top-0 right-0 bottom-0 left-0 z1'\n          onClick={::this.submit} />\n      </form>\n    )\n  }\n}\n\nNavbarForm.propTypes = {\n  handleCloseForm: PropTypes.func.isRequired,\n  mobilization: PropTypes.object.isRequired,\n  block: PropTypes.object.isRequired,\n  blockUpdate: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string\n}\n\nexport default NavbarForm\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/navbar/navbar-form.js","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst LogoIconNoBorder = ({ size }) => (\n  <svg\n    xmlns='http://www.w3.org/2000/svg'\n    width={size}\n    height={size}\n    viewBox='0 0 180 180'\n  >\n    <g transform='matrix(1.66704 0 0 1.66704 -60 -60.6)'>\n      <g>\n        <g><path d='m 128.9,112.7 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.3 12.1,22.4 z M 78,63.8 l 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 0,0 -16.1,0 -16.1,0 z m 28.3,47.2 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 127.2,111.6 c 0,17.6 -14.3,29 -32,29 l -41.7,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.2,12.3 12.2,22.4 z m -51,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 125.4,110.5 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.3 12.1,22.4 z m -51,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.7,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 130.7,113.8 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.3 12.1,22.4 z m -51,-48.9 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 0,0 z m 28.3,47.2 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.7,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 123.6,109.4 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.4 12.1,22.4 z m -50.9,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 0,0 -16.1,0 -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-4 9.3,-9.5 z' /></g>\n        <g><path d='m 121.9,108.3 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99 38.7,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.4,4.6 12.2,12.3 12.2,22.3 z m -51,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 0,0 -16.1,0 -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-3.9 9.3,-9.5 z' /></g>\n        <g><path d='m 120.1,107.3 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.3 12.1,22.4 z m -51,-48.9 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 z m 28.4,47.2 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,-0.1 9.3,-4 9.3,-9.5 z' /></g>\n      </g>\n      <g><polygon points='57.9,144.4 58.8,140.6 47.5,133.4 46.5,132.8 46.5,136.3' /></g>\n      <g><polygon fill='#fff' points='58.8,110.8 58.8,106.8 47.5,99.6 46.5,99 46.5,102.7' /></g>\n      <g><polygon fill='#fff' points='58.8,103.9 58.8,90.8 47.5,83.6 46.5,83 46.5,96.2' /></g>\n      <g><polygon fill='#fff' points='46.5,37.2 51.8,37.2 66,44.3 59.8,44.3' /></g>\n      <g>\n        <path fill='#fcfafa' d='m 132.4,114.4 c 0,17.6 -14.3,29 -32,29 l -41.6,0 0,-99.1 38.8,0 c 17.3,0 31.3,11.2 31.3,28.3 0,8.2 -3.3,14.7 -8.6,19.4 7.3,4.7 12.1,12.4 12.1,22.4 z m -50.9,-48.8 0,17.6 16.1,0 c 5.1,0 8.6,-3.7 8.6,-8.8 0,-5.1 -3.4,-8.8 -8.6,-8.8 l -16.1,0 z m 28.3,47.1 c 0,-5.5 -3.7,-9.5 -9.3,-9.5 l -19,0 0,19 19,0 c 5.6,0 9.3,-4 9.3,-9.5 z' />\n        <path d='m 100.4,144.5 -42.6,0 0,-101.2 39.8,0 c 18.7,0 32.3,12.4 32.3,29.4 0,7.6 -2.8,14.3 -8,19.3 7.4,5.2 11.5,13.1 11.5,22.5 0.1,17.3 -13.8,30 -33,30 z m -40.5,-2.1 40.6,0 c 17.9,0 30.9,-11.8 30.9,-28 0,-9.1 -4.2,-16.7 -11.7,-21.5 l -1.2,-0.8 1.1,-0.9 c 5.4,-4.7 8.3,-11.1 8.3,-18.6 0,-15.8 -12.7,-27.3 -30.2,-27.3 l -37.8,0 0,97.1 z m 40.5,-19.1 -20,0 0,-21.1 20,0 c 6.1,0 10.4,4.3 10.4,10.5 0,6.2 -4.2,10.6 -10.4,10.6 z m -17.9,-2.2 17.9,0 c 5,0 8.3,-3.4 8.3,-8.4 0,-5 -3.3,-8.4 -8.3,-8.4 l -17.9,0 c 0,0 0,16.8 0,16.8 z m 15.1,-36.9 -17.2,0 0,-19.7 17.2,0 c 5.7,0 9.7,4 9.7,9.8 0,5.7 -4.1,9.9 -9.7,9.9 z m -15.1,-2.1 15.1,0 c 4.5,0 7.6,-3.2 7.6,-7.7 0,-4.6 -3,-7.7 -7.6,-7.7 l -15.1,0 0,15.4 z' />\n      </g>\n    </g>\n  </svg>\n)\n\nconst { oneOfType, string, number } = PropTypes\n\nLogoIconNoBorder.defaultProps = {\n  size: 45\n}\n\nLogoIconNoBorder.propTypes = {\n  size: oneOfType([string, number])\n}\n\nexport default LogoIconNoBorder\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/sidenav/logo-icon-no-border.js","export { default as Tabs } from './tabs'\nexport { default as Tab } from './tab'\nexport { default as TabBorder } from './tab-border'\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/tabs/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) {\n  require('./tab-border.scss')\n}\n\nconst TabBorder = ({ children, Component, path, className, isActive, style }) => {\n  const optionalProps = {}\n\n  if (path) optionalProps.to = path\n\n  return (\n    <Component\n      {...optionalProps}\n      className={classnames(\n        'tab components--tab-border',\n        { 'is-active': isActive },\n        className\n      )}\n      style={style}\n    >\n      {children}\n    </Component>\n  )\n}\n\nTabBorder.propTypes = {\n  children: PropTypes.node.isRequired,\n  Component: PropTypes.node.isRequired,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  path: PropTypes.string,\n  isActive: PropTypes.bool,\n  style: PropTypes.string\n}\n\nexport default TabBorder\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/tabs/tab-border.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/navigation/tabs/tab-border.scss\n// module id = ./components/navigation/tabs/tab-border.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) require('./tab.scss')\n\nclass Tab extends Component {\n  render () {\n    const { text, index, path, isActive, className, style } = this.props\n    if (path) {\n      return (\n        <Link\n          to={path}\n          className={classnames(\n            'tab btn border-only-bottom px0 py2 mr3 inline-block',\n            isActive ? 'h4 is-active' : null,\n            className\n          )}\n          style={style}\n        >\n          {text}\n        </Link>\n      )\n    }\n    return (\n      <span style={style} className={classnames(\n        'tab inline-block py2 mr2',\n        isActive ? 'bold black' : null,\n        className\n      )}>\n        <i className={classnames(\n          'circle center inline-block',\n          isActive ? 'bg-pagenta' : 'bg-gray94',\n        text ? 'mr2' : null\n        )}>\n          {index}\n        </i>\n        {text}\n      </span>\n    )\n  }\n}\n\nTab.propTypes = {\n  text: PropTypes.node,\n  isActive: PropTypes.bool,\n  path: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n  index: PropTypes.number\n}\n\nTab.defaultProps = {\n  isActive: false\n}\n\nexport default Tab\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/tabs/tab.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/navigation/tabs/tab.scss\n// module id = ./components/navigation/tabs/tab.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) {\n  require('./tabs.scss')\n}\n\nconst Tabs = ({ children, className, style }) => (\n  <nav\n    className={classnames('tabs gray20', className)}\n    style={style}\n  >\n    {children}\n  </nav>\n)\n\nTabs.propTypes = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  style: PropTypes.string\n}\n\nexport default Tabs\n\n\n\n// WEBPACK FOOTER //\n// ./components/navigation/tabs/tabs.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/navigation/tabs/tabs.scss\n// module id = ./components/navigation/tabs/tabs.scss\n// module chunks = 0","export const SELECTABLE_LIST_SET_SELECTED_INDEX = 'SELECTABLE_LIST_SET_SELECTED_INDEX'\nexport const setSelectedIndex = index => ({ type: SELECTABLE_LIST_SET_SELECTED_INDEX, index })\n\n\n\n// WEBPACK FOOTER //\n// ./components/selectable-list/actions.js","import {\n  SELECTABLE_LIST_SET_SELECTED_INDEX\n} from './actions'\n\nexport const initialState = {}\n\n//\n// @todo: Make this reducer reusable, accepting a parameter with a prefix of\n//        action to differs each other. For now, it will be used only inside\n//        mobilization's templates reducers.\n//\nconst SelectableListReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case SELECTABLE_LIST_SET_SELECTED_INDEX:\n      return { ...state, selectedIndex: action.index }\n    default:\n      return state\n  }\n}\n\nexport default SelectableListReducer\n\n\n\n// WEBPACK FOOTER //\n// ./components/selectable-list/reducers.js","module.exports = __webpack_public_path__ + \"../static/images/check-mark-image.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/share/check-mark-image.png\n// module id = ./components/share/check-mark-image.png\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\n\nconst FacebookShareButton = ({ href, intl }) => {\n  const handleClick = () => {\n    window.open(\n      `http://www.facebook.com/sharer.php?u=${href}`,\n      intl.formatMessage({\n        id: 'share.components--facebook-share-button.text',\n        defaultMessage: 'Compartilhar no Facebook'\n      }),\n      'width=800,height=600'\n    )\n  }\n\n  return (\n    <button\n      className='btn white h3 p3 col-12 caps h5 rounded'\n      onClick={handleClick}\n      style={{ backgroundColor: '#2D88ED' }}\n    >\n      <FormattedMessage\n        id='share.components--facebook-share-button.text'\n        defaultMessage='Compartilhar no Facebook'\n      />\n    </button>\n  )\n}\n\nFacebookShareButton.propTypes = {\n  href: PropTypes.string.isRequired,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(FacebookShareButton)\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/facebook-share-button.js","export { default as FacebookShareButton } from './facebook-share-button'\nexport { default as TwitterShareButton } from './twitter-share-button'\nexport { default as WhatsAppShareButton } from './whatsapp-share-button'\nexport { default as TellAFriend } from './tell-a-friend.connected'\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/index.js","import { connect } from 'react-redux'\nimport TellAFriend from './tell-a-friend'\nimport MobSelectors from '~client/mobrender/redux/selectors'\n\nconst mapStateToProps = state => {\n  const { sourceRequest: { protocol, host } } = state\n  const { custom_domain: customDomain } = MobSelectors(state).getMobilization()\n\n  return {\n    href: customDomain || `${protocol}://${host}`\n  }\n}\n\nexport { default as TellAFriend } from './tell-a-friend'\nexport default connect(mapStateToProps)(TellAFriend)\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/tell-a-friend.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport { FacebookShareButton, TwitterShareButton, WhatsAppShareButton } from '~client/components/share'\n\nconst TellAFriend = ({\n  preview,\n  href,\n  message,\n  mobilization: {\n    twitter_share_text: twitterShareText\n  },\n  imageUrl,\n  imageWidth,\n  widget\n}) => {\n  const settings = widget.settings || {}\n\n  return (\n    <div className='center p3 bg-white darkengray rounded'>\n      <div className='m0 h3 bold'>{message}</div>\n      <div className='py2'>\n        <img src={imageUrl} style={{ width: imageWidth || 100 }} />\n      </div>\n      <p>\n        <FormattedMessage\n          id='share.components--tell-a-friend.text'\n          defaultMessage='Agora, compartilhe com seus amigos!'\n        />\n      </p>\n      <p><FacebookShareButton href={href} /></p>\n      <p><TwitterShareButton href={href} text={twitterShareText} /></p>\n      <p><WhatsAppShareButton whatsappText={settings.whatsapp_text || href} preview={preview} /></p>\n    </div>\n  )\n}\n\nTellAFriend.propTypes = {\n  preview: PropTypes.bool,\n  mobilization: PropTypes.shape({\n    twitter_share_text: PropTypes.string\n  }).isRequired,\n  widget: PropTypes.shape({\n    settings: PropTypes.shape({\n      whatsapp_text: PropTypes.string\n    })\n  }).isRequired,\n  message: PropTypes.string.isRequired,\n  href: PropTypes.string.isRequired,\n  imageUrl: PropTypes.string,\n  imageWidth: PropTypes.string\n}\n\nTellAFriend.defaultProps = {\n  imageUrl: require('exenv').canUseDOM ? require('./check-mark-image.png') : null\n}\n\nexport default TellAFriend\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/tell-a-friend.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\n\nconst TwitterShareButton = ({ href, text, intl }) => {\n  const handleClick = () => {\n    // Optional Query params\n    // via: twitter user to associate with the tweet\n    // related: additional users related to the tweet comma-separated\n    // hashtags: comma-separated list without #\n    window.open(\n      `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${href}`,\n      intl.formatMessage({\n        id: 'share.components--twitter-share-button.text',\n        defaultMessage: 'Compartilhar no Twitter'\n      }),\n      'width=800,height=600'\n    )\n  }\n\n  return (\n    <button\n      className='btn white h3 p3 col-12 caps h5 rounded'\n      onClick={handleClick}\n      style={{backgroundColor: '#3DD1F4'}}\n    >\n      <FormattedMessage\n        id='share.components--twitter-share-button.text'\n        defaultMessage='Compartilhar no Twitter'\n      />\n    </button>\n  )\n}\n\nTwitterShareButton.propTypes = {\n  href: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(TwitterShareButton)\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/twitter-share-button.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport classnames from 'classnames'\n\nconst WhatsAppShareButton = ({ preview, whatsappText, mobilization }) => {\n  return (\n    <a\n      className={classnames(\n        'btn white h3 p3 col-12 caps h5 rounded border-box',\n        { 'lg-hide': !preview }\n      )}\n      href={`whatsapp://send?text=${encodeURIComponent(whatsappText)}`}\n      style={{ backgroundColor: '#4CEC68', color: '#fff' }}\n    >\n      <FormattedMessage\n        id='share.components--whatsapp-share-button.text'\n        defaultMessage='Compartilhar no WhatsApp'\n      />\n    </a>\n  )\n}\n\nWhatsAppShareButton.propTypes = {\n  href: PropTypes.string.isRequired,\n  preview: PropTypes.bool,\n  whatsappText: PropTypes.string\n}\n\nexport default WhatsAppShareButton\n\n\n\n// WEBPACK FOOTER //\n// ./components/share/whatsapp-share-button.js","import { combineReducers } from 'redux'\n\n// Redux Form\nimport { reducer as form } from 'redux-form'\nimport { normalizer as creditCardForm } from '~client/subscriptions/forms/credit-card-form'\nimport { normalizer as recurringForm } from '~client/subscriptions/forms/recurring-form'\n\n// Reapop\nimport { reducer as notificationsReducer } from 'reapop'\n\n// Apollo\nimport { client } from './store'\n\n// Application\nimport auth from '~client/account/redux/reducers'\nimport wait from '~client/components/await/redux/reducers'\nimport mobilizations from '~client/mobrender/redux/reducers'\nimport community from '~client/community/reducers'\nimport colorPicker from '~client/components/color-picker/reducers'\nimport subscriptions from '~client/subscriptions/redux/reducers'\nimport intl from '../intl/redux/reducers'\n\nconst initialState = {\n  host: '',\n  protocol: ''\n}\n\nconst sourceRequest = (state = initialState, action = {}) => state\n\n// Only combine reducers needed for initial render, others will be\n// added async\nexport default function createReducer (asyncReducers) {\n  return combineReducers({\n    sourceRequest,\n    form: form.normalize({\n      creditCardForm,\n      recurringForm\n    }),\n    apollo: client().reducer(),\n    notifications: notificationsReducer(),\n    auth,\n    wait,\n    mobilizations,\n    community,\n    colorPicker,\n    subscriptions,\n    intl,\n    ...asyncReducers\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./createReducer.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  mutation addTwilioCall(\n    $widgetId: Int!\n    $from: String!\n    $to: String!\n  ){\n    addTwilioCall(input: {\n      call: {\n        widgetId: $widgetId\n        from: $from\n        to: $to\n      }\n    }) {\n      twilioCall {\n        id\n        widgetId\n        activistId\n        twilioAccountSid\n        twilioCallSid\n        from\n        to\n        data\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/mutations/add-twilio-call.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  mutation addTwilioConfiguration(\n    $communityId: Int!\n    $twilioAccountSid: String!\n    $twilioAuthToken: String!\n    $twilioNumber: String!\n  ) {\n    addTwilioConfiguration(input: {\n      config: {\n        communityId: $communityId\n        twilioAccountSid: $twilioAccountSid\n        twilioAuthToken: $twilioAuthToken\n        twilioNumber: $twilioNumber\n      }\n    }) {\n      twilioConfiguration {\n        id\n        communityId\n        twilioAccountSid\n        twilioAuthToken\n        twilioNumber\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/mutations/add-twilio-configuration.js","export { default as addTwilioCall } from './add-twilio-call'\nexport { default as addTwilioConfiguration } from './add-twilio-configuration'\nexport { default as updateTwilioConfiguration } from './update-twilio-configuration'\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/mutations/index.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  mutation updateTwilioConfiguration(\n    $communityId: Int!\n    $twilioAccountSid: String!\n    $twilioAuthToken: String!\n    $twilioNumber: String!\n  ) {\n    updateTwilioConfiguration(input: {\n      config: {\n        communityId: $communityId\n        twilioAccountSid: $twilioAccountSid\n        twilioAuthToken: $twilioAuthToken\n        twilioNumber: $twilioNumber\n      }\n    }) {\n      twilioConfiguration {\n        id\n        communityId\n        twilioAccountSid\n        twilioAuthToken\n        twilioNumber\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/mutations/update-twilio-configuration.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  query CountTwilioCallsByWidget($widgetId: Int!) {\n    allTwilioCalls(condition: {\n      widgetId: $widgetId\n    }) {\n      totalCount\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/count-twilio-calls-by-widget.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  query fetchDonationGoalStats($widgetId: Int!) {\n    data: getWidgetDonationStats(widgetId: $widgetId)\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/fetch-donation-goal-stats.js","import { gql } from 'react-apollo'\n\n//\n// @param Object({ extraFields: Array })\n//\nexport default ({ extraFields = [] }) => gql`\nquery fetchFacebookBotActivistsStrategy(\n  $search: Json!\n  $first: Int\n) {\n  query: getFacebookBotActivistsStrategy(\n    search: $search,\n    first: $first\n  ) {\n    totalCount\n    activists: nodes {\n      fbContextRecipientId\n      ${extraFields.join(' ')}\n    }\n  }\n}\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/fetch-facebook-bot-activists-strategy.js","import { gql } from 'react-apollo'\n\n//\n// @param Object({ extraFields: Array })\n//\nexport default gql`\nquery fetchFacebookBotCampaignsByCommunityId($communityId: Int!) {\n  query: getFacebookBotCampaignsByCommunityId(ctxCommunityId: $communityId) {\n    campaigns: nodes {\n      id\n      facebookBotConfigurationId\n      name\n      segmentFilters\n      totalImpactedActivists\n      createdAt\n      updatedAt\n    }\n  }\n}\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/fetch-facebook-bot-campaigns-by-community-id.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  query fetchTwilioConfiguration($communityId: Int!) {\n    configs: allTwilioConfigurations(condition: {\n      communityId: $communityId\n    }) {\n      list: nodes {\n        id\n        communityId\n        twilioAccountSid\n        twilioAuthToken\n        twilioNumber\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/fetch-twilio-configuration.js","export { default as CountTwilioCallsByWidget } from './count-twilio-calls-by-widget'\nexport { default as fetchDonationGoalStats } from './fetch-donation-goal-stats'\nexport { default as fetchFacebookBotActivistsStrategy } from './fetch-facebook-bot-activists-strategy'\nexport { default as fetchFacebookBotCampaignsByCommunityId } from './fetch-facebook-bot-campaigns-by-community-id'\nexport { default as fetchTwilioConfiguration } from './fetch-twilio-configuration'\nexport { default as watchTwilioCallTransitions } from './watch-twilio-call-transitions'\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/index.js","import { gql } from 'react-apollo'\n\nexport default gql`\n  query watchTwilioCallTransitions($widgetId: Int! $from: String!) {\n    watchTwilioCallTransitions(call: {\n      widgetId: $widgetId\n      from: $from\n    }) {\n      widgetId\n      activistId\n      twilioCallId\n      twilioCallAccountSid\n      twilioCallCallSid\n      twilioCallFrom\n      twilioCallTo\n      twilioCallTransitionId\n      twilioCallTransitionSequenceNumber\n      twilioCallTransitionStatus\n      twilioCallTransitionCallDuration\n      twilioCallTransitionCreatedAt\n      twilioCallTransitionUpdatedAt\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./graphql/queries/watch-twilio-call-transitions.js","module.exports = __webpack_public_path__ + \"../static/images/bg-login.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./images/bg-login.png\n// module id = ./images/bg-login.png\n// module chunks = 0","const namespace = mobilization => `/mobilizations/${mobilization.id}/blocks`\n\nexport const createBlock = mobilization => `${namespace(mobilization)}/create`\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/blocks/paths.js","import DefaultConfigServer from '~server/config'\n\nexport const mobilizations = () => '/mobilizations'\nexport const mobilization = (mobilization, domain = DefaultConfigServer.appDomain) => {\n  if (domain && domain.indexOf('staging') !== -1) {\n    return `http://${mobilization.slug}.${domain}`\n  }\n\n  return mobilization.custom_domain\n    ? `http://${mobilization.custom_domain}`\n    : `http://${mobilization.slug}.${domain}`\n}\nexport const mobilizationLaunch = id => `/mobilizations/${id}/launch`\nexport const mobilizationLaunchEnd = id => `/mobilizations/${id}/launch/end`\nexport const newMobilization = () => '/mobilizations/new'\nexport const editMobilization = id => `/mobilizations/${id}/edit`\nexport const cityMobilization = id => `/mobilizations/${id}/city`\nexport const cityNewMobilization = id => `/mobilizations/${id}/cityNew`\nexport const sharingMobilization = id => `/mobilizations/${id}/settings/sharing`\nexport const basicsMobilization = id => `/mobilizations/${id}/settings/basics`\nexport const analyticsMobilization = id => `/mobilizations/${id}/settings/analytics`\nexport const metricsMobilization = id => `/mobilizations/${id}/settings/metrics`\nexport const customDomainMobilization = id => `/mobilizations/${id}/settings/customDomain`\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/paths.js","export const REQUEST_TEMPLATE_CREATE = 'REQUEST_TEMPLATE_CREATE'\nexport const SUCCESS_TEMPLATE_CREATE = 'SUCCESS_TEMPLATE_CREATE'\nexport const FAILURE_TEMPLATE_CREATE = 'FAILURE_TEMPLATE_CREATE'\n\nexport const REQUEST_TEMPLATE_FETCH = 'REQUEST_TEMPLATE_FETCH'\nexport const SUCCESS_TEMPLATE_FETCH = 'SUCCESS_TEMPLATE_FETCH'\nexport const FAILURE_TEMPLATE_FETCH = 'FAILURE_TEMPLATE_FETCH'\n\nexport const REQUEST_TEMPLATE_DESTROY = 'REQUEST_TEMPLATE_DESTROY'\nexport const SUCCESS_TEMPLATE_DESTROY = 'SUCCESS_TEMPLATE_DESTROY'\nexport const FAILURE_TEMPLATE_DESTROY = 'FAILURE_TEMPLATE_DESTROY'\n\nexport const SELECT_TEMPLATE = 'SELECT_TEMPLATE'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/templates/action-types.js","export const mobilizationTemplatesCreate = mobilization =>\n  `/mobilizations/${mobilization.id}/templates/create`\n\nexport const mobilizationTemplatesList = () =>\n  '/mobilizations/templates/list'\n\nexport const mobilizationTemplatesUpdate = templateId =>\n  `/mobilizations/templates/${templateId}/update`\n\nexport const mobilizationTemplatesDestroy = templateId =>\n  `/mobilizations/templates/${templateId}/destroy`\n\nexport const mobilizationTemplatesChoose = mobilization =>\n  `/mobilizations/${mobilization.id}/templates/choose`\n\nexport const mobilizationTemplatesChooseCustomList = mobilization =>\n  `/mobilizations/${mobilization.id}/templates/choose/custom`\n\nexport const mobilizationTemplatesChooseGlobalList = mobilization =>\n  `/mobilizations/${mobilization.id}/templates/choose/global`\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/templates/paths.js","import { combineReducers } from 'redux'\n\nimport list from '~client/mobilizations/templates/reducers/list'\nimport filterable from '~client/components/filterable-search-bar/reducers'\nimport selectable from '~client/components/selectable-list/reducers'\n\nexport default combineReducers({\n  list,\n  filterable,\n  selectable\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/templates/reducers/index.js","// Current module dependencies\nimport * as t from '~client/mobilizations/templates/action-types'\n\nexport const initialState = {\n  loading: false,\n  loaded: false,\n  global: [],\n  custom: [],\n  templateId: undefined\n}\n\nconst MobilizationTemplatesReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.REQUEST_TEMPLATE_CREATE:\n      return { ...state, loading: true }\n    case t.SUCCESS_TEMPLATE_CREATE:\n      const templates = action.template.global\n        ? { global: [...state.global, action.template] }\n        : { custom: [...state.custom, action.template] }\n      return { ...state, loading: false, loaded: true, ...templates }\n    case t.FAILURE_TEMPLATE_CREATE:\n      return { ...state, loading: false, error: action.error }\n\n    case t.REQUEST_TEMPLATE_FETCH:\n      return { ...state, loading: true }\n    case t.SUCCESS_TEMPLATE_FETCH:\n      if (action.templates) {\n        state.global = action.templates.filter(template => template.global)\n        state.custom = action.templates.filter(template => !template.global)\n      }\n      return { ...state, loading: false, loaded: true }\n    case t.FAILURE_TEMPLATE_FETCH:\n      return { ...state, loading: false, error: action.error }\n\n    case t.REQUEST_TEMPLATE_DESTROY:\n      return { ...state, loading: true }\n    case t.SUCCESS_TEMPLATE_DESTROY:\n      const index = state.custom.findIndex(template => template.id === action.template.id)\n      return {\n        ...state,\n        loading: false,\n        custom: [...state.custom.slice(0, index), ...state.custom.slice(index + 1)]\n      }\n    case t.FAILURE_TEMPLATE_DESTROY:\n      return { ...state, loading: false, error: action.error }\n    case t.SELECT_TEMPLATE:\n      return {\n        ...state,\n        templateId: action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport default MobilizationTemplatesReducer\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/templates/reducers/list.js","export const createAction = (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/action-creators/create-action.js","export { default as setEditorLinkTargetType } from './set-editor-link-target-type'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/action-creators/index.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nconst setEditorLinkTargetType = type => createAction(t.SET_EDITOR_LINK_TARGET_TYPE, type)\n\nexport default setEditorLinkTargetType\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/action-creators/set-editor-link-target-type.js","export const SET_EDITOR_LINK_TARGET_TYPE = 'SET_EDITOR_LINK_TARGET_TYPE'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/action-types.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { injectIntl, intlShape } from 'react-intl'\n\nimport { EditorOld, EditorNew, EditorSlate } from '../components'\n\nexport class Content extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { forceRenderNewEditor: false }\n  }\n\n  handleForceRender () {\n    this.setState({ forceRenderNewEditor: true })\n  }\n\n  deleteWidget () {\n    const message = this.props.intl.formatMessage({\n      id: 'c--content-widget.delete-widget.confirm.message',\n      defaultMessage: 'Deseja remover o widget?'\n    })\n    if (window.confirm(message)) {\n      this.props.update({\n        ...this.props.widget,\n        settings: undefined,\n        kind: 'draft'\n      })\n    }\n  }\n\n  render () {\n    const { widget: { settings }, editable } = this.props\n\n    try {\n      // If parse content is RebooEditor\n      const content = JSON.parse(settings.content)\n      return content.entityMap ? (\n        <EditorNew\n          {...this.props}\n          handleDelete={this.deleteWidget.bind(this)}\n        />\n      ) : (\n        <EditorSlate\n          {...this.props}\n          content={settings.content}\n          readOnly={!editable}\n          handleSave={value => {\n            const raw = JSON.stringify(value.toJSON())\n\n            if (settings.content !== raw) {\n              const { update, widget } = this.props\n              update({\n                ...widget,\n                settings: { content: raw }\n              })\n            }\n          }}\n          handleDelete={this.deleteWidget.bind(this)}\n        />\n      )\n    } catch (e) {\n      // Else is old editor\n      if (this.state.forceRenderNewEditor) {\n        return (\n          <EditorNew\n            {...this.props}\n            handleDelete={this.deleteWidget.bind(this)}\n          />\n        )\n      } else {\n        return (\n          <EditorOld\n            handleForceRender={this.handleForceRender.bind(this)}\n            {...this.props}\n          />\n        )\n      }\n    }\n  }\n}\n\nContent.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  editable: PropTypes.bool.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onCancelEdit: PropTypes.func.isRequired,\n  update: PropTypes.func,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(Content)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/__content__.js","import React from 'react'\nimport classnames from 'classnames'\n\nconst ActionButton = ({ children, editing, changeState, onClick, title, style, className, value }) => (\n  <button\n    className={classnames('btn bg-blacker rounded', className)}\n    onClick={() => onClick(value, changeState)}\n    style={{\n      position: 'relative',\n      display: editing ? 'inline-block' : 'none',\n      ...style\n    }}\n    title={title}\n  >\n    {children}\n  </button>\n)\n\nexport default ActionButton\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/action-button.js","import { connect } from 'react-redux'\nimport EditorNew from './editor-new'\nimport { handleEdit, handleCancelEdit } from '~client/mobrender/redux/action-creators'\n\nconst mapActionsToProps = {\n  onEdit: () => handleEdit('widget'),\n  onCancelEdit: () => handleCancelEdit('widget')\n}\n\nexport default connect(undefined, mapActionsToProps)(EditorNew)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-new.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport { Loading } from '~client/components/await'\nimport Editor from '~client/components/editor-draft-js'\nif (require('exenv').canUseDOM) require('./index.scss')\n\nclass EditorNew extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      editing: false,\n      content: props.widget.settings.content,\n      loading: false\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.state.loading && this.props.widget.settings.content !== nextProps.widget.settings.content) {\n      this.setState({ loading: false })\n    }\n  }\n\n  renderLoading () {\n    if (this.state.loading) {\n      return (\n        <Loading />\n      )\n    }\n  }\n\n  handleSave (rawContent) {\n    const { widget: { settings } } = this.props\n\n    if (settings.content !== rawContent) {\n      const { update, widget } = this.props\n      this.setState({ loading: true })\n\n      update({\n        ...widget,\n        settings: { content: JSON.stringify(rawContent) }\n      })\n    }\n  }\n\n  render () {\n    const { editable, mobilization, widget: { settings } } = this.props\n    const { body_font: bodyFont } = mobilization\n\n    const theme = (\n      mobilization && mobilization.color_scheme\n        ? mobilization.color_scheme.replace('-scheme', '')\n        : null\n    )\n\n    let value\n    try {\n      value = JSON.parse(settings.content)\n    } catch (e) {\n      value = settings.content\n    }\n\n    return (\n      <div className='widgets--content-plugin widget editor-new' style={{ fontFamily: bodyFont }}>\n        <Editor\n          value={value}\n          theme={theme}\n          readOnly={!editable}\n          handleSave={this.handleSave.bind(this)}\n          handleDelete={this.props.handleDelete}\n        />\n      </div>\n    )\n  }\n}\n\nEditorNew.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  editable: PropTypes.bool.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onCancelEdit: PropTypes.func.isRequired,\n  update: PropTypes.func,\n  handleDelete: PropTypes.func\n}\n\nexport default EditorNew\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-new/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/content/components/editor-new/index.scss\n// module id = ./mobilizations/widgets/__plugins__/content/components/editor-new/index.scss\n// module chunks = 0","import { connect } from 'react-redux'\nimport EditorOld from './editor-old'\nimport MobSelectors from '~client/mobrender/redux/selectors'\nimport { handleEdit, handleCancelEdit } from '~client/mobrender/redux/action-creators'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = MobSelectors(state, props)\n  return {\n    mobilization: selectors.getMobilization()\n  }\n}\n\nconst mapActionsToProps = {\n  onEdit: () => handleEdit('widget'),\n  onCancelEdit: () => handleCancelEdit('widget')\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(EditorOld)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-old.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport $ from 'jquery'\nimport classnames from 'classnames'\n\nlet wysihtml5, wysihtml5ParserRules\n/* eslint-disable */\nif (require('exenv').canUseDOM) {\n  window.rangy = require('rangy/lib/rangy-core')\n  wysihtml5 = require('exports-loader?wysihtml5!./wysihtml-toolbar.min.js')\n  wysihtml5ParserRules = require('exports-loader?wysihtml5ParserRules!./wysihtml-toolbar.min.js')\n}\n\n// Global module dependencies\nimport { WYSIHTMLToolbar } from '~client/components/editor-wysihtml'\nimport { Loading } from '~client/components/await'\n\nclass EditorOld extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      editing: false,\n      editor: null,\n      content: props.widget.settings.content,\n      toolbarId: `wysihtml5-toolbar-${this.props.widget.id}`,\n      loading: false\n    }\n  }\n\n  componentDidMount () {\n    if (this.props.editable) {\n      const editor = new wysihtml5.Editor(\n        this.refs.content, {\n          toolbar: this.state.toolbarId,\n          parserRules: wysihtml5ParserRules\n        }\n      ).on('focus', ::this.handleEditorFocus)\n      this.setState({editor: editor})\n    } else {\n      this.setClick()\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.state.loading && this.props.widget.settings.content !== nextProps.widget.settings.content) {\n      this.setState({loading: false})\n    }\n  }\n\n  enableEditor () {\n    this.setState({editing: true})\n    this.props.onEdit && this.props.onEdit()\n    window.addEventListener('keyup', ::this.handleEscapePress)\n  }\n\n  disableEditor () {\n    this.setState({editing: false})\n    this.props.onCancelEdit && this.props.onCancelEdit()\n    window.removeEventListener('keyup', ::this.handleEscapePress)\n    this.refs.content.blur()\n  }\n\n  handleEditorFocus () {\n    this.enableEditor()\n  }\n\n  handleEscapePress (e) {\n    if (e.keyCode === 27) {\n      this.save()\n    }\n  }\n\n  handleOverlayClick () {\n    this.save()\n  }\n\n  setClick () {\n    const links = document.querySelectorAll('.content-widget a:not([target=\"_blank\"])')\n    for (let link of links) {\n      $(link).on('click touchstart', ::this.handleClick)\n    }\n  }\n\n  handleClick (e) {\n    e.preventDefault()\n    const target = $(e.target).closest('a').prop('hash')\n    const scrollable = $('#blocks-list')\n    const yPosition = $(target).offset().top + scrollable.scrollTop() - scrollable.position().top\n\n    scrollable.stop().animate({scrollTop: yPosition}, 500, () => {\n      window.location.hash = target\n    })\n  }\n\n  save () {\n    const { editor, content } = this.state\n    const hasChanged = editor.getValue() !== content\n    this.setState({content: editor.getValue()})\n    this.disableEditor()\n\n    if (hasChanged) {\n      const { update, widget } = this.props\n\n      this.setState({loading: true})\n      update({\n        ...widget,\n        settings: { content: this.state.editor.getValue() }\n      })\n    }\n  }\n\n  renderLoading () {\n    if (this.state.loading) {\n      return (\n        <Loading />\n      )\n    }\n  }\n\n  handleRenderNewEditor () {\n    const { handleForceRender } = this.props\n    if (window.confirm(`Ao converter seu contedo para o novo editor\n      algumas informaes podem ser perdidas,\n      tem certeza que voc quer alterar para o novo editor?`)) {\n      handleForceRender()\n    }\n  }\n\n  render () {\n    const { toolbarId, editing } = this.state\n    const { mobilization: { header_font: headerFont, body_font: bodyFont } } = this.props\n    const { handleForceRender } = this.props\n    return (\n      <div className='widgets--content-plugin'>\n        <div className={classnames('content-widget col-12', {'display-none': !editing})}>\n          <WYSIHTMLToolbar\n            elementId={toolbarId}\n            className='absolute col-12 top-0 bg-darken-4 z7'\n            buttonClassName='btn white p2'\n            style={{ left: 0 }}\n          />\n          <div\n            className='fixed top-0 right-0 bottom-0 left-0 z5'\n            onClick={::this.handleOverlayClick}\n          />\n        </div>\n        <div className={classnames('relative', editing ? 'z6' : 'z0')}>\n          <div\n            className={classnames('widget', `${headerFont}-header`, `${bodyFont}-body`)}\n            dangerouslySetInnerHTML={{__html: this.state.content}}\n            ref='content'\n          />\n          <div className={classnames('right mt1', {'display-none': !editing})}>\n            {handleForceRender ? (\n              <button\n                onClick={this.handleRenderNewEditor.bind(this)}\n                className='btn caps bg-darken-4 white rounded mr1'\n              >\n                Alterar editor\n              </button>\n            ) : null}\n            <button\n              onClick={::this.save}\n              className='btn caps bg-darken-4 white rounded'\n            >\n              Salvar\n            </button>\n          </div>\n        </div>\n        {this.renderLoading()}\n      </div>\n    )\n  }\n}\n\nEditorOld.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  editable: PropTypes.bool.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onCancelEdit: PropTypes.func.isRequired,\n  update: PropTypes.func\n}\n\nexport default EditorOld\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-old.js","import React, { Component } from 'react'\nimport { injectIntl, intlShape, FormattedMessage } from 'react-intl'\nimport Plain from 'slate-plain-serializer'\nimport {\n  SlateEditor, SlateToolbar, SlateContent,\n  AlignmentPlugin, AlignmentButtonBar,\n  BoldPlugin, BoldButton,\n  ColorPlugin, ColorButton, ColorStateModel,\n  EmbedPlugin, EmbedButton,\n  FontFamilyPlugin, FontFamilyDropdown,\n  FontSizePlugin, FontSizeInput,\n  GridPlugin, GridButtonBar,\n  ImagePlugin, ImageButton,\n  ItalicPlugin, ItalicButton,\n  LinkPlugin, LinkButton,\n  ListPlugin, ListButtonBar,\n  StrikethroughPlugin, StrikethroughButton,\n  UnderlinePlugin, UnderlineButton\n} from 'slate-editor'\n\nimport DefaultServerConfig from '~server/config'\nimport { Loading } from '~client/components/await'\nimport { ActionButton, FooterEditor, Layer } from '~client/mobilizations/widgets/__plugins__/content/components'\n\nimport styles from './styles'\n\nif (require('exenv').canUseDOM) require('./index.scss')\n\nconst fontSizePluginOptions = { initialFontSize: 16 }\nconst colorPluginOptions = new ColorStateModel().rgba({ r: 100, g: 100, b: 100, a: 1 }).gen()\n\nconst plugins = [\n  AlignmentPlugin(),\n  BoldPlugin(),\n  ColorPlugin(),\n  EmbedPlugin(),\n  FontFamilyPlugin(),\n  FontSizePlugin(fontSizePluginOptions),\n  GridPlugin(),\n  ImagePlugin(),\n  ItalicPlugin(),\n  LinkPlugin(),\n  ListPlugin(),\n  StrikethroughPlugin(),\n  UnderlinePlugin()\n]\n\nconst classNames = {\n  button: 'btn btn-primary not-rounded border border-gray',\n  dropdown: 'select col-3 inline-block mx1 not-rounded',\n  input: 'input col-3 inline-block mr1',\n  lastButton: 'btn btn-primary not-rounded border border-gray linebreak'\n}\n\nclass EditorSlate extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      editing: false,\n      loading: false,\n      initialState: JSON.parse(props.content)\n    }\n  }\n\n  handleCancelEditionMode (state, setState) {\n    const initialRaw = Plain.serialize(this.state.initialState)\n    const raw = Plain.serialize(state)\n    if (initialRaw !== raw) {\n      if (window.confirm(this.props.intl.formatMessage({\n        id: 'c--editor-slate.button-cancel.message',\n        defaultMessage: 'Deseja mesmo sair do modo edio? Suas alteraes no sero salvas.'\n      }))) {\n        this.setState({ editing: false })\n        setState(this.state.initialState)\n      }\n    } else {\n      this.setState({ editing: false })\n    }\n  }\n\n  handleSave (state) {\n    this.setState({ initialState: state })\n    this.props.handleSave(state)\n  }\n\n  render () {\n    const { handleDelete, readOnly, toolbarStyles, contentStyles } = this.props\n    return (\n      <div className='widgets--content-plugin'>\n        <SlateEditor\n          plugins={plugins}\n          initialState={this.state.initialState}\n          style={{ color: '#fff' }}\n        >\n          <SlateToolbar style={{\n            ...styles.toolbar,\n            display: this.state.editing ? 'block' : 'none',\n            ...toolbarStyles\n          }}>\n            <BoldButton className={classNames.button} />\n            <ItalicButton className={classNames.button} />\n            <UnderlineButton className={classNames.button} />\n            <StrikethroughButton className={classNames.button} />\n            <AlignmentButtonBar className={classNames.button} />\n            <LinkButton className={classNames.button} />\n            <ListButtonBar className={classNames.button} />\n            <FontFamilyDropdown className={classNames.dropdown} style={styles.dropdown} />\n            <FontSizeInput className={classNames.input} {...fontSizePluginOptions} style={styles.input} />\n            <ImageButton className={classNames.button} signingUrl={`${DefaultServerConfig.apiUrl}/uploads`} />\n            <ColorButton className={classNames.button} initialState={colorPluginOptions} pickerDefaultPosition={{ x: 0, y: 17 }} />\n            <GridButtonBar className={classNames.button} />\n            <EmbedButton className={classNames.button} />\n          </SlateToolbar>\n\n          <SlateContent\n            wrapperStyle={{ position: 'relative', zIndex: this.state.editing ? 4 : 'inherit' }}\n            style={{ minHeight: 150, ...contentStyles }}\n            onFocus={() => {\n              if (!readOnly) this.setState({ editing: true })\n            }}\n            onKeyDown={(event, data, state) => {\n              if (data.isMod && data.key === 's') {\n                event.preventDefault()\n                this.handleSave(state)\n              }\n            }}\n            className={!readOnly ? 'editable' : ''}\n            readOnly={readOnly}\n          />\n\n          <FooterEditor>\n            <ActionButton\n              editing={this.state.editing}\n              title='Remover'\n              style={{\n                position: 'absolute',\n                right: 0,\n                bottom: 0\n              }}\n              className='mt2'\n              onClick={handleDelete}\n            >\n              <i className='fa fa-trash' />\n            </ActionButton>\n            <ActionButton\n              editing={this.state.editing}\n              className='mt2 right-align'\n              onClick={this.handleSave.bind(this)}\n            >\n              <FormattedMessage\n                id='c--editor-slate.button-save.text'\n                defaultMessage='Salvar'\n              />\n            </ActionButton>\n            <ActionButton\n              editing={this.state.editing}\n              className='mt2 right-align mx2'\n              onClick={this.handleCancelEditionMode.bind(this)}\n            >\n              <FormattedMessage\n                id='c--editor-slate.button-cancel.text'\n                defaultMessage='Cancelar'\n              />\n            </ActionButton>\n          </FooterEditor>\n          <Layer\n            editing={this.state.editing}\n            onClick={this.handleCancelEditionMode.bind(this)}\n          />\n        </SlateEditor>\n        {this.state.loading && <Loading />}\n      </div>\n    )\n  }\n}\n\nEditorSlate.propTypes = {\n  intl: intlShape.isRequired\n}\n\nEditorSlate.defaultProps = {\n  handleSave: () => {}\n}\n\nexport const createEditorContent = content => JSON.stringify(\n  Plain.deserialize(content).toJSON()\n)\n\nexport default injectIntl(EditorSlate)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-slate/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/content/components/editor-slate/index.scss\n// module id = ./mobilizations/widgets/__plugins__/content/components/editor-slate/index.scss\n// module chunks = 0","export default {\n  button: {\n    borderRight: '1px solid #fff'\n  },\n  dropdown: {\n    position: 'relative',\n    top: 1,\n    backgroundColor: 'white',\n    height: 38,\n    paddingLeft: 20,\n    border: '3px solid #0275d8',\n    color: '#0275d8',\n    margin: '0',\n    WebkitAppearance: 'none',\n    padding: '0 10px 0 15px'\n  },\n  input: {\n    position: 'relative',\n    top: 1,\n    backgroundColor: 'white',\n    borderRadius: 0,\n    height: 16,\n    margin: 0,\n    color: '#0275d8',\n    border: '3px solid #0275d8'\n  },\n  toolbar: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    zIndex: 5,\n    display: 'none'\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: '#222',\n    color: '#fff',\n    borderRadius: 3,\n    opacity: '.82',\n    fontWeight: 300,\n    fontSize: '2.15rem',\n    cursor: 'pointer',\n    display: 'none'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/editor-slate/styles.js","import React from 'react'\n\nexport default ({ children, ...props }) => (\n  <div style={{ position: 'relative', zIndex: 2 }}>\n    {children && children.map(child => React.cloneElement(child, props))}\n  </div>\n)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/footer-editor.js","export { default } from './__content__'\nexport { default as EditorOld } from './editor-old.connected'\nexport { default as EditorNew } from './editor-new.connected'\nexport { default as EditorSlate } from './editor-slate'\nexport { default as ActionButton } from './action-button'\nexport { default as Layer } from './layer'\nexport { default as FooterEditor } from './footer-editor'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/index.js","import React from 'react'\n\nconst Layer = ({ editing, onClick, value, changeState }) => {\n  return (\n    <div\n      style={{\n        display: editing ? 'block' : 'none',\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0,\n        backgroundColor: 'rgba(0,0,0,.3)',\n        zIndex: 1\n      }}\n      onClick={() => onClick(value, changeState)}\n    />\n  )\n}\n\nexport default Layer\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/components/layer.js","import * as t from './action-types'\n\nexport const initialState = {\n  editorLinkTargetType: '_self'\n}\nexport const initialAction = { type: '' }\n\nexport default (state = initialState, action = initialAction) => {\n  switch (action.type) {\n    case t.SET_EDITOR_LINK_TARGET_TYPE:\n      return { ...state, editorLinkTargetType: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/content/reducers.js","/* eslint-disable prefer-promise-reject-errors */\nimport { addNotification } from 'reapop'\nimport * as notifications from '~client/utils/notifications'\nimport { createAction } from './create-action'\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport * as t from '../action-types'\nimport { setDonationCustomerData } from '.'\n\nconst asyncDonationTransactionCreate = params => (dispatch, getState, { api, intl }) => {\n  const state = getState()\n  const endpoint = `/mobilizations/${params.mobilization_id}/donations`\n  const body = { donation: genRequestPayload(params) }\n\n  dispatch({ type: t.ASYNC_DONATION_TRANSACTION_CREATE_REQUEST })\n  return api.post(endpoint, body)\n    .then(response => {\n      dispatch({ type: t.ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS })\n\n      if (state.mobilizations.plugins.donation.customerData) {\n        dispatch(setDonationCustomerData(undefined))\n      }\n\n      AnalyticsEvents.donationFinishRequest()\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      dispatch(createAction(t.ASYNC_DONATION_TRANSACTION_CREATE_FAILURE, failure))\n      dispatch(addNotification(notifications.genericRequestError(intl)))\n\n      if (failure.config && failure.config.data) {\n        try {\n          const failureData = JSON.parse(failure.config.data)\n          dispatch(setDonationCustomerData(failureData.donation.customer))\n        } catch (error) {\n          console.error('Customer data is not parsable. Cannot store the customer data.')\n          console.error(error)\n        }\n      }\n\n      return Promise.reject({ _error: `Response ${JSON.stringify(failure)}` })\n    })\n}\n\nexport default asyncDonationTransactionCreate\n\nconst genRequestPayload = params => ({\n  widget_id: params.widget_id,\n  card_hash: params.card_hash,\n  payment_method: params.payment_method,\n  amount: params.amount,\n  customer: params.customer,\n  subscription: params.subscription,\n  period: params.recurring_period\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-creators/async-donation-transaction-create.js","export const createAction = (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-creators/create-action.js","//\n// Asynchronous\n//\nexport { default as asyncDonationTransactionCreate } from './async-donation-transaction-create'\n\n//\n// Synchronous\n//\nexport { default as setDonationCustomerData } from './set-donation-customer-data'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-creators/index.js","import * as t from '../action-types'\nimport { createAction } from '~client/utils/redux'\n\nconst setDonationCustomerData = data => createAction(t.SET_DONATION_CUSTOMER_DATA, data)\n\nexport default setDonationCustomerData\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-creators/set-donation-customer-data.js","//\n// Asynchrounous\n//\nexport const ASYNC_DONATION_TRANSACTION_CREATE_REQUEST = 'ASYNC_DONATION_TRANSACTION_CREATE_REQUEST'\nexport const ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS = 'ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS'\nexport const ASYNC_DONATION_TRANSACTION_CREATE_FAILURE = 'ASYNC_DONATION_TRANSACTION_CREATE_FAILURE'\n\n//\n// Synchrounous\n//\nexport const SET_DONATION_CUSTOMER_DATA = 'SET_DONATION_CUSTOMER_DATA'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/action-types.js","import { connect } from 'react-redux'\nimport { graphql } from 'react-apollo'\nimport { injectIntl } from 'react-intl'\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport { asyncDonationTransactionCreate } from '../action-creators'\n\nimport * as graphqlQueries from '~client/graphql/queries'\nimport { factoryDonation } from '~client/mobrender-v2/widgets/donation'\nimport { FinishMessageCustom } from '~client/mobilizations/widgets/components'\nimport DonationTellAFriend from './donation-tell-a-friend'\n\nconst Donation = factoryDonation({\n  finishMessageCustom: FinishMessageCustom,\n  tellAFriend: DonationTellAFriend\n})\n\nconst mapStateToProps = state => ({\n  donationCustomerData: state.mobilizations.plugins.donation.customerData\n})\n\nconst mapDispatchToProps = dispatch => ({\n  handleDonationTransactionCreate: ({\n    mobilization,\n    widget,\n    selectedValue,\n    selectedPaymentType,\n    onSucess,\n    onError,\n    storedDonationCustomerData\n  }) => new Promise((resolve, reject) => {\n    const paymentType = widget.settings.payment_type\n    const recurringPeriod = widget.settings.recurring_period\n    const mainColor = widget.settings.main_color\n      ? widget.settings.main_color\n      : '#43a2cc'\n\n    const checkout = new PagarMeCheckout.Checkout({\n      encryption_key: process.env.PAGARME_KEY || 'setup env var',\n      success: (data) => {\n        data.subscription = paymentType === 'users_choice'\n          ? (selectedPaymentType !== 'unique')\n          : data.subscription = (paymentType !== 'unique')\n\n        data.recurring_period = recurringPeriod\n        data.mobilization_id = mobilization.id\n        data.widget_id = widget.id\n        data.amount = widget.settings['donation_value' + selectedValue] + '00'\n\n        dispatch(asyncDonationTransactionCreate(data))\n          .then(resolve)\n          .catch(reject)\n      },\n      error: (err) => { console.error(err) }\n    })\n\n    const customerData = {}\n    if (storedDonationCustomerData) {\n      const d = storedDonationCustomerData\n\n      // reference: https://docs.pagar.me/v2017-07-17/docs/inserindo-o-formulario\n      customerData.customerName = d.name\n      customerData.customerDocumentNumber = d.document_number\n      customerData.customerEmail = d.email\n      customerData.customerPhoneDdd = d.phone.ddd\n      customerData.customerPhoneNumber = d.phone.number\n      customerData.customerAddressZipcode = d.address.zipcode\n      customerData.customerAddressStreet = d.address.street\n      customerData.customerAddressStreetNumber = d.address.street_number\n      customerData.customerAddressComplementary = d.address.complementary\n      customerData.customerAddressNeighborhood = d.address.neighborhood\n      customerData.customerAddressCity = d.address.city\n      customerData.customerAddressState = d.address.state\n    }\n\n    const params = {\n      createToken: 'false',\n      amount: widget.settings['donation_value' + selectedValue] + '00',\n      customerData: 'true',\n      paymentMethods: widget.settings.payment_methods === 'true' ? 'credit_card,boleto' : 'credit_card',\n      uiColor: mainColor,\n      paymentButtonText: widget.settings.button_text,\n      ...customerData\n    }\n\n    AnalyticsEvents.donationSetValue()\n\n    checkout.open(params)\n  })\n})\n\nexport default graphql(\n  graphqlQueries.fetchDonationGoalStats, {\n    name: 'donationGoalStats',\n    options: props => ({ variables: { widgetId: props.widget.id } })\n  })(connect(mapStateToProps, mapDispatchToProps)(injectIntl(Donation)))\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/components/__donation__.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport * as paths from '~client/paths'\nimport { TellAFriend } from '~client/components/share'\n\nconst DonationTellAFriend = ({ preview, mobilization, widget }) => {\n  return (\n    <TellAFriend\n      preview={preview}\n      mobilization={mobilization}\n      widget={widget}\n      message={\n        <FormattedMessage\n          id='donation.components--tell-a-friend.message'\n          defaultMessage='Oba, doao registrada! Sua doao  via boleto? Verifique seu email.'\n        />\n      }\n      href={paths.mobilization(mobilization)}\n    />\n  )\n}\n\nDonationTellAFriend.propTypes = {\n  preview: PropTypes.bool,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired\n}\n\nexport default DonationTellAFriend\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/components/donation-tell-a-friend.js","export { default } from './__donation__.connected'\nexport { default as SettingsMenu } from './settings-menu'\nexport { default as DonationTellAFriend } from './donation-tell-a-friend'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/components/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport * as paths from '~client/paths'\nimport { Tabs, Tab } from '~client/components/navigation/tabs'\nimport { SettingsPageMenuLayout } from '~client/components/layout'\n\nconst SettingsMenu = ({ mobilization, widget, location }) => {\n  const donationPath = paths.donation(mobilization.id, widget.id) + '/settings'\n  const donationAdjustmentsPath = paths.donation(mobilization.id, widget.id)\n  const donationAutofirePath = paths.donationAutofire(mobilization.id, widget.id)\n  const donationFinishPath = paths.donationFinish(mobilization.id, widget.id)\n\n  return (\n    <SettingsPageMenuLayout\n      title={\n        <FormattedMessage\n          id='donation.components--settings-menu.title'\n          defaultMessage='Configure sua caixa de doao'\n        />\n      }\n    >\n      <Tabs>\n        <Tab\n          path={donationAdjustmentsPath}\n          isActive={donationAdjustmentsPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='donation.components--settings-menu.tabs.adjusts'\n              defaultMessage='Ajustes'\n            />\n          }\n        />\n        <Tab\n          path={donationPath}\n          isActive={donationPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='donation.components--settings-menu.tabs.info'\n              defaultMessage='Dados para doao'\n            />\n          }\n        />\n        <Tab\n          path={donationAutofirePath}\n          isActive={donationAutofirePath === location.pathname}\n          text={\n            <FormattedMessage\n              id='donation.components--settings-menu.tabs.autofire'\n              defaultMessage='Mensagem agradecimento'\n            />\n          }\n        />\n        <Tab\n          path={donationFinishPath}\n          isActive={donationFinishPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='donation.components--settings-menu.tabs.post-action'\n              defaultMessage='Ps-doao'\n            />\n          }\n        />\n      </Tabs>\n    </SettingsPageMenuLayout>\n  )\n}\n\nSettingsMenu.propTypes = {\n  mobilization: PropTypes.shape({ id: PropTypes.number.isRequired }).isRequired,\n  widget: PropTypes.shape({ id: PropTypes.number.isRequired }).isRequired,\n  location: PropTypes.shape({ pathname: PropTypes.string.isRequired }).isRequired\n}\n\nexport default SettingsMenu\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/components/settings-menu.js","const prefix = (mobilizationId, widgetId, path) =>\n  `/mobilizations/${mobilizationId}/widgets/${widgetId}/${path}`\n\nexport const donation = (mid, wid) => prefix(mid, wid, 'donation')\nexport const donationAutofire = (mid, wid) => prefix(mid, wid, 'donation/autofire')\nexport const donationExport = (mid, wid) => prefix(mid, wid, 'donation/export')\nexport const donationFinish = (mid, wid) => prefix(mid, wid, 'donation/finish')\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/paths.js","import * as t from './action-types'\n\nexport const initialState = {\n  saving: false,\n  error: undefined,\n  customerData: undefined\n}\nexport const initialAction = { type: '' }\n\nexport default (state = initialState, action = initialAction) => {\n  switch (action.type) {\n    case t.ASYNC_DONATION_TRANSACTION_CREATE_REQUEST:\n      return { ...state, saving: true }\n    case t.ASYNC_DONATION_TRANSACTION_CREATE_SUCCESS:\n      return { ...state, saving: false }\n    case t.ASYNC_DONATION_TRANSACTION_CREATE_FAILURE:\n      return { ...state, saving: false, error: action.payload }\n\n    case t.SET_DONATION_CUSTOMER_DATA:\n      return { ...state, customerData: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/donation/reducers.js","import { connect } from 'react-redux'\nimport { injectIntl } from 'react-intl'\n\nimport Form from './__form__'\nimport * as MobActions from '~client/mobrender/redux/action-creators'\n\nconst mapDispatchToProps = {\n  asyncFormEntryCreate: MobActions.asyncFormEntryCreate\n}\n\nexport { default as Form } from './__form__'\nexport default connect(undefined, mapDispatchToProps)(injectIntl(Form))\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/__form__.connected.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { browserHistory } from 'react-router'\nimport CountUp from 'react-countup'\nimport { intlShape } from 'react-intl'\nimport $ from 'jquery'\nimport classnames from 'classnames'\n\nimport * as paths from '~client/paths'\nimport { Error } from '~client/components/form-util'\nimport { isValidEmail } from '~client/utils/validation-helper'\nimport { FinishMessageCustom } from '~client/mobilizations/widgets/components'\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport { Button, Input, FormTellAFriend } from '../components'\n\nclass Form extends Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      hasMouseOver: false,\n      loading: false,\n      success: false,\n      errors: []\n    }\n  }\n\n  componentWillReceiveProps () {\n    if (this.state.loading) {\n      this.setState({loading: false, success: true})\n    }\n  }\n\n  fields () {\n    const { settings } = this.props.widget\n    return (settings && settings.fields ? settings.fields : [])\n  }\n\n  handleOverlayOnClick () {\n    const { mobilization, widget, editable } = this.props\n    if (editable) {\n      browserHistory.push(paths.fieldsMobilizationWidget(mobilization.id, widget.id))\n    }\n  }\n\n  submit () {\n    if (!this.props.editable) {\n      const { asyncFormEntryCreate, mobilization, widget } = this.props\n\n      const fieldsWithValue = widget.settings.fields.map(field => ({\n        ...field,\n        value: $(`#input-${field.uid}`).val()\n      }))\n      const errors = this.validate(fieldsWithValue)\n      this.setState({ errors })\n\n      if (errors.length === 0) {\n        this.setState({ loading: true })\n        const formEntry = {\n          widget_id: widget.id,\n          fields: JSON.stringify(fieldsWithValue)\n        }\n        asyncFormEntryCreate({ mobilization, formEntry }).then(() => {\n          this.setState({ loading: false, success: true })\n        })\n      }\n    }\n  }\n\n  validate (fieldsWithValue) {\n    const errors = []\n    fieldsWithValue.forEach((field) => {\n      if (field.required === 'true' && field.value === '') {\n        errors.push(`${field.label} no pode ficar em branco`)\n      } else if (field.value !== '' && field.kind === 'email' && !isValidEmail(field.value)) {\n        errors.push(`${field.label} invlido`)\n      }\n    })\n    return errors\n  }\n\n  renderCallToAction () {\n    const { configurable, widget, mobilization: { header_font: headerFont }, intl } = this.props\n    const callToAction = (\n      widget.settings && widget.settings.call_to_action\n        ? widget.settings.call_to_action\n        : intl.formatMessage({\n          id: 'form-widget.components--form.default.title-text',\n          defaultMessage: 'Clique para configurar seu formulrio...'\n        })\n    ).replace('\\n', '<br/><br/>')\n\n    return configurable ? null : (\n      <h2\n        className='mt0 mb3 center white'\n        dangerouslySetInnerHTML={{__html: callToAction}}\n        style={{ fontFamily: headerFont }}\n      />\n    )\n  }\n\n  renderFields () {\n    const fields = this.fields()\n    return fields.map((field, index) => {\n      return (\n        <Input\n          {...this.props}\n          key={field.uid}\n          uid={field.uid}\n          onBlur={(Number(index) === 0 ? AnalyticsEvents.formIsFilled.bind(AnalyticsEvents) : () => {})}\n          canMoveUp={index !== 0}\n          canMoveDown={index !== fields.length - 1}\n          initializeEditing={this.props.hasNewField && index === fields.length - 1}\n          field={field}\n        />\n      )\n    })\n  }\n\n  renderButton () {\n    const { configurable, widget, intl } = this.props\n    const { loading, success } = this.state\n\n    if (!configurable) {\n      return (\n        <Button\n          {...this.props}\n          buttonText={\n            (widget.settings && widget.settings.button_text) ||\n            intl.formatMessage({\n              id: 'form-widget.components--form.default.button-text',\n              defaultMessage: 'Enviar'\n            })\n          }\n          handleClick={::this.submit}\n          loading={loading}\n          success={success}\n        />\n      )\n    }\n  }\n\n  renderCount () {\n    const { widget: { settings } } = this.props\n    if (!this.props.configurable && settings && settings.count_text) {\n      const {\n        block: { scrollTopReached: startCounting },\n        widget: { form_entries_count: count },\n        mobilization: { body_font: bodyFont }\n      } = this.props\n\n      return (\n        <div className='mt2 h3 center white' style={{ fontFamily: bodyFont }}>\n          <CountUp\n            start={0}\n            end={!isNaN(count) && startCounting ? Number(count) : 0}\n            duration={5}\n          />\n          &nbsp;\n          {settings.count_text}\n        </div>\n      )\n    }\n  }\n\n  renderErrors () {\n    const { errors } = this.state\n\n    return errors.length > 0 && (\n      <div>{errors.map(error => <Error message={error} />)}</div>\n    )\n  }\n\n  renderShareButtons () {\n    const fields = this.fields()\n    let message = ''\n    fields.map((field) => {\n      if (field.kind === 'greetings') {\n        message = field.placeholder\n      }\n    })\n    if (message === '') {\n      const { mobilization, widget } = this.props\n      const { settings: { finish_message_type: finishMessageType } } = widget\n      return finishMessageType === 'custom' ? (\n        <FinishMessageCustom widget={widget} />\n      ) : (\n        <FormTellAFriend mobilization={mobilization} widget={widget} />\n      )\n    } else {\n      return <p className='center p2 bg-darken-3'>{message}</p>\n    }\n  }\n\n  renderForm () {\n    const {\n      editable,\n      configurable,\n      widget: { settings }\n    } = this.props\n    const backgroundColor = settings && settings.main_color\n      ? settings.main_color\n      : 'rgba(0,0,0,0.25)'\n\n    return (\n      <div>\n        <div\n          className={classnames(\n            'rounded',\n            { 'p3 relative': editable || !configurable }\n          )}\n          style={{ backgroundColor: !configurable ? backgroundColor : null }}\n        >\n          {this.renderCallToAction()}\n          {this.renderFields()}\n          {this.renderErrors()}\n          {this.renderButton()}\n        </div>\n      </div>\n    )\n  }\n\n  render () {\n    const { mobilization: { header_font: headerFont } } = this.props\n    const { success } = this.state\n\n    return (\n      <div className={`widget ${headerFont}-header`}>\n        {success ? this.renderShareButtons() : this.renderForm()}\n        {this.renderCount()}\n      </div>\n    )\n  }\n}\n\nForm.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.shape({\n    settings: PropTypes.shape({\n      finish_message_type: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  editable: PropTypes.bool,\n  configurable: PropTypes.bool,\n  hasNewField: PropTypes.bool,\n  intl: intlShape\n}\n\nexport default Form\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/__form__.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst Button = ({\n  success,\n  buttonText,\n  loading,\n  handleClick,\n  mobilization: { body_font: bodyFont }\n}) => (\n  <div style={{ fontFamily: bodyFont }}>\n    <button\n      disabled={loading}\n      className='caps btn bg-darken-4 p2 col-12 mt1 mb2 rounded white'\n      onClick={handleClick}>\n      {loading ? 'Enviando...' : buttonText}\n    </button>\n    {success && (\n      <div className='center'>Sua ao foi registrada com sucesso!</div>\n    )}\n  </div>\n)\n\nButton.propTypes = {\n  success: PropTypes.bool.isRequired,\n  buttonText: PropTypes.string,\n  loading: PropTypes.bool.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  mobilization: PropTypes.object.isRequired\n}\n\nexport default Button\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/button.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\n// Global module dependencies\nimport * as paths from '~client/paths'\nimport { TellAFriend } from '~client/components/share'\n\nconst FormTellAFriend = ({ preview, mobilization, widget }) => (\n  <TellAFriend\n    preview={preview}\n    mobilization={mobilization}\n    widget={widget}\n    message={\n      <FormattedMessage\n        id='form-widget.components--tell-a-friend.message'\n        defaultMessage='Formulrio submetido com sucesso!'\n      />\n    }\n    href={paths.mobilization(mobilization)}\n  />\n)\n\nFormTellAFriend.propTypes = {\n  preview: PropTypes.bool,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired\n}\n\nexport default FormTellAFriend\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/form-tell-a-friend.js","export { default } from './__form__.connected'\nexport { default as Button } from './button'\nexport { default as Input } from './input'\nexport { default as InputForm } from './input-form'\nexport { default as SettingsMenu } from './settings-menu'\nexport { default as FormTellAFriend } from './form-tell-a-friend'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/index.js","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\nimport $ from 'jquery'\n\nimport * as MobActions from '~client/mobrender/redux/action-creators'\n\nexport class InputForm extends Component {\n  constructor (props, context) {\n    super(props, context)\n    const { field } = this.props\n    this.state = {\n      loading: false,\n      kind: field.kind,\n      label: field.label,\n      placeholder: field.placeholder,\n      required: field.required\n    }\n  }\n\n  componentWillAppear () {\n    const { uid } = this.props\n    $('#form-' + uid).hide()\n    $('#form-' + uid).slideDown(200)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { uid } = this.props\n    if (this.state.loading && this.props.field !== nextProps.field) {\n      this.setState({ loading: false })\n      $('#form-' + uid).slideUp(200, () => {\n        this.props.onClose && this.props.onClose()\n      })\n    }\n  }\n\n  dirty () {\n    const { field } = this.props\n    return field.kind !== this.state.kind ||\n           field.label !== this.state.label ||\n           field.placeholder !== this.state.placeholder ||\n           field.required !== this.state.required\n  }\n\n  handleLabelChange (event) {\n    this.setState({label: event.target.value})\n  }\n\n  handlePlaceholderChange (event) {\n    this.setState({placeholder: event.target.value})\n  }\n\n  handleRequiredChange (event) {\n    this.setState({required: event.target.value})\n  }\n\n  handleKindChange (event) {\n    this.setState({kind: event.target.value})\n  }\n\n  updateSettings (newFields) {\n    const { dispatch, widget } = this.props\n    const { settings } = widget\n\n    this.setState({ loading: true })\n    dispatch(MobActions.asyncUpdateWidget({\n      ...widget,\n      settings: { ...settings, fields: newFields }\n    }))\n  }\n\n  handleCancel (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { field, uid } = this.props\n    this.setState({\n      kind: field.kind,\n      label: field.label,\n      placeholder: field.placeholder,\n      required: field.required\n    })\n    $('#form-' + uid).slideUp(200, () => {\n      this.props.onClose && this.props.onClose()\n    })\n  }\n\n  handleSave (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { fields } = this.props.widget.settings\n    const newFields = fields.map((field) => {\n      if (field.uid === this.props.field.uid) {\n        return {\n          uid: field.uid,\n          kind: this.state.kind,\n          label: this.state.label,\n          placeholder: this.state.placeholder,\n          required: this.state.required\n        }\n      } else {\n        return field\n      }\n    })\n    this.updateSettings(newFields)\n  }\n\n  handleMoveUp (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { fields } = this.props.widget.settings\n    const newFields = fields.map((field, index) => {\n      if (index + 1 < fields.length && fields[index + 1].uid === this.props.field.uid) {\n        return this.props.field\n      } else if (field.uid === this.props.field.uid) {\n        return fields[index - 1]\n      } else {\n        return field\n      }\n    })\n    this.updateSettings(newFields)\n  }\n\n  handleMoveDown (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { fields } = this.props.widget.settings\n    const newFields = fields.map((field, index) => {\n      if (index > 0 && fields[index - 1].uid === this.props.field.uid) {\n        return this.props.field\n      } else if (field.uid === this.props.field.uid) {\n        return fields[index + 1]\n      } else {\n        return field\n      }\n    })\n    this.updateSettings(newFields)\n  }\n\n  handleRemove (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    if (confirm(this.props.intl.formatMessage({\n      id: 'form-widget.components--input-form.handle-remove.confirm',\n      defaultMessage: 'Voc tem certeza que quer remover este campo?'\n    }))) {\n      const { fields } = this.props.widget.settings\n      const newFields = fields.filter(field =>\n        field.uid !== this.props.field.uid\n      )\n      this.updateSettings(newFields)\n    }\n  }\n\n  handleOverlayClick (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const dirty = this.dirty()\n    if (!dirty || (dirty && confirm(this.props.intl.formatMessage({\n      id: 'form-widget.components--input-form.handle-overlay-click.confirm',\n      defaultMessage: 'Ao sair sem salvar voc perder suas modificaes. Deseja sair sem salvar?'\n    })))) {\n      this.handleCancel(event)\n    }\n  }\n\n  render () {\n    const { canMoveUp, canMoveDown, uid, intl } = this.props\n    return (\n      <div>\n        <div\n          id={`form-${uid}`}\n          className='p2 mb3 bg-white border border-gray94 clearfix relative rounded z4'\n        >\n          <div className='col col-6'>\n            <div className='table col-12 mb2'>\n              <div className='col-3 table-cell align-middle'>\n                <label className='h5 bold'>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-title.label'\n                    defaultMessage='Ttulo do campo'\n                  />\n                </label>\n              </div>\n              <div className='col-9 table-cell'>\n                <input\n                  className='input m0'\n                  placeholder={intl.formatMessage({\n                    id: 'form-widget.components--input-form.field-title.placeholder',\n                    defaultMessage: 'Ex: Email'\n                  })}\n                  type='text'\n                  value={this.state.label}\n                  onChange={::this.handleLabelChange}\n                />\n              </div>\n            </div>\n\n            <div className='table col-12 mb2'>\n              <div className='col-3 table-cell align-middle'>\n                <label className='h5 bold'>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-helper-text.label'\n                    defaultMessage='Texto de ajuda'\n                  />\n                </label>\n              </div>\n              <div className='col-9 table-cell'>\n                <input\n                  className='input m0'\n                  placeholder={intl.formatMessage({\n                    id: 'form-widget.components--input-form.field-helper-text.placeholder',\n                    defaultMessage: 'Ex: Insira aqui o seu email'\n                  })}\n                  type='text'\n                  value={this.state.placeholder}\n                  onChange={::this.handlePlaceholderChange}\n                />\n              </div>\n            </div>\n\n            <div className='table col-12 mb2'>\n              <div className='col-3 table-cell align-middle'>\n                <label className='h5 bold'>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-type.label'\n                    defaultMessage='Tipo de campo'\n                  />\n                </label>\n              </div>\n              <div className='col-9 table-cell'>\n                <select\n                  className='select m0'\n                  onChange={::this.handleKindChange}\n                  value={this.state.kind}>\n                  <option value='text'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.text'\n                      defaultMessage='Texto'\n                    />\n                  </option>\n                  <option value='email'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.email'\n                      defaultMessage='E-mail'\n                    />\n                  </option>\n                  <option value='number'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.number'\n                      defaultMessage='Nmero'\n                    />\n                  </option>\n                  <option value='dropdown'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.dropdown'\n                      defaultMessage='Dropdown &#9733;'\n                    />\n                  </option>\n                  <option value='greetings'>\n                    <FormattedMessage\n                      id='form-widget.components--input-form.field-type.options.greetings'\n                      defaultMessage='Saudao &#9733;'\n                    />\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <div className='table col-12 mb2'>\n              <div className='col-3 table-cell align-meiddle'>\n                <label className='h5 bold'>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-required.label'\n                    defaultMessage='Obrigatrio'\n                  />\n                </label>\n              </div>\n              <div className='col-9 table-cell'>\n                <input\n                  id={`required-true-${uid}`}\n                  type='radio'\n                  name={`required-${uid}`}\n                  value='true'\n                  checked={this.state.required === 'true'}\n                  onChange={::this.handleRequiredChange}\n                />\n                <label className='ml1 mr2' htmlFor={`required-true-${uid}`}>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-required.radio.yes.label'\n                    defaultMessage='Sim'\n                  />\n                </label>\n                <input\n                  id={`required-false-${uid}`}\n                  type='radio'\n                  name={`required-${uid}`}\n                  value='false'\n                  checked={this.state.required === 'false'}\n                  onChange={::this.handleRequiredChange}\n                />\n                <label className='ml1' htmlFor={`required-false-${uid}`}>\n                  <FormattedMessage\n                    id='form-widget.components--input-form.field-required.radio.no.label'\n                    defaultMessage='No'\n                  />\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div className='col col-6 px3'>\n            <div>\n              <button\n                disabled={!canMoveUp}\n                className='btn btn-no-focus hover'\n                style={{ backgroundColor: 'white', color: '#bbb' }}\n                onClick={::this.handleMoveUp}\n              >\n                <i className='fa fa-chevron-up mr1' />\n                <FormattedMessage\n                  id='form-widget.components--input-form.button-move-up'\n                  defaultMessage='Mover para cima'\n                />\n              </button>\n            </div>\n\n            <div>\n              <button\n                disabled={!canMoveDown}\n                className='btn btn-no-focus hover'\n                style={{ backgroundColor: 'white', color: '#bbb' }}\n                onClick={::this.handleMoveDown}\n              >\n                <i className='fa fa-chevron-down mr1' />\n                <FormattedMessage\n                  id='form-widget.components--input-form.button-move-down'\n                  defaultMessage='Mover para baixo'\n                />\n              </button>\n            </div>\n\n            <div>\n              <button\n                className='btn btn-no-focus hover'\n                style={{ backgroundColor: 'white', color: '#bbb' }}\n                onClick={::this.handleRemove}\n              >\n                <i className='fa fa-trash mr1' />\n                <FormattedMessage\n                  id='form-widget.components--input-form.button-remove'\n                  defaultMessage='Remover'\n                />\n              </button>\n            </div>\n\n            <div className='mt1 ml2'>\n              <button\n                className='btn white caps bg-darken-3 p2 mr2 rounded'\n                onClick={::this.handleCancel}\n              >\n                <FormattedMessage\n                  id='form-widget.components--input-form.button-cancel'\n                  defaultMessage='Cancelar'\n                />\n              </button>\n              <button\n                disabled={this.state.loading}\n                className='btn white caps bg-pagenta p2 mr2 rounded'\n                onClick={::this.handleSave}\n              >\n                {this.state.loading\n                  ? (\n                    <FormattedMessage\n                      id='form-widget.components--input-form.button-save.saving'\n                      defaultMessage='Salvando...'\n                    />\n                  ) : (\n                    <FormattedMessage\n                      id='form-widget.components--input-form.button-save.default'\n                      defaultMessage='Salvar'\n                    />\n                  )\n                }\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className='fixed top-0 right-0 bottom-0 left-0 z3'\n          onClick={::this.handleOverlayClick}\n        />\n      </div>\n    )\n  }\n}\n\nInputForm.propTypes = {\n  intl: intlShape.isRequired\n}\n\nexport default connect()(injectIntl(InputForm))\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/input-form.js","import React, { Component } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport TransitionGroup from 'react-transition-group/TransitionGroup'\nimport classnames from 'classnames'\n\n// Current module dependencies\nimport { InputForm } from '../components'\n\nclass Input extends Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      hasMouseOver: false,\n      editing: this.props.initializeEditing\n    }\n  }\n\n  handleMouseOver () {\n    this.setState({hasMouseOver: true})\n  }\n\n  handleMouseOut () {\n    this.setState({hasMouseOver: false})\n  }\n\n  handleClick () {\n    if (this.props.configurable) {\n      this.setState({editing: true})\n    }\n  }\n\n  handleCloseForm () {\n    this.setState({editing: false})\n  }\n\n  renderForm () {\n    const { uid } = this.props\n    return (\n      <TransitionGroup>\n        <InputForm {...this.props} onClose={::this.handleCloseForm} key={'form-' + uid} />\n      </TransitionGroup>\n    )\n  }\n\n  renderInstructions () {\n    const { configurable } = this.props\n    if (configurable && this.state.hasMouseOver) {\n      return (\n        <div className='right'>\n          <i className='fa fa-pencil-square-o mr1' />\n          <FormattedMessage\n            id='form-widget.components--input.click-to-edit'\n            defaultMessage='Clique para editar'\n          />\n        </div>\n      )\n    }\n  }\n\n  renderFieldKind () {\n    const { field, uid, editable, configurable, onBlur } = this.props\n\n    if (field.kind === 'dropdown') {\n      return (<select\n        id={'input-' + uid}\n        className='select block border border-gray94'\n        style={{\n          cursor: editable || configurable ? 'pointer' : null,\n          borderRadius: '2px',\n          padding: '1rem',\n          display: 'inline-block',\n          height: 'inherit'\n        }}\n      >\n        <option value=''>\n          <FormattedMessage\n            id='form-widget.components--input.field-dropdown.options.default'\n            defaultMessage='Selecione...'\n          />\n        </option>\n        {\n          field.placeholder.split(',').map(function (v, index) {\n            return <option key={`dropdown-option-${index}`}>{v}</option>\n          })\n        }\n      </select>)\n    } else if (field.kind === 'greetings') {\n      return (\n        editable || configurable ? (\n          <p className='block full-width'>\n            <strong>\n              <FormattedMessage\n                id='form-widget.components--input.field-greetings.title'\n                defaultMessage='Mensagem de sucesso alterada para:'\n              />\n            </strong>\n            <br />\n            {field.placeholder}\n          </p>\n        )\n        : null\n      )\n    } else {\n      return (\n        <input\n          id={`input-${uid}`}\n          className='input block border border-gray94'\n          style={{\n            cursor: editable || configurable ? 'pointer' : null,\n            borderRadius: '2px',\n            padding: '1rem'\n          }}\n          onBlur={onBlur}\n          placeholder={field.placeholder}\n          type={field.kind === 'email' ? 'email' : 'text'}\n        />\n      )\n    }\n  }\n\n  renderInput () {\n    const {\n      field,\n      editable,\n      configurable,\n      mobilization: {\n        body_font: bodyFont\n      }\n    } = this.props\n\n    return (\n      <div\n        className='mb2'\n        onMouseEnter={::this.handleMouseOver}\n        onMouseLeave={::this.handleMouseOut}\n        style={{\n          cursor: editable || configurable ? 'pointer' : null,\n          fontFamily: bodyFont\n        }}\n        onClick={::this.handleClick}>\n        <label\n          className={classnames(\n            'caps bold mb1 inline-block',\n            configurable ? 'darkengray' : 'white'\n          )}\n          style={{\n            cursor: editable || configurable ? 'pointer' : null,\n            fontSize: '.75rem',\n            fontWeight: 600,\n            marginBottom: '1rem'\n          }}\n        >\n          {field.label}{field.required === 'true' ? '*' : null}\n        </label>\n        {this.renderInstructions()}\n        {this.renderFieldKind()}\n      </div>\n    )\n  }\n\n  render () {\n    return (this.state.editing ? this.renderForm() : this.renderInput())\n  }\n}\n\nexport default Input\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/input.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport * as paths from '~client/paths'\nimport { Tabs, Tab } from '~client/components/navigation/tabs'\nimport { SettingsPageMenuLayout } from '~client/components/layout'\n\nconst SettingsMenu = ({ mobilization, widget, location }) => {\n  const fieldsPath = paths.fieldsMobilizationWidget(mobilization.id, widget.id)\n  const formPath = paths.formMobilizationWidget(mobilization.id, widget.id)\n  const formAutofirePath = paths.formAutofire(mobilization.id, widget.id)\n  const formExportPath = paths.formExport(mobilization.id, widget.id)\n  const finishPath = paths.widgetFormSettingsFinish(mobilization.id, widget.id)\n\n  return (\n    <SettingsPageMenuLayout\n      title={\n        <FormattedMessage\n          id='form-widget.components--settings-menu.title'\n          defaultMessage='Configure o formulrio da sua ao'\n        />\n      }\n    >\n      <Tabs>\n        <Tab\n          path={formPath}\n          isActive={formPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.adjusts'\n              defaultMessage='Ajustes'\n            />\n          }\n        />\n        <Tab\n          path={fieldsPath}\n          isActive={fieldsPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.fields'\n              defaultMessage='Campos do formulrio'\n            />\n          }\n        />\n        <Tab\n          path={formAutofirePath}\n          isActive={formAutofirePath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.autofire'\n              defaultMessage='Mensagem agradecimento'\n            />\n          }\n        />\n        <Tab\n          path={formExportPath}\n          isActive={formExportPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.report'\n              defaultMessage='Relatrio'\n            />\n          }\n        />\n        <Tab\n          path={finishPath}\n          isActive={finishPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='form-widget.components--settings-menu.items.post-action'\n              defaultMessage='Ps-inscrio'\n            />\n          }\n        />\n      </Tabs>\n    </SettingsPageMenuLayout>\n  )\n}\n\nSettingsMenu.propTypes = {\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired\n}\n\nexport default SettingsMenu\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/components/settings-menu.js","const prefix = (mobilizationId, widgetId, slug) =>\n  `/mobilizations/${mobilizationId}/widgets/${widgetId}/${slug}`\n\nexport const formMobilizationWidget = (mid, wid) => prefix(mid, wid, 'form')\nexport const formAutofire = (mid, wid) => prefix(mid, wid, 'form/autofire')\nexport const formExport = (mid, wid) => prefix(mid, wid, 'form/export')\nexport const fieldsMobilizationWidget = (mid, wid) => prefix(mid, wid, 'form/fields')\nexport const widgetFormSettingsFinish = (mid, wid) => prefix(mid, wid, 'form/finish')\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/form/paths.js","export { default as Pressure } from './pressure/components'\nexport { default as Form } from './form/components'\nexport { default as Content } from './content/components'\nexport { default as Donation } from './donation/components'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/index.js","/* eslint-disable prefer-promise-reject-errors */\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport MobSelectors from '~client/mobrender/redux/selectors'\nimport * as t from '../action-types'\nimport * as MobActionTypes from '~client/mobrender/redux/action-types'\nimport { createAction } from './create-action'\n\n//\n// The name of this action needs to be refactored to make more sense.\n// Besides to have to refact this action name, needs to refact\n// API endpoint too.\n//\nconst asyncFillWidget = ({ payload: fill, widget }) => (dispatch, getState, { api }) => {\n  const state = getState()\n\n  // For endpoint reference, see: https://github.com/ourcities/hub-api/issues/39\n  const endpoint = `/widgets/${widget.id}/fill`\n  const body = { fill }\n\n  dispatch({ type: t.WIDGET_PRESSURE_FILL_REQUEST })\n  return api.post(endpoint, body)\n    .then(({ data }) => {\n      dispatch(createAction(t.WIDGET_PRESSURE_FILL_SUCCESS, widget.id))\n      dispatch(createAction(\n        MobActionTypes.UPDATE_WIDGET_SUCCESS,\n        updateWidget(state, data)\n      ))\n\n      AnalyticsEvents.pressureSavedData()\n\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      dispatch(createAction(t.WIDGET_PRESSURE_FILL_FAILURE, failure))\n      return Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\nconst updateWidget = (state, payload) => {\n  const { widget_id: id, count } = payload\n  const widget = MobSelectors(state).getWidget(id)\n  return { ...widget, count }\n}\n\nexport default asyncFillWidget\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/action-creators/async-fill-widget.js","export const createAction = (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/action-creators/create-action.js","export { default as asyncFillWidget } from './async-fill-widget'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/action-creators/index.js","export const WIDGET_PRESSURE_FILL_REQUEST = 'WIDGET_PRESSURE_FILL_REQUEST'\nexport const WIDGET_PRESSURE_FILL_SUCCESS = 'WIDGET_PRESSURE_FILL_SUCCESS'\nexport const WIDGET_PRESSURE_FILL_FAILURE = 'WIDGET_PRESSURE_FILL_FAILURE'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/action-types.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { browserHistory } from 'react-router'\nimport { client as graphqlClient } from '~client/store'\nimport * as graphqlMutations from '~client/graphql/mutations'\nimport * as graphqlQueries from '~client/graphql/queries'\nimport * as pressureHelper from '~client/mobilizations/widgets/utils/pressure-helper'\nimport * as paths from '~client/paths'\nimport * as array from '~client/utils/array'\nimport MobSelectors from '~client/mobrender/redux/selectors'\nimport * as PressureActions from '../action-creators'\nimport { WidgetOverlay, FinishMessageCustom } from '~client/mobilizations/widgets/components'\nimport { PressureCount, PressureForm, TargetList, PressureTellAFriend } from '../components'\n\n/* TODO: Change static content by props\n * - title\n * - bgColor\n */\nexport class Pressure extends Component {\n  constructor (props, context) {\n    super(props, context)\n    this.state = {\n      filled: false,\n      selectedTargets: [],\n      selectedTargetsError: undefined,\n      callTransition: undefined,\n      observableQuery: undefined,\n      addTwilioCallMutation: undefined,\n      // TODO: receive from widget settings\n      selectableTargetList: false,\n      phonePressureCount: undefined,\n      showFinishMessage: false\n    }\n  }\n\n  componentWillMount () {\n    const isPressurePhone = pressureHelper.getType(this.getTargetList()) === pressureHelper.PRESSURE_TYPE_PHONE\n    const hasCounter = !!this.props.widget.settings.count_text\n    if (hasCounter && isPressurePhone) {\n      graphqlClient().query({\n        query: graphqlQueries.CountTwilioCallsByWidget,\n        variables: { widgetId: this.props.widget.id }\n      })\n        .then(({ data: { allTwilioCalls: { totalCount: phonePressureCount } } }) => {\n          this.setState({ phonePressureCount })\n        })\n        .catch(err => console.error(err))\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({ filled: this.props.saving && !nextProps.saving })\n  }\n\n  getTargetList () {\n    const { targets } = this.props.widget.settings || { targets: '' }\n    return targets && targets.split(';').filter(target => !!target.trim())\n  }\n\n  getEmailTarget (target) {\n    const targetSplit = target.split('<')\n    return targetSplit[1].replace('>', '')\n  }\n\n  changeSelectedTargets (selectedTargets) {\n    this.setState({ selectedTargets })\n  }\n\n  changeState (state) {\n    this.setState(state)\n  }\n\n  handleSubmit (data) {\n    if (data.pressureType === pressureHelper.PRESSURE_TYPE_EMAIL) {\n      const { widget, asyncFillWidget } = this.props\n      const payload = {\n        activist: {\n          firstname: data.name,\n          lastname: data.lastname,\n          email: data.email,\n          city: data.city || null\n        },\n        mail: {\n          cc: this.getTargetList().map(target => this.getEmailTarget(target)),\n          subject: data.subject,\n          body: data.body\n        }\n      }\n      asyncFillWidget({ payload, widget })\n    } else if (data.pressureType === pressureHelper.PRESSURE_TYPE_PHONE) {\n      if (!this.state.selectedTargets.length && this.state.selectableTargetList) {\n        this.setState({\n          selectedTargetsError:\n            'Ops, voc precisa selecionar pelo menos um alvo para poder pressionar'\n        })\n      } else {\n        // normalize phone number with + sign (e.g. +5511987654321)\n        data.phone = /^\\+/.test(data.phone) ? data.phone : `+${data.phone}`\n\n        this.setState({ selectedTargetsError: undefined })\n\n        // it needs to find or create the activist data\n        const addTwilioCallMutation = variables => {\n          this.state.phonePressureCount && ++this.state.phonePressureCount\n          return graphqlClient().mutate({\n            mutation: graphqlMutations.addTwilioCall,\n            variables\n          })\n        }\n\n        addTwilioCallMutation({\n          widgetId: this.props.widget.id,\n          from: data.phone,\n          to: this.getEmailTarget(array.shuffle(this.getTargetList())[0])\n        }).then(() => {\n          if (!this.state.observableQuery) {\n            const observableQuery = graphqlClient({ ssrMode: false }).watchQuery({\n              pollInterval: 2000,\n              query: graphqlQueries.watchTwilioCallTransitions,\n              variables: { widgetId: this.props.widget.id, from: data.phone }\n            })\n            observableQuery.subscribe({\n              next: ({ data: { watchTwilioCallTransitions: callTransition } }) => {\n                this.setState({ callTransition })\n              }\n            })\n            this.setState({ observableQuery })\n          }\n        })\n\n        if (!this.state.addTwilioCallMutation) {\n          this.setState({ addTwilioCallMutation })\n        }\n      }\n    }\n  }\n\n  handleOverlayOnClick (e) {\n    const { mobilization, widget, editable } = this.props\n    if (editable) {\n      if (e) e.preventDefault()\n      browserHistory.push(\n        paths.pressure(mobilization.id, widget.id)\n      )\n    }\n  }\n\n  render () {\n    const {\n      block,\n      widget,\n      editable,\n      saving,\n      filledPressureWidgets,\n      mobilization\n    } = this.props\n    const { header_font: headerFont } = mobilization\n    const {\n      main_color: mainColor,\n      call_to_action: callToAction,\n      title_text: titleText,\n      button_text: buttonText,\n      // Maybe `reply_email` is necessary...\n      // reply_email,\n      count_text: countText,\n      pressure_subject: pressureSubject,\n      pressure_body: pressureBody,\n      finish_message_type: finishMessageType,\n      disable_edit_field: disableEditField\n    } = widget.settings || {\n      main_color: '#f23392',\n      title_text: 'Envie um e-mail para quem pode tomar essa deciso',\n      button_text: 'Enviar e-mail',\n      disable_edit_field: 'n'\n    }\n\n    return (\n      <WidgetOverlay\n        editable={editable}\n        onClick={::this.handleOverlayOnClick}\n        text='Clique para configurar o formulrio de presso direta'\n      >\n        {filledPressureWidgets.includes(widget.id) || this.state.showFinishMessage ? (\n          finishMessageType === 'custom' ? (\n            <FinishMessageCustom widget={widget} />\n          ) : (\n            <PressureTellAFriend mobilization={mobilization} widget={widget} />\n          )\n        ) : (\n          <div className='pressure-widget'>\n            <div onKeyDown={(e) => e.stopPropagation()} />\n            <h2\n              className='center py2 px3 m0 white rounded-top'\n              style={{ backgroundColor: mainColor, fontFamily: headerFont }}\n            >\n              {callToAction || titleText}\n            </h2>\n            <TargetList\n              targets={::this.getTargetList() || []}\n              onSelect={::this.changeSelectedTargets}\n              errorMessage={this.state.selectedTargetsError}\n              selectable={this.selectableTargetList}\n            />\n            <PressureForm\n              disabled={disableEditField === 's'}\n              widget={widget}\n              buttonText={(saving && !editable ? 'Enviando...' : buttonText)}\n              buttonColor={mainColor}\n              subject={pressureSubject}\n              body={pressureBody}\n              onSubmit={::this.handleSubmit}\n              targetList={this.getTargetList()}\n              selectedTargets={this.selectedTargets}\n              callTransition={this.state.callTransition}\n              addTwilioCallMutation={this.state.addTwilioCallMutation}\n              changeParentState={::this.changeState}\n            >\n              {countText && (\n                <PressureCount\n                  value={this.state.phonePressureCount || widget.count || 0}\n                  color={mainColor}\n                  text={countText}\n                  startCounting={block.scrollTopReached}\n                />\n              )}\n            </PressureForm>\n          </div>\n        )}\n      </WidgetOverlay>\n    )\n  }\n}\n\nPressure.propTypes = {\n  editable: PropTypes.bool,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.shape({\n    settings: PropTypes.shape({\n      finish_message_type: PropTypes.string,\n      finish_message: PropTypes.string,\n      finish_message_background: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  saving: PropTypes.bool,\n  filledPressureWidgets: PropTypes.array,\n  // Actions\n  asyncFillWidget: PropTypes.func\n}\n\nconst mapStateToProps = (state, props) => {\n  const pressure = MobSelectors(state, props).getPlugin('pressure')\n  const { saving, filledPressureWidgets } = pressure\n  return { saving, filledPressureWidgets }\n}\n\nconst mapDispatchToProps = { ...PressureActions }\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pressure)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/__pressure__.js","export { default } from './__pressure__'\nexport { default as PressureCount } from './pressure-count'\nexport { default as PressureForm } from './pressure-form'\nexport { default as PressureTellAFriend } from './pressure-tell-a-friend'\nexport { default as TargetList } from './target-list'\nexport { default as SettingsBase } from './settings-base'\nexport { default as SettingsMenu } from './settings-menu'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport CountUp from 'react-countup'\n\nconst PressureCount = ({ value, color, text, startCounting }) => {\n  /* TODO: support all browser\n   * -webkit-box-shadow: inset 0px 15px 18px -10px rgba(227,224,227,1);\n   * -moz-box-shadow: inset 0px 15px 18px -10px rgba(227,224,227,1);\n   * box-shadow: inset 0px 15px 18px -10px rgba(227,224,227,1);\n   */\n  const pressureCount = {\n    boxShadow: 'inset 0px 15px 18px -10px rgba(227,224,227,1)'\n  }\n  return (\n    <div className='pressure-count p3 bg-white rounded-bottom' style={pressureCount}>\n      <p className='center m0'>\n        <div className='h1' style={{ color }}>\n          <CountUp\n            start={0}\n            end={!isNaN(value) && startCounting ? Number(value) : 0}\n            duration={5}\n          />\n        </div>\n        <span className='black bold h3 ml1'>\n          {text || (\n            <FormattedMessage\n              id='c--pressure-count.text.default'\n              defaultMessage='presses feitas'\n            />\n          )}\n        </span>\n      </p>\n    </div>\n  )\n}\n\nPressureCount.propTypes = {\n  value: PropTypes.number,\n  color: PropTypes.string,\n  text: PropTypes.string,\n  startCounting: PropTypes.bool\n}\n\nPressureCount.defaultProps = {\n  value: 0,\n  startCounting: false\n}\n\nexport default PressureCount\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-count.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classnames from 'classnames'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\nimport * as pressureHelper from '~client/mobilizations/widgets/utils/pressure-helper'\nimport { isValidEmail, isValidPhoneE164 } from '~client/utils/validation-helper'\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\n\nif (require('exenv').canUseDOM) {\n  require('./index.scss')\n  require('./phone-calls.scss')\n}\n\n// TODO: Reusable Input\nconst controlClassname = 'px3 py1'\nconst inputReset = {\n  border: 'none',\n  padding: '0',\n  height: '2rem',\n  outline: 'none'\n}\n\nconst parseTarget = target => {\n  const targetSplit = target.split('<')\n  const valid = targetSplit.length === 2\n  return valid ? { name: targetSplit[0].trim(), value: targetSplit[1].replace('>', '') } : null\n}\n\nclass RealtimeCallDuration extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { duration: 0, interval: undefined }\n  }\n\n  timer () {\n    this.setState({ duration: this.state.duration + 1 })\n  }\n\n  componentDidMount () {\n    this.setState({ interval: setInterval(this.timer, 1000) })\n  }\n\n  componentWillUnmount () {\n    clearInterval(this.state.interval)\n  }\n\n  render () {\n    return <span>{`${this.state.duration}s`}</span>\n  }\n}\n\nclass PressureForm extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      email: '',\n      phone: '',\n      name: '',\n      lastname: '',\n      city: '',\n      subject: props.subject,\n      body: props.body,\n      pressureType: pressureHelper.getType(props.targetList) || undefined,\n      callManagement: undefined\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    if (!this.props.callTransition && props.targetList && props.targetList.length) {\n      this.setState({\n        callManagement: props.targetList.map(target => ({\n          ...parseTarget(target),\n          attempts: 0\n        }))\n      })\n    }\n\n    if (\n      props.callTransition &&\n      props.targetList &&\n      props.targetList.length &&\n      JSON.stringify(this.props.callTransition) !== JSON.stringify(props.callTransition)\n    ) {\n      this.setState({\n        callManagement: this.state.callManagement.map((target, index) => {\n          const isCallToCurrentTarget = target.value === props.callTransition.twilioCallTo\n          const transition = isCallToCurrentTarget ? props.callTransition : {}\n          const { twilioCallTransitionStatus: status } = transition\n          const isFailStatus = ['busy', 'failed', 'no-answer'].includes(status)\n\n          let attempts = this.state.callManagement[index].attempts\n          if (isCallToCurrentTarget && isFailStatus) attempts++\n\n          return { ...target, ...transition, attempts }\n        })\n      })\n    }\n  }\n\n  validate () {\n    const { targetList, widget: { settings: { show_city: showCity } }, intl } = this.props\n    const requiredMsg = intl.formatMessage({\n      id: 'pressure-widget.components--pressure-form.validation.required',\n      defaultMessage: 'Preenchimento obrigatrio'\n    })\n    const errors = { valid: true }\n\n    if (this.state.pressureType === pressureHelper.PRESSURE_TYPE_EMAIL) {\n      if (!this.state.email) {\n        errors.email = requiredMsg\n      } else if (!isValidEmail(this.state.email)) {\n        errors.email = intl.formatMessage({\n          id: 'pressure-widget.components--pressure-form.email.validation.invalid-email-format',\n          defaultMessage: 'E-mail invlido'\n        })\n      } else if (targetList && targetList.some(target => target.match(`<${this.state.email}>`))) {\n        errors.email = intl.formatMessage({\n          id: 'pressure-widget.components--pressure-form.email.validation.sender-is-target',\n          defaultMessage: 'O email que voc est tentando usar  de um dos alvos da mobilizao.'\n        })\n      }\n      if (!this.state.subject) {\n        errors.subject = requiredMsg\n      }\n      if (!this.state.body) {\n        errors.body = requiredMsg\n      }\n    }\n    if (this.state.pressureType === pressureHelper.PRESSURE_TYPE_PHONE) {\n      const { phone } = this.state\n      const phoneE164 = /^\\+/.test(phone) ? phone : `+${phone}`\n      if (!phone) {\n        errors.phone = requiredMsg\n      } else if (!isValidPhoneE164(phoneE164)) {\n        if ([11, 12].includes(phoneE164.length)) {\n          errors.phone = intl.formatMessage({\n            id: 'pressure-widget.components--pressure-form.phone.validation.ddd',\n            defaultMessage: 'Informe o cdigo do pas e o DDD com dois dgitos. Ex: +5511'\n          })\n        } else {\n          errors.phone = intl.formatMessage({\n            id: 'pressure-widget.components--pressure-form.phone.validation.invalid',\n            defaultMessage: 'Telefone invlido'\n          })\n        }\n      } else if (\n        targetList &&\n        targetList.some(\n          target => target.replace(/\\D/g, '')\n            .match(`${this.state.phone.replace(/\\D/g, '')}`)\n        )\n      ) {\n        errors.phone = intl.formatMessage({\n          id: 'pressure-widget.components--pressure-form.phone.validation.caller-is-target',\n          defaultMessage: 'O telefone que voc est tentando usar  de um dos alvos da mobilizao.'\n        })\n      }\n    }\n    if (!this.state.name) {\n      errors.name = requiredMsg\n    }\n    if (!this.state.lastname) {\n      errors.lastname = requiredMsg\n    }\n    if (showCity === 'city-true' && !this.state.city) {\n      errors.city = requiredMsg\n    }\n\n    if (Object.keys(errors).length > 1) {\n      errors.valid = false\n    }\n    return errors\n  }\n\n  handleSubmit (e) {\n    e.preventDefault()\n    const { onSubmit } = this.props\n    const errors = this.validate()\n\n    this.setState({ errors })\n    if (errors.valid) onSubmit && onSubmit(this.state)\n  }\n\n  render () {\n    const {\n      callTransition,\n      buttonColor,\n      buttonText,\n      children,\n      widget,\n      disabled,\n      addTwilioCallMutation,\n      intl\n    } = this.props\n    const {\n      email, phone, name, lastname, city, subject, body, errors,\n      callManagement\n    } = this.state\n\n    return (\n      <form\n        className={classnames(\n          'pressure-form',\n          { 'is-calling': !!callTransition }\n        )}\n        onSubmit={::this.handleSubmit}\n      >\n        <div\n          className={classnames(\n            'activist-form bg-white',\n            !children ? 'rounded-bottom' : null\n          )}\n        >\n          <div className='form bg-white rounded-bottom'>\n            {this.state.pressureType === 'email' && (\n              <div className={classnames('form-group', controlClassname)}>\n                <label className='py1 gray' htmlFor='pressure-sender-email-id'>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.email.label'\n                    defaultMessage='E-mail'\n                  />\n                  {(errors && errors['email'] && <span className='error'>{errors['email']}</span>)}\n                </label>\n                <input\n                  id='pressure-sender-email-id'\n                  className='col-12'\n                  style={inputReset}\n                  onBlur={::AnalyticsEvents.pressureIsFilled}\n                  type='email'\n                  placeholder={intl.formatMessage({\n                    id: 'pressure-widget.components--pressure-form.email.placeholder',\n                    defaultMessage: 'Insira seu e-mail'\n                  })}\n                  value={email}\n                  onChange={e => this.setState({ email: e.target.value })}\n                />\n              </div>\n            )}\n            {this.state.pressureType === 'phone' && (\n              <div className={classnames('form-group', controlClassname)}>\n                <label className='py1 gray' htmlFor='pressure-sender-phone-id'>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.phone.label'\n                    defaultMessage='Telefone'\n                  />\n                  {(errors && errors['phone'] && <span className='error'>{errors['phone']}</span>)}\n                </label>\n                <input\n                  id='pressure-sender-phone-id'\n                  className='col-12'\n                  style={inputReset}\n                  onBlur={::AnalyticsEvents.pressureIsFilled}\n                  type='text'\n                  placeholder={intl.formatMessage({\n                    id: 'pressure-widget.components--pressure-form.phone.placeholder',\n                    defaultMessage: 'Insira seu telefone. Ex: +5511987654321'\n                  })}\n                  value={phone}\n                  onChange={e => this.setState({ phone: e.target.value })}\n                />\n              </div>\n            )}\n            <div className={classnames('form-group', controlClassname)}>\n              <label className='py1 gray' htmlFor='pressure-sender-firstname-id'>\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.name.label'\n                  defaultMessage='Nome'\n                />\n                {(errors && errors['name'] && <span className='error'>{errors['name']}</span>)}\n              </label>\n              <input\n                id='pressure-sender-firstname-id'\n                className='col-12'\n                style={inputReset}\n                type='text'\n                placeholder={intl.formatMessage({\n                  id: 'pressure-widget.components--pressure-form.name.placeholder',\n                  defaultMessage: 'Insira seu nome'\n                })}\n                value={name}\n                onChange={e => this.setState({ name: e.target.value })}\n              />\n            </div>\n            <div className={classnames('form-group', controlClassname)}>\n              <label className='py1 gray' htmlFor='pressure-sender-lastname-id'>\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.lastname.label'\n                  defaultMessage='Sobrenome'\n                />\n                {(errors && errors['lastname'] && <span className='error'>{errors['lastname']}</span>)}\n              </label>\n              <input\n                id='pressure-sender-lastname-id'\n                className='col-12'\n                style={inputReset}\n                type='text'\n                placeholder={intl.formatMessage({\n                  id: 'pressure-widget.components--pressure-form.lastname.placeholder',\n                  defaultMessage: 'Insira seu sobrenome'\n                })}\n                value={lastname}\n                onChange={e => this.setState({ lastname: e.target.value })}\n              />\n            </div>\n            {\n              !widget.settings.show_city || widget.settings.show_city !== 'city-true' ? null : (\n                <div className={classnames('form-group', controlClassname)}>\n                  <label className='py1 gray' htmlFor='pressure-sender-city-id'>\n                    <FormattedMessage\n                      id='pressure-widget.components--pressure-form.city.label'\n                      defaultMessage='Cidade'\n                    />\n                    {(errors && errors['city'] && <span className='error'>{errors['city']}</span>)}\n                  </label>\n                  <input\n                    className='col-12'\n                    style={inputReset}\n                    type='text'\n                    placeholder={intl.formatMessage({\n                      id: 'pressure-widget.components--pressure-form.city.placeholder',\n                      defaultMessage: 'Insira sua cidade'\n                    })}\n                    value={city}\n                    onChange={e => this.setState({ city: e.target.value })}\n                  />\n                </div>\n              )\n            }\n            {this.state.pressureType === 'email' && (\n              <div className={classnames('form-group', controlClassname)}>\n                <label className='py1 gray' htmlFor='pressure-subject-id'>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.subject.label'\n                    defaultMessage='Assunto'\n                  />\n                  {(errors && errors['subject'] && <span className='error'>{errors['subject']}</span>)}\n                </label>\n                <input\n                  id='pressure-subject-id'\n                  className='col-12'\n                  style={inputReset}\n                  type='text'\n                  value={subject}\n                  disabled={disabled}\n                  onChange={e => this.setState({ subject: e.target.value })}\n                />\n              </div>\n            )}\n            {this.state.pressureType === 'email' && (\n              <div className={classnames('form-group', controlClassname)}>\n                <label className='py1 gray' htmlFor='pressure-body-id'>\n                  <FormattedMessage\n                    id='pressure-widget.components--pressure-form.body.label'\n                    defaultMessage='Corpo do e-mail'\n                  />\n                  {(errors && errors['body'] && <span className='error'>{errors['body']}</span>)}\n                </label>\n                <textarea\n                  id='pressure-body-id'\n                  className='col-12 mt1'\n                  style={{...inputReset, height: '7rem'}}\n                  value={body}\n                  disabled={disabled}\n                  onChange={e => this.setState({ body: e.target.value })}\n                />\n              </div>\n            )}\n          </div>\n          <div className='pt1 pb3 px3'>\n            <button\n              type='submit'\n              onClick={::this.handleSubmit}\n              className='btn caps white col-12 py2 rounded'\n              style={{ backgroundColor: buttonColor }}\n            >\n              {buttonText}\n            </button>\n          </div>\n        </div>\n\n        <div className='phone-calls'>\n          <ul>\n            {callManagement && callManagement.length && callManagement.map(target => {\n              const {\n                name,\n                value,\n                attempts,\n                twilioCallTo: to,\n                twilioCallTransitionStatus: status,\n                twilioCallTransitionCallDuration: duration\n              } = target\n              let ListItem = <div />\n\n              if (to === value) {\n                if (status === 'completed') {\n                  ListItem = (\n                    <li className='success'>\n                      <div className='flex-container'>\n                        <div className='call-item'>\n                          <div>\n                            <i className='fa fa-phone-square' />\n                          </div>\n                          <div className='target-name'>{name}</div>\n                        </div>\n                        <div className='finish'>\n                          {duration}s\n                          <i className='fa fa-check-circle' />\n                        </div>\n                      </div>\n                    </li>\n                  )\n                } else if (['initiated', 'ringing', 'in-progress'].includes(status)) {\n                  ListItem = (\n                    <li className='warning'>\n                      <div className='flex-container'>\n                        <div className='call-item'>\n                          <div>\n                            <span className='fa fa-phone ring' />\n                          </div>\n                          <div className='target-name'>\n                            {name}<br />\n                            <FormattedMessage\n                              id='pressure-widget.components--pressure-form.phone-calls.ringing'\n                              defaultMessage='Chamada em andamento'\n                            />\n                          </div>\n                        </div>\n                        <div className='inline-container'>\n                          <div className='prefix'>\n                            {status === 'in-progress' && <RealtimeCallDuration />}\n                          </div>\n                        </div>\n                      </div>\n                    </li>\n                  )\n                } else if (['busy', 'failed', 'no-answer'].includes(status)) {\n                  ListItem = (\n                    <li className='danger'>\n                      <div className='flex-container'>\n                        <div className='call-item'>\n                          <span className='fa fa-phone-square' />\n                          <div className='target-name'>{name}</div>\n                        </div>\n                        <div className='finish'>\n                          3x\n                          <span className='fa fa-times-circle' />\n                        </div>\n                      </div>\n                    </li>\n                  )\n                  if (attempts < 0) {\n                    ListItem = (\n                      <li className='danger'>\n                        <div className='flex-container'>\n                          <div className='call-item'>\n                            <span className='fa fa-phone-square' />\n                            <div className='target-name'>{name}</div>\n                          </div>\n                          <div className='inline-container'>\n                            <div className='prefix'>\n                              {attempts}x\n                            </div>\n                            <button\n                              className='btn-call outlined'\n                              onClick={e => {\n                                e.preventDefault()\n                                addTwilioCallMutation({\n                                  widgetId: this.props.widget.id,\n                                  from: this.state.phone,\n                                  to: value\n                                })\n                              }}\n                            >\n                              <FormattedMessage\n                                id='pressure-widget.components--pressure-form.phone-calls.retry'\n                                defaultMessage='Religar'\n                              />\n                            </button>\n                          </div>\n                        </div>\n                      </li>\n                    )\n                  }\n                }\n              } else {\n                ListItem = (\n                  <li>\n                    <div className='flex-container'>\n                      <div className='call-item'>\n                        <span className='fa fa-phone-square primary' />\n                        <div className='target-name'>{name}</div>\n                      </div>\n                      <button\n                        className='btn-call primary'\n                        type='button'\n                        onClick={e => {\n                          e.preventDefault()\n                          addTwilioCallMutation({\n                            widgetId: this.props.widget.id,\n                            from: this.state.phone,\n                            to: value\n                          })\n                        }}\n                      >\n                        <FormattedMessage\n                          id='pressure-widget.components--pressure-form.phone-calls.call'\n                          defaultMessage='Ligar'\n                        />\n                      </button>\n                    </div>\n                  </li>\n                )\n              }\n              return ListItem\n            })}\n          </ul>\n\n          <div className='how-it-works'>\n            <FormattedMessage\n              id='pressure-widget.components--pressure-form.phone.how-it-works.title'\n              defaultMessage='Como funciona?'\n            />\n            <ol>\n              <li>\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.phone.how-it-works.list-item-01'\n                  defaultMessage='Estamos ligando para o seu alvo'\n                />\n              </li>\n              <li>\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.phone.how-it-works.list-item-02'\n                  defaultMessage='Assim que algum atender do lado de l, vamos te ligar'\n                />\n              </li>\n              <li>\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.phone.how-it-works.list-item-03'\n                  defaultMessage='Quando voc atender, conectamos as ligaes'\n                />\n              </li>\n              <li>\n                <FormattedMessage\n                  id='pressure-widget.components--pressure-form.phone.how-it-works.list-item-04'\n                  defaultMessage='Agora  com voc!'\n                />\n              </li>\n            </ol>\n          </div>\n\n          <div style={{ margin: '1rem 0', padding: '0 1rem' }}>\n            <button\n              type='button'\n              className='btn-call full-width'\n              style={{ backgroundColor: buttonColor }}\n              onClick={e => {\n                e.preventDefault()\n                this.props.changeParentState({ showFinishMessage: true })\n              }}\n            >\n              <FormattedMessage\n                id='pressure-widget.components--pressure-form.phone.finish-and-share'\n                defaultMessage='Encerrar e Compartilhar'\n              />\n            </button>\n          </div>\n        </div>\n        {children}\n      </form>\n    )\n  }\n}\n\nPressureForm.propTypes = {\n  onSubmit: PropTypes.func,\n  buttonColor: PropTypes.string,\n  buttonText: PropTypes.string,\n  subject: PropTypes.string,\n  body: PropTypes.string,\n  widget: PropTypes.object,\n  changeParentState: PropTypes.func.isRequired,\n  intl: intlShape\n}\n\nPressureForm.defaultProps = {\n  subject: '',\n  body: '',\n  changeParentState: () => {}\n}\n\nexport default injectIntl(PressureForm)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.scss\n// module id = ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/index.scss\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/phone-calls.scss\n// module id = ./mobilizations/widgets/__plugins__/pressure/components/pressure-form/phone-calls.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport { TellAFriend } from '~client/components/share'\n\nconst PressureTellAFriend = ({ preview, mobilization, widget }) => (\n  <TellAFriend\n    preview={preview}\n    mobilization={mobilization}\n    widget={widget}\n    message={\n      <FormattedMessage\n        id='pressure-widget--tell-a-friend.message'\n        defaultMessage='Presso enviada'\n      />\n    }\n  />\n)\n\nPressureTellAFriend.propTypes = {\n  preview: PropTypes.bool,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired\n}\n\nexport default PressureTellAFriend\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/pressure-tell-a-friend.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\n// Global module dependencies\nimport { SettingsPageLayout } from '~client/components/layout'\n\n// Current module dependencies\nimport { SettingsMenu } from '~client/mobilizations/widgets/__plugins__/pressure/components'\n\nconst SettingsBase = ({ children, location, mobilization, widget }) => (\n  <SettingsPageLayout>\n    <SettingsMenu\n      location={location}\n      mobilization={mobilization}\n      widget={widget}\n    />\n    {children}\n  </SettingsPageLayout>\n)\n\nSettingsBase.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string\n  }).isRequired,\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired\n}\n\nexport default SettingsBase\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/settings-base.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport * as paths from '~client/paths'\nimport { Tabs, Tab } from '~client/components/navigation/tabs'\nimport { SettingsPageMenuLayout } from '~client/components/layout'\n\nconst SettingsMenu = ({ location, mobilization, widget }) => {\n  const pressurePath = paths.pressure(mobilization.id, widget.id)\n  const pressureEmailPath = paths.pressureEmail(mobilization.id, widget.id)\n  const pressureAutofirePath = paths.pressureAutofire(mobilization.id, widget.id)\n  const pressureFinishPath = paths.pressureFinish(mobilization.id, widget.id)\n\n  return (\n    <SettingsPageMenuLayout\n      title={\n        <FormattedMessage\n          id='pressure-widget.components--settings-menu.title'\n          defaultMessage='Configure seu formulrio de presso'\n        />\n      }\n    >\n      <Tabs>\n        <Tab\n          path={pressurePath}\n          isActive={pressurePath === location.pathname}\n          text={\n            <FormattedMessage\n              id='pressure-widget.components--settings-menu.items.form'\n              defaultMessage='Ajustes'\n            />\n          }\n        />\n        <Tab\n          path={pressureEmailPath}\n          isActive={pressureEmailPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='pressure-widget.components--settings-menu.items.pressure-email'\n              defaultMessage='E-mail para alvo'\n            />\n          }\n        />\n        <Tab\n          path={pressureAutofirePath}\n          isActive={pressureAutofirePath === location.pathname}\n          text={\n            <FormattedMessage\n              id='pressure-widget.components--settings-menu.items.autofire'\n              defaultMessage='Mensagem de agradecimento'\n            />\n          }\n        />\n        <Tab\n          path={pressureFinishPath}\n          isActive={pressureFinishPath === location.pathname}\n          text={\n            <FormattedMessage\n              id='pressure-widget.components--settings-menu.items.post-action'\n              defaultMessage='Ps-presso'\n            />\n          }\n        />\n      </Tabs>\n    </SettingsPageMenuLayout>\n  )\n}\n\nSettingsMenu.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string\n  }).isRequired,\n  mobilization: PropTypes.shape({\n    id: PropTypes.number.isRequired\n  }).isRequired,\n  widget: PropTypes.shape({\n    id: PropTypes.number.isRequired\n  }).isRequired\n}\n\nexport default SettingsMenu\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/settings-menu.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport * as array from '~client/utils/array'\nimport * as pressureHelper from '~client/mobilizations/widgets/utils/pressure-helper'\n\nif (require('exenv').canUseDOM) require('./index.scss')\n\nconst parseTarget = target => {\n  const targetSplit = target.split('<')\n  const valid = targetSplit.length === 2\n  return valid ? { name: targetSplit[0].trim(), value: targetSplit[1].replace('>', '') } : null\n}\n\nclass TargetList extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      targets: props.targets,\n      selectedTargets: []\n    }\n  }\n\n  componentDidMount () {\n    //\n    // to works on nossas/bonde-cache, make an async method\n    // to shuffle the pressure targets on the client-side.\n    //\n    if (require('exenv').canUseDOM) {\n      const { targets } = this.props\n\n      setTimeout(() => {\n        this.setState({ targets: array.shuffle(targets) })\n      }, 0)\n    }\n  }\n\n  render () {\n    const { targets } = this.state\n    const { onSelect, errorMessage, selectable } = this.props\n    const pressureType = pressureHelper.getType(targets)\n    // const isPressureEmail = pressureType === pressureHelper.PRESSURE_TYPE_EMAIL\n    const isPressurePhone = pressureType === pressureHelper.PRESSURE_TYPE_PHONE\n\n    return (\n      <div className='target-list px2 py1'>\n        <div className='target-list-label bold'>\n          {selectable ? (\n            <FormattedMessage\n              id='pressure-widget--target-list.label.pressure'\n              defaultMessage={`\n                Selecione quem voc quer pressionar ({targetsCount} {targetsCount, plural,\n                  one {alvo}\n                  other {alvos}\n                })\n              `}\n              values={{ targetsCount: String(array.clean(targets).length) }}\n            />\n          ) : (\n            <FormattedMessage\n              id='pressure-widget--target-list.label.email'\n              defaultMessage={`\n                Quem voc vai pressionar ({targetsCount} {targetsCount, plural,\n                  one {alvo}\n                  other {alvos}\n                })\n              `}\n              values={{ targetsCount: String(array.clean(targets).length) }}\n            />\n          )}\n          {selectable && errorMessage && (\n            <div className='red mt1'>{errorMessage}</div>\n          )}\n        </div>\n        <div className='target-list-container clearfix'>\n          <div className='target-list-wrapper clearfix'>\n            {targets.length > 0 && targets.map((obj, index) => {\n              const target = parseTarget(obj)\n              return !target ? null : (\n                <label\n                  key={`target-item-${index}`}\n                  className='target-item left py1 px2 mr1 bg-white rounded'\n                >\n                  {selectable && (\n                    <input\n                      type='checkbox'\n                      onChange={({ target: { checked } }) => {\n                        const { selectedTargets } = this.state\n                        if (checked) {\n                          // append the current target\n                          this.state.selectedTargets = [...selectedTargets, target]\n                        } else {\n                          const nameMatching = t => t.name === target.name\n                          const index = selectedTargets.findIndex(nameMatching)\n                          // remove the current target\n                          this.state.selectedTargets = [\n                            ...selectedTargets.slice(0, index),\n                            ...selectedTargets.slice(index + 1)\n                          ]\n                        }\n                        onSelect && onSelect(this.state.selectedTargets)\n                      }}\n                    />\n                  )}\n                  <p className='black h6 m0'>\n                    <span className='target-name bold flex'>{target.name}</span>\n                    {!isPressurePhone && <span className='target-value'>{target.value}</span>}\n                  </p>\n                </label>\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nTargetList.propTypes = {\n  targets: PropTypes.arrayOf(PropTypes.string),\n  onSelect: PropTypes.func.isRequired,\n  errorMessage: PropTypes.string,\n  selectable: PropTypes.bool\n}\n\nTargetList.defaultProps = {\n  targets: [],\n  selectable: false\n}\n\nexport default TargetList\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/components/target-list/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/__plugins__/pressure/components/target-list/index.scss\n// module id = ./mobilizations/widgets/__plugins__/pressure/components/target-list/index.scss\n// module chunks = 0","const prefix = (mobilizationId, widgetId, path) =>\n  `/mobilizations/${mobilizationId}/widgets/${widgetId}/${path}`\n\nexport const pressure = (mid, wid) => prefix(mid, wid, 'pressure')\nexport const pressureAutofire = (mid, wid) => prefix(mid, wid, 'pressure/autofire')\nexport const pressureEmail = (mid, wid) => prefix(mid, wid, 'pressure/email')\nexport const pressureFinish = (mid, wid) => prefix(mid, wid, 'pressure/finish')\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/paths.js","import * as t from './action-types'\n\nexport const initialState = {\n  saving: false,\n  //\n  // Store the `id` of the pressure widgets that have filled up by user\n  // and needs to render the finish message.\n  // @type Array -> Integer\n  //\n  filledPressureWidgets: [],\n  filled: false,\n  error: undefined\n}\n\nexport const initialAction = { type: '' }\n\nexport default function PressureReducers (state = initialState, action = initialAction) {\n  switch (action.type) {\n    case t.WIDGET_PRESSURE_FILL_REQUEST:\n      return { ...state, saving: true }\n    case t.WIDGET_PRESSURE_FILL_SUCCESS:\n      return {\n        ...state,\n        saving: false,\n        filledPressureWidgets: [\n          ...state.filledPressureWidgets,\n          action.payload\n        ]\n      }\n    case t.WIDGET_PRESSURE_FILL_FAILURE:\n      return { ...state, saving: false, error: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/pressure/reducers.js","import { combineReducers } from 'redux'\n\nimport pressure from './pressure/reducers'\nimport donation from './donation/reducers'\nimport content from './content/reducers'\n\nexport default combineReducers({\n  pressure,\n  donation,\n  content\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/__plugins__/reducers.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nimport { Tag } from '../components'\n\nvar styles = require('exenv').canUseDOM ? require('./block-tag.scss') : {}\n\nconst BlockTag = ({ tags, ...rest }) => (\n  <div\n    className={classnames(\n      'my2 flex flex-wrap h5',\n      styles.blockTag\n    )}\n  >\n    {\n      tags\n        .filter(tag => !!tag.trim())\n        .map((tag, index) => (\n          <Tag\n            key={`${tag}-${index}`}\n            value={tag}\n            {...rest}\n          />\n        ))\n    }\n  </div>\n)\n\nBlockTag.propTypes = {\n  tags: PropTypes.arrayOf(PropTypes.string),\n  onClick: PropTypes.func,\n  onRemove: PropTypes.func\n}\n\nBlockTag.defaultProps = {\n  tags: []\n}\n\nexport default BlockTag\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/block-tag.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"blockTag\":\"_2O8F6hjtnRRU59XmQ4mjv8\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/components/block-tag.scss\n// module id = ./mobilizations/widgets/components/block-tag.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport { Button } from '~client/ux/components'\n\nclass DataExport extends Component {\n  componentDidMount () {\n    const { dataExportMount } = this.props\n    dataExportMount()\n  }\n\n  formatExportAt (widget) {\n    const { exported_at: exportedAt } = widget\n    const d = new Date(String(exportedAt))\n\n    const pad = value => (`00${value}`).slice(-2)\n    const date = `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}`\n    const time = `${pad(d.getHours())}:${pad(d.getMinutes())}`\n    return (\n      <FormattedMessage\n        id='widgets.components--data-export.formated-export-at'\n        defaultMessage='{date} s {time}'\n        values={{ date, time }}\n      />\n    )\n  }\n\n  renderLoadingMessage () {\n    return (\n      <span>\n        <i className='fa fa-circle-o-notch fa-spin fa-w mr1' />\n        <FormattedMessage\n          id='widgets.components--data-export.loading.message'\n          defaultMessage='Aguarde enquanto estamos processando...'\n        />\n      </span>\n    )\n  }\n\n  renderExportedMessage () {\n    const { widget } = this.props\n    return (\n      <span className='olive'>\n        <FormattedMessage\n          id='widgets.components--data-export.exported.message'\n          defaultMessage='ltima exportao: {formatedExportAt}.'\n          values={{ formatedExportAt: this.formatExportAt(widget) }}\n        />\n        <i className='fa fa-calendar-check-o ml1' />\n      </span>\n    )\n  }\n\n  renderErrorMessage () {\n    const { error } = this.props\n    return <span className='red'>{error}</span>\n  }\n\n  render () {\n    const { mobilization, loading, error, widget, asyncWidgetDataExport } = this.props\n    const filename = mobilization.name\n\n    return (\n      <div>\n        <div className='table caps bold mb2 darkengray h6'>\n          <i className='fa fa-file-excel-o darkengray table-cell align-middle h2' />\n          <span className='table-cell align-middle pl1'>\n            <FormattedMessage\n              id='widgets.components--data-export.export.label'\n              defaultMessage='Exportar'\n            />\n          </span>\n        </div>\n\n        <p className='h5 mb2 darkengray'>\n          <FormattedMessage\n            id='widgets.components--data-export.export.helper-text'\n            defaultMessage={\n              'Clique no boto abaixo para baixar o relatrio completo do ' +\n              'formulrio em formato excel.'\n            }\n          />\n        </p>\n\n        <p className='mb2'>\n          <Button\n            disabled={loading}\n            onClick={() => asyncWidgetDataExport({ mobilization, widget, filename })}\n          >\n            <FormattedMessage\n              id='widgets.components--data-export.export.button'\n              defaultMessage='Clique para baixar a planilha completa.'\n            />\n          </Button>\n        </p>\n\n        <div className='mb3'>\n          {(loading ? this.renderLoadingMessage() : null)}\n          {(widget.exported_at && !loading ? this.renderExportedMessage() : null)}\n          {(error ? this.renderErrorMessage() : null)}\n        </div>\n      </div>\n    )\n  }\n}\n\nDataExport.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.object,\n  widget: PropTypes.object.isRequired,\n  // Actions\n  asyncWidgetDataExport: PropTypes.func.isRequired,\n  dataExportMount: PropTypes.func.isRequired\n}\n\nexport default DataExport\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/data-export.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\n// Global module dependencies\nimport EditorDraft from '~client/components/editor-draft-js'\nimport { EditorSlate } from '~client/mobilizations/widgets/__plugins__/content/components'\n\nconst FinishMessageCustom = ({ readOnly, widget }) => {\n  const {\n    settings: {\n      finish_message: finishMessage,\n      finish_message_background: finishMessageBackground\n    }\n  } = widget\n  const content = valueParse(finishMessage)\n\n  return content.entityMap ? (\n    <EditorDraft\n      readOnly={readOnly}\n      value={content}\n      editorStyle={{\n        backgroundColor: `rgba(${finishMessageBackground})`,\n        borderRadius: 3\n      }}\n    />\n  ) : (\n    <EditorSlate\n      content={finishMessage}\n      readOnly={readOnly}\n      contentStyles={{ backgroundColor: '#fff', color: '#666', padding: 10 }}\n    />\n  )\n}\n\n//\n// Helper functions\n//\nconst valueParse = message => {\n  try {\n    return JSON.parse(message)\n  } catch (e) {\n    return message\n  }\n}\n\n//\n// PropTypes\n//\nFinishMessageCustom.propTypes = {\n  widget: PropTypes.shape({\n    settings: PropTypes.shape({\n      finish_message: PropTypes.string.isRequired,\n      finish_message_background: PropTypes.string.isRequired\n    }).isRequired\n  }).isRequired,\n  readOnly: PropTypes.bool\n}\n\nFinishMessageCustom.defaultProps = {\n  readOnly: true\n}\n\nexport default FinishMessageCustom\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/finish-message-custom.js","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { FormattedMessage, intlShape } from 'react-intl'\nimport { FormGroup, ControlLabel, FormControl } from '~client/components/forms'\nimport { SettingsForm } from '~client/ux/components'\nimport * as validator from '~client/utils/validation-helper'\n\nconst FormAutofire = props => {\n  const {\n    fields: {\n      sender_name: senderName,\n      sender_email: senderEmail,\n      email_subject: emailSubject,\n      email_text: emailText\n    },\n    widget,\n    asyncWidgetUpdate,\n    intl,\n    ...rest\n  } = props\n\n  return (\n    <SettingsForm\n      {...rest}\n      buttonText={\n        <FormattedMessage\n          id='widgets.components--form-autofire.form.submit-button'\n          defaultMessage='Salvar'\n        />\n      }\n      onSubmit={values => {\n        const settings = widget.settings || {}\n        return asyncWidgetUpdate({ ...widget, settings: { ...settings, ...values } })\n      }}\n      successMessage={\n        intl.formatMessage({\n          id: 'widgets.components--form-autofire.form.success-message',\n          defaultMessage: 'Mensagem de agradecimento configurada com sucesso!'\n        })\n      }\n    >\n      <FormGroup controlId='senderName' {...senderName}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-autofire.form.sender-name.label'\n            defaultMessage='Nome do remetente'\n          />\n        </ControlLabel>\n        <FormControl\n          type='text'\n          placeholder={\n            intl.formatMessage({\n              id: 'widgets.components--form-autofire.form.sender-name.placeholder',\n              defaultMessage: 'Defina o nome que ir aparecer na mensagem enviada.'\n            })\n          }\n        />\n      </FormGroup>\n      <FormGroup controlId='senderEmail' {...senderEmail}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-autofire.form.sender-email.label'\n            defaultMessage='E-mail remetente'\n          />\n        </ControlLabel>\n        <FormControl\n          type='text'\n          placeholder={\n            intl.formatMessage({\n              id: 'widgets.components--form-autofire.form.sender-email.placeholder',\n              defaultMessage: 'Defina o e-mail que ir aparecer na mensagem enviada.'\n            })\n          }\n        />\n      </FormGroup>\n      <FormGroup controlId='emailSubject' {...emailSubject}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-autofire.form.email-subject.label'\n            defaultMessage='Assunto do e-mail'\n          />\n        </ControlLabel>\n        <FormControl\n          type='text'\n          placeholder={\n            intl.formatMessage({\n              id: 'widgets.components--form-autofire.form.email-subject.placeholder',\n              defaultMessage: 'Defina o assunto que ir aparecer na mensagem enviada.'\n            })\n          }\n        />\n      </FormGroup>\n      <FormGroup controlId='emailText' {...emailText}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-autofire.form.email-text.label'\n            defaultMessage='Email de agradecimento'\n          />\n        </ControlLabel>\n        <FormControl\n          componentClass='textarea'\n          rows='6'\n          placeholder={\n            intl.formatMessage({\n              id: 'widgets.components--form-autofire.form.email-text.placeholder',\n              defaultMessage: 'Ex: Obrigado por apostar na fora da ao coletiva em rede. Sua' +\n                ' participao  muito importante e, agora, precisamos da sua ajuda para que mais' +\n                ' gente colabore com esta mobilizao. Compartilhe nas suas redes clicando em um' +\n                ' dos links abaixo. Um abrao.'\n            })\n          }\n        />\n      </FormGroup>\n    </SettingsForm>\n  )\n}\n\nFormAutofire.propTypes = {\n  fields: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  // Actions\n  asyncWidgetUpdate: PropTypes.func.isRequired,\n  // Translation\n  intl: intlShape.isRequired\n}\n\nexport const fields = ['sender_name', 'sender_email', 'email_subject', 'email_text']\n\nexport const validate = (values, { intl }) => {\n  const errors = {}\n  if (!validator.isValidEmail(values.sender_email)) {\n    errors.sender_email = intl.formatMessage({\n      id: 'widgets.components--form-autofire.form.sender-email.validation.invalid-email-format',\n      defaultMessage: 'Informe um e-mail invlido'\n    })\n  }\n  return errors\n}\n\nexport default FormAutofire\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/form-autofire.js","export const editor = ({\n  borderRadius: 3,\n  backgroundColor: '#fff',\n  border: '1px solid #efefef'\n})\n\nexport const editorFocus = ({\n  border: '1px solid #51a7e8',\n  outline: 'none',\n  boxShadow: 'inset 0 1px 2px rgba(0,0,0,0.075), 0 0 5px rgba(81,167,232,0.5)',\n  marginTop: 10\n})\n\nexport const editorToolbarContainer = ({\n  position: 'relative'\n})\n\nexport const editorToolbar = ({\n  left: 0,\n  position: 'inherit'\n})\n\nexport const editorContainer = ({\n  minHeight: 315\n})\n\nexport const whatsappControlLabel = ({\n  fontSize: '32px',\n  verticalAlign: 'middle',\n  color: '#005E52'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/form-finish-message/index-scss.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage, intlShape, injectIntl } from 'react-intl'\nimport { reduxForm } from 'redux-form'\n\nimport {\n  FormGroup,\n  RadioGroup,\n  Radio,\n  ControlLabel,\n  FormControl\n} from '~client/components/forms'\nimport { SettingsForm } from '~client/ux/components'\nimport Editor from '~client/components/editor-draft-js'\nimport EditorSlate, {\n  createEditorContent\n} from '~client/mobilizations/widgets/__plugins__/content/components/editor-slate'\nimport * as styles from './index-scss'\n\nexport const FormFinishMessage = props => {\n  const { mobilization, fields, successMessage, widget, ...formProps } = props\n  const { color_scheme: colorScheme } = mobilization\n  const { TellAFriend } = props\n\n  const { intl } = props\n\n  const {\n    finish_message_type: finishMessageType,\n    finish_message: finishMessage,\n    whatsapp_text: whatsappText\n  } = fields\n\n  let parsedFinishMessage\n  try {\n    parsedFinishMessage = JSON.parse(finishMessage.value)\n  } catch (e) {\n    parsedFinishMessage = finishMessage.value\n  }\n\n  return (\n    <SettingsForm\n      {...formProps}\n      onSubmit={values => {\n        return props.asyncWidgetUpdate({\n          ...widget,\n          settings: { ...widget.settings, ...values }\n        })\n      }}\n      successMessage={successMessage || (\n        <FormattedMessage\n          id='widgets.components--form-finish-message.success-message'\n          defaultMessage='Formulrio salvo com sucesso!'\n        />\n      )}\n    >\n      <FormGroup controlId='finish-message-type-id' {...finishMessageType}>\n        <ControlLabel>\n          <FormattedMessage\n            id='widgets.components--form-finish-message.type.label'\n            defaultMessage='Tipo de mensagem'\n          />\n        </ControlLabel>\n        <RadioGroup>\n          <Radio value='share'>\n            <FormattedMessage\n              id='widgets.components--form-finish-message.type.radio.share'\n              defaultMessage='Compartilhar'\n            />\n          </Radio>\n          <Radio value='custom'>\n            <FormattedMessage\n              id='widgets.components--form-finish-message.type.radio.custom'\n              defaultMessage='Customizar'\n            />\n          </Radio>\n        </RadioGroup>\n      </FormGroup>\n\n      {finishMessageType.value === 'share' && (\n        <div>\n          <FormGroup controlId='whatsapp-text-id' {...whatsappText}>\n            <ControlLabel>\n              <i className='fa fa-whatsapp mr2' style={styles.whatsappControlLabel} />\n              <FormattedMessage\n                id='widgets.components--form-finish-message.share.whatsapp-text.label'\n                defaultMessage='Texto do WhatsApp'\n              />\n            </ControlLabel>\n            <FormControl\n              rows='4'\n              componentClass='textarea'\n              placeholder={\n                intl.formatMessage({\n                  id: 'widgets.components--form-finish-message.share.whatsapp-text.placeholder',\n                  defaultMessage: 'Faa um texto curto, capaz de motivar outras pessoas a se unirem  sua mobilizao. Voc poder alterar este texto depois.'\n                })\n              }\n            />\n          </FormGroup>\n        </div>\n      )}\n\n      <label className='h5 darkengray caps mb1 block'>\n        <FormattedMessage\n          id='widgets.components--form-finish-message.preview.label'\n          defaultMessage='Preview'\n        />\n      </label>\n      {finishMessageType.value === 'share' && (\n        <TellAFriend preview mobilization={mobilization} widget={widget} />\n      )}\n      {finishMessageType.value === 'custom' && (\n        <div className='widget-finish-message-custom'>\n          <div className='relative'>\n            <input type='hidden' name='finish_message' />\n            <input type='hidden' name='finish_message_background' />\n            {parsedFinishMessage.constructor === Object && parsedFinishMessage.entityMap ? (\n              <Editor\n                value={parsedFinishMessage}\n                theme={colorScheme.replace('-scheme', '')}\n                toolbarContainerStyle={styles.editorToolbarContainer}\n                toolbarStyle={styles.editorToolbar}\n                containerStyle={styles.editorContainer}\n                focusStyle={styles.editorFocus}\n                editorStyle={styles.editor}\n                handleSave={rawContent => { finishMessage.onChange(JSON.stringify(rawContent)) }}\n              />\n            ) : (\n              <EditorSlate\n                content={finishMessage.value}\n                handleSave={value => {\n                  const raw = JSON.stringify(value.toJSON())\n                  if (finishMessage.value !== raw) finishMessage.onChange(raw)\n                }}\n                toolbarStyles={{ position: 'relative', marginBottom: 10, zIndex: 4 }}\n                contentStyles={{ backgroundColor: '#fff', color: '#666', padding: 10 }}\n              />\n            )}\n          </div>\n        </div>\n      )}\n    </SettingsForm>\n  )\n}\n\n// Redux Form configurations\nconst fields = [\n  'finish_message_type',\n  'finish_message',\n  'finish_message_background',\n  'whatsapp_text'\n]\n\nconst validate = (values, { intl }) => {\n  const errors = {}\n  if (!values.finish_message_type) {\n    errors.finish_message_type = intl.formatMessage({\n      id: 'widgets.components--form-finish-message.type.validation.required',\n      defaultMessage: 'Nenhum tipo de mensagem foi selecionado'\n    })\n  }\n  return errors\n}\n\nconst mapStateToProps = (state, props) => {\n  const settings = props.widget.settings || {}\n  const { intl } = props\n  return {\n    initialValues: {\n      finish_message_type: settings.finish_message_type || 'share',\n      finish_message: settings.finish_message ||\n      createEditorContent(intl.formatMessage({\n        id: 'widgets.components--form-finish-message.custom.message.default',\n        defaultMessage: 'Clique aqui para editar...'\n      })),\n      finish_message_background: settings.finish_message_background || '255,255,255,1',\n      whatsapp_text: settings.whatsapp_text || ''\n    }\n  }\n}\n\n//\n// PropTypes\n//\nFormFinishMessage.propTypes = {\n  // Injected components\n  TellAFriend: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  // Form Redux\n  fields: PropTypes.object.isRequired,\n  submitting: PropTypes.bool.isRequired,\n  error: PropTypes.string,\n  successMessage: PropTypes.string,\n  // Injected by components\n  mobilization: PropTypes.object.isRequired,\n  widget: PropTypes.object.isRequired,\n  asyncWidgetUpdate: PropTypes.func.isRequired,\n  // translation\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(\n  reduxForm(\n    { form: 'formFinishMessage', fields, validate },\n    mapStateToProps\n  )(FormFinishMessage)\n)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/form-finish-message/index.js","export { default as BlockTag } from './block-tag'\nexport { default as InputTag } from './input-tag'\nexport { default as Tag } from './tag'\nexport { default as FormFinishMessage } from './form-finish-message'\nexport { default as WidgetOverlay } from './widget-overlay'\nexport { default as FinishMessageCustom } from './finish-message-custom'\nexport { default as FormAutofire } from './form-autofire'\nexport { default as DataExport } from './data-export'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/index.js","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\nimport keycode from 'keycode'\nimport classnames from 'classnames'\nimport { BlockTag } from '~client/mobilizations/widgets/components'\nimport * as array from '~client/utils/array'\nimport * as os from '~client/utils/browser/os'\n\nvar styles = require('exenv').canUseDOM ? require('./input-tag.scss') : {}\n\nexport class InputTag extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      error: undefined,\n      value: ''\n    }\n  }\n\n  handleKeyPress (e) {\n    //\n    // watch the keyboard event to dispatch the trigger to add targets\n    // Mac      : cmd + enter\n    // Windows  : ctrl + enter\n    // Linux    : ctrl + enter\n    //\n    const mac = os.isMac() && keycode(e) === 'enter' && e.nativeEvent.metaKey\n    const windows = os.isWindows() && keycode(e) === 'enter' && e.ctrlKey\n    const linux = (os.isLinux() || os.isUnix()) && keycode(e) === 'enter' && e.ctrlKey\n\n    if (mac || windows || linux) {\n      e.preventDefault()\n      const { onInsertTag, validate } = this.props\n      const targets = e.target.value.split('\\n')\n      const errors = validate && validate(targets)\n\n      if (errors && !errors.valid) {\n        this.setState({ error: errors.message })\n      } else {\n        onInsertTag && onInsertTag(targets)\n        this.setState({ value: '', error: undefined })\n      }\n    }\n  }\n\n  handleEdit (target) {\n    const { onRemoveTag } = this.props\n    onRemoveTag && onRemoveTag(target)\n    const value = [...array.clean(this.state.value.split('\\n')), target].join('\\n')\n    this.setState({ value, error: undefined })\n  }\n\n  render () {\n    const { values, label, onRemoveTag, onRemoveAll, helperText, intl } = this.props\n\n    return (\n      <div className='input-tag'>\n        {helperText}\n        <div className='clearfix mxn2'>\n          <div className='col col-6 px2'>\n            <div className='form-group'>\n              {label && (\n                <label\n                  style={{ cursor: 'pointer' }}\n                  className='h5 bold caps'\n                  htmlFor='insert-tag-id'\n                >\n                  {label}\n                  {(this.state.error && <span className='red'> - {this.state.error}</span>)}\n                </label>\n              )}\n              <textarea\n                ref='insert'\n                id='insert-tag-id'\n                type='text'\n                rows='7'\n                placeholder={\n                  intl.formatMessage({\n                    id: 'widgets.components--input-tag.insert-tag.placeholder',\n                    defaultMessage: (\n                      'Nome do primeiro alvo <primeiro@alvo.com>\\n' +\n                      'Nome do segundo alvo <segundo@alvo.com>\\n' +\n                      'Nome do terceiro alvo <terceiro@alvo.com>\\n' +\n                      'Nome do quarto alvo <quarto@alvo.com>\\n' +\n                      'Nome do quinto alvo <quinto@alvo.com>\\n' +\n                      '...'\n                    )\n                  })\n                }\n                className={classnames('input block h3 col-12 mt1 px1', styles.textarea)}\n                value={this.state.value}\n                onChange={(e) => this.setState({ value: e.target.value })}\n                onKeyDown={::this.handleKeyPress}\n              />\n            </div>\n          </div>\n\n          <div className='col col-6 px2'>\n            {array.clean(values).length > 0 && (\n              <div className='form-group'>\n                <label className='h5 bold caps'>\n                  <FormattedMessage\n                    id='widgets.components--input-tag.tags.label'\n                    defaultMessage='Alvos cadastrados ({targetsCount})'\n                    values={{ targetsCount: String(array.clean(values).length) }}\n                  />\n                </label>\n                <BlockTag\n                  tags={values}\n                  onClick={::this.handleEdit}\n                  onRemove={onRemoveTag}\n                />\n                <div className={styles.buttons}>\n                  <button\n                    type='button'\n                    className={styles.buttonDanger}\n                    onClick={onRemoveAll}\n                    disabled={!array.clean(values).length}\n                  >\n                    <i className='fa fa-trash mr1' />\n                    <FormattedMessage\n                      id='widgets.components--input-tag.button.remove-all'\n                      defaultMessage='Remover todos'\n                    />\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nInputTag.propTypes = {\n  label: PropTypes.string,\n  values: PropTypes.arrayOf(PropTypes.string).isRequired,\n  validate: PropTypes.func,\n  onInsertTag: PropTypes.func.isRequired,\n  onRemoveTag: PropTypes.func.isRequired,\n  onRemoveAll: PropTypes.func.isRequired,\n  helperText: PropTypes.node.isRequired,\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(InputTag)\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/input-tag.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"textarea\":\"_2rgwuJl1R6bPS6HT2ZlJJO\",\"buttons\":\"_2qb9o1eZc_JVI6ckJYYsvt\",\"buttonDanger\":\"_1-ptkqIh4R__70pxk1SAlZ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/components/input-tag.scss\n// module id = ./mobilizations/widgets/components/input-tag.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\n\nvar styles = require('exenv').canUseDOM ? require('./tag.scss') : {}\n\nconst Tag = ({ value, onClick, onRemove }) => {\n  const clickable = onClick && typeof onClick === 'function'\n  const removable = onRemove && typeof onRemove === 'function'\n\n  return (\n    <span\n      className={styles.tag}\n      style={{ cursor: clickable ? 'pointer' : null }}\n    >\n      <span\n        className={(removable ? 'mr1' : null)}\n        onClick={(clickable ? () => onClick(value) : null)}\n      >\n        {value}\n      </span>\n      {(removable ? <i className='fa fa-close' onClick={() => onRemove(value)} /> : null)}\n    </span>\n  )\n}\n\nTag.propTypes = {\n  value: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  onRemove: PropTypes.func\n}\n\nexport default Tag\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/tag.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"tag\":\"ka60jU6yAQueq1hkUlpLE\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/components/tag.scss\n// module id = ./mobilizations/widgets/components/tag.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\n\n// Current module dependencies\nif (require('exenv').canUseDOM) require('./index.scss')\n\nclass WidgetOverlay extends Component {\n  constructor (props, context) {\n    super(props)\n    this.context = context\n    this.state = { hasMouseOver: false }\n  }\n\n  handleMouseEnter (e) {\n    if (e) e.preventDefault()\n    this.setState({ hasMouseOver: true })\n  }\n\n  handleMouseLeave (e) {\n    if (e) e.preventDefault()\n    this.setState({ hasMouseOver: false })\n  }\n\n  render () {\n    const { children, editable, onClick, text } = this.props\n    return (\n      <div className='relative'\n        style={editable ? { cursor: 'pointer' } : null}\n        onMouseEnter={::this.handleMouseEnter}\n        onMouseLeave={::this.handleMouseLeave}\n        onClick={onClick}\n      >\n        {children}\n        {\n          !editable || !this.state.hasMouseOver ? null : (\n            <div className='widget-overlay h1 rounded z1 border border-pagenta px2'>\n              <div className='table full-height col-12 center'>\n                <div className='white table-cell align-middle'>\n                  {text || 'Clique para editar'}\n                </div>\n              </div>\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nWidgetOverlay.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array\n  ]).isRequired,\n  onClick: PropTypes.func,\n  text: PropTypes.string\n}\n\nWidgetOverlay.defaultProps = {\n  editable: false\n}\n\nexport default WidgetOverlay\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/components/widget-overlay/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobilizations/widgets/components/widget-overlay/index.scss\n// module id = ./mobilizations/widgets/components/widget-overlay/index.scss\n// module chunks = 0","export * from './__plugins__/donation/paths'\nexport * from './__plugins__/pressure/paths'\nexport * from './__plugins__/form/paths'\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/paths.js","import ReactGA from 'react-ga'\n\nclass AnalyticsEvents {\n  constructor () {\n    this.FORM_FILLED = { category: 'Formulrio', action: 'Preenchimento Iniciado' }\n    this.FORM_SAVED = { category: 'Formulrio', action: 'Dados Salvos com Sucesso' }\n\n    this.DONATION_STARTED = { category: 'Doao', action: 'Escolheu Valor' }\n    this.DONATION_FINISHED = { category: 'Doao', action: 'Servidor Recebeu Dados' }\n\n    this.PRESSURE_FILLED = { category: 'Presso', action: 'Preenchimento Iniciado' }\n    this.PRESSURE_SAVED = { category: 'Presso', action: 'Dados Salvos com Sucesso' }\n\n    this.SOCIAL_SHARED = { category: 'Redes Sociais', action: 'Compartilhou no ' }\n  }\n  sendEvent (event) {\n    return ReactGA.event(event)\n  }\n\n  formIsFilled () {\n    return this.sendEvent(this.FORM_FILLED)\n  }\n\n  formSavedData () {\n    return this.sendEvent(this.FORM_SAVED)\n  }\n\n  donationSetValue () {\n    return this.sendEvent(this.DONATION_STARTED)\n  }\n\n  donationFinishRequest (value) {\n    return this.sendEvent({...this.DONATION_FINISHED, label: value})\n  }\n\n  pressureIsFilled () {\n    return this.sendEvent(this.PRESSURE_FILLED)\n  }\n\n  pressureSavedData () {\n    return this.sendEvent(this.PRESSURE_SAVED)\n  }\n\n  socialShared (source, text) {\n    let evt = { ...this.SOCIAL_SHARED }\n    evt.action = evt.action + source\n    evt.label = text\n    return this.sendEvent(evt)\n  }\n}\n\nexport default new AnalyticsEvents()\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/utils/analytics-events.js","import * as validator from '~client/utils/validation-helper'\n\nexport const PRESSURE_TYPE_EMAIL = 'email'\nexport const PRESSURE_TYPE_PHONE = 'phone'\nexport const getType = (targets = []) => {\n  if (targets.length) {\n    if (validator.isValidTargetEmail(targets[0])) return PRESSURE_TYPE_EMAIL\n    if (validator.isValidTargetPhone(targets[0])) return PRESSURE_TYPE_PHONE\n    return 'invalid'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobilizations/widgets/utils/pressure-helper.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender-v2/widgets/donation/donation.scss\n// module id = ./mobrender-v2/widgets/donation/donation.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport { FormattedMessage, intlShape } from 'react-intl'\nimport * as formatNumberHelper from '~client/utils/format-number-helper'\nimport { Progress } from '.'\n\nif (require('exenv').canUseDOM) require('./donation.scss')\n\nexport default ({\n  finishMessageCustom: FinishMessageCustom,\n  tellAFriend: DonationTellAFriend\n}) => {\n  class Donation extends React.Component {\n    constructor (props, context) {\n      super(props, context)\n      this.state = {\n        hasMouseOver: false,\n        loading: false,\n        success: false,\n        selected_value: 1,\n        selected_payment_type: 'recurring',\n        errors: []\n      }\n    }\n\n    componentDidMount () {\n      const { widget } = this.props\n\n      const defaultDonationValue = (\n        widget.settings && widget.settings.default_donation_value\n          ? widget.settings.default_donation_value\n          : 1\n      )\n      this.setState({ selected_value: Number(defaultDonationValue) })\n    }\n\n    componentWillReceiveProps (nextProps) {\n      if (this.state.loading) {\n        this.setState({ loading: false, success: true })\n      }\n    }\n\n    handleClickSetTypeDonation (v) {\n      this.setState({ selected_payment_type: v })\n    }\n\n    handleClickSetValueDonation (v) {\n      this.setState({ selected_value: Number(v) })\n    }\n\n    handleClickDonate () {\n      const { mobilization, widget, donationCustomerData } = this.props\n      const {\n        selected_value: selectedValue,\n        selected_payment_type: selectedPaymentType\n      } = this.state\n\n      this.props.handleDonationTransactionCreate({\n        mobilization,\n        widget,\n        selectedValue,\n        selectedPaymentType,\n        storedDonationCustomerData: donationCustomerData\n      }).then(() => {\n        this.setState({ success: true })\n      })\n    }\n\n    renderProgressBar (mainColor) {\n      let goalDateRemaining\n      const { donationGoalStats, widget: { settings, goal } } = this.props\n\n      const goalStats = (\n        !donationGoalStats ||\n        !donationGoalStats.data ||\n        donationGoalStats.loading\n      )\n        ? undefined\n        : JSON.parse(donationGoalStats.data)\n\n      if (settings && settings.goal_date_limit) {\n        const now = new Date()\n        const [day, month, year] = settings.goal_date_limit.split('/')\n        const goalDate = new Date(`${year}-${month}-${day}`)\n        goalDateRemaining = Math.ceil((goalDate - now) / (1000 * 60 * 60 * 24))\n      }\n\n      const props = {\n        value: 0,\n        valueTopLeft: '',\n        valueTopRight: '',\n        valueBottomLeft: '',\n        valueBottomRight: ''\n      }\n\n      if (goalStats) {\n        if (goalStats.pledged) {\n          props.valueTopCenter = (\n            <div>\n              <div style={{\n                color: mainColor,\n                fontSize: '2.5em',\n                lineHeight: '1em',\n                fontWeight: 'bold'\n              }}>\n                {formatNumberHelper.currencyInt(goalStats.pledged)}\n              </div>\n              <div style={{\n                color: '#666',\n                fontWeight: 'bold',\n                textTransform: 'uppercase',\n                margin: '0.4rem 0 0'\n              }}>\n                <FormattedMessage\n                  id='widgets.components--donation.progress-bar.collected'\n                  defaultMessage='arrecadados'\n                />\n              </div>\n            </div>\n          )\n        }\n        if (goalStats.progress) {\n          props.value = goalStats.progress\n        }\n        if (goalStats.total_donations) {\n          props.valueBottomLeft = (\n            <span style={{ color: '#999999' }}>\n              <FormattedMessage\n                id='widgets.components--donation.progress-bar.supports'\n                defaultMessage={`\n                  {totalDonations} {totalDonations, plural,\n                    one {apoio}\n                    other {apoio}\n                  }\n                `}\n                values={{ totalDonations: goalStats.total_donations }}\n              />\n            </span>\n          )\n        }\n      }\n\n      if (goal) {\n        props.valueBottomCenter = (\n          <b>\n            <span style={{ color: '#999999' }}>\n              <FormattedMessage\n                id='widgets.components--donation.progress-bar.goal'\n                defaultMessage='Meta:'\n              />\n            </span>\n            {' '}{formatNumberHelper.currencyInt(goal)}\n          </b>\n        )\n      }\n      if (goalDateRemaining !== undefined) {\n        if (goalDateRemaining === 0) {\n          props.valueBottomRight = (\n            <FormattedMessage\n              id='widgets.components--donation.progress-bar.date.last-day'\n              defaultMessage='ltimo dia!'\n            />\n          )\n        } else if (goalDateRemaining > 0 && goalDateRemaining < 7) {\n          props.valueBottomRight = (\n            <FormattedMessage\n              id='widgets.components--donation.progress-bar.date.last-days'\n              defaultMessage='ltimos dias!'\n            />\n          )\n        } else if (goalDateRemaining === 7) {\n          props.valueBottomRight = (\n            <FormattedMessage\n              id='widgets.components--donation.progress-bar.date.last-week'\n              defaultMessage='ltima semana!'\n            />\n          )\n        } else if (goalDateRemaining > 0) {\n          props.valueBottomRight = (\n            <FormattedMessage\n              id='widgets.components--donation.progress-bar.date.remaining'\n              defaultMessage={`\n                faltam {goalDateRemaining} {goalDateRemaining, plural,\n                  one {dia}\n                  other {dias}\n                }\n              `}\n              values={{ goalDateRemaining }}\n            />\n          )\n        }\n\n        props.valueBottomRight = (\n          <b style={{ color: mainColor }}>\n            {props.valueBottomRight}\n          </b>\n        )\n      }\n\n      return (goal || goalDateRemaining !== undefined) && (\n        <Progress fillColor={mainColor} {...props} />\n      )\n    }\n\n    renderButton () {\n      const {\n        configurable,\n        widget: { settings },\n        mobilization: { header_font: headerFont },\n        intl\n      } = this.props\n\n      const {\n        selected_value: selectedValue,\n        selected_payment_type: selectedPaymentType\n      } = this.state\n\n      const buttonText = (settings && settings.button_text) || (\n        <FormattedMessage\n          id='widgets.components--donation.default.button-text'\n          defaultMessage='Doar agora'\n        />\n      )\n      const titleText = (settings && (settings.call_to_action || settings.title_text)) || (\n        <FormattedMessage\n          id='widgets.components--donation.default.title-text'\n          defaultMessage='Clique para configurar seu bloco de doao'\n        />\n      )\n\n      const donationValue1 = (settings && settings.donation_value1) || 0\n      const donationValue2 = (settings && settings.donation_value2) || 0\n      const donationValue3 = (settings && settings.donation_value3) || 0\n      const donationValue4 = (settings && settings.donation_value4) || 0\n      const donationValue5 = (settings && settings.donation_value5) || 0\n      const mainColor = (settings && settings.main_color) || '#54d0f6'\n\n      const paymentType = (settings && settings.payment_type) || 'unique'\n      const recurringPeriod = (settings && settings.recurring_period) || 30\n\n      const isUniquePayment = paymentType === 'unique' || selectedPaymentType === 'unique'\n      const periodLabelOptions = {\n        30: intl.formatMessage({\n          id: 'widgets.components--donation.period-label-options.month',\n          defaultMessage: 'ms'\n        }),\n        180: intl.formatMessage({\n          id: 'widgets.components--donation.period-label-options.halfyear',\n          defaultMessage: 'semestre'\n        }),\n        365: intl.formatMessage({\n          id: 'widgets.components--donation.period-label-options.year',\n          defaultMessage: 'ano'\n        })\n      }\n      const periodLabelCurrent = periodLabelOptions[recurringPeriod]\n      const periodLabel = isUniquePayment ? '' : periodLabelCurrent\n\n      if (!configurable) {\n        return (\n          <div className='donation center clearfix'>\n            <h2\n              className='p2 m0 white rounded-top'\n              style={{ fontFamily: headerFont, backgroundColor: mainColor }}\n            >\n              {titleText}\n            </h2>\n            <script dangerouslySetInnerHTML={{__html: `\n(function(i,s,o,g,r,a,m){i['PagarMeCheckoutObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','https://assets.pagar.me/checkout/checkout.js','PagarMeCheckout');`\n            }} />\n\n            <div className='p3 relative'>\n              {paymentType === 'users_choice' ? <div className='mb2 clearfix'>\n                <a href='#' onClick={::this.handleClickSetTypeDonation.bind(this, 'recurring')}\n                  style={selectedPaymentType === 'recurring' ? {color: mainColor} : {}}\n                  className={selectedPaymentType === 'recurring' ? 'payment-type bold py1 col col-6 active' : 'payment-type bold py1 col col-6'}>\n                  <i className='icon-payment-recurring' />\n                  <FormattedMessage\n                    id='widgets.components--donation.users-choice.recurring'\n                    defaultMessage='Apoiar todo {periodLabelCurrent}'\n                    values={{ periodLabelCurrent }}\n                  />\n                </a>\n                <a href='#' onClick={::this.handleClickSetTypeDonation.bind(this, 'unique')}\n                  style={selectedPaymentType === 'unique' ? {color: mainColor} : {}}\n                  className={selectedPaymentType === 'unique' ? 'payment-type bold py1 col col-6 active' : 'payment-type bold py1 col col-6'}>\n                  <i className='icon-payment-unique' />\n                  <FormattedMessage\n                    id='widgets.components--donation.users-choice.unique'\n                    defaultMessage='Doao nica'\n                  />\n                </a>\n              </div> : ''}\n\n              {donationValue1 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 1)}\n                  style={selectedValue !== 1 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 1 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue1 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n              {donationValue2 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 2)}\n                  style={selectedValue !== 2 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 2 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue2 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n              {donationValue3 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 3)}\n                  style={selectedValue !== 3 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 3 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue3 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n              {donationValue4 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 4)}\n                  style={selectedValue !== 4 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 4 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue4 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n              {donationValue5 <= 0 ? null : (\n                <a\n                  href='#'\n                  onClick={::this.handleClickSetValueDonation.bind(this, 5)}\n                  style={selectedValue !== 5 ? {} : { backgroundColor: this.convertHex(mainColor, 35), color: mainColor }}\n                  className={classnames('value-option block mb1 py1 col-12 bold hover no-underscore', selectedValue === 5 ? 'active' : 'bg-darken-1')}\n                >\n                  {'R$ ' + donationValue5 + (paymentType === 'recurring' || (selectedPaymentType === 'recurring' && paymentType !== 'unique') ? ' /' : '') + periodLabel}\n                </a>\n              )}\n\n              <a\n                href='#'\n                onClick={::this.handleClickDonate}\n                style={{ backgroundColor: mainColor }}\n                className='btn white caps bg-darken-4 p2 mt1 col-12 rounded border-box'\n              >\n                {buttonText}\n              </a>\n            </div>\n\n            <div className='p3' style={{ boxShadow: '#E3E3E3 0px 15px 18px -10px inset' }}>\n              {this.renderProgressBar(mainColor)}\n            </div>\n          </div>\n        )\n      }\n    }\n\n    convertHex (hex, opacity) {\n      hex = hex.replace('#', '')\n      let r = parseInt(hex.substring(0, 2), 16)\n      let g = parseInt(hex.substring(2, 4), 16)\n      let b = parseInt(hex.substring(4, 6), 16)\n\n      let result = 'rgba(' + r + ',' + g + ',' + b + ',' + opacity / 100 + ')'\n      return result\n    }\n\n    renderForm () {\n      const { editable, configurable } = this.props\n      const className = classnames({ 'relative': editable || !configurable })\n\n      return (\n        <div className={className}>\n          {this.renderButton()}\n        </div>\n      )\n    }\n\n    renderThankyouText () {\n      const { mobilization, widget } = this.props\n      const { settings: { finish_message_type: finishMessageType } } = widget\n\n      return finishMessageType === 'custom' ? (\n        <FinishMessageCustom widget={widget} />\n      ) : (\n        <DonationTellAFriend mobilization={mobilization} widget={widget} />\n      )\n    }\n\n    renderReattemptMessage () {\n      const { widget: { settings } } = this.props\n      const mainColor = (settings && settings.main_color) || '#54d0f6'\n\n      return (\n        <div className='donation'>\n          <h2\n            className='p2 m0 white rounded-top center'\n            style={{ backgroundColor: mainColor }}\n          >\n            <FormattedMessage\n              id='widgets.components--donation.reattempt.message.title'\n              defaultMessage='Ops!'\n            />\n          </h2>\n          <div style={{ textAlign: 'center', color: '#333', padding: '3rem 0' }}>\n            <i\n              className='error-icon inline-block mb2'\n              style={{ backgroundColor: '#de0000' }}\n            />\n            <br />\n\n            <FormattedMessage\n              id='widgets.components--donation.reattempt.message.text.line-01'\n              defaultMessage='Algo de errado aconteceu com a sua doao. ):'\n            />\n            <br />\n            <FormattedMessage\n              id='widgets.components--donation.reattempt.message.text.line-02'\n              defaultMessage='Clique no boto abaixo pra tentar de novo.'\n            />\n            <br />\n\n            <button\n              onClick={::this.handleClickDonate}\n              style={{ backgroundColor: mainColor }}\n              className='btn white caps bg-darken-4 p2 mt3 rounded border-box'\n            >\n              <FormattedMessage\n                id='widgets.components--donation.reattempt.message.button.text'\n                defaultMessage='Nova tentativa'\n              />\n            </button>\n          </div>\n        </div>\n      )\n    }\n\n    renderContentStrategy () {\n      if (this.props.donationCustomerData) return this.renderReattemptMessage()\n      else if (this.state.success) return this.renderThankyouText()\n      else return this.renderForm()\n    }\n\n    render () {\n      return (\n        <div className='bg-white widget rounded'>\n          {this.renderContentStrategy()}\n        </div>\n      )\n    }\n  }\n\n  Donation.propTypes = {\n    mobilization: PropTypes.object.isRequired,\n    widget: PropTypes.object.isRequired,\n    editable: PropTypes.bool.isRequired,\n    configurable: PropTypes.bool,\n    hasNewField: PropTypes.bool,\n    handleDonationTransactionCreate: PropTypes.func,\n    intl: intlShape\n  }\n\n  return Donation\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender-v2/widgets/donation/factory-donation.js","export { default as factoryDonation } from './factory-donation'\nexport { default as Progress } from './progress'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender-v2/widgets/donation/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport tinycolor from 'tinycolor2'\nimport * as formatNumberHelper from '~client/utils/format-number-helper'\n\nif (require('exenv').canUseDOM) require('./progress.scss')\n\nconst colorStrategy = color => tinycolor(color).isDark() ? '#FFFFFF' : '#333333'\n\nconst Progress = ({\n  className,\n  value,\n  max,\n  valueTopLeft,\n  valueTopCenter,\n  valueTopRight,\n  valueBottomLeft,\n  valueBottomCenter,\n  valueBottomRight,\n  fillColor\n}) => (\n  <div className={classnames('progress-container', className)}>\n    <div className='progress-top'>\n      {valueTopLeft && <div className='progress-top-left'>{valueTopLeft}</div>}\n      {valueTopCenter && <div className='progress-top-center'>{valueTopCenter}</div>}\n      {valueTopRight && <div className='progress-top-right'>{valueTopRight}</div>}\n    </div>\n\n    <div className='progress' value={value} max={max}>\n      <div className='progress-value'\n        style={{\n          backgroundColor: fillColor,\n          width: `${value > 100 ? 100 : value}%`\n        }}\n      >\n        {value > 5 && (\n          <span className='percentage' style={{ color: colorStrategy(fillColor) }}>\n            {formatNumberHelper.number(value).split(',')[0]}%\n          </span>\n        )}\n      </div>\n    </div>\n\n    <div className='progress-bottom'>\n      {valueBottomLeft && <div className='progress-bottom-left'>{valueBottomLeft}</div>}\n      {valueBottomCenter && <div className='progress-bottom-center'>{valueBottomCenter}</div>}\n      {valueBottomRight && <div className='progress-bottom-right'>{valueBottomRight}</div>}\n    </div>\n  </div>\n)\n\nProgress.propTypes = {\n  className: PropTypes.string,\n  value: PropTypes.number.isRquired,\n  max: PropTypes.number,\n  valueTopLeft: PropTypes.node,\n  valueTopRight: PropTypes.node,\n  valueTopCenter: PropTypes.node,\n  valueBottomLeft: PropTypes.node,\n  valueBottomRight: PropTypes.node,\n  valueBottomCenter: PropTypes.node,\n  fillColor: PropTypes.string\n}\n\nProgress.defaultProps = {\n  max: 100,\n  fillColor: 'hsl(171, 100%, 41%)'\n}\n\nexport default Progress\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender-v2/widgets/donation/progress.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender-v2/widgets/donation/progress.scss\n// module id = ./mobrender-v2/widgets/donation/progress.scss\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender/components/add-new-block.scss\n// module id = ./mobrender/components/add-new-block.scss\n// module chunks = 0","import { connect } from 'react-redux'\nimport Selectors from '../redux/selectors'\nimport { asyncUpdateBlock, handleChangeBackground, handleCancelEdit, handleUploadFile } from '../redux/action-creators'\n\nimport BlockChangeBackground, { BLOCK_UPLOAD_KEY } from './block-change-background'\n\nconst mapStateToProps = (state, props) => ({\n  progress: Selectors(state, props).getUploadProgress(BLOCK_UPLOAD_KEY),\n  mobilization: Selectors(state, props).getMobilization()\n})\n\nconst mapActionsToProps = {\n  update: asyncUpdateBlock,\n  onChangeBackground: handleChangeBackground,\n  onCancelEdit: handleCancelEdit,\n  onUploadFile: handleUploadFile\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(BlockChangeBackground)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block-change-background.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport { FormattedMessage } from 'react-intl'\nimport { ColorPicker } from '~client/components/color-picker'\nimport FileUploader from './file-uploader'\n\nexport const BLOCK_UPLOAD_KEY = 'bgBlock'\n\nclass ColorPickerButton extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      show: false\n    }\n  }\n\n  onChangeColor (color) {\n    this.props.onChange(JSON.stringify(color.rgb))\n  }\n\n  render () {\n    return (\n      <div>\n        <button\n          className={classnames('btn white', { 'bg-darken-4': this.state.show })}\n          style={{ height: '55px', borderRight: '1px solid rgba(119, 119, 119, 0.33)' }}\n          onClick={() => this.setState({ show: !this.state.show })}\n        >\n          <i className='fa fa-eyedropper' />\n        </button>\n        <div className='fixed z5'>\n          <ColorPicker\n            theme={this.props.theme}\n            showColorPicker={this.state.show}\n            color={this.props.color}\n            onChangeColor={this.onChangeColor.bind(this)}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst rgba = block => {\n  if (block.bg_class) {\n    try {\n      const rgba = JSON.parse(block.bg_class)\n      return rgba\n    } catch (ex) {\n      // Silent error because use className\n    }\n  }\n}\n\nconst BlockChangeBackground = ({ mobilization, block, onChangeBackground, progress, onUploadFile, onCancelEdit, update }) => (\n  <div className='absolute col-12 top-0 left-0 bg-darken-4 z5'>\n    <div className='flex flex-wrap'>\n      <ColorPickerButton\n        color={rgba(block)}\n        theme={mobilization.color_scheme}\n        onChange={color => {\n          onChangeBackground({ ...block, bg_class: color })\n        }}\n      />\n      <FileUploader\n        file={block.bg_image}\n        progress={progress}\n        onProgress={progress => onUploadFile(BLOCK_UPLOAD_KEY, progress)}\n        onRemove={() => onChangeBackground({ ...block, bg_image: '' })}\n        onFinish={file => {\n          onUploadFile(BLOCK_UPLOAD_KEY)\n          onChangeBackground({...block, bg_image: file})\n        }}\n      />\n      <div className='absolute right-0 mt1 mr2 nowrap'>\n        <button\n          className='btn caps bg-darken-4 white rounded mr1 save-btn'\n          style={{ heigth: '40px' }}\n          disabled={progress !== undefined}\n          onClick={() => {\n            update(block)\n            onCancelEdit(block)\n          }}\n        >\n          <FormattedMessage\n            id='mobrender.components--block-change-background.button.save'\n            defaultMessage='Salvar'\n          />\n        </button>\n        <button\n          className='btn caps bg-darken-4 white rounded cancel-btn'\n          style={{ heigth: '40px' }}\n          onClick={() => onCancelEdit(block)}\n        >\n          <FormattedMessage\n            id='mobrender.components--block-change-background.button.cancel'\n            defaultMessage='Cancelar'\n          />\n        </button>\n      </div>\n    </div>\n    <div\n      className='fixed top-0 right-0 bottom-0 left-0 z3'\n      style={{ marginTop: '50px' }}\n      onClick={() => onCancelEdit(block)}\n    />\n  </div>\n)\n\nBlockChangeBackground.propTypes = {\n  block: PropTypes.object.isRequired,\n  // Injected by redux\n  mobilization: PropTypes.object.isRequired,\n  update: PropTypes.func.isRequired,\n  onChangeBackground: PropTypes.func,\n  onCancelEdit: PropTypes.func,\n  onUploadFile: PropTypes.func,\n  progress: PropTypes.number\n}\n\nexport default BlockChangeBackground\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block-change-background.js","import { connect } from 'react-redux'\nimport Selectors from '../redux/selectors'\nimport { asyncMoveUp, asyncMoveDown, asyncUpdateBlock, handleEdit, asyncDestroyBlock } from '../redux/action-creators'\nimport BlockConfigMenu from './block-config-menu'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = Selectors(state, props)\n  return {\n    canMoveUp: selectors.canMoveUp(),\n    canMoveDown: selectors.canMoveDown()\n  }\n}\n\nconst mapActionsToProps = (dispatch, props) => ({\n  moveUp: block => dispatch(asyncMoveUp(block)),\n  moveDown: block => dispatch(asyncMoveDown(block)),\n  update: block => dispatch(asyncUpdateBlock(block)),\n  onEdit: key => dispatch(handleEdit(key)),\n  destroy: block => dispatch(asyncDestroyBlock(block))\n})\n\nexport default connect(mapStateToProps, mapActionsToProps)(BlockConfigMenu)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block-config-menu.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage, injectIntl, intlShape } from 'react-intl'\nimport classnames from 'classnames'\nimport { DropdownMenu, DropdownMenuItem } from '~client/components/dropdown-menu'\n\nexport const EDIT_KEY = 'background'\n\nconst BlockConfigMenu = ({\n  block,\n  update,\n  destroy,\n  onEdit,\n  canMoveUp,\n  moveUp,\n  canMoveDown,\n  moveDown,\n  display,\n  intl\n}) => (\n  <DropdownMenu\n    wrapperClassName={classnames(\n      'm1 absolute bottom-0 right-0 z2',\n      {'display-none': !display}\n    )}\n    menuClassName='bg-darken-4 rounded white right-0 top-0 mr4'\n    buttonClassName='btn bg-darken-4 white rounded'\n    icon='cog'\n  >\n    {/* TODO: Funcionalidade de 'Duplicar bloco' foi desabilitada at que a estrategia\n       de desenvolvimento esteja definida. */}\n    <DropdownMenuItem\n      className='btn'\n      onClick={() => onEdit(`${EDIT_KEY}-${block.id}`)}\n    >\n      <span>\n        <i className='fa fa-picture-o' />{' '}\n        <FormattedMessage\n          id='mobrender.components--block-config-menu.item.change-background'\n          defaultMessage='Alterar fundo'\n        />\n      </span>\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      className='btn'\n      onClick={() => update({...block, hidden: !block.hidden})}\n    >\n      <span>\n        <i className={classnames('fa', block.hidden ? 'fa-eye' : 'fa-eye-slash')} />{' '}\n        {(block.hidden\n          ? <FormattedMessage\n            id='mobrender.components--block-config-menu.item.toggle-visibility.show'\n            defaultMessage='Mostrar'\n            />\n          : <FormattedMessage\n            id='mobrender.components--block-config-menu.item.toggle-visibility.hide'\n            defaultMessage='Esconder'\n            />\n        )}\n      </span>\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      className='btn'\n      onClick={() => {\n        const message = intl.formatMessage({\n          id: 'mobrender.components--block-config-menu.item.remove.confirm',\n          defaultMessage: 'Voc tem certeza que quer remover este bloco?'\n        })\n        if (window.confirm(message)) destroy(block)\n      }}\n    >\n      <span>\n        <i className='fa fa-trash' />{' '}\n        <FormattedMessage\n          id='mobrender.components--block-config-menu.item.remove'\n          defaultMessage='Remover'\n        />\n      </span>\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      className='btn'\n      disabled={!canMoveUp}\n      onClick={() => moveUp(block)}\n    >\n      <span>\n        <i className='fa fa-chevron-up' />{' '}\n        <FormattedMessage\n          id='mobrender.components--block-config-menu.item.move-up'\n          defaultMessage='Mover para cima'\n        />\n      </span>\n    </DropdownMenuItem>\n    <DropdownMenuItem\n      className='btn'\n      disabled={!canMoveDown}\n      onClick={() => moveDown(block)}\n    >\n      <span>\n        <i className='fa fa-chevron-down' />{' '}\n        <FormattedMessage\n          id='mobrender.components--block-config-menu.item.move-down'\n          defaultMessage='Mover para baixo'\n        />\n      </span>\n    </DropdownMenuItem>\n  </DropdownMenu>\n)\n\nBlockConfigMenu.propTypes = {\n  block: PropTypes.object.isRequired,\n  display: PropTypes.bool,\n  // Injected by redux\n  canMoveUp: PropTypes.bool,\n  moveUp: PropTypes.func,\n  canMoveDown: PropTypes.bool,\n  moveDown: PropTypes.func,\n  update: PropTypes.func,\n  onEdit: PropTypes.func,\n  // Injected by react-intl\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(BlockConfigMenu)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block-config-menu.js","import { connect } from 'react-redux'\nimport Selectors from '../redux/selectors'\nimport { handleMouseOver, handleMouseOut, handleCancelEdit } from '../redux/action-creators'\nimport Block, { HOVER_MOUSE_KEY } from './block'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = Selectors(state)\n  return {\n    editing: selectors.getEditing(),\n    saving: selectors.getBlockSaving(),\n    hasMouseOver: selectors.hasMouseOver(HOVER_MOUSE_KEY, props.block.id)\n  }\n}\n\nconst mapActionsToProps = {\n  onMouseOver: handleMouseOver,\n  onMouseOut: handleMouseOut,\n  onCancelEdit: handleCancelEdit\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(Block)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport Widget from './widget.connected'\nimport BlockConfigMenu from './block-config-menu.connected'\nimport { EDIT_KEY } from './block-config-menu'\nimport BlockChangeBackground from './block-change-background.connected'\n\nexport const HOVER_MOUSE_KEY = 'block'\n\nconst getBackgroundStyle = block => {\n  if (block.bg_image) return { background: `url('${block.bg_image}') no-repeat`, backgroundSize: 'cover' }\n  else if (block.bg_class) {\n    try {\n      const rgba = JSON.parse(block.bg_class)\n      return {\n        backgroundColor: `rgba(${rgba.r},${rgba.g},${rgba.b},${rgba.a})`\n      }\n    } catch (ex) {\n      // Silent error because use className\n    }\n  }\n}\n\nconst Block = ({ block, widgets, editable, hasMouseOver, onMouseOver, onMouseOut, onCancelEdit, editing, saving, history }) => (\n  <div\n    id={`block-${block.id}`}\n    onMouseEnter={() => {\n      if (editable && !editing) onMouseOver(HOVER_MOUSE_KEY, block.id)\n    }}\n    onMouseLeave={() => {\n      if (editable && !editing) onMouseOut(HOVER_MOUSE_KEY)\n    }}\n    onKeyUp={evt => {\n      // ESC keycode\n      if (evt.keyCode === 27) {\n        onCancelEdit(block)\n      }\n    }}\n    className={block.bg_class && block.bg_class.indexOf('{') === -1 ? block.bg_class : undefined}\n    style={getBackgroundStyle(block)}\n  >\n    <div className='col-10 mx-auto'>\n      {editing === `${EDIT_KEY}-${block.id}` ? <BlockChangeBackground block={block} /> : null}\n      <div className='clearfix widgets' style={{ padding: '5em 0' }}>\n        {widgets && widgets.map(widget => (\n          <Widget\n            key={`widget-${widget.id}`}\n            widget={widget}\n            block={block}\n            editable={editable}\n            history={history}\n          />\n        ))}\n      </div>\n      {block.hidden && (\n        <div className='relative'>\n          <div className='absolute bottom-0 left-0 ml1 mb1 bg-darken-2 p1 white rounded hidden-tag'>\n            <i className='fa fa-eye-slash mr1' />{' '}\n            <FormattedMessage\n              id='mobrender.components--block.hidden-tag'\n              defaultMessage='Escondido'\n            />\n          </div>\n        </div>\n      )}\n      <div className='relative'>\n        <BlockConfigMenu\n          block={block}\n          widgets={widgets}\n          display={editable && hasMouseOver && !editing && !saving}\n        />\n      </div>\n    </div>\n  </div>\n)\n\nBlock.propTypes = {\n  block: PropTypes.object.isRequired,\n  widgets: PropTypes.array.isRequired,\n  editable: PropTypes.bool,\n  // Injected by redux\n  hasMouseOver: PropTypes.bool,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onCancelEdit: PropTypes.func,\n  editing: PropTypes.string,\n  saving: PropTypes.bool\n}\n\nexport default Block\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/block.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport ReactS3Uploader from 'react-s3-uploader'\nimport { Progress } from '~client/components/await'\nimport DefaultServerConfig from '~server/config'\n\nconst FileUploader = ({ file, onRemove, progress, onProgress, onFinish }) => (\n  <div className='flex flex-wrap px1'>\n    {file && (\n      <div className='py1'>\n        <img src={file} style={{ maxHeight: '36px' }} />\n        {onRemove && (\n          <button\n            className='btn bg-darken-4 white rounded remove'\n            style={{ margin: '-25px 10px 0' }}\n            onClick={() => {\n              if (window.confirm('Deseja remover a imagem de fundo?')) {\n                onRemove(file)\n              }\n            }}\n          >\n            <i className='fa fa-trash' />\n          </button>)}\n      </div>\n    )}\n    <div className='py1'>\n      {!progress ? (\n        <ReactS3Uploader\n          className='input border-none white m0 bg-darken-4'\n          accept='image/*'\n          signingUrl={`${DefaultServerConfig.apiUrl}/uploads`}\n          onProgress={percent => onProgress(percent)}\n          onFinish={image => {\n            const url = image.signedUrl.substring(0, image.signedUrl.indexOf('?'))\n            onFinish(url)\n          }}\n      />\n    ) : (\n      <Progress\n        className='bg-pagenta full-height rounded'\n        percent={progress}\n        style={{ height: '34px' }}\n      />\n    )}\n    </div>\n  </div>\n)\n\nFileUploader.propTypes = {\n  file: PropTypes.string,\n  onRemove: PropTypes.func,\n  progress: PropTypes.number,\n  onProgress: PropTypes.func,\n  onFinish: PropTypes.func\n}\n\nexport default FileUploader\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/file-uploader.js","export { default as Widget } from './widget.connected'\nexport { default as WidgetOverlay } from './widget-overlay'\nexport { default as Mobilization } from './mobilization.connected'\nexport { default as Reducer } from '../redux/'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/index.js","import { connect } from 'react-redux'\nimport { asyncUpdateBlock } from '../redux/action-creators'\nimport { EDIT_KEY } from './block-config-menu'\nimport Selectors from '../redux/selectors'\n\nimport Mobilization from './mobilization'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = Selectors(state, props)\n  const editing = selectors.getEditing()\n  return {\n    mobilization: selectors.getMobilization() || selectors.getMobilizations()[0],\n    blocks: selectors.getBlocks(),\n    widgets: selectors.getWidgets(),\n    blockEditionMode: editing ? editing.indexOf(EDIT_KEY) !== -1 : false\n  }\n}\n\nconst mapActionsToProps = {\n  blockUpdate: asyncUpdateBlock\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(Mobilization)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/mobilization.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport classnames from 'classnames'\n\nimport Block from './block.connected'\nimport Navbar from './navbar'\nimport * as paths from '~client/paths'\nimport LogoIconNoBorder from '~client/components/navigation/sidenav/logo-icon-no-border'\n\nif (require('exenv').canUseDOM) require('./add-new-block.scss')\n\nclass Mobilization extends React.Component {\n  constructor (props) {\n    super(props)\n\n    const { editable, blocks } = props\n\n    this.state = {\n      blocks: blocks.filter(block => !editable ? !block.hidden : true)\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    if (this.props.blocks !== props.blocks) {\n      const { editable, blocks } = props\n\n      this.setState({\n        blocks: blocks.filter(block => !editable ? !block.hidden : true)\n      })\n    }\n  }\n\n  componentDidMount () {\n    const { editable, mobilization, blocks, blocksIsLoaded } = this.props\n    if (editable && blocksIsLoaded && blocks.length === 0) {\n      this.props.history.push(paths.mobilizationTemplatesChoose(mobilization))\n    }\n\n    if (require('exenv').canUseDOM) {\n      let blocksTotalHeight = 0\n      const blocksWithOffsetTop = []\n\n      // get the offsetTop of each block and put it on state\n      this.state.blocks.map((block, index) => {\n        const { offsetTop, offsetHeight } = document.querySelector(`#block-${block.id}`)\n        const scrollTopReached = index === 0\n\n        blocksWithOffsetTop.push({ ...block, offsetTop, scrollTopReached })\n        blocksTotalHeight += offsetHeight\n      })\n      this.setState({ blocks: blocksWithOffsetTop })\n\n      // watch the scroll event\n      document.querySelector('#blocks-list').onscroll = ({ target }) => {\n        //\n        // check if the current scroll position is greater or equals\n        // than one of the blocks offsetTop\n        //\n        this.state.blocks.map(block => {\n          const scrollPassed = (target.scrollTop + 120) >= block.offsetTop\n\n          if (scrollPassed && !block.scrollTopReached) {\n            this.updateBlock(block, { scrollTopReached: true })\n          }\n        })\n\n        //\n        // small fix if the last block is small than viewport\n        // if the scroll position is greater or equals than\n        // sum of all blocks height, sinalyze that the last block was reached\n        //\n        const viewportBottom = target.scrollTop + target.offsetHeight\n        const isBottom = viewportBottom >= blocksTotalHeight\n        const lastBlock = this.state.blocks.slice(-1)[0]\n\n        if (isBottom && !lastBlock.scrollTopReached) {\n          this.updateBlock(lastBlock, { scrollTopReached: true })\n        }\n      }\n    }\n  }\n\n  updateBlock (block, newProps) {\n    const { blocks } = this.state\n    const index = blocks.findIndex(currentBlock => currentBlock.id === block.id)\n\n    this.setState({\n      blocks: [\n        ...blocks.slice(0, index),\n        { ...blocks[index], ...newProps },\n        ...this.state.blocks.slice(index + 1)\n      ]\n    })\n  }\n\n  render () {\n    const {\n      mobilization: {\n        color_scheme: colorScheme,\n        header_font: headerFont,\n        body_font: bodyFont\n      },\n      blocks,\n      widgets,\n      blockUpdate,\n      editable,\n      blockEditionMode,\n      history\n    } = this.props\n\n    const themeClassName = `${colorScheme} ${headerFont}-header ${bodyFont}-body`\n    const layoutClassName = editable ? 'flex-auto relative' : 'absolute'\n    const layoutStyle = !editable ? { top: 0, bottom: 0, left: 0, right: 0 } : undefined\n\n    return (\n      <div className={classnames('flex flex-column', themeClassName, layoutClassName)} style={layoutStyle}>\n        {!blockEditionMode && (\n          <Navbar\n            mobilization={this.props.mobilization}\n            blocks={blocks}\n            editable={editable}\n            blockUpdate={blockUpdate}\n          />\n        )}\n        {/* render blocks */}\n        <div id='blocks-list' className='flex-auto' style={{ overflowY: 'scroll' }}>\n          {this.state.blocks.map((block, index) => (\n            <Block\n              history={history}\n              key={`block-${block.id}`}\n              editable={editable}\n              block={block}\n              widgets={widgets.filter(w => w.block_id === block.id)}\n            />\n          ))}\n          {editable && (\n            <div\n              className='add-new-block'\n              onClick={() => {\n                history.push(\n                  paths.createBlock(this.props.mobilization)\n                )\n              }}\n            >\n              <i className='fa fa-plus' />\n              <FormattedMessage\n                id='mobrender.components--mobilization.add-block-content'\n                defaultMessage='Adicionar bloco de contedo'\n                />\n            </div>\n          )}\n          <div className='col-10 mx-auto'>\n            <div className='col col-10'>\n              <a\n                href='http://www.bonde.org/?utm_source=footer-logo'\n                style={{ 'color': '#000', 'textDecoration': 'none', 'lineHeight': '85px' }}\n                target='_blank'\n              >\n                <FormattedMessage\n                  id='mobrender.components--mobilization.footer.slogan'\n                  defaultMessage='Feito pra causar. Feito com'\n                />\n                <strong> BONDE.</strong>\n              </a>\n            </div>\n            <div className='col col-2'>\n              <a\n                href='http://www.bonde.org/?utm_source=footer-slogan'\n                className='right my2'\n                target='_blank'\n              >\n                <LogoIconNoBorder />\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nMobilization.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  // Injected by redux\n  mobilization: PropTypes.object.isRequired,\n  blocks: PropTypes.array.isRequired,\n  blockUpdate: PropTypes.func,\n  widgets: PropTypes.array.isRequired,\n  blockEditionMode: PropTypes.bool,\n  blocksIsLoaded: PropTypes.bool\n}\n\nMobilization.defaultProps = {\n  editable: false,\n  blocks: [],\n  widgets: []\n}\n\nexport default Mobilization\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/mobilization.js","export { default } from './navbar'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/navbar/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\n// Dependency modules\nimport { DropdownMenu } from '~client/components/dropdown-menu'\nimport { NavbarEditionWrapper } from '~client/components/navigation/navbar'\n\nconst MenuItems = ({ blocks, mobile, ...menuProps }) => {\n  const items = blocks.map(block => (\n    <div key={block.id} className={classnames({ 'menu-item inline-block': !mobile })}>\n      <NavbarEditionWrapper\n        key={`navbar-edition-wrapper-${block.id}`}\n        block={block}\n        className='btn btn-transparent block white p2'\n        {...menuProps}\n      />\n    </div>\n  ))\n\n  return !mobile ? (\n    <div className='lg-show center'>\n      <div className='bg-darken-4'>\n        {items}\n      </div>\n    </div>\n  ) : (\n    <div className='lg-hide'>\n      <DropdownMenu\n        wrapperClassName='absolute right-0 top-0 m1'\n        buttonClassName='btn bg-darken-4 white rounded'\n        menuClassName='rounded bg-darken-4 white top-0 right-0'\n        menuStyle={{ marginTop: '40px' }}\n        icon='bars'\n      >\n        {items}\n      </DropdownMenu>\n    </div>\n  )\n}\n\nMenuItems.defaultProps = {\n  mobile: false\n}\n\nMenuItems.propTypes = {\n  blocks: PropTypes.arrayOf(\n    PropTypes.shape({ id: PropTypes.number })\n  ).isRequired,\n  mobile: PropTypes.bool\n}\n\nexport default MenuItems\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/navbar/menu-items.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport Menu from './menu-items'\n\nconst Navbar = props => {\n  const { blocks, editable } = props\n\n  const onlyVisibleBlocks = blocks.filter(\n    block => editable ? !block.hidden : !block.hidden && !block.menu_hidden\n  )\n  const menuProps = { ...props, blocks: onlyVisibleBlocks }\n\n  return (\n    <div className='absolute col-12 z3'>\n      <Menu {...menuProps} />\n      <Menu {...menuProps} mobile />\n    </div>\n  )\n}\n\nNavbar.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  mobilization: PropTypes.object.isRequired,\n  blocks: PropTypes.array,\n  blockUpdate: PropTypes.func\n}\n\nNavbar.defaultProps = {\n  editable: false,\n  blocks: []\n}\n\nexport default Navbar\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/navbar/navbar.js","import { connect } from 'react-redux'\nimport WidgetOverlay from './widget-overlay'\nimport Selectors from '../redux/selectors'\nimport {\n  handleMouseOver as onMouseOver,\n  handleMouseOut as onMouseOut\n} from '../redux/action-creators'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = Selectors(state, props)\n  return {\n    hasMouseOver: selectors.hasMouseOver('widget', props.widget.id)\n  }\n}\n\nconst mapActionsToProps = { onMouseOver, onMouseOut }\n\nexport default connect(mapStateToProps, mapActionsToProps)(WidgetOverlay)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/widget-overlay.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst overlayStyle = {\n  position: 'absolute',\n  top: '0',\n  right: '0',\n  bottom: '0',\n  left: '0',\n  fontWeight: 'bold',\n  borderWidth: '6px',\n  opacity: '.82',\n  backgroundColor: '#222222',\n  fontSize: '1.8rem'\n}\n\nconst WidgetOverlay = ({\n  children,\n  widget,\n  onEdit,\n  onDelete,\n  onMouseOver,\n  onMouseOut,\n  hasMouseOver\n}) => (\n  <div\n    className='relative overlay'\n    style={{ cursor: 'pointer' }}\n    onMouseEnter={() => onMouseOver('widget', widget.id)}\n    onMouseLeave={() => onMouseOut('widget')}\n  >\n    {children}\n    {hasMouseOver ? (\n      <div className='h1 rounded z1 border border-pagenta px2' style={overlayStyle}>\n        <div className='table full-height col-12 center'>\n          <div className='white table-cell align-middle'>\n            <button\n              className='btn m1 btn-edit'\n              onClick={onEdit}\n              title='Editar'\n            >\n              <i className='fa fa-edit' />\n            </button>\n            <button\n              className='btn m1 btn-remove'\n              onClick={onDelete}\n              title='Remover'\n            >\n              <i className='fa fa-trash' />\n            </button>\n          </div>\n        </div>\n      </div>\n    ) : null}\n  </div>\n)\n\nWidgetOverlay.propTypes = {\n  widget: PropTypes.object,\n  onClick: PropTypes.func,\n  // Injected by react-redux\n  hasMouseOver: PropTypes.bool,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func\n}\n\nexport default WidgetOverlay\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/widget-overlay.js","import { connect } from 'react-redux'\nimport { injectIntl } from 'react-intl'\nimport MobSelectors from '../redux/selectors'\nimport { asyncUpdateWidget as update } from '../redux/action-creators'\nimport Widget from './widget'\n\nconst mapStateToProps = (state, props) => {\n  const selectors = MobSelectors(state, props)\n  return {\n    saving: selectors.widgetsIsLoading(),\n    mobilization: selectors.getMobilization() || selectors.getMobilizations()[0]\n  }\n}\n\nconst mapActionsToProps = { update }\n\nexport default connect(mapStateToProps, mapActionsToProps)(injectIntl(Widget))\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/widget.connected.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\nimport { intlShape } from 'react-intl'\nimport { Loading } from '~client/components/await'\nimport WidgetOverlay from './widget-overlay.connected'\n\nimport widgets from '../widgets/config'\n\nconst Widget = ({ saving, mobilization, block, widget, update, editable, intl, history }) => {\n  // Resize column widget\n  const { sm_size: smSize, md_size: mdSize, lg_size: lgSize } = widget\n  const className = classnames(\n    `px2 col mb4 md-mb0 col-${smSize}`,\n    `sm-col-${smSize} md-col-${mdSize} lg-col-${lgSize}`\n  )\n\n  const widgetFilter = w => w.kind === widget.kind\n  const widgetConfig = widgets(mobilization, widget, { intl }).filter(widgetFilter)[0]\n  const { component: Component, redirect } = widgetConfig\n\n  const widgetComponent = (\n    <Component\n      {...{ mobilization, block, widget, update, editable }}\n    />\n  )\n\n  return (\n    <div className={className}>\n      {saving && <Loading />}\n      {editable && redirect ? (\n        <WidgetOverlay\n          widget={widget}\n          onEdit={() => history.push(redirect)}\n          onDelete={() => {\n            const message = intl.formatMessage({\n              id: 'c--content-widget.delete-widget.confirm.message',\n              defaultMessage: 'Deseja remover o widget?'\n            })\n            if (window.confirm(message)) {\n              update({\n                ...widget,\n                settings: undefined,\n                kind: 'draft'\n              })\n            }\n          }}\n        >\n          {widgetComponent}\n        </WidgetOverlay>\n      ) : (!editable && widget.kind === 'draft' ? null : (\n        widgetComponent\n      ))}\n    </div>\n  )\n}\n\nWidget.propTypes = {\n  mobilization: PropTypes.object,\n  widget: PropTypes.object.isRequired,\n  editable: PropTypes.bool,\n  // Injected by redux\n  update: PropTypes.func.isRequired,\n  saving: PropTypes.bool,\n  // Injected by react-intl\n  intl: intlShape.isRequired\n}\n\nexport default Widget\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/components/widget.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default ({ mobilization_id: mobilizationId, ...block }) => (dispatch, getState, { api }) => {\n  const credentials = AuthSelectors(getState()).getCredentials()\n  dispatch(createAction(t.ADD_BLOCK_REQUEST))\n  return api\n    .post(`/mobilizations/${mobilizationId}/blocks`, { block }, { headers: credentials })\n    .then(res => {\n      const { widgets_attributes, ...data } = res.data\n      dispatch(createAction(t.ADD_BLOCK_SUCCESS, data))\n      dispatch(createAction(t.ADD_WIDGETS_SUCCESS, widgets_attributes.sort((a, b) => a.id - b.id)))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.ADD_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-add-block.js","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default values => (dispatch, getState, { api }) => {\n  const credentials = AuthSelectors(getState()).getCredentials()\n  dispatch(createAction(t.ADD_MOBILIZATION_REQUEST))\n  return api\n    .post('/mobilizations', { mobilization: values }, { headers: credentials })\n    .then(res => {\n      dispatch(createAction(t.ADD_MOBILIZATION_SUCCESS, res.data))\n      return Promise.resolve(res.data)\n    })\n    .catch(({ response, ...errors }) => {\n      if (response.status === 422 && response.data.errors) {\n        return Promise.reject({ ...response.data.errors })\n      } else {\n        dispatch(createAction(t.ADD_MOBILIZATION_FAILURE, errors))\n        return Promise.reject(errors)\n      }\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-add-mobilization.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\nimport MobSelectors from '~client/mobrender/redux/selectors'\n\nexport default (block) => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  const mobilization = MobSelectors(getState()).getMobilization()\n\n  dispatch(createAction(t.DESTROY_BLOCK_REQUEST))\n  return api\n    .delete(`/mobilizations/${mobilization.id}/blocks/${block.id}`, { headers })\n    .then(response => {\n      dispatch(createAction(t.DESTROY_BLOCK_SUCCESS, response.data))\n      return Promise.resolve()\n    })\n    .catch(ex => {\n      dispatch(createAction(t.DESTROY_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-destroy-block.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default mobilizationId => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  dispatch(createAction(t.FETCH_BLOCKS_REQUEST))\n  return api\n    .get(`/mobilizations/${mobilizationId}/blocks`, { headers })\n    .then(response => {\n      dispatch(createAction(t.FETCH_BLOCKS_SUCCESS, response.data))\n      return Promise.resolve()\n    })\n    .catch(ex => {\n      dispatch(createAction(t.FETCH_BLOCKS_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-fetch-blocks.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default relationshipId => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  dispatch(createAction(t.FETCH_MOBILIZATIONS_REQUEST))\n  if (relationshipId) {\n    return api\n      .get(`/communities/${relationshipId}/mobilizations`, { headers })\n      .then(({ status, data }) => {\n        dispatch(createAction(t.FETCH_MOBILIZATIONS_SUCCESS, data))\n        return Promise.resolve()\n      })\n      .catch(ex => {\n        dispatch(createAction(t.FETCH_MOBILIZATIONS_FAILURE, ex))\n        return Promise.reject(ex)\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-fetch-mobilizations.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nimport AuthSelectors from '~client/account/redux/selectors'\n\nexport default mobilizationId => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n\n  dispatch(createAction(t.FETCH_WIDGETS_REQUEST))\n  return api\n    .get(`/mobilizations/${mobilizationId}/widgets`, { headers })\n    .then(res => {\n      dispatch(createAction(t.FETCH_WIDGETS_SUCCESS, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.FETCH_WIDGETS_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-fetch-widgets.js","/* eslint-disable prefer-promise-reject-errors */\nimport { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default where => (dispatch, getState, { api }) => {\n  const endpoint = '/blocks'\n  const config = { params: where }\n\n  dispatch({ type: t.FILTER_BLOCKS_REQUEST })\n  return api\n    .get(endpoint, config)\n    .then(response => {\n      dispatch(createAction(t.FILTER_BLOCKS_SUCCESS, response.data))\n      return Promise.resolve(response.data)\n    })\n    .catch(failure => {\n      dispatch(createAction(t.FILTER_BLOCKS_FAILURE, failure))\n      return Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-filter-block.js","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default query => (dispatch, getState, { api }) => {\n  const endpoint = '/mobilizations'\n  const config = { params: query }\n\n  dispatch({ type: t.FILTER_MOBILIZATIONS_REQUEST })\n  return api.get(endpoint, config)\n    .then(({ status, data }) => {\n      if (status === 200) {\n        dispatch(createAction(t.FILTER_MOBILIZATIONS_SUCCESS, data))\n        return Promise.resolve(data)\n      }\n\n      return Promise.reject({ message: `Request code ${status}` })\n    })\n    .catch(failure => {\n      dispatch(createAction(t.FILTER_MOBILIZATIONS_FAILURE, failure.message))\n      return Promise.reject({ message: `Request ${failure}` })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-filter-mobilization.js","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default where => (dispatch, getState, { api }) => {\n  const endpoint = '/widgets'\n  const config = { params: where }\n\n  dispatch({ type: t.FILTER_WIDGETS_REQUEST })\n  return api\n    .get(endpoint, config)\n    .then(response => {\n      dispatch(createAction(t.FILTER_WIDGETS_SUCCESS, response.data))\n      return Promise.resolve(response.data)\n    })\n    .catch(failure => {\n      dispatch(createAction(t.FILTER_WIDGETS_FAILURE, failure))\n      Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-filter-widget.js","/* eslint-disable prefer-promise-reject-errors */\nimport AnalyticsEvents from '~client/mobilizations/widgets/utils/analytics-events'\nimport MobSelectors from '~client/mobrender/redux/selectors'\nimport * as t from '../action-types'\nimport { createAction } from './create-action'\n\nconst asyncFormEntryCreate = ({ mobilization, formEntry }) => (dispatch, getState, { api }) => {\n  const state = getState()\n\n  const endpoint = `/mobilizations/${mobilization.id}/form_entries`\n  const body = { form_entry: formEntry }\n\n  dispatch({ type: t.WIDGET_FORM_ENTRY_CREATE_REQUEST })\n  return api.post(endpoint, body)\n    .then(({ data }) => {\n      dispatch(createAction(t.WIDGET_FORM_ENTRY_CREATE_SUCCESS, updateWidget(state, data)))\n      AnalyticsEvents.formSavedData()\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      dispatch(createAction(t.WIDGET_FORM_ENTRY_CREATE_FAILURE, failure))\n      return Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\nconst updateWidget = (state, payload) => {\n  const widget = MobSelectors(state).getWidget(payload.widget_id)\n  return { ...widget, form_entries_count: widget.form_entries_count + 1 }\n}\n\nexport default asyncFormEntryCreate\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-form-entry-create.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nimport AuthSelectors from '~client/account/redux/selectors'\nimport Selectors from '../selectors'\n\nexport default block => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  const mobilization = Selectors(getState()).getMobilization()\n  const blocks = Selectors(getState()).getBlocks()\n\n  const body = {\n    block: {\n      ...block,\n      position: blocks[blocks.indexOf(blocks.filter(b => b.id === block.id)[0]) + 1].position\n    }\n  }\n\n  dispatch(createAction(t.UPDATE_BLOCK_REQUEST))\n  return api\n    .put(`/mobilizations/${mobilization.id}/blocks/${block.id}`, body, { headers })\n    .then(res => {\n      dispatch(createAction(t.UPDATE_BLOCK_SUCCESS, res.data))\n      dispatch(createAction(t.MOVE_BLOCK_DOWN, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-move-down.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nimport AuthSelectors from '~client/account/redux/selectors'\nimport Selectors from '../selectors'\n\nexport default block => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  const mobilization = Selectors(getState()).getMobilization()\n  const blocks = Selectors(getState()).getBlocks()\n\n  const body = {\n    block: {\n      ...block,\n      position: blocks[blocks.indexOf(blocks.filter(b => b.id === block.id)[0]) - 1].position\n    }\n  }\n\n  dispatch(createAction(t.UPDATE_BLOCK_REQUEST))\n  return api\n    .put(`/mobilizations/${mobilization.id}/blocks/${block.id}`, body, { headers })\n    .then(res => {\n      dispatch(createAction(t.UPDATE_BLOCK_SUCCESS, res.data))\n      dispatch(createAction(t.MOVE_BLOCK_UP, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-move-up.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nimport AuthSelectors from '~client/account/redux/selectors'\nimport Selectors from '../selectors'\n\nexport default (block) => (dispatch, getState, { api }) => {\n  const headers = AuthSelectors(getState()).getCredentials()\n  const mobilization = Selectors(getState()).getMobilization()\n  dispatch(createAction(t.UPDATE_BLOCK_REQUEST))\n  return api\n    .put(`/mobilizations/${mobilization.id}/blocks/${block.id}`, { block }, { headers })\n    .then(res => {\n      dispatch(createAction(t.UPDATE_BLOCK_SUCCESS, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_BLOCK_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-update-block.js","/* eslint-disable prefer-promise-reject-errors */\nimport { createAction } from './create-action'\nimport * as t from '../action-types'\n\nimport asyncFetchBlocks from './async-fetch-blocks'\nimport asyncFetchWidgets from './async-fetch-widgets'\n\nexport default ({ fieldName, ...mobilization }) =>\n  (dispatch, getState, { api }) => {\n    const { auth: { credentials } } = getState()\n    const endpoint = `/mobilizations/${mobilization.id}`\n    const config = { headers: credentials }\n\n    dispatch({ type: t.UPDATE_MOBILIZATION_REQUEST })\n    return api\n      .put(endpoint, { mobilization }, config)\n      .then(({ status, data }) => {\n        dispatch({ type: t.UPDATE_MOBILIZATION_SUCCESS, payload: data })\n        if (mobilization.template_mobilization_id) {\n          dispatch(asyncFetchBlocks(data.id))\n          dispatch(asyncFetchWidgets(data.id))\n        }\n        return Promise.resolve(data)\n      })\n      .catch(({ response, ...errors }) => {\n        if (response.status === 422 && response.data.errors) {\n          const errors = response.data.errors\n          if (response.data.errors.custom_domain) {\n            errors[fieldName] = errors.custom_domain\n            delete errors.custom_domain\n          }\n          dispatch(createAction(t.UPDATE_MOBILIZATION_FAILURE, errors))\n          return Promise.reject({ ...errors })\n        } else {\n          dispatch(createAction(t.UPDATE_MOBILIZATION_FAILURE, errors))\n          return Promise.reject({ error: `Response code ${errors}` })\n        }\n      })\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-update-mobilization.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nimport AuthSelectors from '~client/account/redux/selectors'\nimport Selectors from '../selectors'\n\nexport default (widget) => (dispatch, getState, { api }) => {\n  dispatch(createAction(t.UPDATE_WIDGET_REQUEST))\n  const credentials = AuthSelectors(getState()).getCredentials()\n  const mobilization = Selectors(getState()).getMobilization()\n\n  const endpoint = `/mobilizations/${mobilization.id}/widgets/${widget.id}`\n  const body = { widget }\n  const options = { headers: credentials }\n\n  return api\n    .put(endpoint, body, options)\n    .then(res => {\n      dispatch(createAction(t.UPDATE_WIDGET_SUCCESS, res.data))\n    })\n    .catch(ex => {\n      dispatch(createAction(t.UPDATE_WIDGET_FAILURE, ex))\n      return Promise.reject(ex)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-update-widget.js","/* eslint-disable prefer-promise-reject-errors */\nimport * as t from '../action-types'\nimport downloadjs from 'downloadjs'\nimport { createAction } from './create-action'\n\nconst asyncWidgetDataExport = params => (dispatch, getState, { api, intl }) => {\n  const { auth: { credentials } } = getState()\n  const { mobilization, widget, filename } = params\n\n  const endpoint = `/mobilizations/${mobilization.id}/form_entries.csv`\n  const config = {\n    headers: credentials,\n    params: {\n      widget_id: widget.id,\n      INFO: 'disjoint_fields'\n    }\n  }\n\n  dispatch({ type: t.EXPORT_DATACLIP_REQUEST })\n  return api.get(endpoint, config)\n    .then(({ data }) => {\n      if (!data.length) {\n        window.alert(intl.formatMessage({\n          id: 'action--async-widget-data-export.no-data',\n          defaultMessage: 'Nao foi encontrado nenhum dado para ser exportado'\n        }))\n        dispatch({ type: t.EXPORT_DATACLIP_NO_DATA_FOUND })\n        return Promise.resolve()\n      }\n\n      downloadjs(new Blob([data]), `[Relatrio][Formulrio] ${filename}.csv`, 'text/csv')\n      dispatch(createAction(t.EXPORT_DATACLIP_SUCCESS, { widget }))\n      return Promise.resolve()\n    })\n    .catch(failure => {\n      dispatch(createAction(t.EXPORT_DATACLIP_FAILURE, failure))\n      return Promise.reject({ _error: `Response ${failure}` })\n    })\n}\n\nexport default asyncWidgetDataExport\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/async-widget-data-export.js","export const createAction = (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/create-action.js","import * as t from '../action-types'\n\nconst dataExportMount = () => ({ type: t.EXPORT_DATACLIP_MOUNT })\n\nexport default dataExportMount\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/data-export-mount.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default () => dispatch => {\n  dispatch(createAction(t.TURN_OFF_EDITION))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-cancel-edit.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default block => dispatch => {\n  dispatch(createAction(t.CHANGE_BLOCK_BACKGROUND, block))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-change-background.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default mode => dispatch => {\n  dispatch(createAction(t.TURN_ON_EDITION, mode))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-edit.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default (key) => dispatch => dispatch(createAction(t.MOUSE_OUT, { key }))\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-mouse-out.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default (key, id) => dispatch => dispatch(createAction(t.MOUSE_OVER, { key, id }))\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-mouse-over.js","import { createAction } from './create-action'\nimport * as t from '../action-types'\n\nexport default (key, progress) => dispatch => {\n  if (progress) dispatch(createAction(t.LOADING_FILE, { key, progress }))\n  else dispatch(createAction(t.FINISH_LOADING_FILE, key))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/handle-upload-file.js","export { default as asyncUpdateWidget } from './async-update-widget'\nexport { default as asyncFetchWidgets } from './async-fetch-widgets'\nexport { default as asyncFilterWidget } from './async-filter-widget'\nexport { default as asyncFormEntryCreate } from './async-form-entry-create'\nexport { default as setWidgetList } from './set-widget-list'\nexport { default as asyncWidgetDataExport } from './async-widget-data-export'\nexport { default as dataExportMount } from './data-export-mount'\n\nexport { default as handleMouseOver } from './handle-mouse-over'\nexport { default as handleMouseOut } from './handle-mouse-out'\n\nexport { default as asyncMoveUp } from './async-move-up'\nexport { default as asyncMoveDown } from './async-move-down'\nexport { default as asyncUpdateBlock } from './async-update-block'\nexport { default as asyncFetchBlocks } from './async-fetch-blocks'\nexport { default as asyncDestroyBlock } from './async-destroy-block'\nexport { default as asyncAddBlock } from './async-add-block'\nexport { default as asyncFilterBlock } from './async-filter-block'\n\nexport { default as handleEdit } from './handle-edit'\nexport { default as handleCancelEdit } from './handle-cancel-edit'\n\nexport { default as handleUploadFile } from './handle-upload-file'\nexport { default as handleChangeBackground } from './handle-change-background'\n\nexport { default as asyncAddMobilization } from './async-add-mobilization'\nexport { default as asyncUpdateMobilization } from './async-update-mobilization'\nexport { default as asyncFetchMobilizations } from './async-fetch-mobilizations'\nexport { default as selectMobilization } from './select-mobilization'\nexport { default as selectWidget } from './select-widget'\nexport { default as toggleMobilizationMenu } from './toggle-mobilization-menu'\nexport { default as asyncFilterMobilization } from './async-filter-mobilization'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/index.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default id => dispatch => {\n  const payload = !isNaN(parseInt(id, 10)) ? parseInt(id, 10) : undefined\n  dispatch(createAction(t.SELECT_MOBILIZATION, payload))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/select-mobilization.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default id => dispatch => {\n  const payload = !isNaN(parseInt(id, 10)) ? parseInt(id, 10) : undefined\n  dispatch(createAction(t.SELECT_WIDGET, payload))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/select-widget.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nconst setWidgetList = widgets => createAction(t.SET_WIDGET_LIST, widgets)\n\nexport default setWidgetList\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/set-widget-list.js","import * as t from '../action-types'\nimport { createAction } from './create-action'\n\nexport default id => dispatch => {\n  const payload = !isNaN(parseInt(id, 10)) ? parseInt(id, 10) : undefined\n  dispatch(createAction(t.TOGGLE_MOBILIZATION_MENU, payload))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-creators/toggle-mobilization-menu.js","export const SELECT_WIDGET = 'SELECT_WIDGET'\n\nexport const FETCH_WIDGETS_REQUEST = 'FETCH_WIDGETS_REQUEST'\nexport const FETCH_WIDGETS_SUCCESS = 'FETCH_WIDGETS_SUCCESS'\nexport const FETCH_WIDGETS_FAILURE = 'FETCH_WIDGETS_FAILURE'\n\nexport const FILTER_WIDGETS_REQUEST = 'FILTER_WIDGETS_REQUEST'\nexport const FILTER_WIDGETS_SUCCESS = 'FILTER_WIDGETS_SUCCESS'\nexport const FILTER_WIDGETS_FAILURE = 'FILTER_WIDGETS_FAILURE'\n\nexport const UPDATE_WIDGET_REQUEST = 'UPDATE_WIDGET_REQUEST'\nexport const UPDATE_WIDGET_SUCCESS = 'UPDATE_WIDGET_SUCCESS'\nexport const UPDATE_WIDGET_FAILURE = 'UPDATE_WIDGET_FAILURE'\n\nexport const WIDGET_FORM_ENTRY_CREATE_REQUEST = 'WIDGET_FORM_ENTRY_CREATE_REQUEST'\nexport const WIDGET_FORM_ENTRY_CREATE_SUCCESS = 'WIDGET_FORM_ENTRY_CREATE_SUCCESS'\nexport const WIDGET_FORM_ENTRY_CREATE_FAILURE = 'WIDGET_FORM_ENTRY_CREATE_FAILURE'\n\nexport const ADD_WIDGETS_SUCCESS = 'ADD_WIDGETS_SUCCESS'\nexport const SET_WIDGET_LIST = 'SET_WIDGET_LIST'\n\nexport const FETCH_BLOCKS_REQUEST = 'FETCH_BLOCKS_REQUEST'\nexport const FETCH_BLOCKS_SUCCESS = 'FETCH_BLOCKS_SUCCESS'\nexport const FETCH_BLOCKS_FAILURE = 'FETCH_BLOCKS_FAILURE'\n\nexport const UPDATE_BLOCK_REQUEST = 'UPDATE_BLOCK_REQUEST'\nexport const UPDATE_BLOCK_SUCCESS = 'UPDATE_BLOCK_SUCCESS'\nexport const UPDATE_BLOCK_FAILURE = 'UPDATE_BLOCK_FAILURE'\n\nexport const ADD_BLOCK_REQUEST = 'ADD_BLOCK_REQUEST'\nexport const ADD_BLOCK_SUCCESS = 'ADD_BLOCK_SUCCESS'\nexport const ADD_BLOCK_FAILURE = 'ADD_BLOCK_FAILURE'\n\nexport const DESTROY_BLOCK_REQUEST = 'DESTROY_BLOCK_REQUEST'\nexport const DESTROY_BLOCK_SUCCESS = 'DESTROY_BLOCK_SUCCESS'\nexport const DESTROY_BLOCK_FAILURE = 'DESTROY_BLOCK_FAILURE'\n\nexport const FILTER_BLOCKS_REQUEST = 'FILTER_BLOCKS_REQUEST'\nexport const FILTER_BLOCKS_SUCCESS = 'FILTER_BLOCKS_SUCCESS'\nexport const FILTER_BLOCKS_FAILURE = 'FILTER_BLOCKS_FAILURE'\n\nexport const CHANGE_BLOCK_BACKGROUND = 'CHANGE_BLOCK_BACKGROUND'\n\nexport const MOUSE_OVER = 'MOUSE_OVER'\nexport const MOUSE_OUT = 'MOUSE_OUT'\n\nexport const TURN_ON_EDITION = 'TURN_ON_EDITION'\nexport const TURN_OFF_EDITION = 'TURN_OFF_EDITION'\n\nexport const MOVE_BLOCK_UP = 'MOVE_BLOCK_UP'\nexport const MOVE_BLOCK_DOWN = 'MOVE_BLOCK_DOWN'\n\nexport const LOADING_FILE = 'LOADING_FILE'\nexport const FINISH_LOADING_FILE = 'FINISH_LOADING_FILE'\n\nexport const ADD_MOBILIZATION_REQUEST = 'ADD_MOBILIZATION_REQUEST'\nexport const ADD_MOBILIZATION_SUCCESS = 'ADD_MOBILIZATION_SUCCESS'\nexport const ADD_MOBILIZATION_FAILURE = 'ADD_MOBILIZATION_FAILURE'\n\nexport const FETCH_MOBILIZATIONS_REQUEST = 'FETCH_MOBILIZATIONS_REQUEST'\nexport const FETCH_MOBILIZATIONS_SUCCESS = 'FETCH_MOBILIZATIONS_SUCCESS'\nexport const FETCH_MOBILIZATIONS_FAILURE = 'FETCH_MOBILIZATIONS_FAILURE'\n\nexport const SELECT_MOBILIZATION = 'SELECT_MOBILIZATION'\n\nexport const UPDATE_MOBILIZATION_REQUEST = 'UPDATE_MOBILIZATION_REQUEST'\nexport const UPDATE_MOBILIZATION_SUCCESS = 'UPDATE_MOBILIZATION_SUCCESS'\nexport const UPDATE_MOBILIZATION_FAILURE = 'UPDATE_MOBILIZATION_FAILURE'\n\nexport const TOGGLE_MOBILIZATION_MENU = 'TOGGLE_MOBILIZATION_MENU'\n\nexport const FILTER_MOBILIZATIONS_REQUEST = 'FILTER_MOBILIZATIONS_REQUEST'\nexport const FILTER_MOBILIZATIONS_SUCCESS = 'FILTER_MOBILIZATIONS_SUCCESS'\nexport const FILTER_MOBILIZATIONS_FAILURE = 'FILTER_MOBILIZATIONS_FAILURE'\n\nexport const EXPORT_DATACLIP_REQUEST = 'EXPORT_DATACLIP_REQUEST'\nexport const EXPORT_DATACLIP_SUCCESS = 'EXPORT_DATACLIP_SUCCESS'\nexport const EXPORT_DATACLIP_FAILURE = 'EXPORT_DATACLIP_FAILURE'\nexport const EXPORT_DATACLIP_NO_DATA_FOUND = 'EXPORT_DATACLIP_NO_DATA_FOUND'\nexport const EXPORT_DATACLIP_MOUNT = 'EXPORT_DATACLIP_MOUNT'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/action-types.js","import * as actions from './action-creators'\nimport * as actionTypes from './action-types'\nimport reducer from './reducers'\nimport selectors from './selectors'\n\nexport default {\n  actions,\n  reducer,\n  selectors,\n  actionTypes\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/index.js","import * as t from '../action-types'\n\nexport const initialState = {\n  isLoaded: false,\n  fetching: false,\n  saving: false,\n  data: [],\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.FETCH_BLOCKS_REQUEST:\n    case t.FILTER_BLOCK_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.FETCH_BLOCKS_SUCCESS:\n    case t.FILTER_BLOCKS_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload\n      }\n    case t.FETCH_BLOCKS_FAILURE:\n    case t.FILTER_BLOCKS_FAILURE:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        error: action.payload\n      }\n    case t.ADD_BLOCK_REQUEST:\n    case t.UPDATE_BLOCK_REQUEST:\n    case t.DESTROY_BLOCK_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.ADD_BLOCK_SUCCESS:\n      return {...state,\n        saving: false,\n        data: [...state.data, action.payload]\n      }\n    case t.UPDATE_BLOCK_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.map(\n          b => b.id === action.payload.id ? action.payload : b\n        )\n      }\n    case t.DESTROY_BLOCK_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.filter(b => b.id !== action.payload.id)\n      }\n    case t.CHANGE_BLOCK_BACKGROUND:\n      return {...state,\n        data: state.data.map(\n          b => b.id === action.payload.id ? action.payload : b\n        )\n      }\n    case t.ADD_BLOCK_FAILURE:\n    case t.UPDATE_BLOCK_FAILURE:\n    case t.DESTROY_BLOCK_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    case t.MOVE_BLOCK_UP:\n      return {...state,\n        data: state.data.map((b, index) => {\n          if (index + 1 < state.data.length && state.data[index + 1].id === action.payload.id) return action.payload\n          else if (b.id === action.payload.id) return state.data[index - 1]\n          else return b\n        })\n      }\n    case t.MOVE_BLOCK_DOWN:\n      return {...state,\n        data: state.data.map((b, index) => {\n          if (index > 0 && state.data[index - 1].id === action.payload.id) return action.payload\n          else if (b.id === action.payload.id) return state.data[index + 1]\n          else return b\n        })\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/blocks.js","import * as t from '../action-types'\n\nconst initialState = {\n  loading: false,\n  success: false,\n  error: undefined\n}\n\nexport default function dataExport (state = initialState, action = {}) {\n  switch (action.type) {\n    case t.EXPORT_DATACLIP_REQUEST:\n      return { ...state, loading: true }\n    case t.EXPORT_DATACLIP_SUCCESS:\n      return { ...state, loading: false, success: true }\n    case t.EXPORT_DATACLIP_FAILURE:\n      return { ...state, loading: false, error: action.payload }\n\n    case t.EXPORT_DATACLIP_NO_DATA_FOUND:\n      return initialState\n    case t.EXPORT_DATACLIP_MOUNT:\n      return initialState\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/data-export.js","import * as t from '../action-types'\n\nexport const initialState = {\n  isEditing: false,\n  mode: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.TURN_ON_EDITION:\n      return {...state,\n        isEditing: true,\n        mode: action.payload\n      }\n    case t.TURN_OFF_EDITION:\n      return {...state,\n        isEditing: false,\n        mode: undefined\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/edition.js","import * as t from '../action-types'\n\nexport const initialState = {}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.MOUSE_OVER:\n      return {\n        ...state,\n        [action.payload.key]: action.payload.id\n      }\n    case t.MOUSE_OUT:\n      if (action.payload.key in state) {\n        return {\n          ...state,\n          [action.payload.key]: undefined\n        }\n      } else {\n        return state\n      }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/hover.js","import { combineReducers } from 'redux'\n\nimport blocksReducer from './blocks'\nimport widgetsReducer from './widgets'\nimport editionReducer from './edition'\nimport hoverReducer from './hover'\nimport uploaderReducer from './uploader'\nimport mobilizationsReducer from './mobilizations'\nimport dataExportReducer from './data-export'\n\n// Dependency modules\nimport templatesReducer from '~client/mobilizations/templates/reducers'\nimport pluginsReducer from '~client/mobilizations/widgets/__plugins__/reducers'\n\nexport default combineReducers({\n  list: mobilizationsReducer,\n  blocks: blocksReducer,\n  templates: templatesReducer,\n  widgets: widgetsReducer,\n  edition: editionReducer,\n  hover: hoverReducer,\n  uploader: uploaderReducer,\n  plugins: pluginsReducer,\n  dataExport: dataExportReducer\n})\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/index.js","import * as t from '../action-types'\nimport * as tc from '~client/community/action-types'\n\nexport const initialState = {\n  isLoaded: false,\n  fetching: false,\n  saving: false,\n  data: [],\n  currentId: undefined,\n  menuActiveIndex: undefined,\n  error: undefined,\n  communityId: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.ADD_MOBILIZATION_REQUEST:\n    case t.UPDATE_MOBILIZATION_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.ADD_MOBILIZATION_SUCCESS:\n      return {...state,\n        saving: false,\n        data: [action.payload, ...state.data],\n        currentId: action.payload.id\n      }\n    case t.UPDATE_MOBILIZATION_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.map(m => m.id === action.payload.id ? action.payload : m)\n      }\n    case t.ADD_MOBILIZATION_FAILURE:\n    case t.UPDATE_MOBILIZATION_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    case t.FETCH_MOBILIZATIONS_REQUEST:\n    case t.FILTER_MOBILIZATIONS_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.FETCH_MOBILIZATIONS_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload\n      }\n    case t.FILTER_MOBILIZATIONS_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload,\n        currentId: action.payload.length === 1 ? action.payload[0].id : undefined\n      }\n    case t.FETCH_MOBILIZATIONS_FAILURE:\n    case t.FILTER_MOBILIZATIONS_FAILURE:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        error: action.payload\n      }\n    case t.SELECT_MOBILIZATION:\n      return {...state,\n        currentId: action.payload,\n        reload: action.payload !== state.currentId ? true : state.reload\n      }\n    case t.FETCH_BLOCKS_SUCCESS:\n    case t.FETCH_WIDGETS_SUCCESS:\n      return {...state,\n        reload: false\n      }\n    case t.TOGGLE_MOBILIZATION_MENU:\n      return {...state,\n        menuActiveIndex: action.payload === state.menuActiveIndex ? undefined : action.payload\n      }\n    // TODO: I think that is not correct, but i need more learning about this flux\n    case tc.SELECT:\n      if (state.communityId !== action.id) {\n        return {...state,\n          isLoaded: false,\n          communityId: action.id\n        }\n      }\n      return state\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/mobilizations.js","import * as t from '../action-types'\n\nconst initialState = {}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.LOADING_FILE:\n      return {\n        [action.payload.key]: action.payload.progress\n      }\n    case t.FINISH_LOADING_FILE:\n      delete state[action.payload]\n      return state\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/uploader.js","import * as t from '../action-types'\n\nexport const initialState = {\n  currentId: undefined,\n  isLoaded: false,\n  fetching: false,\n  saving: false,\n  data: [],\n  error: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.SELECT_WIDGET:\n      return { ...state, currentId: action.payload }\n\n    case t.FETCH_WIDGETS_REQUEST:\n    case t.FILTER_WIDGETS_REQUEST:\n      return {...state,\n        fetching: true\n      }\n    case t.FETCH_WIDGETS_SUCCESS:\n    case t.FILTER_WIDGETS_SUCCESS:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        data: action.payload\n      }\n    case t.FETCH_WIDGETS_FAILURE:\n    case t.FILTER_WIDGETS_FAILURE:\n      return {...state,\n        isLoaded: true,\n        fetching: false,\n        error: action.payload\n      }\n    case t.UPDATE_WIDGET_REQUEST:\n    case t.WIDGET_FORM_ENTRY_CREATE_REQUEST:\n      return {...state,\n        saving: true\n      }\n    case t.UPDATE_WIDGET_SUCCESS:\n    case t.WIDGET_FORM_ENTRY_CREATE_SUCCESS:\n      return {...state,\n        saving: false,\n        data: state.data.map(\n          w => w.id === action.payload.id ? action.payload : w\n        )\n      }\n    case t.UPDATE_WIDGET_FAILURE:\n    case t.WIDGET_FORM_ENTRY_CREATE_FAILURE:\n      return {...state,\n        saving: false,\n        error: action.payload\n      }\n    case t.ADD_WIDGETS_SUCCESS:\n      return {...state,\n        data: [...state.data, ...action.payload]\n      }\n\n    case t.SET_WIDGET_LIST:\n      return { ...state, data: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/reducers/widgets.js","export default (state, props) => ({\n\n  getMobilization: () => {\n    const { list: { currentId: id, data } } = state.mobilizations\n    return id ? data.filter(mob => mob.id === id)[0] : undefined\n  },\n\n  mobilizationsIsLoading: () => {\n    return state.mobilizations.list.fetching\n  },\n\n  mobilizationsIsLoaded: () => {\n    return state.mobilizations.list.isLoaded\n  },\n\n  mobilizationIsSaving: () => {\n    return state.mobilizations.list.saving\n  },\n\n  getMobilizationMenuActive: () => {\n    return state.mobilizations.list.menuActiveIndex\n  },\n\n  getMobilizations: (f) => {\n    const { list: { data } } = state.mobilizations\n    if (f && f.status) {\n      return data.filter(m => m.status === f.status)\n    }\n    return data.filter(m => m.status === 'active')\n  },\n\n  hasCurrentMobilization: () => {\n    return state.mobilizations.list.currentId\n  },\n\n  hasMouseOver: (key, id) => {\n    const { hover } = state.mobilizations\n    if (key in hover) return hover[key] === id\n    else return false\n  },\n\n  getBlocks: () => {\n    const { blocks: { data } } = state.mobilizations\n    return data.sort((a, b) => a.position - b.position)\n  },\n\n  blocksIsLoaded: () => {\n    return state.mobilizations.blocks.isLoaded\n  },\n\n  canMoveUp: () => {\n    const { block } = props\n    const { blocks: { data } } = state.mobilizations\n    return data[0] && data[0].id !== block.id\n  },\n\n  canMoveDown: () => {\n    const { block } = props\n    const { blocks: { data } } = state.mobilizations\n    const index = data.length - 1\n    return data[index] && data[index].id !== block.id\n  },\n\n  getUploadProgress: (key) => {\n    const { uploader } = state.mobilizations\n    return uploader[key]\n  },\n\n  getEditing: () => {\n    const { edition } = state.mobilizations\n    return edition.isEditing ? edition.mode : undefined\n  },\n\n  getBlockSaving: () => {\n    const { blocks: { saving } } = state.mobilizations\n    return saving\n  },\n\n  getWidgets: () => {\n    const { widgets: { data } } = state.mobilizations\n    return data\n  },\n\n  getWidget: (id) => {\n    const { widgets: { data, currentId } } = state.mobilizations\n    let pkey\n    if (props && props.match.params && props.match.params.widget_id) {\n      pkey = parseInt(props.match.params.widget_id)\n    } else if (id) {\n      pkey = id\n    } else {\n      pkey = currentId\n    }\n    return data.filter(w => w.id === pkey)[0]\n  },\n\n  mobilizationIsNeedReload: () => {\n    const {\n      list: { reload },\n      blocks: { isLoaded: blocksIsLoaded },\n      widgets: { isLoaded: widgetsIsLoaded }\n    } = state.mobilizations\n    return !blocksIsLoaded || !widgetsIsLoaded ? true : reload\n  },\n\n  widgetsIsLoaded: () => {\n    return state.mobilizations.widgets.isLoaded\n  },\n\n  widgetsIsLoading: () => {\n    return state.mobilizations.widgets.saving\n  },\n\n  renderIsLoading: () => {\n    const {\n      widgets: {\n        isLoaded: widgetsIsLoaded,\n        fetching: widgetsIsLoading\n      },\n      blocks: {\n        isLoaded: blocksIsLoaded,\n        fetching: blocksIsLoading\n      }\n    } = state.mobilizations\n\n    const isLoaded = blocksIsLoaded && widgetsIsLoaded\n    const isntLoading = !blocksIsLoading && !widgetsIsLoading\n    return !(isLoaded && isntLoading)\n  },\n\n  getPlugin: plugin => {\n    if (!(plugin in state.mobilizations.plugins)) {\n      console.error(`The [${plugin}] is not an available plugin`)\n      return {}\n    }\n    return state.mobilizations.plugins[plugin]\n  }\n})\n\nexport const getTemplate = (state, ownProps) => {\n  const { list: { data }, templates: { list: { templateId } } } = state.mobilizations\n  return data.filter(mob => mob.id === templateId)[0]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/redux/selectors.js","import { Draft } from './draft/components'\nimport {\n  Pressure,\n  Form,\n  Content,\n  Donation\n} from '~client/mobilizations/widgets/__plugins__'\nimport { createEditorContent } from '~client/mobilizations/widgets/__plugins__/content/components/editor-slate'\nimport * as Paths from '~client/paths'\n\nexport default (mobilization, widget, { intl }) => [\n  {\n    component: Draft,\n    kind: 'draft',\n    settings: {}\n  },\n  {\n    component: Content,\n    kind: 'content',\n    icon: 'font',\n    label: intl.formatMessage({\n      id: 'widgets.config--content.label',\n      defaultMessage: 'Texto'\n    }),\n    settings: {\n      content: createEditorContent(\n        intl.formatMessage({\n          id: 'widgets.config--content.default',\n          defaultMessage: 'Clique aqui para editar...'\n        })\n      )\n    }\n  },\n  {\n    component: Form,\n    kind: 'form',\n    icon: 'list',\n    label: intl.formatMessage({\n      id: 'widgets.config--form.label',\n      defaultMessage: 'Formulrio'\n    }),\n    settings: {\n      email_text: intl.formatMessage({\n        id: 'widgets.config--form.default',\n        defaultMessage: 'Obrigado por apostar na fora da ao coletiva! Sua participao  muito importante e, agora, precisamos da sua ajuda para potencializar nosso impacto. Compartilhe nas suas redes clicando em um dos links abaixo.\\n\\nUm abrao'\n      })\n    },\n    redirect: Paths.formMobilizationWidget(mobilization.id, widget.id)\n  },\n  {\n    component: Pressure,\n    kind: 'pressure',\n    icon: 'bullseye',\n    label: intl.formatMessage({\n      id: 'widgets.config--pressure.label',\n      defaultMessage: 'Presso'\n    }),\n    settings: {\n      main_color: '#f23392',\n      title_text: intl.formatMessage({\n        id: 'widgets.config--pressure.default.title',\n        defaultMessage: 'Envie um e-mail para quem pode tomar essa deciso'\n      }),\n      button_text: intl.formatMessage({\n        id: 'widgets.config--pressure.default.button-text',\n        defaultMessage: 'Enviar e-mail'\n      })\n      /* reply_email: user.email */\n    },\n    redirect: Paths.pressure(mobilization.id, widget.id)\n  },\n  {\n    component: Donation,\n    kind: 'donation',\n    icon: 'money',\n    label: intl.formatMessage({\n      id: 'widgets.config--donation.label',\n      defaultMessage: 'Doao'\n    }),\n    redirect: Paths.donation(mobilization.id, widget.id)\n  }\n]\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/config.js","import PropTypes from 'prop-types'\nimport React from 'react'\n\nif (require('exenv').canUseDOM) require('./draft-button.scss')\n\nconst DraftButton = ({ icon, label, updateKind, ...props }) => (\n  <div className='draft-widget-button col col-4 p1'>\n    <button className='btn col-12' onClick={() => updateKind(props)}>\n      <span className='content'>\n        <i className={`fa fa-${icon} block white`} />\n        <span className='text'>{label}</span>\n      </span>\n    </button>\n  </div>\n)\n\nDraftButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  icon: PropTypes.string.isRequired,\n  kind: PropTypes.string.isRequired,\n  updateKind: PropTypes.func.isRequired,\n  settings: PropTypes.object\n}\n\nexport default DraftButton\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/draft/components/draft-button.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender/widgets/draft/components/draft-button.scss\n// module id = ./mobrender/widgets/draft/components/draft-button.scss\n// module chunks = 0","import React from 'react'\nimport { injectIntl, intlShape } from 'react-intl'\nimport DraftButton from './draft-button'\nimport widgets from '~client/mobrender/widgets/config'\n\nif (require('exenv').canUseDOM) require('./draft.scss')\n\nconst Draft = ({ mobilization, widget, update, intl }) => {\n  const updateKind = props => update({...widget, ...props})\n  const widgetsConfig = widgets(mobilization, widget, { intl }).filter(w => w.kind !== 'draft')\n\n  return (\n    <div className='draft-widget widget center rounded lightgray clearfix'>\n      {widgetsConfig.map((wc, index) => {\n        const props = Object.assign({}, wc)\n        delete props.component\n        return <DraftButton key={`wc-${index}`} updateKind={updateKind} {...props} />\n      })}\n    </div>\n  )\n}\n\nDraft.propTypes = {\n  intl: intlShape.isRequired\n}\n\nexport default injectIntl(Draft)\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/draft/components/draft.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./mobrender/widgets/draft/components/draft.scss\n// module id = ./mobrender/widgets/draft/components/draft.scss\n// module chunks = 0","export { default as Draft } from './draft'\nexport { default as DraftButton } from './draft-button'\n\n\n\n// WEBPACK FOOTER //\n// ./mobrender/widgets/draft/components/index.js","export const login = () => '/login'\nexport const logout = () => '/logout'\n\nexport const editAccount = () => '/account/edit'\nexport const createAccount = () => '/register'\nexport const accountRetrieve = () => '/account/retrieve'\n//\n// Interface to modules paths\n//\nexport * from '~client/mobilizations/paths'\nexport * from '~client/mobilizations/widgets/paths'\nexport * from '~client/mobilizations/blocks/paths'\nexport * from '~client/mobilizations/templates/paths'\nexport * from '~client/community/paths'\n\n\n\n// WEBPACK FOOTER //\n// ./paths.js","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport promise from 'redux-promise'\nimport axios from 'axios'\nimport { ApolloClient, createNetworkInterface } from 'react-apollo'\nimport DefaultServerConfig from '~server/config'\nimport createReducer from './createReducer'\nimport DevTools from './components/dev-tools'\nimport { logout } from '~client/account/redux/action-creators'\n\nconst api = axios.create({ baseURL: DefaultServerConfig.apiUrl })\n\nconst middlewares = [promise]\n\nconst networkInterface = createNetworkInterface({\n  uri: DefaultServerConfig.graphqlUrl,\n  connectToDevTools: true\n})\n\nnetworkInterface.use([\n  {\n    applyMiddleware (req, next) {\n      if (!req.options.headers) {\n        req.options.headers = {}\n      }\n      // Non-use auth for authenticate mutation to make a new JWT Token\n      const requiredAuth = req.request.operationName !== 'authenticate'\n      if (require('exenv').canUseDOM) {\n        const localStorageAuth = window.localStorage.getItem('auth')\n        const auth = localStorageAuth ? JSON.parse(localStorageAuth) : {}\n        if (auth && auth.credentials && requiredAuth) {\n          req.options.headers.authorization = `Bearer ${auth.credentials['access-token']}`\n        }\n      }\n      next()\n    }\n  }\n])\n\nnetworkInterface.useAfter([{\n  applyAfterware ({ response }, next) {\n    if (response.status === 401) {\n      logout()\n    }\n    next()\n  }\n}])\n\nexport const client = (options = {}) =>\n  new ApolloClient({\n    ssrMode: true,\n    networkInterface,\n    ...options\n  })\n\nexport function configureStore (initialState, thunkExtraArgument) {\n  middlewares.push(\n    thunk.withExtraArgument({\n      axios,\n      api,\n      ...thunkExtraArgument\n    })\n  )\n\n  middlewares.push(client().middleware())\n\n  let store = createStore(\n    createReducer(),\n    initialState,\n    compose(\n      applyMiddleware(...middlewares),\n      process.env.NODE_ENV === 'development' ? DevTools.instrument() : f => f\n    )\n  )\n\n  store.asyncReducers = {}\n\n  api.interceptors.response.use(\n    response => {\n      return response\n    },\n    ({ response, ...error }) => {\n      if (response && response.status === 401) {\n        store.dispatch(logout())\n      }\n      // eslint-disable-next-line prefer-promise-reject-errors\n      return Promise.reject({ response, ...error })\n    }\n  )\n\n  if (process.env.NODE_ENV === 'development') {\n    if (module.hot) {\n      module.hot.accept('./createReducer', () =>\n        store.replaceReducer(require('./createReducer').default)\n      )\n    }\n  }\n\n  return store\n}\n\nexport function injectAsyncReducer (store, name, asyncReducer) {\n  store.asyncReducers[name] = asyncReducer\n  store.replaceReducer(createReducer(store.asyncReducers))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./store.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { reduxForm } from 'redux-form'\nimport { FormGroup, ControlLabel, FormControl } from '~client/components/forms'\nimport { Pagarme } from '~client/components/external-services'\nimport * as validators from '~client/utils/redux-form/validators'\nimport * as normalizers from '~client/utils/redux-form/normalizers'\n\nconst CreditCardForm = ({\n  FormComponent,\n  fields: {\n    id,\n    token,\n    creditcard,\n    name,\n    expiration,\n    cvv\n  },\n  card,\n  ...formProps\n}) => (\n  <div>\n    <Pagarme />\n    <FormComponent\n      {...formProps}\n      buttonText='Salvar'\n    >\n      <input type='hidden' name='id' value={id.value} />\n      <input type='hidden' name='token' value={token.value} />\n\n      <p className='mb3 lightgray'>\n        Altere os dados do seu carto de crdito preenchendo os campos abaixo. Sua doao\n        continuar a mesma mas, a partir do momento em que salvar os dados abaixo, o valor\n        ser cobrado neste novo carto ; )\n      </p>\n\n      {card && (\n        <div className='mb3 lightgray'>\n          <b className='block mb1'>Dados do ltimo carto</b>\n          <div>\n            <span className='caps'>{card.brand}: </span>\n            {card.first_digits.slice(0, 4)}{' '}\n            {card.first_digits.slice(4, 6)}XX XXXX {card.last_digits}\n          </div>\n          <div>Nome: <span className='caps'>{card.holder_name}</span></div>\n          <div>\n            Validade: {card.expiration_date.slice(0, 2)}/{card.expiration_date.slice(2, 4)}\n          </div>\n        </div>\n      )}\n\n      <FormGroup className='mb2' controlId='creditcard' {...creditcard}>\n        <ControlLabel>Nmero</ControlLabel>\n        <FormControl\n          type='text'\n          placeholder='Ex: 0000 0000 0000 0000'\n        />\n      </FormGroup>\n\n      <FormGroup className='mb2' controlId='name' {...name}>\n        <ControlLabel>Nome</ControlLabel>\n        <FormControl\n          type='text'\n          placeholder='(igual ao que aparece no carto)'\n        />\n      </FormGroup>\n\n      <div className='clearfix col-12 mb3'>\n        <FormGroup className='col col-6' controlId='expiration' {...expiration}>\n          <ControlLabel>Validade</ControlLabel>\n          <FormControl\n            type='text'\n            placeholder='00/00'\n          />\n        </FormGroup>\n\n        <FormGroup className='col col-4 ml3' controlId='cvv' {...cvv}>\n          <ControlLabel>CVV</ControlLabel>\n          <FormControl\n            type='text'\n            placeholder='Ex: 000'\n          />\n        </FormGroup>\n      </div>\n    </FormComponent>\n  </div>\n)\n\nconst fields = ['id', 'token', 'creditcard', 'name', 'expiration', 'cvv']\n\nconst abstractValidate = values => {\n  const errors = {}\n  if (!values.creditcard) {\n    errors.creditcard = 'Obrigatrio'\n  }\n  if (!values.name) {\n    errors.name = 'Obrigatrio'\n  }\n  if (!values.expiration) {\n    errors.expiration = 'Obrigatrio'\n  }\n  if (!values.cvv) {\n    errors.cvv = 'Obrigatrio'\n  }\n  return errors\n}\n\nCreditCardForm.propTypes = {\n  FormComponent: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.func\n  ]).isRequired,\n  card: PropTypes.shape({\n    brand: PropTypes.string.isRequired,\n    first_digits: PropTypes.string.isRequired,\n    last_digits: PropTypes.string.isRequired,\n    holder_name: PropTypes.string.isRequired,\n    expiration_date: PropTypes.string.isRequired\n  })\n}\n\nexport const normalizer = {\n  creditcard: normalizers.creditcard,\n  expiration: normalizers.date.mmyy,\n  cvv: normalizers.number.max(4),\n  name: normalizers.string.onlyWords\n}\n\nexport default ({ validate, mapStateToProps, mapDispatchToProps }) => reduxForm({\n  form: 'creditCardForm',\n  fields,\n  validate: validators.abstractValidate({ abstractValidate, validate })\n}, mapStateToProps, mapDispatchToProps)(CreditCardForm)\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/forms/credit-card-form.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { reduxForm } from 'redux-form'\nimport { FormGroup, ControlLabel, FormControl } from '~client/components/forms'\nimport { Pagarme } from '~client/components/external-services'\nimport * as validationHelper from '~client/utils/validation-helper'\nimport * as validators from '~client/utils/redux-form/validators'\nimport * as normalizers from '~client/utils/redux-form/normalizers'\n\nconst RecurringForm = ({\n  FormComponent,\n  fields: {\n    id,\n    token,\n    process_at: processAt\n  },\n  ...formProps\n}) => (\n  <div>\n    <Pagarme />\n    <FormComponent\n      {...formProps}\n      buttonText='Salvar'\n    >\n      <input type='hidden' name='id' value={id.value} />\n      <input type='hidden' name='token' value={token.value} />\n      <p className='mb3 lightgray'>\n        Preencha os campos abaixo para alterar a data em que a cobrana da sua doao  efetuada.\n        Sua doao continuar a mesma mas, a partir do momento em que salvar os dados abaixo,\n        o valor ser cobrado neste novo carto ; )\n      </p>\n\n      <FormGroup className='mb2' controlId='processAt' {...processAt}>\n        <ControlLabel>Nova data de cobrana</ControlLabel>\n        <FormControl\n          type='text'\n          placeholder='Ex: DD/MM/AAAA'\n        />\n      </FormGroup>\n    </FormComponent>\n  </div>\n)\n\nconst fields = ['id', 'token', 'process_at']\n\nconst abstractValidate = values => {\n  const errors = {}\n  if (!values.process_at) {\n    errors.process_at = 'Obrigatrio'\n  } else if (!validationHelper.date(values.process_at).ddmmyyyy) {\n    errors.process_at = 'Formato de data invlido'\n  }\n  return errors\n}\n\nRecurringForm.propTypes = {\n  FormComponent: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.func\n  ]).isRequired\n}\n\nexport const normalizer = {\n  process_at: normalizers.date.ddmmyyyy\n}\n\nexport default ({ validate, mapStateToProps, mapDispatchToProps }) => reduxForm({\n  form: 'recurringForm',\n  fields,\n  validate: validators.abstractValidate({ abstractValidate, validate })\n}, mapStateToProps, mapDispatchToProps)(RecurringForm)\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/forms/recurring-form.js","const t = type => `subscriptions/${type}`\n\nexport const SET_MODIFICATION_TYPE = t('SET_MODIFICATION_TYPE')\nexport const APPEND_ANIMATION_STACK = t('APPEND_ANIMATION_STACK')\nexport const REMOVE_ANIMATION_STACK = t('REMOVE_ANIMATION_STACK')\n\nexport const ASYNC_RECHARGE_REQUEST = t('ASYNC_RECHARGE_REQUEST')\nexport const ASYNC_RECHARGE_SUCCESS = t('ASYNC_RECHARGE_SUCCESS')\nexport const ASYNC_RECHARGE_FAILURE = t('ASYNC_RECHARGE_FAILURE')\n\nexport const ASYNC_FETCH_SUCCESS = t('ASYNC_FETCH_SUCCESS')\nexport const ASYNC_FETCH_FAILURE = t('ASYNC_FETCH_FAILURE')\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/redux/action-types.js","import * as t from '~client/subscriptions/redux/action-types'\n\nexport const initialState = {\n  //\n  // Store the status of an async request that tells if it is on progress or not.\n  // @type Boolean\n  //\n  isLoading: false,\n  //\n  // Store the modification type that the user wants to do in the subscription like,\n  // change the credit card data or, the recurring date of charging.\n  // @type String\n  //\n  modificationType: undefined,\n  //\n  // Store the stack of form components to be rendered with\n  // transition animation using CSSTransitionGroup.\n  // @type Array -> PropTypes.element\n  //\n  animationStack: [],\n  //\n  // Store the error message.\n  // @type String\n  //\n  error: undefined,\n  //\n  // Store the subscription data.\n  // @type Object\n  //\n  data: undefined\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case t.SET_MODIFICATION_TYPE:\n      return { ...state, modificationType: action.payload }\n\n    case t.APPEND_ANIMATION_STACK:\n      return {\n        ...state,\n        animationStack: [...state.animationStack, action.payload]\n      }\n    case t.REMOVE_ANIMATION_STACK:\n      const index = action.payload\n      return {\n        ...state,\n        animationStack: [\n          ...state.animationStack.slice(0, index),\n          ...state.animationStack.slice(index + 1)\n        ]\n      }\n\n    case t.ASYNC_RECHARGE_REQUEST:\n      return { ...state, isLoading: true }\n    case t.ASYNC_RECHARGE_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        modificationType: undefined,\n        animationStack: [],\n        error: undefined\n      }\n    case t.ASYNC_RECHARGE_FAILURE:\n      return { ...state, isLoading: false, error: action.payload }\n\n    case t.ASYNC_FETCH_SUCCESS:\n      return { ...state, data: action.payload }\n    case t.ASYNC_FETCH_FAILURE:\n      return { ...state, error: action.payload }\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/redux/reducers/edit.js","import { combineReducers } from 'redux'\nimport edit from './edit'\n\nexport default combineReducers({\n  edit\n})\n\n\n\n// WEBPACK FOOTER //\n// ./subscriptions/redux/reducers/index.js","export const distinct = (value, index, self) => self.indexOf(value) === index\n\nexport const clean = array => array.filter(n => n)\n\nexport const shuffle = array => {\n  let currentIndex = array.length\n  let temporaryValue\n  let randomIndex\n\n  // While there remain elements to shuffle...\n  while (currentIndex !== 0) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex)\n    currentIndex -= 1\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex]\n    array[currentIndex] = array[randomIndex]\n    array[randomIndex] = temporaryValue\n  }\n\n  return array\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/array.js","const appVersion = require('exenv').canUseDOM ? window.navigator.appVersion : 'is not on browser'\n\nexport const isMac = () => appVersion.includes('Mac')\nexport const isLinux = () => appVersion.includes('Linux')\nexport const isWindows = () => appVersion.includes('Win')\nexport const isUnix = () => appVersion.includes('X11')\n\n\n\n// WEBPACK FOOTER //\n// ./utils/browser/os.js","import format from 'format-number'\n\n//\n// Options\n//\nconst numberOptions = { integerSeparator: '.', decimal: ',' }\nconst currencyOptions = { ...numberOptions, prefix: 'R$ ', padRight: 2, truncate: 2 }\nconst currencyIntOptions = { ...currencyOptions, padRight: 0, truncate: 0 }\nconst floatOptions = { integerSeparator: '', decimal: '.', padRight: 2 }\nconst integerOptions = { integerSeparator: '', truncate: 0 }\n\n//\n// Helpers\n//\nexport const currency = format(currencyOptions)\nexport const currencyInt = format(currencyIntOptions)\nexport const number = format(numberOptions)\nexport const float = format(floatOptions)\nexport const integer = format(integerOptions)\n\n\n\n// WEBPACK FOOTER //\n// ./utils/format-number-helper.js","import { addNotification } from 'reapop'\n\nexport const genericRequestError = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--generic-request-error.title',\n    defaultMessage: 'Ops!'\n  }),\n  status: 'error',\n  message: intl.formatMessage({\n    id: 'notification--generic-request-error.message',\n    defaultMessage: (\n      'Parece que teve algum problema tcnico nessa ltima requisio. ' +\n      'Pedimos que tente de novo daqui a pouco.'\n    )\n  }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const genericSaveSuccess = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--generic-save-success.title',\n    defaultMessage: 'Oba!'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--generic-save-success.message',\n    defaultMessage: (\n      'A requisio foi feita com sucesso e, os seus ' +\n      'dados esto salvos em segurana.'\n    )\n  }),\n  dismissAfter: 7000,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const slugUpdatedMessage = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--slug-updated-message.title',\n    defaultMessage: 'Importante'\n  }),\n  status: 'warning',\n  message: intl.formatMessage({\n    id: 'notification--slug-updated-message.message',\n    defaultMessage: 'O slug da sua mobilizao foi alterado. ' +\n      'Se voc faz algum redirecionamento de DNS via ' +\n      'CNAME, no se esquea de atualiz-lo.'\n  }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const messagePressureTargetsRemoveAll = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--message-pressure-targets-remove-all.title',\n    defaultMessage: 'Lembre-se...'\n  }),\n  status: 'info',\n  message: intl.formatMessage({\n    id: 'notification--message-pressure-targets-remove-all.message',\n    defaultMessage:\n      'No se esquea que  necessrio clicar no boto salvar, no canto superior direito ' +\n      'da tela pra que a ao se torne permanente. Se quiser reverter os alvos removidos, ' +\n      'basta atualizar a pgina. (:'\n  }),\n  dismissAfter: 7000,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const accountPasswordRetrieveSuccess = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--account-password-retrieve-success.title',\n    defaultMessage: 'Recuperao de senha'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--account-password-retrieve-success.message',\n    defaultMessage: 'Acabamos de enviar um email com a sua nova senha. Confira na ' +\n      'caixa de entrada do seu email para acessar o BONDE novamente. Relaxe pois, ' +\n      'pode alterar essa senha quando voc quiser, nas configuraes da sua conta.'\n  }),\n  dismissAfter: 0,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const communityInviteSuccess = (intl, email) => ({\n  title: intl.formatMessage({\n    id: 'notification--community-invite-success.title',\n    defaultMessage: 'Oba!'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--community-invite-success.message',\n    defaultMessage: 'O convite para {email} foi enviado com sucesso! ' +\n      'Mais um passo foi dado pra sua comunidade crescer ainda mais (:'\n  }, { email }),\n  dismissAfter: 15000,\n  dismissible: true,\n  closeButton: false\n})\n\nexport const subscriptionCancelSuccess = intl => ({\n  title: intl.formatMessage({\n    id: 'notification--subscription-cancel-success.title',\n    defaultMessage: 'Assinatura cancelada'\n  }),\n  status: 'success',\n  message: intl.formatMessage({\n    id: 'notification--subscription-cancel-success.message',\n    defaultMessage: 'Sua assinatura foi cancelada e, o valor da sua ' +\n      'doao no ser debitado at que voc faa uma nova doao recorrente.'\n  }),\n  dismissAfter: 15000,\n  dismissible: true,\n  closeButton: false\n})\n\n// Standardize use of these functions\n\nconst applyIntl = (value, intl) => {\n  if (typeof value === 'object') {\n    const { context, ...message } = value\n    return intl.formatMessage(message, context)\n  }\n  return value\n}\n\nexport const notify = ({ status, title, message }, dispatch, ownProps) => {\n  const { intl } = ownProps || {}\n  dispatch(addNotification({\n    status,\n    title: applyIntl(title, intl),\n    message: applyIntl(message, intl),\n    dismissAfter: 0,\n    dismissable: true,\n    closeButton: false\n  }))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/notifications.js","//\n// Reference:\n// http://redux-form.com/5.3.1/#/examples/normalizing\n//\nexport default (value, previousValue) => {\n  if (!value) return value\n\n  const nums = value.replace(/[^\\d]/g, '')\n  const sep = ' '\n  if (!previousValue || value.length > previousValue.length) {\n    // typing forward\n    if (nums.length === 4) {\n      return `${nums}${sep}`\n    }\n    if (nums.length === 8) {\n      return `${nums.slice(0, 4)}${sep}${nums.slice(4)}${sep}`\n    }\n    if (nums.length === 12) {\n      return `${nums.slice(0, 4)}${sep}${nums.slice(4, 8)}${sep}${nums.slice(8)}${sep}`\n    }\n  }\n  if (nums.length <= 4) {\n    return nums\n  }\n  if (nums.length <= 8) {\n    return `${nums.slice(0, 4)}${sep}${nums.slice(4)}`\n  }\n  if (nums.length <= 12) {\n    return `${nums.slice(0, 4)}${sep}${nums.slice(4, 8)}${sep}${nums.slice(8)}`\n  }\n  return `${nums.slice(0, 4)}${sep}${nums.slice(4, 8)}${sep}${nums.slice(8, 12)}${sep}${nums.slice(12, 16)}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/creditcard.js","export default (value, previousValue) => {\n  if (!value) return value\n\n  const nums = value.replace(/[^\\d]/g, '')\n  const sep = '/'\n  if (!previousValue || value.length > previousValue.length) {\n    // typing forward\n    if (nums.length === 2) {\n      return `${nums}${sep}`\n    }\n    if (nums.length === 4) {\n      return `${nums.slice(0, 2)}${sep}${nums.slice(2)}${sep}`\n    }\n  }\n  if (nums.length <= 2) {\n    return nums\n  }\n  if (nums.length <= 4) {\n    return `${nums.slice(0, 2)}${sep}${nums.slice(2)}`\n  }\n  return `${nums.slice(0, 2)}${sep}${nums.slice(2, 4)}${sep}${nums.slice(4, 8)}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/date/ddmmyyyy.js","export { default as mmyy } from './mmyy'\nexport { default as ddmmyyyy } from './ddmmyyyy'\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/date/index.js","export default (value, previousValue) => {\n  if (!value) return value\n\n  const nums = value.replace(/[^\\d]/g, '')\n  const sep = '/'\n  if (!previousValue || value.length > previousValue.length) {\n    // typing forward\n    if (nums.length === 2) {\n      return `${nums}${sep}`\n    }\n  }\n  if (nums.length <= 2) {\n    return nums\n  }\n  return `${nums.slice(0, 2)}${sep}${nums.slice(2, 4)}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/date/mmyy.js","//\n// Reference:\n// http://redux-form.com/5.3.1/#/examples/normalizing\n//\nexport default {\n  cpfCnpj: (value, previousValue) => {\n    if (!value) return value\n\n    const nums = value.replace(/[^\\d]/g, '')\n\n    // CPF: 000.000.000-00\n    if (nums.length <= 11) {\n      if (!previousValue || value.length > previousValue.length) { // typing forward\n        if (nums.length === 3) {\n          return `${nums}.`\n        }\n        if (nums.length === 6) {\n          return `${nums.slice(0, 3)}.${nums.slice(3)}.`\n        }\n        if (nums.length === 9) {\n          return `${nums.slice(0, 3)}.${nums.slice(3, 6)}.${nums.slice(6)}-`\n        }\n      }\n      if (nums.length <= 3) {\n        return nums\n      }\n      if (nums.length <= 6) {\n        return `${nums.slice(0, 3)}.${nums.slice(3)}`\n      }\n      if (nums.length <= 9) {\n        return `${nums.slice(0, 3)}.${nums.slice(3, 6)}.${nums.slice(6)}`\n      }\n      return `${nums.slice(0, 3)}.${nums.slice(3, 6)}.${nums.slice(6, 9)}-${nums.slice(9, 11)}`\n    }\n\n    // CNPJ: 00.000.000/0000-00\n    if (!previousValue || value.length > previousValue.length) { // typing forward\n      if (nums.length === 12) {\n        return `${nums.slice(0, 2)}.${nums.slice(2, 5)}.${nums.slice(5, 8)}/${nums.slice(8, 12)}-`\n      }\n    }\n    if (nums.length <= 12) {\n      return `${nums.slice(0, 2)}.${nums.slice(2, 5)}.${nums.slice(5, 8)}/${nums.slice(8, 12)}`\n    }\n    return `${nums.slice(0, 2)}.${nums.slice(2, 5)}.${nums.slice(5, 8)}/${nums.slice(8, 12)}-${nums.slice(12, 14)}`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/documents.js","import * as dateNormalizers from './date'\nexport const date = dateNormalizers\n\nexport { default as creditcard } from './creditcard'\nexport { default as documents } from './documents'\nexport { default as number } from './number'\nexport { default as string } from './string'\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/index.js","export default {\n  max: max => value => {\n    if (!value) return value\n\n    const nums = value.replace(/[^\\d]/g, '')\n    return nums.slice(0, max)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/number.js","export default {\n  onlyWords: value => {\n    if (!value) return value\n    return value.replace(/[^a-z-\\s]/gi, '')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/normalizers/string.js","export default ({ abstractValidate, validate }) => values => {\n  // Default validation\n  let errors = abstractValidate(values)\n  if (Object.keys(errors).length) return errors\n\n  // Custom injected validation\n  errors = validate ? validate(values) : {}\n  return errors\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/validators/abstract-validate.js","export { default as abstractValidate } from './abstract-validate'\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux-form/validators/index.js","export default (type, payload) => ({ type, payload })\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux/create-action.js","export { default as createAction } from './create-action'\n\n\n\n// WEBPACK FOOTER //\n// ./utils/redux/index.js","// eslint-disable-next-line\nconst regexEmail = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\nexport const isValidEmail = email => regexEmail.test(email)\n\nconst regexDomain = /^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\\.[a-zA-Z]{2,})+$/\nexport const isValidDomain = domain => regexDomain.test(domain)\n\n// Validates Google Analytics Code\nconst regexCodeGA = /(UA|YT|MO)-\\d+-\\d+/i\nexport const isValidCodeGA = codeGA => regexCodeGA.test(codeGA)\n\nconst regexDDMMYYYY = /^\\d{2}\\/\\d{2}\\/\\d{4}$/ // 00/00/0000\nexport const date = value => ({\n  ddmmyyyy: regexDDMMYYYY.test(value)\n})\n\n// Validate email from\nexport const isValidFromEmail = value => {\n  const regex = /^[\\w ]+<(.*)>$/\n  if (regex.test(value)) {\n    const email = value.match(regex)[1]\n    return isValidEmail(email)\n  }\n  return false\n}\n\n// Regex to validate Target (Ex.: Igor Santos <igor@nossascidades.org>)\n// eslint-disable-next-line\nconst regexTargetEmail = /[a-z-A-Z-\\s]+<(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))>/\nexport const isValidTargetEmail = value => regexTargetEmail.test(value)\n\n// Regex to validate phone number\n// Validating only BRA phone numbers for now\nconst regexPhone = /^(\\+\\d{2})?\\d{6,7}-?\\d{4}$/\nexport const isValidPhone = phone => regexPhone.test(phone)\n\n// Regex to validate phone numver in E.164 format\n// Validating only BRA phone numbers for now\nconst regexPhoneE164 = /^\\+\\d{12,13}$/\nexport const isValidPhoneE164 = phone => regexPhoneE164.test(phone)\n\n// Regex to validate target with phone number\nconst regexTargetPhone = /^[a-z-A-Z-\\s']+\\s<(\\+\\d{2})?\\d{6,7}-?\\d{4}>$/\nexport const isValidTargetPhone = value => regexTargetPhone.test(value)\n\n// Regex to validate target with phone number in E.164 format\nconst regexTargetPhoneE164 = /^[a-z-A-Z-\\s']+\\s<\\+\\d{12,13}>$/\nexport const isValidTargetPhoneE164 = value => regexTargetPhoneE164.test(value)\n\n// Validate if date is valid\nexport const isValidDate = ({ day, month, year }) => (\n  new Date(`${year}-${month}-${day}`).toString() !== 'Invalid Date'\n)\n\n\n\n// WEBPACK FOOTER //\n// ./utils/validation-helper.js","import PropTypes from 'prop-types'\n/*\n * Component: Button\n */\nimport React from 'react'\nimport classnames from 'classnames'\nimport { Link } from 'react-router-dom'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\n// TODO: Change to style component\nconst basscss = 'ux--button btn white caps p2 rounded h4 ml2'\n\nconst Button = ({ children, type, disabled, to, href, onClick }) => {\n  const isSubmit = type !== 'submit'\n  const className = classnames(\n    basscss,\n    isSubmit ? 'bg-gray' : 'bg-pagenta',\n    disabled ? 'disabled' : null\n  )\n\n  if (href) return <a href={href} className={className} target='_blank'>{children}</a>\n  if (to) return <Link to={to} className={className}>{children}</Link>\n\n  return (\n    <button\n      type={type}\n      onClick={e => isSubmit && onClick(e)}\n      disabled={disabled}\n      className={className}\n    >\n      {children}\n    </button>\n  )\n}\n\nButton.propTypes = {\n  type: PropTypes.oneOf(['submit', 'button']),\n  disabled: PropTypes.bool,\n  // Navigation\n  to: PropTypes.string,\n  onClick: PropTypes.func,\n  href: PropTypes.string\n}\n\nButton.defaultProps = {\n  type: 'button'\n}\n\nexport default Button\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/button/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/button/styles.scss\n// module id = ./ux/components/button/styles.scss\n// module chunks = 0","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport Button from '../button'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nconst Dialog = ({ children, onConfirm, onCancel }) => (\n  <div className='dialog--out'>\n    <div className='dialog'>\n      <div className='content--dialog'>\n        {children}\n      </div>\n      <div className='footer--dialog'>\n        <Button onClick={onConfirm}>\n          <FormattedMessage\n            id='ux.components--dialog.button.confirm.text'\n            defaultMessage='Confirmar'\n          />\n        </Button>\n        <Button onClick={onCancel}>\n          <FormattedMessage\n            id='ux.components--dialog.button.cancel.text'\n            defaultMessage='Cancelar'\n          />\n        </Button>\n      </div>\n    </div>\n  </div>\n)\n\nexport default Dialog\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/dialog/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/dialog/styles.scss\n// module id = ./ux/components/dialog/styles.scss\n// module chunks = 0","import PropTypes from 'prop-types'\n/*\n * Component: DivFloat\n * Description: Become children floatable, by default float in top and right.\n */\nimport React from 'react'\nimport classnames from 'classnames'\n\nif (require('exenv').canUseDOM) require('./styles.scss')\n\nconst DivFloat = ({ children, horizontal, vertical }) => {\n  return (\n    <div className={classnames('float', horizontal, vertical)}>\n      {children}\n    </div>\n  )\n}\n\nDivFloat.propTypes = {\n  horizontal: PropTypes.oneOf(['right', 'left']),\n  vertical: PropTypes.oneOf(['top', 'bottom'])\n}\n\nDivFloat.defaultProps = {\n  horizontal: 'right',\n  vertical: 'top'\n}\n\nexport default DivFloat\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/div-float/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/div-float/styles.scss\n// module id = ./ux/components/div-float/styles.scss\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/flat-form/button.scss\n// module id = ./ux/components/flat-form/button.scss\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ux/components/flat-form/flat-form.scss\n// module id = ./ux/components/flat-form/flat-form.scss\n// module chunks = 0","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classnames from 'classnames'\n\nimport { FormRedux } from '~client/components/forms'\nimport { Button } from '~client/ux/components'\n\nif (require('exenv').canUseDOM) {\n  require('./flat-form.scss')\n  require('./button.scss')\n}\n\nconst FlatForm = ({\n  formClassNames,\n  children,\n  titleText,\n  titleSmallMargin,\n  titleMediumMargin,\n  titleBigMargin,\n  buttonText,\n  hideButton,\n  ...formProps\n}) => (\n  <FormRedux\n    {...formProps}\n    nosubmit\n    className={classnames('ux--flat-form', formClassNames)}\n  >\n    {titleText && (\n      <h1 className={classnames({\n        'sm-margin': titleSmallMargin,\n        'md-margin': titleMediumMargin,\n        'lg-margin': titleBigMargin\n      })}>\n        {titleText}\n      </h1>\n    )}\n    {children}\n    {hideButton && <button type='submit' style={{ display: 'none' }} />}\n    {!hideButton && <Button type='submit' disabled={!formProps.valid}>{buttonText}</Button>}\n  </FormRedux>\n)\n\nFlatForm.propTypes = {\n  formClassNames: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  children: PropTypes.node.isRequired,\n  buttonText: PropTypes.string.isRequired,\n  titleText: PropTypes.string,\n  titleSmallMargin: PropTypes.bool,\n  titleMediumMargin: PropTypes.bool,\n  titleBigMargin: PropTypes.bool\n}\n\nexport default FlatForm\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/flat-form/index.js","export { default as Button } from './button'\nexport { default as DivFloat } from './div-float'\n\nexport { default as SettingsForm } from './settings-form'\nexport { default as FlatForm } from './flat-form'\n\nexport { default as Dialog } from './dialog'\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/index.js","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport DivFloat from '../div-float'\nimport Button from '../button'\n\n// Dependency module\nimport { FormRedux, SuccessMessage } from '~client/components/forms'\n\nconst SettingsForm = ({ children, buttonText, successMessage, ...formProps }) => (\n  <FormRedux nosubmit {...formProps}>\n    {children}\n    <DivFloat>\n      <Button\n        type='submit'\n        disabled={formProps.submitting}\n      >\n        {buttonText || (\n          <FormattedMessage\n            id='ux.components--settings-form.button.text'\n            defaultMessage='Salvar'\n          />\n        )}\n      </Button>\n      <SuccessMessage\n        text={successMessage || (\n          <FormattedMessage\n            id='ux.components--settings-form.success-message'\n            defaultMessage='Dados editados com sucesso'\n          />\n        )}\n      />\n    </DivFloat>\n  </FormRedux>\n)\n\nSettingsForm.propTypes = {\n  buttonText: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n  successMessage: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ])\n}\n\nexport default SettingsForm\n\n\n\n// WEBPACK FOOTER //\n// ./ux/components/settings-form/index.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = axios\n// module chunks = 0","module.exports = require(\"chain-function\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chain-function\"\n// module id = chain-function\n// module chunks = 0","module.exports = require(\"classnames\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"classnames\"\n// module id = classnames\n// module chunks = 0","module.exports = require(\"downloadjs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"downloadjs\"\n// module id = downloadjs\n// module chunks = 0","module.exports = require(\"draft-js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"draft-js\"\n// module id = draft-js\n// module chunks = 0","module.exports = require(\"exenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"exenv\"\n// module id = exenv\n// module chunks = 0","module.exports = require(\"format-number\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"format-number\"\n// module id = format-number\n// module chunks = 0","module.exports = require(\"immutable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"immutable\"\n// module id = immutable\n// module chunks = 0","module.exports = require(\"jquery\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jquery\"\n// module id = jquery\n// module chunks = 0","module.exports = require(\"keycode\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"keycode\"\n// module id = keycode\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = prop-types\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0","module.exports = require(\"react-apollo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-apollo\"\n// module id = react-apollo\n// module chunks = 0","module.exports = require(\"react-color\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-color\"\n// module id = react-color\n// module chunks = 0","module.exports = require(\"react-cookie\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-cookie\"\n// module id = react-cookie\n// module chunks = 0","module.exports = require(\"react-countup\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-countup\"\n// module id = react-countup\n// module chunks = 0","module.exports = require(\"react-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom\"\n// module id = react-dom\n// module chunks = 0","module.exports = require(\"react-ga\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-ga\"\n// module id = react-ga\n// module chunks = 0","module.exports = require(\"react-intl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-intl\"\n// module id = react-intl\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = react-redux\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = react-router\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = react-router-dom\n// module chunks = 0","module.exports = require(\"react-s3-uploader\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-s3-uploader\"\n// module id = react-s3-uploader\n// module chunks = 0","module.exports = require(\"reapop\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"reapop\"\n// module id = reapop\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = redux\n// module chunks = 0","module.exports = require(\"redux-devtools\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-devtools\"\n// module id = redux-devtools\n// module chunks = 0","module.exports = require(\"redux-devtools-dock-monitor\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-devtools-dock-monitor\"\n// module id = redux-devtools-dock-monitor\n// module chunks = 0","module.exports = require(\"redux-devtools-log-monitor\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-devtools-log-monitor\"\n// module id = redux-devtools-log-monitor\n// module chunks = 0","module.exports = require(\"redux-form\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-form\"\n// module id = redux-form\n// module chunks = 0","module.exports = require(\"redux-promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-promise\"\n// module id = redux-promise\n// module chunks = 0","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = redux-thunk\n// module chunks = 0","module.exports = require(\"slate-editor\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"slate-editor\"\n// module id = slate-editor\n// module chunks = 0","module.exports = require(\"slate-plain-serializer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"slate-plain-serializer\"\n// module id = slate-plain-serializer\n// module chunks = 0","module.exports = require(\"tinycolor2\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tinycolor2\"\n// module id = tinycolor2\n// module chunks = 0","module.exports = require(\"warning\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"warning\"\n// module id = warning\n// module chunks = 0"],"sourceRoot":""}